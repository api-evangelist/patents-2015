---

title: Features and optimizations for personal communication device based public addressing system
abstract: Systems and methods are described herein, a method including, but not limited to, transmitting, at a first frame time, a first number of redundant data packets; transmitting, at a second frame time, a second number of redundant data packets in response to data packet loss beyond a predetermined tolerance level, the second number being greater than the first number; and transmitting, at a third frame time, a third number of redundant data packets, the third number is between the first number and the second number.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09596552&OS=09596552&RS=09596552
owner: QUALCOMM INCORPORATED
number: 09596552
owner_city: San Diego
owner_country: US
publication_date: 20150820
---
The present application claims the benefit of U.S. Provisional Patent Application No. 62 080 200 filed on Nov. 14 2014 the disclosure of which is expressly incorporated herein by reference in its entirety. This application also claims benefit of U.S. Provisional Patent Application No. 62 156 841 titled AUDIO SIGNAL ADJUSTMENT FOR MOBILE PHONE BASED PUBLIC ADDRESSING SYSTEM filed on May 4 2015 which is incorporated herein by reference in its entirety. This application relates to application Ser. No. 14 213 445 filed on Mar. 14 2014 which claims priority to PCT US2015 019533 filed Mar. 9 2015 both which are incorporated herein by reference in their entireties. This application also relates to attorney docket number 150699U2 titled FEATURES AND OPTIMIZATIONS FOR PERSONAL COMMUNICATION DEVICE BASED PUBLIC ADDRESSING SYSTEM filed on Aug. 20 2015 which is incorporated herein by reference in its entirety. This application also relates to application Ser. No. 14 804 116 filed on Jul. 20 2015 which is incorporated herein by reference in its entirety.

The disclosure relates generally to public addressing PA systems and methods and in particular embodiments to systems and methods in which one or more personal communication devices PCDs are operated as a microphone for a PA system. Further embodiments relate to a PCD configured to operate with such systems and methods.

PA systems can be used in various contexts including conferences meetings seminars concerts and other events or activities to amplify an audio input such as a person s voice a group of peoples voices music or other sounds and broadcasts the amplified sound through one or more electronic speaker devices to an audience or persons attending the event or activity. For example one or more hosts or attendees of such an event or activity may desire to access the PA system as a speaker to speak give lectures add comments ask or answer questions or the like. A microphone may be passed or delivered to that host or attendee to allow the host or attendee to speak through the PA system. Passing and delivering of a microphone through an audience or group of attendees can be inconvenient and can result in significant pauses between speakers of an audio program. To avoid the need to pass and deliver microphones through an audience PCDs such as but not limited to mobile phones may be implemented to interface with the PA system in a manner such that one or more selected PCDs may act as a microphone for the PA system. Given the popularity of PCDs in modern society hosts or attendees of an event or activity may likely carry their own PCDs. By configuring such PCDs and the PA system to interface the hosts or attendees may employ their own PCDs as a microphone for the PA system.

However when using a PCD as a microphone in a PA system feedback also known as howling can occur when a sound that has been captured amplified and broadcasted by the PA system is recaptured by the microphone of the PCD and amplified broadcasted again. In this manner a loop is created such that the sound is continuously being re amplified over a short period of time. Such loops produce with the speakers of the PA system a high pitched howling sound that can be very unpleasant to the audience or attendees. PCDs with sensitive microphones can tend to create feedback when used as microphones to the PA systems.

Moreover feedback can be more likely to occur if audio signals from multiple PCDs having different amplitude ranges are fed into the input of the PA system. Conventional PA systems configured to suppress feedback for a first amplitude range may not be capable of suppressing feedback for a second amplitude range which is greater than the first amplitude range. Thus the conventional PA systems may not support feedback suppression for PCDs that output audio signals to the PA systems at different amplitude ranges.

One factor contributing to audio signals having different amplitude ranges is that PCDs may include hardware such as but not limited to microphones with different performance characteristics. This is at least partially because the various PCDs carried by audience members or attendees of an event or activity may be made by different manufacturers may be different models from the same manufacturer or may contain hardware from different component suppliers such that the hardware may have different performance characteristics.

Another factor is that the speaking habits of different PCD users tend to be different from each other. For example some users may speak loudly or keep the PCD close while other users may speak softly or keep PCD far . Yet another factor is that different electronic speaker devices in a PA system may have different performance characteristics related to outputting sound. Some other factors include but are not limited to the speaking user s speaker s distance from the electronic speaker devices the PCD microphone s frequency response the sensitivity of the PCD microphone the direction of the PCD microphone relative to the user the acoustics of the room or area in which the PA system broadcasts the direction of the electronic speaker devices with respect to speaking user s speaker s location and or the like.

Systems and methods for managing controlling and optimizing a public addressing PA system are described herein where source data for the PA system is being captured by a plurality of personal communication devices PCDs . While systems and methods of particular embodiments relate to audio data and PA systems one of ordinary skill in the art should appreciate that further embodiments may be employed in other applications relating to data processing optimization and the like. In particular latency improvement processes howling suppression processes service set identifier optimization processes and device to device optimization processes described herein for PA system and method embodiments may be implemented for other suitable systems and methods processing other suitable data types.

In various embodiments a method for data communication in a PA system is described including but not limited to transmitting by a client non audio data to a PCD in response to detecting a first triggering event the non audio data is used to prevent the PCD from sending an Address Resolution Protocol ARP request to refresh the ARP cache on the PCD and to disable the client from entering into a power saving mode. The first triggering event includes at least one of 1 the PCD s position in a queue to use the PA system or 2 the PCD has been granted to use the PA system. The method further includes receiving by the client audio data from the PCD with the refreshed ARP cache.

In some embodiments the non audio data is transmitted to the PCD when the client has not received the audio data from the PCD and when the PCD is queued to use the PA system.

In various embodiments the non audio data is transmitted to the PCD when the PCD has been granted to use the PA system. The queue includes requests to access the PA system from a plurality of PCDs.

In various embodiments the method further includes receiving by the client bidirectional non audio data from the PCD in response to detecting the first triggering event the bidirectional non audio data includes at least a ping request or ping response.

In various embodiments the method further includes receiving by the client unidirectional non audio data from the PCD to disable the power saving mode when the PCD is muted at a shorter interval as compared to the non audio data sent to prevent ARP cache refresh.

In some embodiments the PCD outputs the audio data captured by the PCD when granted to use the PA system. The non audio data is at least one of ping or User Datagram Protocol UDP .

In various embodiments the audio data is being transmitted via at least one Quality of Service QoS flow.

In some embodiments the client sends the non audio data to the PCD periodically in response to the first triggering event.

In some embodiments the method further includes determining by the client a second triggering event and disabling by the client a power saving mode of the client in response to the second triggering event.

In some embodiments the second triggering event is selecting the PCD from a plurality of PCDs to output audio data captured by the PCD.

In some embodiments the client disables the power saving mode by calling an Application Programming Interface API to disable the power saving mode.

In some embodiments the method further includes determining by the client a third triggering event and enabling by the client the power saving mode of the client in response to the third triggering event.

In some embodiments the third triggering event is receiving an indication to enable the power saving mode from a host.

In some embodiments the third triggering event is terminating outputting audio data captured by the PCD.

In some embodiments the audio data is transmitted without vocoding by transmitting Pulse Code Modulation PCM frames.

According to some embodiments a method for data communication in a PA system including receiving by a PCD non audio data from a client in response to a first triggering event being detected by the client the non audio data is used to prevent the PCD from sending an ARP request to refresh the ARP cache on the PCD. The first triggering event includes at least one of 1 the PCD s position in a queue to use the PA system or 2 the PCD has been granted to use the PA system. The method further includes transmitting by the PCD audio data to the client without sending ARP refresh request.

In various embodiments the method further includes transmitting by the PCD at a first frame time a first number of redundant data packets of the audio data transmitting by the PCD at a second frame time a second number of redundant data packets of the audio data in response to data packet loss beyond a predetermined tolerance level the second number being greater than the first number and transmitting by the PCD at a third frame time a third number of redundant data packets of the audio data the third number is between the first number and the second number.

In various embodiments the method further includes determining whether the data packet loss is beyond the predetermined tolerance level. The first frame time is prior in time as compared to the second frame time. The second frame time is prior in time as compared to the third frame time.

In some embodiments the redundant data packets are audio data packets from audio frames transmitted prior in time.

In various embodiments the method further includes transmitting at a fourth frame time the first number of redundant data packets the first frame time being prior in time as compared to the fourth frame time.

In some embodiments the predetermined tolerance level is at least one of a number of total data packets lost or a number of continuous data packets lost.

In some embodiments the method further includes receiving user input related to gain adjustment of the audio data via an interface caching the gain adjustment based on the user input and adjusting the audio data based on the cached gain adjustment.

In some embodiments the gain adjustment is normalized across a plurality of PCDs. The gain is adjusted at the client using Automatic Gain Control AGC . The gain is adjusted at each of the plurality of PCDs using the AGC or the Dynamic Range Compression DRC based on at least one of device capabilities or changing the frequency of the output signal in random or pre determined manner.

In some embodiments the method further includes connecting by the PCD to a plurality of networks the network includes two or more networks associated with at least one of a cellular network WiFi network with multiple Service Set Identifiers SSIDs and transmitting the audio data via a selected one of the plurality of networks based on attributes of the plurality of networks and requirements associated with the audio data.

In some embodiments the method further includes receiving identification information of the client from a host and pair with the client in a Device to Device D2D link the D2D link includes at least one of a Wifi Direct link or Long Term Evolution LTE Direct link.

According to some embodiments a non transitory computer medium storing computer executable instructions such that when executed causes a processor of a client in a PA system to transmit non audio data to a PCD in response to detecting a first triggering event the non audio data is used to prevent the PCD from sending an ARP request to refresh the ARP cache on the PCD wherein the first triggering event includes at least one of 1 the PCD s position in a queue to use the PA system or 2 the PCD has been granted to use the PA system. The processor is further configured to receive audio data from the PCD with the refreshed ARP cache.

In some embodiments a method for data communication in a PA system includes connecting by a PCD to a plurality of SSIDs of a Wireless Local Area Network WLAN network at a same time and selecting by the PCD one of the plurality of SSIDs to transmit data based on attributes associated with each of the plurality of SSIDs and requirements associated with the data.

In general various embodiments relate to systems and methods for audio signal adjustment for a public addressing PA system in which personal communication devices PCDs are employed as microphones. Particular embodiments relate to systems and methods of manually and or automatically adjusting audio signal for a PA system to suppress or otherwise manage feedback in the PA system. Further embodiments relate to PA systems that include such systems and methods and PCDs configured to interface in such PA systems.

Referring to a system is illustrated in accordance with various embodiments. The system may include or operate with one or more PCDs where one PCD is shown in connected for communication on a network . The system may further include a host a client and a PA system . The PA system may include at least one electronic speaker device configured to broadcast sound. In particular embodiments the PA system may include but is not limited to a home theater system an ad hoc PA system a karaoke system or other audio output system that includes at least one electronic speaker device or other audio output device. In some embodiments the one or more PCDs the host and the client may be connected for communication with one another through the communication network . The network may provide for data transmission between two or more of the components such as but not limited to the PCD the host the client and the PA system of system . The network may be any suitable wired or wireless communication network. The client and the PA system may be connected to each other through a wired or wireless connection or network. In particular embodiments the PCD the host the client and the PA system may be connected to each other through the same network or through multiple separate or interconnected networks or connections.

In some embodiments each of the components may be provided in a separate processing device such as but not limited to provided in a separate device or housed in a separate device housing having its own processor . Providing each of the components in a separate device may provide finer granularity. As the total amount of processing of the system is shared by multiple components the overall efficiency of audio signal adjustment may be improved given that the finer granularity can lead to shorter execution time.

In other embodiments two or more of the components may be provided by the same device. In one example the host and the client may be provided in one device such as but not limited to a smart phone or a tablet . In yet another example the client and the PA system may be provided in one device such as but not limited to the PA system . In yet another example the PCD and the host may be provided in one device such as but not limited to the PCD . In yet another example the PCD and the client may be provided in one device such as but not limited to the PCD . In yet another example the PCD the host and the client may be provided in one device such as but not limited to the PCD . Those examples are for illustrative purposes and are not meant to provide an exhaustive list. An advantage associated with providing two or more of the components in one a common device is that such components may utilize greater processing power and memory capacity of the device. For example the processing capabilities of some modern PCDs such as but not limited to smartphones can allow such devices to implement two or more of the components .

Referring to an example of the PCD is illustrated in accordance with various embodiments. In various embodiments the PCD also known as a source device may be an electronic mobile device configured to capture sound process the sound output audio signal representing the sound to other components and or the like. In addition the PCD may be configured to adjust the audio signal. Examples of the PCD may include but are not limited to smartphones mobile phones pagers tablets PDAs any mobile computing systems and or the like. The PCD may include at least one microphone at least one processor at least one memory unit at least one network device and at least one user interface device .

In some embodiments the at least one microphone may be configured to capture sound from a user of the PCD as the user speaks. In some embodiments the at least one microphone may be integrated with the PCD or otherwise housed inside of a housing of the PCD . In other embodiments the at least one microphone may be an auxiliary microphone not integrated with the PCD but operatively coupled to the PCD through a wired or wireless connection. In some embodiments the at least one microphone may be an omnidirectional microphone that may be configured to capture sound from any direction. In some embodiments the at least one microphone may be a unidirectional microphone that may be configured to capture sound from one predefined direction. In some embodiments the at least one microphone may be a microphone of any other polarization pattern. In the case that the at least one microphone may be configured to capture sound from a plurality of directions the PCD may be configured to deactivate capturing sound from at least one direction of the plurality of directions.

In some embodiments the at least one microphone may be a plurality of microphones having the same polarization pattern such as but not limited to all of the plurality of microphones may be unidirectional microphones or all of the plurality of microphones may be omnidirectional microphones . In some embodiments at least two microphones of a plurality of microphones may have different polarization patterns for example if the plurality of microphones include three microphones two of the three microphones may be omnidirectional microphones and the other microphone may be a unidirectional microphone .

In some embodiments the at least one processor may be operatively coupled to the at least one memory unit for processing the audio signal. For example the at least one processor and the at least one memory unit may be configured to perform functions of the PCD as described in the disclosure. In some embodiments the at least one processor and the at least one memory unit may also be used for processes of the PCD that are unrelated to processing audio signal for the PA system .

In some embodiments the network device may be configured for accessing the communication network such that data may be transmitted via the communication network to and from the PCD . In some embodiments the network device may be a wireless device of the PCD such as a wireless local area network WLAN device wireless wide area network WWAN device personal area network PAN device and or the like. In other embodiments the network device may allow for a wired connection to the communication network or other components of the system .

In some embodiments the user interface device may be configured to provide information to the user and or to accept user input. The user may control the PCD with the user interface device . The user interface device may include at least one display for graphical user interface GUI . The user interface device may also include at least one user input device such as but not limited to a touch screen a keyboard a mouse and or the like.

Referring to an example of the host is illustrated in accordance with various embodiments. In various embodiments the host also known as a moderator device may be an electronic device that allows control and regulation of various aspects of the system . For example the host may provide access to the PA system to prospective users and their PCDs control duration of the access terminate the access enable multiple users to access the PA system concurrently and or the like. In particular embodiments the host may include but is not limited to a desktop computer a laptop computer a PCD a system on chip a tablet a pager a dongle and or the like. The host may include at least one microphone at least one processor at least one memory unit a network device and an user interface device .

The host may be configured to suppress feedback by generating an indication embodied in a signal sent to the client the PCD and the like to suppress feedback and or to adjust such as but not limited to increase or decrease the volume of the outputted sound. In some embodiments the host may dynamically and remotely control various parameters of the PCD the client or the PA system or any combination thereof . In some embodiments the host may be manually operated by an operator such as but not limited to a moderator to control various aspects of the system . In some embodiments the host may be configured to control various aspects of the system automatically without any manual input.

In some embodiments the at least one processor may be operatively coupled to the at least one memory unit for adjusting audio signal. For example the at least one processor and the at least one memory unit may be configured to perform functions of the host as described in the disclosure. In some embodiments the at least one processor and the at least one memory unit may also be used for processes of the host that are unrelated to processing audio signal for the PA system .

In some embodiments the network device may be configured for accessing the communication network so that data may be transmitted via the communication network to and from the host . In some embodiments the network device may be a wireless device of the host such as a wireless local area network WLAN device wireless wide area network WWAN device personal area network PAN device and or the like. In other embodiments the network device may allow for a wired connection to the communication network or other components of the system .

In some embodiments the user interface device may be configured to provide information to the operator and or to accept operator input. The user interface device may include at least one display for graphical user interface GUI . The user interface device may also include at least one user input device such as but not limited to a touch screen a keyboard a mouse and or the like. The user interface may support interaction with the operator i.e. the operator may indicate through the user interface whether a triggering event such as but not limited to feedback or insufficient output volume has occurred.

In some embodiments the host may be configured to automatically detect with the at least one microphone whether a triggering event has occurred. In some embodiments the at least one microphone may be integrated with the host or otherwise contained inside of a housing of the host such as the same housing that contains the processor memory unit network device and user interface device . In some embodiments the at least one microphone may be an auxiliary microphone not integrated with the host such that the at least one microphone may be operatively coupled to the host in any suitable manner. In some embodiments the at least one microphone may be an omnidirectional microphone that may capture sound from any direction. In some embodiments the at least one microphone may be a unidirectional microphone that may capture sound in only one direction. In some embodiments the at least one microphone may be a microphone of any other polarization pattern. In some embodiments at least two of a plurality of microphones have different polarization patterns. For example the plurality of microphones may include three microphones where two of the three microphones may be omnidirectional microphones and the other microphone may be a unidirectional microphone. In other embodiments the at least one microphone may be a plurality of microphones having the same polarization pattern such as but not limited to where all of the plurality of microphones may be unidirectional microphones or all of the plurality of microphones may be omnidirectional microphones .

Referring to an example of the client is illustrated in accordance with various embodiments. In various embodiments the client also known as a sink device may be an electronic device that serves as an intermediary between the PCD the host and the PA system . For example the client may be connected to one or more or each of the PCD which may transmit audio signal to the client via the network the host which may transmit adjustment requests to the client and the PA system which may broadcast the audio signal provided by the client . In particular embodiments the client may include but is not limited to a desktop computer a laptop a PCD a system on chip a tablet a pager a dongle and or the like. In some embodiments the client may include at least one processor at least one memory unit a network device and an user interface device . In further embodiments the client may further include at least one microphone not shown .

In some embodiments the at least one processor may be operatively coupled to at least one memory unit for processing audio signal and for adjustment request processing. For example the at least one processor and the at least one memory unit may be configured to perform functions of the client as described in the disclosure. In some embodiments the at least one processor and the at least one memory unit may also be used for processes of the client that are unrelated to processing audio signal for the PA system .

In some embodiments the network device may be configured for accessing the network so data may be transmitted via the network to and from the client . In some embodiments the network device may be a wireless device of the client such as a wireless local area network WLAN device wireless wide area network WWAN device personal area network PAN device and or the like. In other embodiments the network device may allow for a wired connection to the network or other components of the system .

In some embodiments the user interface device may be configured to provide information to the user and or to accept user input. The user interface device may include at least one display for graphical user interface GUI . The user interface device may also include at least one user input device such as but not limited to a touch screen a keyboard a mouse and or the like. The user interface may support interaction with the user and or the operator i.e. the user or the operator may indicate through the user interface whether a triggering event such as but not limited to feedback or insufficient output volume has occurred.

Referring to one or more of the PCD the client and the PA system may be configured to adjust the audio signals to manage feedback by the system . For instance in some embodiments the amplitude of the audio signals may be scaled by one or more of the components such as but not limited to the PCD the client and the PA system . In some embodiments frequency ranges or sound capturing directions of the microphone may be adjusted to suppress feedback.

In some embodiments sound may be captured by the at least one microphone of the PCD from at least one sound capturing direction. The at least one microphone may be configured to capture sound from some or all accessible directions depending on the polarization of the microphone . In some embodiments the at least one microphone may be configured to deactivate in or otherwise ignore at least one sound capturing direction or otherwise to change the polarization of the microphone . In some embodiments the at least one microphone may be a plurality of microphones. The PCD also may selectively deactivate one or more of the plurality of microphones that are capturing sound . By deactivating sound capturing from one or more or all directions that generate feedback the at least one microphone may capture as much sound from the user as possible while still suppressing feedback.

In some embodiments the microphone may output a microphone signal such as but not limited to corresponding to the captured sound . In some embodiments the microphone signal may be provided to at least one processing unit of the PCD to adjust the microphone signal for example to manage feedback adjust volume and or the like. The processing unit may include the at least one processor and the at least one memory unit . In some embodiments an insufficient output volume is detected such as but not limited to by the host or the operator thereof and in response the amplitude of the microphone signal may be increased thus increasing the output volume. In some embodiments a feedback is detected and in response the amplitude of the microphone signal may be decreased thus decreasing the volume of the outputted sound and managing feedback. In some embodiments the processing unit may be configured to selectively filter out at least one frequency range in which feedback is occurring. In some embodiments the processing unit may perform the function of at least one high pass filter at least one band pass filter at least one low pass filter at least one band stop filter and or the like.

In some embodiments the PCD may output PCD output signal such as but not limited to corresponding to the microphone signal . In some embodiments in response to a detection of an insufficient output volume the amplitude of the PCD output signal may be increased thus increasing the volume of the outputted sound. In some embodiments in response to a detection of feedback the amplitude of the PCD output gain may be decreased thus decreasing the volume of the outputted sound and reducing feedback. In some embodiments the processing unit of the PCD may be configured to adjust the PCD output signal .

In some embodiments the client may output a client output signal such as but not limited to corresponding to the PCD output signal . In some embodiments the PCD output signal may be provided to at least one client processing unit of the client to adjust the PCD output signal for example to manage feedback adjust volume and or the like. The client processing unit may include the at least one processor and the at least one memory unit . In some embodiments in response to a detection of an insufficient output volume the client processing unit may increase the amplitude of the PCD output signal thus increasing the volume of the outputted sound. In some embodiments in response to a detection of feedback the client processing unit may decrease the amplitude of the PCD output signal thus decreasing the volume of the outputted sound and reducing feedback. In some embodiments the client processing unit may be configured to selectively filter out at least one frequency range of the PCD output signal in which feedback is occurring. In some embodiments the processing unit may perform the function of at least one high pass filter at least one band pass filter at least one low pass filter at least one band stop filter and or of the like.

In some embodiments the PA system may output a speaker signal such as but not limited to corresponding to the client output signal . In some embodiments the client output signal may be provided to at least one processing unit not shown of the PA system to adjust the client output signal for example to manage feedback adjust volume and or the like. The processing unit may include at least one processor not shown coupled to at least one memory unit not shown . A speaker signal may be provided by the PA system to the at least one electronic speaker device . In some embodiments in response to a detection of an insufficient output volume the amplitude of the client output signal may be increased thus increasing the volume of the outputted sound. In some embodiments in response to a detection of feedback the amplitude of the client output signal may be decreased thus decreasing the volume of the outputted sound and reducing feedback.

In some embodiments one of the audio signals may be adjusted as described. In other embodiments two or more of the audio signals may be adjusted. For example a frequency adjustment may be performed on the PCD output signal by the processing unit of the PCD and an amplitude adjustment to one or more of the signals such as but not limited to the microphone signal the PCD output signal the client output signal and or the speaker signal may be applied concurrently by one or more of the processing units or or the PA System .

Referring to example interactions between the components are illustrated in accordance with some embodiments. In some embodiments an active moderator session may be established between the host and the client to enable communication between the host and the client . For example adjustment requests may be transmitted from the host to the client during the active moderator session . In some embodiments the active moderator session may be established at or near the beginning of a conference or seminar or at other suitable time and remain active throughout the entire or throughout one or more portions of the conference.

In some embodiments the active moderator session may be established in response to the host or an operator of the host detecting a triggering event. For example in response to the operator perceiving feedback the operator may operate the user interface device of the host to control the host to establish an active moderator session with the client . Alternatively or in addition the active moderator session may be established between the host and the client automatically when an active participant session is established. For example when the active participant session is established between the PCD and the client the client may automatically send a request to the host to initiate an active moderator session . In particular embodiments if the host confirms the request then the active moderator session may be established. For example an exchange of credentials between the PCD and the client may prompt a start of the active moderator session .

In some embodiments the active participant session between the PCD and the client may be established to enable communication between the PCD and the client . The PCD may transmit the audio signals to the client during the active participant session and the client may provide the adjustment requests to the PCD during the active participant session . The adjustment requests may be received from the host or generated by the client . In some embodiments the client may establish the active participant session with a plurality of PCDs . In some embodiments the client may include a plurality of clients each of the plurality of clients may establish an active session with the host .

In some embodiments the active participant session may be established in response to an indication that the user wishes to access to the PA system . In particular embodiments the user through the user interface device of the PCD may control the PCD to send a signal message or other indication to the client . In some embodiments the client may upon receiving the indication send a confirmation to the PCD to confirm that the active participant session has been established. In particular embodiments an exchange of credentials between the PCD and the client may be required to initiate the active participant session . In some embodiments the active participant session may be established in response to a signal message or other indication from the host and or the client that the PCD should be granted an active participant session . In some embodiments the operator of the host and or the client may control the host and or the client to send the indication via the user interface devices . In other embodiments the host and the client may send the indication automatically. Examples of methods and systems for establishing the active participant session and or the active moderator session include but are not limited to those described in U.S. patent application Ser. No. 13 275 100 filed Oct. 17 2011 titled SHARING PUBLIC ADDRESSING SYSTEM USING PERSONAL COMMUNICATION DEVICES IN AN AD HOC NETWORK which is incorporated herein by reference in its entirety.

In some embodiments the client may be operatively coupled via a connection to the PA system to enable the transfer of the data between the client and the PA system . In some embodiments the connection may be a fixed connection between the client and the PA system . In other embodiments the connection between the client and the PA system may be or include a local or network wireless connection.

Various advantages can be associated with configuring the client to establish communication sessions with each of the PCD the host and the PA system . For example with such configurations each of the host the PCD and the PA system may only need to communicate with one other component to perform its functions in the audio signal adjustment system . This can help to conserve resources of the host the PCD and the PA system .

Referring to a process for adjusting audio signal for the PA system in accordance with various embodiments is illustrated. At block B a session between the PCD and the client may be established. In some embodiments the session may be an active participant session established in any suitable manner such as but is not limited to manners as discussed herein. The session may be established after an active moderator session between the host and the client is established.

Next at block B the client may receive an audio signal such as but not limited to microphone signal sent by the PCD . In some embodiments the audio signal may be sent after the initiation of the active participant session and communication in the active participant session may be provided by the network . The PCD may first capture sound with at least one microphone then convert the captured sound into the audio signal such as but not limited to microphone signal with the at least one processor and the at least one memory unit for transferring to the client .

Next at block B the client may transmit the received audio signal to the PA system for broadcasting. The client may transmit the audio signal to the PA system over the connection . The PA system may receive the transmitted audio signal and broadcast the audio signal as outputted sound via the at least one speaker .

The audio signal may initially be in a predetermined state i.e. the state that the audio signal may be transmitted or broadcasted before any adjustment takes place. In some embodiments the predetermined state may be the natural state of the audio signal without any modifications or adjustments. In other embodiments the predetermined state may be the state of the audio signal after preliminary modification. The preliminary modification may include adjusting at least one of the microphone signal the PCD output signal the client output signal and the speaker signal deactivating capturing sound in at least one direction of the microphone filtering out at least one frequency range and or of the like.

In some embodiments the preliminary modification may be set manually by the user through the user interface device of the PCD or the operator through the user interface devices of the host and or the client . In other embodiments the preliminary modification may be set automatically by one or more of the components . The component that sets the preliminary modifications may itself perform the preliminary modification or it may forward a preliminary modification request to another component for modification. Preliminary modification set manually or automatically may be saved to at least one user profile of the PCD so that the user may select to preliminarily modify the audio signals in accordance with the preferences set forth in the user profile. In addition preliminary modifications relating to a plurality of users may be saved to separate user profiles of a same PCD .

In some embodiments setting the predetermined state may include scaling at least one of the signals by at least one predetermined scaling factor. In one example at least one predetermined scaling factor greater than 1 such as but not limited to 1.2 1.5 or 3 may be applied to increase the amplitude of the signals . In another example at least one predetermined scaling factor less than 1 but greater than 0 such as but not limited to 0.3 0.5 or 0.8 may be applied to decrease the amplitude of the signals . In some embodiments a same predetermined scaling factor may be applied to a plurality of the signals . In other embodiments two or more different predetermined scaling factors may be applied to the plurality of the signals .

In some embodiments the predetermined scaling factor may be fixed such as but not limited to 0.3 0.5 0.8 1.2 1.5 or 3 such that the same predetermined scaling factor may be applied to at least one of the signals in the beginning of every session. In other embodiments the predetermined scaling factor may be determined dynamically and automatically by at least one of the components such that a different predetermined scaling factor may be applied in the beginning of every session. In particular embodiments the dynamic determination may be based at least in part on the speaking habit of the user of the PCD and or the environment in which the PA system is deployed. With respect to the speaking habit of the user the predetermined scaling factor may be applied to scale the audio signals if the user may have been the cause of feedback or insufficient output volume that had occurred previously. In some examples the user may be the cause if the user speaks too loudly softly or holds the PCD too close far. Further the environment such as but not limited to the placement of the speakers the acoustics of the conference room in which the PA system may located may also impact audio signals such that a triggering event may occur. In some embodiments the PCD may save data related to previous usage of the PCD in the memory unit and select the predetermined scaling factors based on the saved data. In particular the data may include among others previous predetermined scaling factors applied scaling factors used in the adjustment process past sessions identifiers that may identify each session to which the PCD may have connected to a mapping vector containing pointers that map the scaling factors to corresponding sessions. In some embodiments the predetermined scaling factor may be the same as a last scaling factor or a sum of total scaling i.e. sum of total scaling refers to multiplying all scaling factors applied in a session for example if two scaling factors 0.8 and 0.5 were applied in a previous session then the sum of total scaling is 0.8 multiplied by 0.5 which is 0.4 applied in a previous session. In another example the predetermined scaling factor may be the average of the sum of total scaling of last ten sessions.

In some embodiments the predetermined state may refer to the microphone of the PCD being initially configured to capture sound in at least one predetermined sound capturing direction. The predetermined direction may be some or all available sound capturing directions of the microphone . The PCD the host and or the client may automatically set the predetermined direction based at least in part on the speaking habit of the user of the PCD and or the environment in which the PCD is used as a microphone. In some embodiments the PCD may save data related to previous usage of the PCD in its memory unit and select the predetermined direction based at least in part on the saved data. The saved data may include among others previous sound capturing directions directions eliminated in a previous session and corresponding session identifiers that may identify each of the session to which the PCD was connected to. In some embodiments the predetermined sound capturing direction correspond to the predetermined direction applied in a most recent session. In another example the predetermined direction may be all available sound capturing directions other than at least one direction that may be frequently deactivated during the adjustment process in a number of previous sessions.

In some embodiments the predetermined state may also refer to initially configuring the PCD to transmit the audio signal at a predetermined frequency range. The predetermined frequency range may be the entire available frequency spectrum or a subset of the entire frequency spectrum. The PCD the host and or the client may automatically set the predetermined frequency range based at least in part on the speaking habit of the user of the PCD and or the environment in which the PCD is used as a microphone. For example acoustics of the room and placement of the speakers may cause a certain frequency range to contain feedback. In some embodiments the PCD may save data related to previous usage of the PCD in its memory unit and select the predetermined frequency range based at least in part on the saved data. The saved data may include among others frequency ranges filtered out in previous sessions previous predetermined frequency ranges and corresponding session identifiers that may identify each of the session to which the PCD was connected to. For example in some embodiments the predetermined frequency range may correspond to a frequency range applied in a most recent session i.e. the frequency range after filtering out at least one frequency range in the most recent session .

Two or more of the preliminary modification schemes disclosed above regarding the predetermined state such as but not limited to setting a predetermined scaling factor predetermined sound capturing direction and predetermined frequency range may be implemented in any combination. Transmitting and broadcasting the audio signal in the predetermined state as set forth above may allow the audio signal to be preliminarily modified before any further adjustment occurs. As the preliminary modification process may be based on the speaking habit and or the environment fewer iterations of the adjusting loop may be required to further adjust the audio signals thus improving the efficiency of the adjustment process.

Next at block B a triggering event may be monitored for. A triggering event is an event that if occurs may require adjustment of the audio signal. In various embodiments a triggering event may be an occurrence of feedback insufficient output volume and or the like. In some embodiments a triggering event can be monitored manually by the operator of the host i.e. the operator may listen to the sound outputted by the PA system for a triggering event . In some embodiments the operator of the host may detect both types of triggering events simultaneously from a single PCD such as but not limited to both feedback and insufficient output volume or two or more triggering events simultaneously from two or more PCDs that are connected to the PA system at the same time such as but not limited to feedback for one of the PCDs and insufficient output volume for the other one of the PCDs or insufficient output volume for both of the PCDs .

Next at block B if a triggering event is not detected B No then no action may be taken by the host given that the operator of the host does not perceive that a triggering event occurred. Subsequent audio signal may be received at B and processed according to blocks B B i.e. audio signal may be continuously received broadcasted and monitored until a triggering event is detected. In some embodiments if a triggering event has not been detected in a predetermined amount of time such as but not limited to 100 ms 150 ms or 300 ms an indication indicating that a triggering event has not occurred in that given time period may be sent automatically or manually by the operator through the user interface device of the host to the PCD .

On the other hand at block B B Yes an adjustment request may be sent by the host in response to a triggering event being detected. In some embodiments the operator may instruct the host with the user interface device of the host to send the adjustment request. In one example the host presses a touch screen or a button to indicate to the host that feedback was detected. The host in response may send the adjustment request to the client and or the PCD . In some embodiments the host sends the adjustment request to the client . The client then provides the adjustment request to the PCD . In some embodiments the user interface device of the host may allow the operator to select the type of triggering event such as but not limited to feedback or insufficient output volume the PCD in the case that multiple PCDs may be connected that may be responsible for the triggering event preset options for the operator to input the audio signals to be adjusted the details of adjustment and or the like. In some embodiments the display of the user interface device of the host may show a confirmation to the operator that the adjustment request has been sent.

Next at block B the PCD may receive capture subsequent audio signal. Next at block B the PCD and or the client may adjust the subsequent audio signal in response to the adjustment request. In various embodiments the PCD the client and or the PA system may be configured to perform different actions depending on the type of the adjustment request being sent from the host . The adjusted subsequent audio signal may then be processed according to blocks B B.

Referring to illustrated by at least one of the components is an example of a process through which audio signal may be adjusted automatically by at least one of the components in accordance with various embodiments. At block B a threshold value may be provided to at least one of the components . In some embodiments a plurality of threshold values may be provided to the at least one components . The threshold value may be a threshold signal energy content value or a threshold audio signal amplitude. In some embodiments the threshold value may be set by at least one of the components automatically. In other embodiments the threshold value may be set by the user via the user interface device of the PCD or the operator via the user interface device of the host .

Next at block B a session between the PCD and the client may be established. In some embodiments the session may be an active participant session that can be established in any suitable manner such as but is not limited to discussed in the disclosure. The session may occur after an active moderator session between the host and the client is established.

Next at block B the PCD may send the audio signal to the client . In some embodiments the audio signal may be sent after the initiation of the session and communication in the session may be viable through the network . The PCD may first capture sound with at least one microphone then convert the captured sound into audio signal microphone signal with the at least one processor and the at least one memory unit for transferring to the client . In some embodiments the PCD may initially transmit the audio signal in a predetermined state in any suitable manner such as but is not limited to discussed in the disclosure.

Next at block B the received audio signal may be transmitted to the PA system for broadcasting. The client may transmit the audio signal to the PA system over the connection . The PA system may receive the transmitted audio signal and broadcast the audio signal as outputted sound via its at least one speaker .

Next at block B at least one of the components i.e. at least one detecting component may analyze the outputted audio signal and compute an assessment value for the outputted audio signal. In some embodiments the PCD may via its at least one microphone capture the outputted sound and convert the outputted sound into audio signal. Then the PCD may analyze the audio signal and compute an assessment value with the at least one processor and the at least one memory unit . In particular embodiments the assessment value may represent the energy content of the audio signal. For example the energy content may be calculated by computing a quadratic mean of the collected audio signal for a predetermined duration such as but not limited to 10 ms 50 ms 100 ms or 110 ms . Quadratic mean may be calculated as following over n samples x x x . . . x .

At block B the assessment value may be compared to the threshold value. In some embodiments one of the components such as but not limited to the PCD or the host may forward the assessment value to another component to which the threshold value may be provided for performing the comparison. In other embodiments the component that computed the assessment value may itself compare the assessment value with the threshold value.

Next at block B B NO if the assessment value does not exceed the threshold value signifying that a triggering event has not occurred no adjustment may be taken by any of the components . Therefore at block B the subsequent audio signal may be received by the client but no adjustment may occur. The subsequent audio signal may be transmitted to the PA system for broadcasting at block B thus starting another iteration of the process .

On the other hand if the threshold value is exceeded by the assessment value then at least one of the components i.e. at least one adjusting component may adjust the subsequent audio signal based on a set adjustment criteria. For example at block B B YES the subsequent audio signal may be received by the adjusting component and the adjusting component may adjust the subsequent audio signal. In some embodiments the component that automatically detects the triggering event may not be the component that performs the adjustment. For example the automatic detection process may occur in the host while the automatic adjusting process may occur in the PCD . Similar to what was disclosed above an adjustment request may be sent from the detecting component to the adjusting component via the network and the adjusting component may adjust the subsequent audio signal based on the adjustment request. For example the component may adjust the amplitude of the subsequent audio signal by adjusting at least one of the audio signals the sound capturing directions of the microphone the frequency range and or the like. In particular embodiments the adjustment details may be based on the difference between the assessment value and the threshold value. For example if the assessment value exceeds the threshold value by a given amount such as but not limited to if the assessment value is 150 300 or 500 of the threshold value then at least one scaling factor such as but not limited to 0.6 0.8 or 0.9 that corresponds to the amount may be applied.

In some embodiments the detecting component may compute the assessment value for the audio signals periodically such as but not limited to every 0.05 0.1 0.3 or 0.5 seconds . In some embodiments every time the detecting component detects a triggering event i.e. when the assessment value exceeds the threshold value the detecting components may send an adjustment request locally or via a network to other components. In other embodiments the detecting component may send an adjustment request when it detects a triggering event and may send a confirmation indication when the triggering event has subsided.

The PCD upon receiving the adjustment request from the host or the client adjusts the subsequent audio signal according to a set of criteria. Referring to illustrated is an process for adjusting the subsequent audio signal once the adjustment request is received. At B the adjustment request having a message that indicates the type of triggering event may be received by the PCD . Next at B the PCD adjusts the microphone signal in response to the request. For example if the triggering event is a feedback then the PCD may reduce the amplitude of the subsequent audio signal filter out frequency ranges deactivate sound capturing directions of the microphone and or the like. In some embodiments if the triggering event is insufficient output volume then the PCD may increase the amplitude of the subsequent audio signal. In other embodiments the adjustment request may be sent to the client for adjusting the PCD output signal in response to the request and or to the PA system for adjusting the client output signal and or the speaker signal .

Next at B the PCD may select adjustment details such as but not limited to the amount and manner of adjustment with respect to the microphone audio signal being adjusted . In some embodiments the PCD may select to scale the amplitude of the subsequent microphone audio signal by a fixed factor such as but not limited to 0.2 0.5 0.7 1.2 1.5 or 3 . In some embodiments the PCD may select at least one sound capturing direction of the microphone to be deactivated. In some embodiments the PCD may select at least one frequency range to be filtered out. Next at B the PCD may adjust the subsequent microphone audio signal according to the selection made by the PCD .

Referring to the adjustment request may include a message that indicates the type of triggering event detected and a command to adjust at least one of the audio signals . For example the command may be a command to adjust the amplitude of the microphone signal and the PCD output signal . In some embodiments the command may be set by the operator manually via the user interface device of the host . In other embodiments the command may be set by the host automatically according to any suitable criteria including but are not limited to processing time and power consumption.

Referring to at B the adjustment request having the message and the command may be received by the PCD the client and or the PA system . Next at B the adjustment details is determined with respect to the at least one of the audio signals specified by the command of the adjustment request . Lastly at B the PCD the client and or the PA system may adjust the subsequent audio signal according to the adjustment details determined.

In some embodiments the PCD the client and or the PA system may adjust the at least one of the audio signals by a fixed factor for every adjustment request received. For example in response to the PCD receiving any adjustment request indicating that feedback is the triggering event the PCD may reduce the microphone signal by a fixed factor such as but not limited to 0.05 0.1 or 0.2 .

In some embodiments the PCD the client and or the PA system may be configured to respond to the adjustment request with a set of predetermined responses when two or more adjustment requests may be received. In particular embodiments a different scaling factor may be applied in response to each adjustment request in a sequence of adjustment requests. Referring to illustrated is an example of a process in which the PCD the client and or the PA system may be configured to respond to two or more adjustment requests . At B the PCD and or the client may receive an adjustment request containing either only the type of triggering event or the type of triggering event and the audio signals to be adjusted . At B a determination may be made as to whether the adjustment request received may be a first adjustment request received. In some embodiments the first adjustment request may be the first adjustment request received in the current session. In other embodiments the first adjustment request may be the first adjustment request received in a predetermined period of time such as but not limited to 30 seconds 2 minutes 10 minutes or an hour since a last adjustment request was received. If the adjustment request received is the first adjustment request then at B B YES the at least one of the audio signals may be scaled by a first factor denoted by X. If the adjustment request received is not the first adjustment request then at B B NO the at least one of the audio signals may be scaled by a second factor denoted by Y. In some embodiments X and Y may be different such that X may be greater than Y or Y may be greater than X. For example amplitude of the PCD output signal may be reduced by a first factor such as but not limited to 0.3 in response to a first adjustment request and reduced by a lesser factor such as but not limited to 0.05 for every subsequent adjustment request such as but not limited to the second adjustment request the third adjustment request the fourth adjustment request etc. received. In addition Y which denotes the scaling factor of any subsequent adjustment in response to the subsequent adjustment requests may also be different depending on an order in which the adjustment requests may be received. In some embodiments the PCD may increase the amplitude of the at least one audio signals to compensate for over reduction of the amplitude vice versa.

In some embodiments the PCD the client and or the PA system may begin to scale the audio signals by a fixed factor periodically such as but not limited to every 0.05 0.1 or 0.3 second in response to the first adjustment request until no adjustment request has been received by the PCD for a predetermined period of time such as but not limited to 0.3 0.5 or 1 second . In some embodiments the PCD the client and or the PA system may begin to scale the audio signals by a fixed amount periodically such as but not limited to every 0.05 0.1 or 0.3 second in response to the first adjustment request until a message indicating that the feedback or the insufficient output volume has been eliminated is received by the PCD and or the client . The message may be sent by the host automatically when the operator has not indicated that a triggering event has occurred for a predetermined time period i.e. 0.2 0.5 1 or 2 seconds since the last indication.

Referring to the adjustment request may include a message that indicates the type of triggering event that may be detected a command to adjust at least one of the audio signals and adjustment details that specify how each of the selected audio signals may be adjusted. In some embodiments the adjustment details can be set by the operator manually via the user interface device of the host or by the PCD the host and or the client automatically according to any suitable criteria including but are not limited to processing time and efficiency.

Referring to at block B an adjustment request having the message the command and the adjustment details may be received by at least one of the PCD the client and or the PA system . At B the PCD may adjust the subsequent audio signal according to the adjustment details . The adjustment details may include but are not limited to scaling the amplitude of at least one of the audio signals eliminating at least one sound capturing direction of the microphone and filtering out at least one frequency range.

Now referring to processes described in this disclosure may require a short period of time such as but not limited to around 90 150 milliseconds or approximately milliseconds to complete one iteration via the audio signal adjustment path i.e. through B B B and B .

Referring to illustrated is a process performed by the PCD for adjusting audio signal for the PA system in accordance with various embodiments. At block B the PCD may establish a session with a client in any suitable manner such as but is not limited to discussed in the disclosure. Next at block B the PCD may receive audio signal from the user as the user speaks into the microphone of the PCD . Next at block B the PCD may transmit the audio signal received from the user to the client at a predetermined state in any suitable manner such as but is not limited to discussed in the disclosure. In some embodiments the client may transmit the audio signal to the PA system for broadcasting via at least one speaker of the PA system . Next at block B a triggering event may be monitored automatically or manually by the operator of the host . Next at block B if a triggering event is not detected B No then no action is taken by the host and subsequent audio signal may be received at B and processed according to blocks B B. On the other hand at block B B Yes an adjustment request may be received by the PCD in response to a triggering event being detected. Next at block B the PCD may receive subsequent audio signal based on the adjustment request via the microphone . In some embodiments the subsequent audio signal may be adjusted by the PCD the client and or the PA system . For example the microphone of the PCD may be configured to scale the amplitude of the microphone signal or deactivate at least one sound capturing direction of the microphone used to capture the subsequent audio signal. In addition the subsequent audio signal may be adjusted based on the adjustment request in any suitable manner such as but is not limited to discussed in the disclosure. The adjusted subsequent audio signal then may be processed according to blocks B B.

In some embodiments the gain adjustment user interface may include at least one PCD such as but not limited to PCD A PCD B and or the like the gains of which are to be adjusted via the gain adjustment user interface . The gain adjustment user interface may include user interactive elements such as but not limited to buttons touch area and or the like to adjust gains of the corresponding PCD based on user interaction with the user interactive elements. For example the gains such as but not limited to the microphone gain the output gain and or the like of the PCD may be divided into discrete levels such as but not limited to the first set of levels corresponding to PCD A and the second set of levels corresponding to PCD B . In some embodiments the level sets for adjusting the gains may be finer such as but not limited to the first set of levels may include 6 levels each corresponding to a separate gain adjustment value . In other embodiments the level sets may be coarser such as but not limited to the second set of levels may include 2 levels each corresponding to a separate gain adjustment value . The gain adjustment user interface may include gain indicators such as but not limited to the first gain indicator A for the PCD A and the second gain indicator B for PCD B that indicate the current gain level selected for the corresponding PCD . In some embodiments a common control set may be used for one or more PCDs such as but not limited to the PCD .

In other or further embodiments the PCD may adjust its own microphone gain at the microphone signal the output gain at the PCD output signal sound capturing direction and or the like via an interface provided by the user interface device . Such interface may include user interactive elements such that when selected by the user of the PCD may trigger the PCD to adjust the gains or the sound capturing directions in the manner described.

In some embodiments the client or the host may execute automatic gain control with respect to a PCD being currently assigned the floor such as but not limited to an active participant session exists between the PCD and the client . In some embodiments the client or the host may store previous gain values such as but not limited to as included gain adjustment requests or otherwise determined for previous PCDs such as but not limited to the PCD in the memory unit or the memory unit of the host . The previous PCDs may have had or still have the floor i.e. the previous PCDs may have in active participant sessions with the client . The client or the host may determine the gain adjustment values for the PCD being assigned the floor based on the gain values for the previous PCDs which were assigned the floor previously. In some embodiments the gain adjustment values for the PCD currently assigned the floor may be an average of the previous gain values for the previous PCDs. This allows the client or the host to adjust the gain of the PCD currently assigned the floor to be at or approximate to the average gain adjustment values of the previously assigned PCDs to prevent sudden rise or drop in gain as outputted by the PA system .

In some embodiments the host and or the client may transmit a request over the network to the PCD . The request may be a request to change an output frequency of the PCD output signal and or the client output signal . In some embodiments the host and or the client may request the PCD to change its PCD output signal and or the client output signal periodically such as but not limited to 5 ms 10 ms 20 ms and or the like . Given that howling occurs at a same frequency over time howling may be suppressed when the frequency of the PCD output signal and or the client output signal is switched periodically to avoid amplitude building up at any one particular frequency. In some embodiments the output frequency of the PCD output signal and or the client output signal may be alternated between odd or even frequencies. In some embodiments a predetermined set of at least two output frequencies randomized or predetermined may be cycled over time as the output frequency of the PCD output signal and or the client output signal . In some embodiments the frequency of the PCD output signal and or the client output signal may be offset by a randomized or predetermined frequency range.

In some embodiments automatic close loop control may be implemented with respect to the client to provide feedback on gain adjustment and normalize the gain across multiple PCDs such as the PCD . The PCDs may use Automatic Gain Control AGC or Dynamic Range Compression DRC algorithms to adjust the gain based on the capabilities of the PCDs. In some embodiments the client may automatically send the adjustment request to the one of the multiple PCDs to reduce the gain or adjust the directionality of the sound capturing direction when the energy of the PCD output signal and or the client output signal of the one of the multiple PCDs exceeds a predetermined threshold. As such the client may regulate the gain of the multiple PCDs automatically without input from the host . Also the client and or host may choose DRC AGC or some other suitable algorithm used by the PCDs based on the common capabilities software version algorithm support etc across multiple PCDs and provide that information along with the gain adjustment feedback.

Each network may be associated with attributes such as but not limited to bandwidth quality of service QOS delay characteristics load on the network and or the like. The data may be associated with requirements such as delay sensitivity priority QOS requirement and or the like. For example audio data such as but not limited to the PCD output signal may be associated with high delay sensitivity high priority and or high quality of service. For example the application data containing the PCD output signal may be transmitted over a network having high bandwidth low delay and or the like. Other application data may be transmitted over another network having relatively lower bandwidth higher delay and or the like. In some embodiments where a PCD could not locate a suitable available network to transmit a data type such data of the data type may not be send until a suitable available network has been discovered or made available by to the PCD .

Each SSID may be associated with attributes such as but not limited to bandwidth quality of service QOS delay characteristics load on the network and or the like. The data may be associated with requirements such as delay sensitivity priority QOS requirement and or the like. For example the audio data such as but not limited to the PCD output signal may be associated with high delay sensitivity high priority and or high quality of service. The application data containing the PCD output signal may be transmitted over a SSID having high bandwidth low delay and or the like. Other application data may be transmitted over another SSID having relatively lower bandwidth higher delay and or the like. In some embodiments whereas the PCD could not locate a suitable available SSID to transmit a data type such data of the data type may not be send until a suitable available SSID has been discovered or made available by to the PCD .

In some case signaling for any session setup which require interaction between the PCD and the host . The host may not be in the D2D range or may not support D2D typically servers are connected over Ethernet . Data sent to or received by the host may be transmitted via the network . The delay sensitive traffic like voice audio data can be transmitted over D2D. One of ordinary skill in the art should appreciate that data transfer is not limited to audio data non audio data uplink data but also may include text messages file sharing streaming and or the like. Data may be transmitted over D2D to take advantage of the benefits the single hop link provides.

At block B the host and or the server may be provide as a trust center for paring the client with at least one PCD . In particular embodiments the host may store identification information such as but not limited to IP address associated with the client and at least one PCD store in the memory unit of the host . Next at block B the host may pair the client with the at least one PCD for example based on the identification information such as but not limited to the session identifier . Any suitable handshake may take place between the paired devices. In response to a successful handshake the client and the at least one PCD may initiate suitable D2D communication as described.

The PCD may send a request in the form of a signal to the server and or the host . The server and or the host may in response to the request may transmit the client identification information stored as set forth in block B to the PCD . The PCD and the client may then based on the client identification information initiate handshakes for establishing the D2D communication.

In further or other embodiments the client may be coupled to via the network or other suitable networks or is a part of the server . It should be appreciated by one of ordinary skill in the art that in addition to of establishing a D2D connection between a PCD and the client the PCDs amongst themselves may also establish D2D connection via the trust center of the host or the server .

Next at block B the client may queue the at least one floor request such as but not limited to when the client receives two or more floor requests . In some embodiments the queue may be ordered in suitable manner such as but not limited to time when received by the client and or other designated priority scheme. Each PCD associated with the at least one floor request may be assigned a position such as but not limited to a number in the queue based on the order. The position may be transmitted back to the corresponding PCD to be displayed via the user interface device . As such the user of the PCD may be aware of his or her position in the queue.

Next at block B the client may select one PCD corresponding to one of the at least one floor request to have the floor. In some embodiments the client may choose a PCD which transmitted a floor request that is received prior in time as compared to other floor request s within the queue. In other embodiments the client may select a PCD based on other suitable priorities including manual selection via user interface device by an operator of the client .

Next at block B the client may start a data inactivity timer. In some embodiments the data inactivity timer may be started as soon as the PCD has been selected. In other embodiments the data inactivity timer may be selected when the energy and or amplitude of the output PCD signal falls below a predetermined threshold. At block B the client determines whether the data inactivity timer has expired. When the data inactivity timer has not yet expired the client may deny any received floor request s from at least one other PCD at block B B NO . The received floor request s may be already been placed in the queue or has been received since the start of the data inactivity timer. On the other hand when the data inactivity timer has expired the client may grant a received floor request at block B B YES . In some embodiments the first floor request received subsequent to the expiration of the data inactivity timer may be selected to have the floor. In other embodiments the client may select another PCD corresponding to another one of the at least one floor request in the queue based on priority as described.

In some embodiments a server may be connected to the network for storing data such as but not limited to audio data in transit metadata and or the like . The host and or the client may be devices that is connected to the server such as but not limited to via the network or other suitable network . The host and or the client may access data stored on the server. In some embodiments the server may be configured to handle the floor request such as but not limited to instead of the client as set forth in the floor control method .

Next at block B the client may determine whether the selected PCD has released the floor such as but not limited to no longer assigned to transmit signals . In some embodiments the user of the selected PCD may indicate via the user interface device that it is releasing the floor. In some embodiments the selected PCD the host and or the client may automatically determine such release when the energy or amplitude of the output PCD signal is below a predetermined threshold. In some embodiments a timer is provided such as but not limited to a predetermined amount set by an operator of the host or the client that represent an allotted time for each PCD to have the floor. When the timer expires the selected PCD is determined to have released the floor.

Next at block B B NO the client may allow the selected PCD to have the floor when the selected PCD has not yet released the floor. On the other hand whereas the selected PCD has released the floor B YES the client may selected another PCD to have the floor at block B. The another PCD may correspond to a floor request that is next on the prioritized queue.

In various embodiments a floor request may be displayed via the user interface device the user interface device or the user interface device to be perceived by the operator or the user of the PCD a PCD different from the origin of the floor request the host or the client respectively. The floor request may be displayed as a popup window or any other types of visual audio notification and notify the operator user of the request. The operator user may then indicate approval or rejection through the user interface device the user interface device or the user interface device .

One of ordinary skills in the art would appreciate that alternative to the client being the device performing the alternative floor control method as described herein the host and or the server may instead perform the alternative floor control method in a similar manner.

In some embodiments the PCD such as but not limited to the user interface device may provide its user an option configured as a user interactive element to request instantaneous floor access to join an ongoing conversation. The ongoing conversation may refer to a PCD transmitting data to the client after the floor has been granted such as but not limited to after the establishing of the active participant session . In some embodiments when selected the instantaneous floor access user interactive element provided by the user interface device the PCD may transmit a request directly to the server such as but not limited to bypassing the host and the client . The sever in response may automatically grant the instantaneous floor access request to allow the PCD to transmit audio without any operator input at the host or the client . In other embodiments the instantaneous floor access request may be transmitted to the host or the client for approval. For example the request may be displayed to the user interface device or the user interface device to be perceived by the operator. The operator may then indicate approval or rejection through the user interface device or the user interface device .

In some cases given that media data may be transmitted over a wireless link it may be relatively foreseeable that an uninvited third party device could sniff out the port on which the client is receiving the media data and jam the port by sending unsolicited data despite the third party device is not an approved device to communicate.

In some embodiments the client may encounter various performance issues such as but not limited to port jamming media data packet loss and or the like. Restarting the client may be needed from time to time to reset the configurations. In some embodiments the host may be configured to allow a user of the host via the user interface device to reset the client with modified configuration. Such modified configuration may include opening a socket at a different port number and or the like. Given that the client and the host may be at different nodes of the network and thus at different locations the client may be remotely reconfigured restarted by the host .

With respect to block B the host the client or the server may distribute downlink data information to the at least one PCD in the active session. The downlink data information may include but not limited to presenter s biography presentation material reference sites advertisement based on the presenter s information or content and or the like. In some embodiments the at least one PCD may display the downlink data information on the user interface device to assist the user in the presentation conference. Such downlink data information may be stored in any suitable memory units associated with the host memory unit the client memory unit and the server not shown . The downlink data information may be collected as uplink data information previously for example in block . In other embodiments the downlink data information may be prestored or manually inputted.

With respect to block B the host the client or the server may collect uplink data information from the at least one PCD in the active session. The at least one PCD may send uplink data information to one or more of the host the client or the server. The uplink data information may include but not limited to audio message live questions instance messages user profile information profile picture biography and or the like. In some embodiments the host the client or the server may send a request to some of the at least one PCD in the active session for uplink data information. The PCD s may then send such information to the host the client or the server.

With respect to block B the host the client or the server may collect speaker data information. A speaker device may be a PCD that has been at some point assigned the floor in the manner described. Speaker data information include but is not limited to maker and model of the speaker device name of user affiliation of the speaker or the user of the speaker device audio speech converted into text and or the like originating from the speaker device. In particular embodiments data audio data originating from the speaker device may be recorded and archived at any suitable remote databases for later access.

In some embodiments the downlink data information and the uplink data information may be transmitted in such manner even when there is no active participant session established between PCD and the host client . Whenever the PCD is connected to the network such as but not limited to after launching an application at device level of the PCD and or successful registration authentication with server host client the downlink data information and the uplink data information may be collected and or distributed.

In some embodiments when the PCD output signal is below a predetermined threshold the PCD may be deemed to be not a speaker device or not assigned the floor in other suitable manner described . The microphone of the PCD may then be muted. In some embodiments the microphone of a first PCD may be muted when a second PCD has been assigned the floor in the manner described.

Next at block B the server may receive a request from a PCD such as but not limited to the PCD to be assigned to a client associated with one of the plurality of session rooms. In some embodiments the PCD may be carried with the user to a geological location such as but not limited to a particular conference hall to be used there. In some embodiments the downlink data information and the uplink data information as set forth in the data collection method may be collected stored and or distributed separately for each of the session rooms such as but not limited to stored separately according to each session room . The request may include identification information of the PCD itself or the session identifier identifying a session. Based on the request the server may determine identification information of one of the plurality of session rooms at block B. Given that each of the plurality of session rooms may be associated with a client identifier indicating the identity of the client device the server may also determine the client identifier such as but not limited to IP address . Next at block B the server may provide the client identifier to the PCD. The PCD may then initiate sessions such as but not limited to the active participant session when granted the floor.

In scenarios where there may be a plurality of PCDs each of which may be the PCD typically one client may support active participant session with only one PCD at a given time. As such multiple PCDs can only take turns to access the PA system . In addition frequent access switch may be required. This is very cumbersome at the least. Therefore it is desirable to allow multiple PCDs to access the PA system simultaneously.

In some embodiments while PCD I is already in the active participant session with the client PCD II may request the client for access such as but not limited to with a request to share . In response to the request to share the client may seek permission such as but not limited to via the permission to share from the host . The host may response automatically or manually via user interface device permission to share the client between PCD I and PCD II .

In response to the permission to share being received from the host the client may set up another active participant session by negotiating access parameters . In some cases it is likely that PCD I and PCD II may have different audio hardware software processing characteristics. As a result the client may negotiate with both PCD I and PCD II to adjust various parameters of the audio data packets coming from each of PCD I and PCD II by negotiating access parameters and re negotiating access parameters with PCD I . The access parameters may include but are not limited to sampling rate sample size packet size endian ness of the samples of the audio data. This allows the participating PCDs PCD I and PCD II to send audio data packets with similar or the same parameters to be processed by one client . The client may also update internal resource allocations and assign receive queue for each participating PCD in order to receive and store the incoming audio data from the participating sources.

In response to successful negotiation with PCD II and re negotiation with PCD I the client may transmit a response to share to the PCD II verifying the share of the client . Next the session status may be updated between the host and the client indicating the sharing of the client . In response to the session status update audio data from PCD I such as but not limited to Audio and audio data from PCD II such as but not limited to Audio may be sent to the client . The client may modify and relay the audio data to the PA system via the connection .

In a non limiting example the multiple PCD shared access processing as set forth in may include PCD A PCD B . . . and PCD N . Each PCD may produce 2 byte samples using 16 KHz sampling rate which produces 128 byte audio packets every 4 ms. The client may select a given audio packet from each PCD in a predetermined period of time such as but not limited to 4 ms . The client may scale a 2 byte sample from each of the selected audio packets at the scalers such as but not limited to scaler A scaler B . . . scaler N by for example 3. Then the client may combine the scaled samples into a single composite sample at adder . The composite sample is then sent to playback . For example the audio sample of PCD A is assumed to be the audio sample of PCD B is assumed to be and the audio sample of PCD N is assumed to be no additional PCD present . After scaling the scaled audio sample of PCD A is assumed to be the scaled audio sample of PCD B is assumed to be and the scaled audio sample of PCD N is assumed to be . The composite audio packet may be as outputted by the adder . The client may repeat this process for each audio sample in all the selected audio packets.

Alternately multiple clients may be assigned to each PCD having active participant session. These clients would co ordinate in distributed manner and in some embodiments with the help trigger from the host allow multiple PCDs to access the PA system simultaneously.

Accordingly the shared access as described enables new capacity for the PCD based PA system that uses shared wireless medium . Hardware resources may be reduced given that a same client may cater to the plurality of PCDs therefore cost is reduced. The shared access processes may also provide a scalable solution as the call flow could support many more simultaneous PCDs which traditional PA system based on wireless microphones could not have supported without significant hardware expenses.

Referring to at block B a first triggering event may be determined. The first triggering may include the PCD s position in the queue for floor requests the PCD being granted the floor or the like. For example the position in queue that triggers the sending of the non audio data may be first in queue second in queue third in queue fifth in queue or the like. The first triggering event may be determined by client the host the server and or the PCD . The host the server and or the PCD may send an indication of detection to the client the indication including also the PCD s identifier such as but not limited to IP address when detecting the first triggering event. In embodiments where the client itself detects the first triggering event the client may obtain directly from the PCD or otherwise ascertain the PCD s identifier such as but not limited to by requesting it from the server the host and or the PCD itself via other suitable channels .

Next at block B the client may periodically transmit non audio data via best effort flows in some embodiments but QOS follows in others in response to the first triggering event being detected. Whereas the triggering event is the PCD s particular position in queue the audio data has not yet been received by the client from the PCD given that the PCD has not been yet granted the floor . In this case the non audio data may be sent periodically to the PCD while the audio data from the PCD has not yet been received since the PCD has been first queued. Whereas the triggering event is the PCD s been granted the floor the non audio data may be sent periodically to the PCD while the audio data is being received by the client from the PCD . This is to prevent ARP refresh processes when the PCD does not send the audio data due to silence network conditions or the like for a predetermined period of time. In some embodiments the non audio data may be transmitted by the client via best effort flows while the audio data may be transmitted by the PCD via QOS flows. The non audio data may include ping User Datagram Protocol UDP packets and or other meaningful or meaningless data packets. By periodically transferring non audio data from the client to the PCD the ARP cache does not time out and the client does not enter the power saving mode. In particular embodiments where the PCD s position in the queue for floor requests is the first triggering event such as but not limited to determined at block B a predetermined time period is determined based on the position in queue. For example when the PCD reaches a predetermined place such as but not limited to third place in the queue the non audio data may start to be transmitted by the client periodically until the active participant session ends and or after a subsequent PCD has been granted the floor. In other embodiments the client may start to transmit the non audio data periodically in response to the active participant session being initiated as the first triggering event until the active participant session ends. The non audio data may be transmitted once every 1 ms 2 ms 5 ms and or the like.

In further embodiments the PCD may periodically transmit non audio data to the client . Such data may be bidirectional e.g. the client may respond to the PCD . For example the PCD may transmit a ping request and receive a ping response from the client or transmit other types of bidirectional data at longer intervals than the audio data to the client in response to the PCD being granted the floor. Bidirectional data prompts the client to respond in the manner described thus avoids ARP refresh. The PCD may cease transmitting such data in response to floor release.

Accordingly one of ordinary skill in the art would appreciate that the non audio data may be transmitted before the audio data is transmitted. This is true when the first triggering event is the PCD s position in the queue. An initial ARP cache request stage may be eliminated to prevent initial latency for the audio data transmitted to the client given that ARP cache has already been requested and is kept timed in due to the transmissions of the non audio data before or while the audio data is transmitted.

Now referring to the client may determine a second triggering event in block B. In some embodiments the second triggering event may be the launching of an application instructing the client to perform its functions described herein. In other embodiments the second triggering event may be the floor being granted to a PCD such as but not limited to the PCD being selected from a plurality of PCDs to output audio data captured by the PCD . In response to the floor being granted the PCD the entity granting the floor such as but not limited to the server or the host or the client itself and or the PCD itself may transmit any indication of the occurrence of the second triggering event to the client .

Next at block B the client may disable the power saving mode. For example the client may call an Application Programming Interface API Operating System OS or Wireless Local Area Network WLAN firmware to disable the power saving mode on the client . Next at block B a third triggering event may be determined by the client . In some embodiments the third triggering event may be the shutting off of the application for the client . In some embodiments the third triggering event may be receiving an indication to enable the power saving mode of the client from the host . An operator manning the host may use the user interface to input the indication to be transmitted over the network to the client . In other embodiments the third triggering event may be the floor being assigned to another PCD such as but not limited to terminating outputting audio data captured by the PCD . The third triggering event may be detected by the client the PCD the host and or the server . In response to block B the client may enable or re enable the power saving mode of the client .

In further embodiments in response to detecting the second triggering event by the PCD the PCD may begin transmitting unidirectional non audio data independent of whether audio data has been transmitted or not. When the PCD is muted the PCD may send unidirectional non audio data. Such non audio data may be sent at an interval shorter than the bidirectional non audio data sent to prevent ARP cache refresh. This is because shorter interval is needed to prevent the client from entering into the power saving mode. When the PCD is unmuted the PCD may cease sending the unidirectional non audio data as audio data is being sent.

In further embodiments the client may send unidirectional non audio data to the PCD if data from the PCD has not been received for a predetermined period e.g. 100 ms 200 ms 1 s 2 s 4 s or the like . The client may send such unidirectional non audio data until audio data is received form the PCD .

In various embodiments vocoders may be used to encode and decode the audio data described herein. Given that a typical frame interval is 20 ms the audio transmission delay may be affected by the 20 ms frame generation playout delay associated with using the vocoders. In other embodiments the audio frames may be transmitted without vocoding i.e. pulse code modulation PCM frames transmitted to reduce delays associated with encoding decoding. As such latency may further be reduced given that the audio frames are being transmitted more frequently than 20 ms per frame.

Even though evenly distributed audio data packet loss up to 15 is not likely to be noticeable by human ear contiguous packet loss may be noticeable. In some embodiments sending redundant audio data packets such as set forth in the diagram may seek to minimize loss by providing backup copies of previous frames audio data packets at a current frame. For example each of bundle A bundle B bundle C and bundle D may include 3 frames. Each frame may be associated with a frame index value. In the non limiting example the frame associated with a smaller frame index value may be first transmitted before a frame with a larger frame index value. The frame with the largest index such as but not limited to frame in bundle A is the current frame as indicated. The larger the number of frames included the bundle the more the previous frames included the lesser the overall audio data packet loss because previous frames are transmitted on more occasions. On the other hand whereas the number of frames included in a given bundle is large processing time and transmission time may increase latency. The client may use the previous frames redundant frames as backup frames and play them in case there is a loss of data occurring at one of the redundant frames transmitted before.

In other embodiments instead of having the number of previous frames remain constant a dynamic process such as but not limited to the data packet loss optimization method may be implemented to increase the number of previous frames when needed intolerable loss and to reduce the number of previous frames when little or no loss has been detected. Such a process can assure low data loss while improves latency.

First at block B the PCD may transmit a first number of redundant audio data packets to the client . In some embodiments the first number may be an optimized number that minimizes latency and while providing sufficient coverage for occasional or non continuous loss of data packets. The first number may be predetermined. Next at block B the PCD the client the host and or the server may determine whether data packet loss is beyond a predetermined tolerance level. The predetermined tolerance level may be a number of total data packets lost a number of continuous data packet lost a percentage corresponding to each or a combination thereof. For example the tolerance level may be total or continuous data packet loss of 10 15 20 30 or the like. The client as the device receiving the audio data may determine the data packet loss in number or in percentage and transmit it to the PCD the host and or the sever .

Whereas data packet loss is not beyond the predetermined tolerance level B NO the data packet loss optimization method returns to block B. On the other hand whereas it is determined that the data packet loss is beyond the predetermined tolerance level the PCD may transmit a second number of redundant data packets in response the second number is greater than the first number at block B B YES . As such the number of redundant data packets is increased to extend backtracking to recover lost data packets.

Next at block B the PCD may reduce gradually the second number to the first number over a predetermined number subsequent frames such as but not limited to 5 10 15 or the like . Given that a burst redundant data packet bundles are commissioned to recover lost data packets subsequent frames need not to adhere to the second number unless data packet loss at a subsequent frame is also beyond the predetermined tolerance level . The number of redundant frames may return to its optimal number such as but not limited to the first number . For example a subsequent frame may include a third number of redundant frames the third number being between the first number and the second number.

In the nonlimiting example illustrated in the data packet loss may be determined to be beyond the predetermined tolerance level B YES at frame i.e. after bundle G . Thus bundle H may include an increased number of redundant data packets such as but not limited to 4 redundant data packets instead of 2 to recover lost data packet. The number of redundant frames of subsequent frames may gradually be reduced to the first number such as but not limited to 2 . For example the number of redundant frames for bundle I is 3 and the number of redundant frames for bundle J is 2 such as but not limited to the first number .

In some embodiments the PCD may be determined to be a remote device connected to the network based on geological data as determined by geolocation IP address user input and or the like . For example the PCD may be determined to be a remote device if it is not within a predetermined area such as but not limited to a conference hall . A remote device may function as a PCD in requesting the floor establish active sessions for data transmission and or other functions described herein.

It should be appreciated that the PCD based PA systems as described herein may be implemented for events conferences universities for classes meetings and even for ad hoc events etc.

Next at block B the client may receive via the network device as configured by the processor the audio data from the PCD with the refreshed ARP cache. In the embodiments in which the first triggering event is the PCD s position in the queue the non audio data may be transmitted to the PCD before the audio data is received from the PCD . The non audio data may be periodically transmitted to the PCD until the PCD releases the floor or another PCD subsequently takes the floor. In the embodiments in which the first triggering event is the PCD being granted the floor the non audio data may be periodically transmitted to the PCD while the PCD is granted the floor. During the floor grant at least some audio data is received by the client from the PCD .

The de jitter buffer may be used by the client as implemented with at least one of the processor or the network device to smoothen the jitter and improve audio quality. In embodiments described herein the de jitter buffer size may be dependent on the expected jitter in the network . The expected jitter in the network may be present due to the wireless link delay variation. The wireless link delay variation may be due to device capabilities of the PCDs the device capabilities of the client the operating channel conditions of the network and the like.

For example whether QoS is supported by the PCDs and or the client may affect the expected jitter in the network . The type of operating channel such as but not limited to with respect to a WiFi network a 2.4 GHz channel 5 GHz channel or the like of the network may affect expected jitter. The operating channel may be based on device deployment or capabilities of the PCDs . In one particular example for a 2.4 GHz channel overlapping may be common and wireless link delay may be higher. Bluetooth may interfere with the 2.4 GHz channel causing jitter.

In some embodiments a mapping from one or more of the device capabilities of the PCDs the device capabilities of the client the operating channel conditions of the network to the de jitter buffer size may be predetermined. Such mapping method may be used in a static such as but not limited to with respect to and or dynamic de jitter buffer selection such as but not limited to with respect to such as described herein.

When a plurality of PCDs are present in the system the worst performing wireless link delay may be used to determine the de jitter buffer size. For example the worst wireless link delay may be associated with the device capabilities of one of the plurality of PCDs . The de jitter buffer size may dynamically change when wireless link delays change. A trigger may be sent to the client when the client and or at least one of the PCD detect a change of operating conditions.

For each session the client may select the de jitter buffer size based on the capabilities of the PCD currently in the session. For example the client may choose a de jitter buffer size that may satisfy the PCD having the worst devices capabilities. Alternatively the client may choose a de jitter buffer size that may satisfy most of or a predetermined number of the PCDs in the session.

For example as compared to the 5 GHz channel the 2.4 GHz channel may be associated with more channel overlap and higher network delay. The deployed access point may or may not support QoS for the network . Even when QoS is supported by the network one or more of the PCD or client may not support QoS. Activated Bluetooth on a device may also generate interference with the 2.4 GHz channel on WiFi.

For example a de jitter buffer size of 80 ms may be selected when the 2.4 GHz channel is used while QoS services and Bluetooth are not supported on the client or the PCD . In another example a de jitter buffer size of 60 ms may be selected when the 2.4 GHz channel is used while QoS is not supported on the client but is supported on the PCD . Bluetooth is not activated on the PCD for this case. In yet another example a de jitter buffer size of ms may be selected when the 2.4 GHz channel is used Bluetooth is enabled on the PCD and QoS is not supported on the client or the PCD . In yet another example a de jitter buffer size of 60 ms may be selected when a 5 GHz channel is used while QoS and Bluetooth are not supported on the client or the PCD . The examples in which neither the client nor the PCD supports QoS may also correspond to the cases in which the access point does not support QoS for the network .

The mapping table may be predetermined and stored in the memory unit of the client . Alternatively the client may request or received the mapping table from a server. One of ordinary skills in the art would appreciate that the examples shown in are non limiting. Additional channel conditions device capabilities or wireless link delay variation may be mapped to a de jitter buffer size in a manner such as but not limited to illustrated in the mapping table .

At block B the processor of the client may determine at least one of device capabilities of the PCD the device capabilities of the client or channel conditions. In some embodiments the device capabilities of the PCD may include whether QoS is supported on the PCD whether Bluetooth is activated on the PCD and the like. In some embodiments the device capabilities of the client may include whether QoS is supported on the client . The device capabilities of the client may be determined locally by the processor of the client . The device capabilities of the client may be stored in the memory unit for repeated use. The channel conditions may include network environmental factors such as but not limited to types of channel such as but not limited to which of the 2.4 GHz channel or the 5 GHz is being used and the like.

The network may include a first channel from the PCD to the WiFi access point and a second channel from the WiFi access point to the client . The first channel and the second channel may be the same or different channels. The types of channel may be determined for one or both of the first channel or the second channel. The channel type of the first channel may be determined by the PCD . The channel type of the first channel may be transmitted by the PCD to the client . The channel type for the second channel may be determined by the client . With respect to whether QoS may be supported by the network whether the first channel supports QoS and whether the second channel supports QoS may also be determined by the PCD and the client respectively. For example even though the PCD may support QoS the access point may not support QoS for the first channel.

The PCD may transmit the device capability of the PCD and or channel conditions determined by each PCD for the first channel between the PCD and the access point to the client via control signals when the active participant session is being established. The PCD may obtain one or more of the device capability of the PCD or channel conditions from an associated access point and relay such information to the client via signals. In some embodiments the PCD may transmit such data to the client every time a new active participant session is being established in other words between different active participant sessions . In further or alternative embodiments the PCD may transmit such data to the client during the active participant session after the active participant session is established in response to a change in the device capability of the PCD or channel conditions. Similarly the client may determine its own device capabilities and or channel conditions determined by the client for the second channel between the access point and the client .

At block B the processor of the client may determine the de jitter buffer size based on the at least one of the device capabilities of the PCD the device capabilities of the client or channel conditions. In some embodiments the processor may determine the de jitter buffer size based on a predetermined mapping such as but not limited to the mapping table between the predetermined de jitter buffer size associated with one or more of the device capabilities of the PCD device capabilities of the client or channel conditions. For example the variables as determined in block Bmay be entered and a corresponding result may be determined by the processor based on the mapping table.

At block B the processor of the client may apply the de jitter buffer having the determined de jitter buffer size.

At block B the processor of the client may determine at least one of the device capabilities of the client or channel conditions based on preconfigured capability information. The device capabilities of the client may include whether QoS is supported on the client . The channel conditions may include network environmental factors such as but not limited to types of channel such as but not limited to which of the 2.4 GHz channel or the 5 GHz is being used and the like. For example a configuration file having preconfigured capability information about the device capabilities of the client and the channel conditions may be stored in the memory unit . The preconfigured capability information may be determined automatically by the processor of the client . The preconfigured capability information may be determined based on input received via the user interface device . Alternatively the preconfigured capability information may be received from another server such as but not limited to the host or another server such as but not limited to the server .

Next at block B the processor of the client may determine the de jitter buffer size based on the at least one of the device capabilities of the client or channel conditions. In other words the processor of the client may determine the de jitter buffer size based on the preconfigured capability information. In some embodiments the processor may determine the de jitter buffer size based on a predetermined mapping such as but not limited to the mapping table without columns as information related to the PCD may not be used in the determination between the predetermined de jitter buffer size associated with one or more of the device capabilities of the client or channel conditions. For example the variables as determined in block Bmay be entered and a corresponding result may be determined by the processor based on the mapping table.

Next at block B the processor of the client may apply the de jitter buffer having the determined de jitter buffer size.

At block B the processor of the client may determine at least one of device capabilities of each of a plurality of PCDs the device capabilities of the client or channel conditions. In some embodiments the device capabilities of each of the plurality of PCDs may include whether QoS is supported on each PCD whether Bluetooth is activated on each PCD and the like. In some embodiments the device capabilities of the client may include whether QoS is supported on the client . The device capabilities of the client may be determined locally by the processor of the client . The device capabilities of the client may be stored in the memory unit for repeated use. The channel conditions may include network environmental factors such as but not limited to types of channel such as but not limited to which of the 2.4 GHz channel or the 5 GHz is being used whether QoS is supported by the network and the like.

The network may include a first channel from the PCD to the WiFi access point and a second channel from the WiFi access point to the client . The first channel and the second channel may be the same or different channels. The types of channel may refer to one or both of the first channel or the second channel. The channel type of the first channel may be determined by the PCD . The channel type of the first channel may be transmitted by the PCD to the client . The channel type for the second channel may be determined by the client . With respect to whether QoS may be supported by the network whether the first channel supports QoS and whether the second channel supports QoS may also be determined by the PCD and the client respectively. For example even though the PCD may support QoS the access point may not support QoS for the first channel.

Each of the plurality of PCDs may transmit its own device capabilities and or the channel conditions determined by each PCD for the first channel between the PCD and the access point to the client via control signals when the active participant session is being established. In some embodiments the PCD may transmit such data to the client every time a new active participant session is being established. The PCD may obtain one or more of the device capability of the PCD as well as channel conditions from an associated access point and relay such information to the client . Similarly the client may determine its own device capabilities and or channel conditions determined by the client for the second channel between the access point and the client .

Next at block B the processor of the client may determine an initial de jitter buffer size based on the at least one of device capabilities of each PCDs the device capabilities of the client or channel conditions. In some embodiments the processor may determine the initial de jitter buffer size based on a predetermined mapping such as but not limited to the mapping table between the predetermined de jitter buffer size associated with one or more of the device capabilities of each PCD device capabilities of the client or channel conditions. For example the variables as determined in block Bmay be entered and a corresponding result may be determined by the processor based on the mapping table.

Given the plurality of PCDs are present in the system the PCD device capabilities and or the channel conditions for each PCD may be considered together. In some embodiments the worst PCD device capabilities and or the worst channel conditions may be used as the entered parameter for the mapping table in determining the mapping to the initial de jitter buffer size. For example when all of the PCDs are provided with QoS except one the parameter used for mapping such as but not limited to at the PCD QoS column may be NO. In other embodiments the PCD device capabilities and or the channel conditions worse than a predetermine percentage of PCDs such as but not limited to 75 80 90 95 or the like may be used in determining the mapping to the initial de jitter buffer size.

Next at block B the processor of the client may apply the initial de jitter buffer having the determined de jitter buffer size. Next at block B the processor as coupled to the network device for receiving data may be configured to receive updates from one or more of the plurality of PCDs . Such updates may be periodic updates from each PCD and include current device capabilities of each PCD and or the channel conditions currently measured by each PCD . Next at block B the processor may determine whether there has been a change in the device capabilities or the channel conditions based on the update. When the processor determines that there has not been a change the processor may continue to apply the initial de jitter buffer size at block B. When the processor determines that there has been a change the processor may implement block B B NO . Alternatively one of the plurality of PCDs may send a update to the client device only when that PCD detects a change in the device capabilities and or channel conditions at block B B ALWAYS YES .

For example in a same active participant session one of the plurality of PCDs which has QoS enabled may move from a first access point does not support QoS to another access point supports QoS . As such a change in device capabilities associated with that PCD may result. In addition the updates and or changes may also include at least one additional PCD joining the active participant session . Given that the de jitter buffer size may be determined by considering the PCD device capabilities and or the channel conditions for all of the plurality of PCDs in the same active participant session an additional device may cause a change in the collective values of the PCD device capabilities and or the channel conditions. Subsequently the parameter value used for the mapping table may also change. This may be especially important when the newly joined PCD has the worst PCD device capabilities and or the channel conditions.

At block B the processor may determine an interim de jitter buffer size based on at least one updated device capabilities of one of the PCDs or updated channel conditions. The processor may use the updated values and the unchanged values to determine the interim de jitter buffer size based on the mapping table such as but not limited to the mapping table in the manner described. A new or unchanged de jitter buffer size may result.

Next at block B the processor may apply the de jitter buffer having the determined interim de jitter buffer size. The processor may continue to monitor for updates from one or more of the plurality of PCDs at block B after applying the interim de jitter buffer size. In various embodiments the determining of the interim de jitter buffer size and the applying of the interim de jitter buffer size may be performed in a same active participant session as the determining of the initial de jitter buffer size and the applying of the initial de jitter buffer size. In other embodiments the determining of the interim de jitter buffer size and the applying of the interim de jitter buffer size may be performed in a different active participant session as the determining of the initial de jitter buffer size and the applying of the initial de jitter buffer size.

With respect to retransmission count and latency budget each PCD may determine whether an audio frame is a silent frame or a voice frame using energy based classification with pulse code modulation PCM . Silent frames may be associated with lower retransmission priority lower retransmission count and or lower latency budget . The MAC layer may determine transmission counts based on a type of access class such as but not limited to background best effort video audio and the like associated with the data packet. An application executed by the processor of the PCD may be used to further differentiate priority within a same access class such as but not limited to audio . For example voice frames may be associated with higher retransmission count larger number of retries and higher latency budget more resistance to latency in the network as compared to silent frames. As such when the network is considerably burdened with undelivered data packets the undelivered silence frames will not significantly negatively impact the transmission retransmission of the voice frames which carries actual voice data from the user of the PCD .

At block B the processor of the PCD may determine a priority associated with an audio frame based on energy associated with the audio frame. The priority may be a transmission priority. The transmission priority may be determined based on energy associated with the audio frame as well as other criteria such as but not limited to a signal to noise ratio SNR background noise interference a combination thereof and or the like. The processor may determine an energy associated with the audio frame at application layer. When the energy associated with the audio frame crosses one or more predetermined thresholds the audio frame may be assigned a corresponding priority. Illustrating with a non limiting example when the energy associated with the audio frame exceeds a predetermined threshold the audio frame may be classified as a voice frame associated with a higher transmission priority. On the other hand when the energy associated with the audio frame is below the predetermined threshold the audio frame may be classified as a silent frame associated with a lower transmission priority. It should be understood that additional thresholds may define three or more classifications of the audio frames based on energy level. Higher transmission priority may be associated with higher energy levels vice versa. In other embodiments the transmission priority may be determined with a vocoder.

Alternatively or in addition the priority correspond to a delay bound determined for the audio frame. The processor implementing the upper layers may determine the delay bound delay tolerance upper bound for the audio frame based on the energy associated with the audio frame. Illustrating with a non limiting example when the energy associated with the audio frame exceeds a predetermined threshold the audio frame may be designated a larger delay bound given the audio frame is a voice frame . On the other hand when the energy associated with the audio frame is below the predetermined threshold the audio frame may be designated a lesser delay bound given the audio frame is a silent frame . It should be understood that additional thresholds may define three or more delay bounds.

Next at block B the processor implementing the MAC layer may determine at least one of retransmission count or buffer packet discard for the audio frame based on the priority associated with the audio frame. In particular the MAC layer may determine the retransmission count based on the transmission priority. Higher transmission priority may correspond to higher transmission count. For example a voice frame may benefit from a full retransmission count such as but not limited to 6 7 or the like . On the other hand a silence frame may be associated with a lower retransmission count such as but not limited to 1 or 2 . Given that the retransmission count may also be dependent on factors such as but not limited to SNR background noise interference and the like the retransmission count based solely on frame energy may be adopted as long as other factors do not alter the retransmission count. Otherwise the retransmission count determined based on only frame energy may be adjusted based on the other factors. The MAC layer may also determine the buffer packet discard for the audio frame based on the delay bound associated with the audio frame.

The MAC layer may determine the retransmission count and MAC buffer packet discard based on the delay bound. For example silent frames may be assigned a lower buffer packet discard such as but not limited to first discarded when the buffer is full or almost full . On the other hand voice frames may be assigned a higher buffer packet discard such as but not limited to discarded after the audio frames with lower buffer packet discards have been discarded when the buffer is full or almost full .

Next at block B the processor coupled with the network device may be configured to transmit the audio frame based on with the at least one of retransmission count and or buffer packet discard in the active participant session as the PCD output signal .

It is understood that the specific order or hierarchy of steps in the processes disclosed is an example of exemplary approaches. Based upon design preferences it is understood that the specific order or hierarchy of steps in the processes may be rearranged while remaining within the scope of the present disclosure. The accompanying method claims present elements of the various steps in a sample order and are not meant to be limited to the specific order or hierarchy presented.

Those of skill in the art would understand that information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

Those of skill would further appreciate that the various illustrative logical blocks components circuits and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks components circuits and steps have been described in this disclosure generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the present disclosure.

The various illustrative logical blocks components and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices such as but not limited to a combination of a DSP and a microprocessor a plurality of microprocessors at least one microprocessors in conjunction with a DSP core or any other such configuration.

The steps of a method or algorithm described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software component executed by a processor or in a combination of the two. A software component may be provided in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such the processor may read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor. The processor and the storage medium may be provided in an ASIC. The ASIC may be provided in a user terminal. In the alternative the processor and the storage medium may be provided as discrete components in a user terminal.

In at least one exemplary embodiments the functions described may be implemented in hardware software firmware or any combination thereof. If implemented in software the functions may be stored on or transmitted over as at least one instructions or code on a computer readable medium. Computer readable media includes both computer storage media and communication media including any medium that facilitates transfer of a computer program from one place to another. A storage media may be any available media that may be accessed by a computer. By way of example and not limitation such computer readable media may include RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that may be used to carry or store desired program code in the form of instructions or data structures and that may be accessed by a computer. In addition any connection is properly termed a computer readable medium. For example if the software is transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of medium. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of computer readable media.

The attached Appendix is incorporated herein by reference in its entirety. The previous description of the disclosed embodiments is provided to enable any person skilled in the art to make or use the present disclosure. Various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without departing from the spirit or scope of the disclosure. Thus the present disclosure is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.

