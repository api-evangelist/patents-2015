---

title: Transmitting management commands to a client device
abstract: Disclosed are various examples of transmitting management commands to a device using a short message service (SMS) message or voice call. A device may lack network connectivity with a management service. Network capabilities of the device may be disabled or impaired. The management service can generate a SMS message or voice call that includes the management command. The SMS message or voice call can be transmitted to the client device over a cellular network. The SMS message or voice call can include an authentication string with which the authenticity of the SMS message or voice call can be verified. The device can then execute the management command.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09544747&OS=09544747&RS=09544747
owner: AirWatch LLC
number: 09544747
owner_city: Atlanta
owner_country: US
publication_date: 20150527
---
In an enterprise setting users of mobile devices may install and use various enterprise applications in a bring your own device BYOD environment. The use of these applications can result in storage of enterprise data on the mobile devices. Security of the data on mobile devices of users is an ongoing concern in a BYOD environment. A user s mobile device may become lost or otherwise removed from service. In these scenarios it may be desired to remove or erase enterprise data from the user s mobile device.

In some cases the mobile device can receive a command instructing the device to erase data from the device or perform a factory reset that results in the device being returned to its factory condition. The device typically receives the command over a data connection to a network through which the command is sent. However mobile devices may not always have a data connection or the ability to receive a command to erase data from the mobile device over a data connection.

The present disclosure is related to transmitting management commands to a client device over short message service SMS communications channels. Management commands can include security commands such as commands to erase data lock or otherwise secure the client device or take another action on the client device. A management service can transmit management commands to a client device that is enrolled as a managed device with the management service. As discussed above in an enterprise setting client devices can execute various types of applications for enterprise related use. For example a client device can execute email applications messaging applications calendar applications word processing applications or other applications. The use of these applications can result in the local storage of enterprise data on the client devices. For example confidential emails documents or other enterprise data can be stored on the client device.

In certain scenarios a management service can issue a management command over a network connection to the client device such as over the Internet. The management command can instruct an application executed by the client device to perform one or more actions on the client device. For example a management command can instruct the client device to erase certain data stored on the client device or perform a factory reset whereby user data is erased from the client device. However a client device in certain situations may be inaccessible via a network connection. Therefore examples of the disclosure involve generating a short message service SMS message that contains the management command. The SMS message is communicated to the client device which can execute the management command on behalf of the management service. In an alternative example the management service can also initiate a voice call to the client device from a particular phone number and transmit a digital representation of a management command over the voice call.

In the example scenario of a client device can include a smartphone a mobile device or any other computing device. A computing environment is in communication with a network such as the Internet. The computing environment further executes a management service to manage or oversee the operation of multiple client devices . The client device can execute applications that access enterprise related services applications or data such as emails documents or media content. In some examples the client device is enrolled with the management service to provide the management service with the authority to manage the client device and so that a user identity can be authenticated and associated with the client device by the management service . Enrolling the client device with the management service can include prompting a user to provide credentials associated with a user account. For example the user can be required to provide a username a password a PIN personal identification number an email address biometric data or other information with which the management service can verify an identity of a user.

In some scenarios the management service can issue a management command to the client device by transmitting the management command over a network such as the Internet or a local area network. A management command can include a command to erase certain data stored on the client device perform a factory reset of the client device that returns the client device to a factory condition where user data has been erased from the device or any other command to erase or alter data on the client device . A management command can also include a command to enable or disable other functionality associated with the client device . For example a management command can include a command to enable location services or a location detection capability on the client device such as a global positioning system GPS capability of the device. As another example the management command can include a command to enable network services or a network communication capability of the client device .

However in the scenario of the client device does not have connectivity to the network . For example the network capability of the client device may be impaired or disabled. If a client device has been lost or stolen the network connection can also be purposefully turned off in an effort to prevent remote management. Accordingly because the client device lacks connectivity to the network the management command does not reach the client device over the network and is not executed by the client device . For example if the management command is a command to erase data from the client device due to the device being lost or stolen the scenario shown in can result in a situation in which unauthorized users of the client device can access potentially sensitive data.

Therefore reference is now made to which depicts a scenario in which examples of the disclosure can overcome the lack of connectivity to the network by the client device . In the scenario shown in the management service can generate and transmit a SMS message to the client device over a cellular network to which the client device can connect. The SMS message can include the management command as well as an authentication string that the client device analyzes in order to verify the authenticity of the management command or SMS message . In some examples the SMS message can be transmitted in parallel with a management command that is transmitted to the client device over the network . In response to receiving an authenticated SMS message containing a management command the client device can execute the management command by performing one or more actions specified by the management command . In some examples rather than a SMS message being used to deliver the management command over the cellular network a voice call can also be initiated. The management service can embed a digital representation of a management command and authentication string that can be extracted from the audio within the voice call by the client device . The client device can similarly execute the management command extracted from the voice call.

With reference to shown is a networked environment according to various examples. The networked environment includes a client device and a computing environment which can be in data communication with each other over the network and cellular network . The network includes for example the Internet one or more intranets extranets wide area networks WANs local area networks LANs wired networks wireless networks other suitable networks or any combination of two or more such networks. For example such networks can include satellite networks cable networks Ethernet networks and other types of networks.

The cellular network can include a network such as a wireless carrier network in which mobile telephony and messaging services are provided. In some examples the computing environment may not have direct access to the cellular network but can generate SMS messages that are transmitted to client devices using an application programming interface API provided by one or more wireless carriers.

The computing environment can include for example a server computer or any other system providing computing capabilities. Alternatively the computing environment can employ multiple computing devices that can be arranged for example in one or more server banks computer banks or other arrangements. The computing devices can be located in a single installation or can be distributed among many different geographical locations. For example the computing environment can include multiple computing devices that together form a hosted computing resource a grid computing resource or any other distributed computing arrangement. In some cases the computing environment can operate as at least a portion of an elastic computing resource where the allotted capacity of processing network storage or other computing related resources can vary over time. The computing environment can also include or be operated as one or more virtualized computer instances. Generally the computing environment is operated in accordance with particular security protocols such that it is considered a trusted computing environment. The data stored in the data store is associated with the operation of the various components described below.

A management service or other systems can be executed in the computing environment . The management service can manage or oversee the operation of multiple client devices . In some examples an enterprise such as one or more companies or other organizations can operate the management service to oversee or manage the operation of the client devices of employees contractors or other users within an enterprise environment.

The management service can facilitate ensuring that client devices that are administered by the management service are operating in compliance with various compliance rules. In one scenario the management service can issue management commands that instruct a client device to take a particular action with respect to a compliance rule.

The data stored in the data store includes for example compliance rules device data and potentially other data. Within the context of an enterprise compliance rules include one or more rules that when violated can cause the management service to issue a management command. Compliance rules can include a list of unauthorized hardware functions software functions or applications that potentially pose a threat to enterprise data or use of enterprise applications. In various examples if client device falls out of compliance with one or more compliance rules a management command can be transmitted to the client device instructing the client device to perform one or more actions specified by the compliance rule . For example a compliance rule can specify that if a client device exits within a particular geographic location the client device should erase certain data or enable disable certain functionality. As another example a compliance rule can specify that if the client device is tagged as lost or stolen by a user or administrator the client device should be issued a management command instructing the device to erase all enterprise data or user data from the device.

User account data can include for example a username an email address a password biometric information or other user information that can be used to identify a user of the client device . The user account data can also include email documents calendar data contacts or other data that is synchronized with or accessed by the client device . User account data can also identify applications that are installed on the client device that are managed by or distributed by the management service to the client device .

The device data can include information about particular client devices that are registered with the management service as managed or enrolled devices. The device data can include user data authentication data and potentially other data. User data can identify data that is stored on the client device that is considered enterprise data such as specific data from the user account data that is stored on a particular client device . For example a user s smartphone can store different data than a user s tablet device. In one scenario a user s smartphone can be configured to synchronize enterprise email associated with the user account but not any of the user s documents. In contrast the user s tablet can be configured to receive the user s email as well as synchronize the user s documents. Accordingly user data can identify which data from user account data should be synchronized with the various client devices that can be associated with a particular user account.

Authentication data can contain information with which a client device can authenticate a management command received from management service . The authentication data can include a shared secret or password that can be embedded within a SMS message as an authentication string . In this scenario the client device before executing a management command received in a SMS message can verify that the SMS message contains the expected authentication string . The authentication data can also include a public key associated with the client device that can be used to encrypt the SMS message or the management command . The authentication data can also include a seed for a time varying password that can be embedded as an authentication string . In this scenario the client device before executing a management command received in a SMS message can verify that the SMS message contains the expected authentication string in the form of a time varying password that the client device can independently generate.

The client device is representative of multiple client devices that can be coupled to the network . For example multiple client devices can be a fleet of devices in a classroom setting an educational setting or any other setting in which the devices can be clustered together in a particular location or located across many different locations. The client device can include for example a processor based system such as a computer system. The computer system can be embodied in the form of a desktop computer a laptop computer a personal digital assistant a mobile phone a smartphone a set top box a music player a web pad a tablet computer system a game console an electronic book reader or any other device with like capability. The client device can include a display as well as one or more input devices such as a mouse or touch pad that facilitates user input or other types of data input into the client device .

The client device can execute a management component or other components. The management component can monitor or manage at least a portion of the data applications or hardware components for the client device . The management component can also identify whether the client device is operating in accordance with the compliance rules that have been assigned to the client device . In some embodiments the management component can function as a portion of an operating system for the client device . In other embodiments the management component can function in the application layer of the client device . Alternatively the management component can be a portion of an application that was developed for example using a Software Development Kit SDK that facilitates the inclusion of functionality within the application that monitors or manages at least a portion of the resources for the client device .

The management component can be executed by the client device automatically upon startup of the client device . Additionally the management component can run as a background process in the client device . Accordingly the management component can execute without user intervention in some embodiments. Additionally the management component can communicate with the management service in order to facilitate management of the client device and enforcement of compliance rules . For example the management component can obtain compliance rules from the management service and the management component can determine whether the client device is operating in accordance with those compliance rules. In another example the management component transmits data that indicates the status of the client device to the management service and the management service uses this data to determine whether the client device is operating in accordance with compliance rules . If it is determined that the client device is not in compliance with one or more compliance rules the management component or the management service initiates a remedial action.

The client device can also store a SMS inbox which can be integrated within the operating system of the client device or a SMS messaging application executed by the client device . The SMS inbox can include SMS messages that are received by the client device through the cellular network . In one scenario the management component can be installed or executed with sufficient privileges such that it can access SMS messages in the SMS inbox . In another scenario the management component can subscribe to operating system events or notifications that correspond to receipt of a SMS message analyze the message content of the SMS message and determine from the message content whether a management command is embedded within the SMS message. Then the management component can execute the management command and take actions that are specified by the management command . In this way the management component can act on management commands that are received in a SMS message when connectivity to the network is impaired or disabled but connectivity to the cellular network is functioning.

In some examples rather than a SMS message being used to deliver the management command over the cellular network a voice call can also be initiated. The management service can embed a digital representation of a management command and authentication string that can be extracted from the audio within the voice call by the client device . The client device can similarly execute the management command extracted from the voice call. In this scenario the management component can be installed or executed with sufficient privileges to access an audio or data stream from a voice call that is received from a phone number that is associated with the management service .

As noted above if a particular client device is designated as lost stolen or otherwise decommissioned for use with the management service an administrator can issue a management command using the management service . The management command can instruct the management component to erase data from the client device . If the management service fails to successfully transmit the management command to the client device over the network then management service can then generate a SMS message that includes the management command . In one scenario the management service can detect a failure to transmit the management command to the client device over the network if the client device fails to acknowledge the management command by transmitting a confirmation back to the management service .

In another scenario if a client device has been unreachable using the network for a threshold amount of time the management service can issue a management command in a SMS message that instructs the client device to enable network services within the client device . In another scenario if a client device has been unreachable using the network for a threshold amount of time the management service can make a determination that the client device is lost or stolen and can issue a management command in a SMS message that instructs the client device erase data or perform a factory reset. For example client device can periodically transmit a message to management service indicating an operational status and optionally other information relevant to device management. If a defined number of expected messages have not been received or an amount of time has passed since the last message was received management service can consider the client device to be unreachable.

Reference is now made to which illustrates an example according to the disclosure. In the example of the client device is designated as lost or stolen. The access of the client device to the network is impaired or disabled such that a management command cannot be transmitted to the client device through the network . Accordingly the management service can transmit a management command to the management component instructing the client device to erase data perform a factory reset or take any other action that can be specified in the management command in response to a lost or stolen device. If the management service fails to transmit the management command to the management component over the network the management service can generate a SMS message that contains the management command as well as an authentication string that the management component can use to verify the authenticity of the management command .

When a SMS message is delivered to the SMS inbox of the client device the management component can extract the SMS message and determine whether a management command is embedded in the message. The management component can detect delivery of the SMS message to the SMS inbox and extract the management command and authentication string . The management component can verify the authenticity of the SMS message based upon a sender address of the SMS message such as a phone number SMS short code email address or other sender identifying information within the SMS message . The management component can also verify the authenticity of the message by determining whether the authentication string contains an expected value such as a shared secret an expected password value a time varying password value or any other value that the management component can authenticate.

Upon verifying the authenticity of the SMS message the management component can execute the management command by taking the actions specified in the management command . The management command can include instructions to erase certain data from the client device . In this way the management command can be delivered and acted upon even when connectivity to the network is disabled or impaired.

The SMS message can be hidden from the normal inbox on the client device so that a user is unaware that the device has received a management command in a SMS message. In other words the management component can suppress a device notification associated with receipt of a SMS message. In some examples the management component can delete a SMS message containing a management command from the SMS inbox upon extracting the management command from the SMS message. In another example as shown in a notification of receiving a SMS management command can be displayed. As described below the user can be given a chance to authenticate with a server before certain commands are executed. For example a user can avoid execution of a remote wipe command by authenticating with the server.

Referring next to shown is an alternative scenario. The management component can allow a user of the client device to confirm a management command received in a SMS message . User confirmation of the management command can be desired to facilitate an additional layer of authentication of the management command . For example if a management command is transmitted to the management component by a malicious actor that has spoofed sender information that is embedded within the SMS message as well as potentially gained access to the authentication string an additional layer of authentication can be imposed as described in the context of . As shown the management component can request a user acknowledgement of receipt of the management command and include a user interface element that causes a command confirmation to be sent to the management service . The command confirmation can be transmitted to the management service at a predefined recipient address or telephone number.

As shown in the command confirmation can be embedded within a SMS message that is generated by the management component and transmitted to the management service at the predefined recipient address. In this way the management component can seek confirmation of the management command and can communicate with the management service to verify that the sender information in the SMS message received in has not been spoofed. Referring next to upon receiving the command confirmation from the client device the management service can generate another SMS message that contains a confirmation reply . The SMS message can also include another authentication string . The confirmation reply can have the effect of confirming the management command received by the management component and extracted from the SMS message shown in . Upon receiving the confirmation reply the management component can execute the management command received from the management service as shown in . If no confirmation reply is received from the management service within a threshold amount of time the management component can discard the management command .

Referring next to shown is a flowchart that provides one example of the operation of a portion of the management component . Functionality attributed to the management component can be implemented in a single process or application executed by the client device and or multiple processes or applications. The separation or segmentation of functionality as discussed herein is presented for illustrative purposes only.

Beginning with step the management component can extract a SMS message that is received by the client device and stored in a SMS inbox . At step the management component can determine whether the SMS message contains a management command . In one scenario the SMS message can include one or more keywords or tags that identify the message content of the SMS message as a management command . In another scenario the SMS message can be associated with a particular sender address that the management component can identify as a sender that is associated with a management command . If the SMS message does not include a management command then at step the process can proceed to completion. Because the SMS message does not contain a management message it can be processed and displayed as a normal SMS message.

If the SMS message does include a management command the process proceeds to step where the management component can authenticate the SMS message and or management command . The management component can determine whether the message content of the SMS message contains an authentication string having an expected value. As noted above the authentication string can include a pre shared secret a password a time varying password or any other string that can be authenticated by the management component . The authentication string can also include a unique device identifier. A device identifier can include a unique hardware identifier such as a GUID Globally Unique Identifier UUID Universally Unique Identifier UDID Unique Device Identifier serial number IMEI Internationally Mobile Equipment Identity Wi Fi MAC Media Access Control address Bluetooth MAC address a CPU identifier or any combination of two or more such hardware identifiers. In another example the device identifier may be a unique software identifier such as a token or certificate that is based on the aforementioned unique hardware identifiers. If the management component cannot authenticate the SMS message then the process can proceed to completion as the management component can ignore the contents of the SMS message .

If the management component authenticates the SMS message then at step the management component can execute the management command contained within the SMS message . The management command can include instructions to erase certain data from the client device . For example the management command can identify types of data that should be erased from the client device such as certain email accounts certain documents contacts or other data. The management command can also specify that data associated with particular applications or user accounts should be erased. In some scenarios the management command can specify that a factory reset should be performed on the client device whereby all user data is erased and the client device is returned to a factory condition.

The management command can also instruct that the management component take other actions. For example the management command can instruct that the management component enable or disable network services or location services on the client device . The management command can also instruct that the management component enable or disable roaming functionality of the client device . In another scenario the management command can instruct the management component to initiate enrollment of the client device with the management service or any other enterprise mobility management EMM system. To this end the management command can include a server address user identifier a password or credentials associated with the user identifier or any other information to facilitate enrollment of the client device .

When the command would restrict device or data usage the user can be given an opportunity to override execution of the command by authenticating with management service . For example if a client device has not checked in with management service for a given period an instruction can be sent to the client device to erase enterprise data. The command can also prompt a user to authenticate by for example providing a user name and password. If the management service receives the proper authentication credentials it can cancel the command. In this example the authentication credentials indicate the client device has not been lost or stolen.

After executing the management command the management component can transmit a confirmation to the management service that the management command was executed in step . In one scenario the confirmation can be transmitted to the management service in a SMS message that is generated by the management component . The SMS message generated by the management component can also include an authentication string with which the management service can verify the authenticity of the SMS message. Thereafter the process proceeds to completion.

As noted above in some examples rather than a SMS message being used to deliver the management command over the cellular network the management service can also initiate a voice call with the client device over the cellular network. The management service can embed a digital representation of a management command and authentication string that can be extracted from the audio within the voice call by the client device . The client device can similarly execute the management command extracted from the voice call.

Referring next to shown is a flowchart that provides one example of the operation of a portion of the management service . Functionality attributed to the management service can be implemented in a single process or application executed by the computing environment or multiple processes or applications. The separation or segmentation of functionality as discussed herein is presented for illustrative purposes only.

First at step the management service can obtain a request to issue a management command to a client device . The request to issue the management command can originate from an administrator or be automatically generated by the management service . For example if a client device is designated as lost or stolen a policy can be defined in the management service that specifies certain actions that should be taken by the management service . In response to a device being designated as lost or stolen by a user or administrator the management service can automatically generate and transmit a management command to the client device on behalf of the user or administrator.

At step the management service can transmit the management command to the client device over the network . At step if the client device confirms receipt or execution of the management command the process can proceed to completion. If the client device does not confirm receipt of the management command within a threshold period of time the process can proceed to step where the management service can generate an authentication string from the authentication data associated with the client device . Next at step the management service can generate a SMS message that contains the authentication string and management command . At step the management service can transmit the SMS message to the client device via the cellular network . Thereafter the process proceeds to completion.

The flowcharts of show examples of the functionality and operation of implementations of components described herein. The components described herein can be embodied in hardware software or a combination of hardware and software. If embodied in software each element can represent a module of code or a portion of code that includes program instructions to implement the specified logical function s . The program instructions can be embodied in the form of for example source code that includes human readable statements written in a programming language or machine code that includes machine instructions recognizable by a suitable execution system such as a processor in a computer system or other system. If embodied in hardware each element can represent a circuit or a number of interconnected circuits that implement the specified logical function s .

Although the flowcharts show a specific order of execution it is understood that the order of execution can differ from that which is shown. For example the order of execution of two or more elements can be switched relative to the order shown. Also two or more elements shown in succession can be executed concurrently or with partial concurrence. Further in some examples one or more of the elements shown in the flowcharts can be skipped or omitted.

The client device computing environment or other components described herein can include at least one processing circuit. Such a processing circuit can include for example one or more processors and one or more storage devices that are coupled to a local interface. The local interface can include for example a data bus with an accompanying address control bus or any other suitable bus structure.

The one or more storage devices for a processing circuit can store data or components that are executable by the one or more processors of the processing circuit. For example the management service the management component and or other components can be stored in one or more storage devices and be executable by one or more processors. Also a data store such as the data store can be stored in the one or more storage devices.

The management service the management component and or other components described herein can be embodied in the form of hardware as software components that are executable by hardware or as a combination of software and hardware. If embodied as hardware the components described herein can be implemented as a circuit or state machine that employs any suitable hardware technology. The hardware technology can include for example one or more microprocessors discrete logic circuits having logic gates for implementing various logic functions upon an application of one or more data signals application specific integrated circuits ASICs having appropriate logic gates programmable logic devices e.g. field programmable gate array FPGAs and complex programmable logic devices CPLDs .

Also one or more or more of the components described herein that include software or program instructions can be embodied in any non transitory computer readable medium for use by or in connection with an instruction execution system such as a processor in a computer system or other system. The computer readable medium can contain store and or maintain the software or program instructions for use by or in connection with the instruction execution system.

A computer readable medium can include a physical media such as magnetic optical semiconductor and or other suitable media. Examples of a suitable computer readable media include but are not limited to solid state drives magnetic drives or flash memory. Further any logic or component described herein can be implemented and structured in a variety of ways. For example one or more components described can be implemented as modules or components of a single application. Further one or more components described herein can be executed in one computing device or by using multiple computing devices.

It is emphasized that the above described examples of the present disclosure are merely examples of implementations to set forth for a clear understanding of the principles of the disclosure. Many variations and modifications can be made to the above described examples without departing substantially from the spirit and principles of the disclosure. All such modifications and variations are intended to be included herein within the scope of this disclosure.

