---

title: Techniques for establishing a communication handoff threshold using user feedback
abstract: Examples are disclosed for acquiring real-time VoIP data and implementing statistical modeling techniques to perform a handoff between different telecommunication networks for a hybrid mobile device. In some examples communication link handoff logic may be executed by the processor component to receive VoIP data during a voice call mediated by a call server, the voice call between a hybrid mobile device and another communication device, the data pertaining to one or more Voice-over Internet Protocol (VoIP) communication link parameters for the communication link between the hybrid mobile device and the call server. The VoIP communication link parameters are statistically modeled and compared to a handoff profile operative to establish criteria for switching the VoIP communication link to an alternate communication link.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09025567&OS=09025567&RS=09025567
owner: Bandwidth.com, Inc.
number: 09025567
owner_city: Raleigh
owner_country: US
publication_date: 20150106
---
This application is a continuation of U.S. application Ser. No. 14 580 411 filed Dec. 23 2014 entitled Techniques for Establishing and Executing a Handoff Profile Between Telecommunications Networks which is a continuation in part of U.S. application Ser. No. 14 487 484 filed Sep. 16 2014 entitled Techniques for Establishing a Handoff Profile Using User Feedback which is a continuation of U.S. application Ser. No. 14 287 269 filed May 27 2014 entitled Techniques for Establishing a Handoff Profile Using User Feedback .

Examples described herein are generally related to techniques for establishing and executing a handoff profile for a dual network communication device operable on multiple telecommunications networks.

Mobile telephony devices utilizing wireless communication protocols are ubiquitous. Many of these devices utilize one of the competing cellular networks e.g. GSM or CDMA to place and receive telephone calls to other telephony endpoint devices. A telephony endpoint device may include another mobile telephony device on the same or another cellular network a Voice over IP VoIP telephony device and or a plain old telephone service POTS telephony device. Each of these telephony endpoint devices may use a different access network but all are interfaced at some point to allow for communication among the different networks.

Recently there has been introduced another type of mobile telephony device one that is capable of utilizing multiple different networks depending on the current location or network conditions pertaining to the mobile telephony device. Such a mobile telephony device may be characterized as a hybrid mobile device due to its capability of making and receiving telephone calls on at least two distinct networks. Some hybrid mobile devices include the ability to start or establish a telephone call on one network e.g. an IP based VoIP network over a wireless fidelity WiFi connection and handoff the call to a second network e.g. a cellular network when conditions on the original network degrade. Such a handoff may occur for instance when the mobile hybrid device moves out of range of the IP based WiFi access point. Rather than dropping the call the hybrid mobile device in conjunction with the a network based server may switch to a cellular connection prior to severing the WiFi VoIP connection thereby ensuring that the hybrid mobile device stays connected to the other telephony endpoint and the call is not dropped.

Determining when to initiate the handoff to avoid dropping a call can vary based on a number of factors including but not limited to network conditions signal strength location and the like and is typically set based on manufacturer or carrier default settings. Incorporating user feedback and or historical data with respect to actual call quality and network conditions into this determination may improve the user experience and the device and network performance. As such described herein are methods systems and techniques for establishing a handoff profile based on various communication link parameters using user feedback.

The embodiments described herein disclose systems and methods for intelligently incorporating user feedback and or historical data to establish a handoff profile based on various communication link parameters to enhance communication sessions between or among communication devices. The systems and methods of the invention may be embodied in and performed by communication devices call servers and other devices and software instructions executed by some or all of such devices as will be explained in detail below. The different types of networks contemplated herein include for example cellular mobile networks the public switched telephone network PSTN and data networks such as the Internet or other IP based networks including wide area networks local area networks and combinations thereof.

As used herein the term communication session is meant to generally indicate any one way or two way exchange of information between two or more communication devices. Communication sessions may include voice data video and multimedia communication sessions or any other type of data communication sessions or messaging exchanges. As used herein the term communication link is intended to mean a physical or logical channel that connects two or more devices. A communication link may be a signaling link or a media link. In this context a communication session may be established via one or more communication links. One or more media streams may be transmitted over a communication link. A call server may be situated between communication devices thereby making the call server an endpoint in a communication link. The call server may be hosted within an IP network such as for instance the Internet or a LAN WAN accessible to the Internet.

The convergence of and inter operation among different types of network technologies e.g. heterogeneous network inter operability blurs the line between various distinct networks. This disclosure discusses access networks that may be characterized as the portion of a communication network that connects subscriber communication devices to a service provider s core network. An access network may also be referred to as the interface between the communication device and the network. Another type of interface may be the interface between networks. That is the interface necessary to facilitate seamless communication from one network to another.

Therefore references herein to a communication device capable of connecting to or communicating via a mobile carrier network refer to a communication device equipped with a cellular transceiver for wireless communication with base stations and other mobile carrier network access points. Similarly references herein to a communication device capable of connecting to or communicating via a data network refer to a communication device equipped with a transceiver or other network interface for wireless communication e.g. 802.11 with a router or other data network access point. One particular communication device may be characterized herein as a wireless handset. A wireless handset may include multiple RF transceivers one of which may be operable to connect to an access network for a mobile carrier network e.g. cellular network and another of which may be operable to connect to an access network for an IP data network e.g. 802.11 or combinations thereof.

The PSTN can be characterized as a circuit switched point to point communication network in which a physical connection between the endpoints is maintained for the duration of the connection. The PSTN may also be referred to as the legacy telephone network as it is the backbone infrastructure for connecting endpoints comprised of Plain Old Telephone Service POTS phones .

Mobile carrier networks sometimes referred to as cellular networks may come in different varieties based on the radio transmission scheme between a communication device known as a wireless handset e.g. mobile or cellular phone and the mobile carrier network base station that is in communication with the wireless handset . Two such radio transmission schemes are the Global System for Mobile Communication GSM and Code Division Multiple Access CDMA . These radio transmission schemes are incompatible with one another necessitating an intervening interface to allow communication between endpoints on either network. In addition each network may operate over a specific frequency ranges. Often there may even be an intervening network such as the PSTN between two distinct mobile carrier networks . Each mobile carrier network includes an interface to the PSTN such that calls crossing that interface can be handled by the receiving network whether it is a mobile carrier network or the PSTN .

Various mobile carrier network operators base their network on one of the radio transmission schemes and provide service to wireless handsets using that radio transmission scheme over a defined frequency band. For example a wireless handset wirelessly communicates with a base station that serves as an access network to the mobile carrier network . The base station authenticates and authorizes the wireless handset to the mobile carrier network and in conjunction with other equipment within the mobile carrier network manages calls to and from the wireless handset . The mobile carrier network provides connectivity for any wireless handsets capable of cellular transmission that are physically located within range of the mobile carrier network . The range of a mobile carrier network depends in part on an amplification power and or energy associated with the antennas comprising cellular base station wireless handsets and the like. As the wireless handset moves toward the outer range of the mobile carrier network the strength of the cellular signals degrade.

Similarly an IP based data network like the Internet may provide wireless connectivity to wireless handsets within range of an IP access point . For instance an IP access point may provide wireless connectivity using any of the 802.11 WiFi standards and or any other type of IP based connectivity standard. As will be appreciated by those of skill in the art a wireless handset may experience a stronger connection signal when located closer to an IP access point than when located further away from the IP access point . Thus the strength of the wireless data connection may fade as the wireless handset moves away from an IP access point .

There may also be one or more alternative networks that may provide access to the Internet for a hybrid mobile device or other wireless handset devices . One such alternative network may be characterized as a WiMAX network operable over the 802.16 wireless protocol standard. Another such alternative network may be characterized as a whitespace network. A whitespace network may utilize RF spectrum that is shared with television broadcasters. The television broadcasters do not necessarily utilize all the spectrum allocated to them to broadcast their video signals. The unused spectrum may be tapped into to provide an alternative RF access point to an alternative network that can interface with the Internet .

The collection of IP based data networks illustrated in such as LAN WANs and the Internet all run on a packet based data transfer protocol characterized as packet switching. Packet switching essentially chops up a data stream e.g. text voice data into segments and transfers them across an IP network to a destination where the packets are re assembled into the original data stream for output. Voice over IP VoIP is a specialized subset of IP packet based communication directed to IP telephony. End user devices utilize an IP access point to access the larger IP network. The IP access point may be wired wireless e.g. WiFi or a combination wired wireless access point such as those illustrated in . A VoIP communication device may communicate with an IP access point to gain access to the larger IP network and other communication devices. The VoIP communication device has been illustrated as a wireline type device but may just as easily be a wireless device communicable with the IP access point over for instance one or more of the 802.11 protocols.

In certain embodiments mobile carrier network s include cellular networks or portions of cellular networks based on GSM LTE CDMA and or any other cellular network standards. IP based data networks include for example the Internet one or more intranets wide area networks WANs local area networks LANs and the like portions or all of which may be wireless and or wired. For instance an IP based data network may be a wireless network or a portion of a wireless network implemented using an IEEE 802.11 standard WiMAX and or any other wireless data communication standard. As is known in the art the resources the various networks PSTN Mobile Carrier IP Based may interface with the call server through gateway devices routers and or other appropriate devices not shown . Similarly the wireless handsets may interface with the various networks PSTN Mobile Carrier IP based and alternative networks through appropriate access points some not shown .

As one may surmise it is far less complicated when both communication devices in a communication system utilize the exact same network. For instance POTS phone to POTS phone would communicate over the PSTN only while a GSM wireless handset to another GSM wireless handset of the same mobile service provider may be handled within the mobile carrier network. Lastly a VoIP phone calling another VoIP phone would stay exclusively on a packet based series of networks like LAN WANs and or the Internet .

Things get more complicated when the communication devices are associated with different networks. For instance a POTS phone placing a call to a wireless handset or a VoIP phone calling a POTS phone. In these scenarios and others there is an interface between the networks that serves to resolve any differences so that a communication session may be connected and maintained. As described above there may be an intervening network between two endpoint networks. For instance each mobile carrier network includes an interface to the PSTN such that calls crossing that interface can be handled by the receiving network whether it is a mobile carrier network or the PSTN . Similarly each VoIP service provider on an IP packet based network includes an interface to the PSTN such that calls crossing that interface can be handled by the receiving network whether it is an IP packet based network or the PSTN . Thus the PSTN serves as a common routing network for endpoint communication devices that are associated with other networks. It is possible to create a VoIP interface such that IP packet based networks can interface directly with mobile carrier networks .

There is one aspect that each network e.g PSTN VoIP and mobile carrier has in common that facilitates communication sessions among communication devices native to the various networks. The commonality is that each communication device has a unique telephone number TN as an identifier. The format of the telephone number is identical regardless of the network in use. In North America for instance the TN is a ten digit number. Each communication device in North America is associated with a 10 digit telephone number that subscribers dial to reach other subscribers no matter the network the other subscriber uses. Thus users of communication devices need not worry about how to reach another user because all communication devices key off an associated telephone number. From the user s perspective it is up to the networks to resolve any connection issues and allow calls to be connected so that a communication session may occur. For the most part these network differences have been resolved on an industry wide scale and it is relatively routine to place and connect calls between endpoints regardless of their native networks.

Each network service provider may provide equipment communication devices and service plans to its subscribers. These service plans can vary greatly in cost depending on the expected use of network resources. In addition some service plans may bundle data and voice services in the cost of the service plan. This is often the case for mobile carrier network subscribers since the ability to access data networks such as the Internet on a mobile device is a desired service. This is especially the case when a WiFi data connection is out of range. As a result bundled voice and data services can place a significant burden on the mobile carrier network resources that can lead to use restrictions for bundled voice data plans.

One approach that addresses the mobile network congestion problem is a communication device that may be characterized as a hybrid mobile device . The hybrid mobile device may be associated with network infrastructure that defaults telephony services to a WiFi connection using for instance VoIP over an 802.11 protocol via an IP access point . The hybrid mobile device may default to WiFi mode when available and may only switch to a mobile carrier network connection via a radio transmission scheme to a basestation cellular mode when the WiFi connection is lost is unavailable or degrades in quality to the point that the connection can no longer support telephony services. As it pertains to data this heterogeneous network switching may be referred to as WiFi offloading. For telephony services however such a soft handover between heterogeneous networks is a more daunting and complex process.

One implementation of a soft handover of a voice call between heterogeneous networks involves associating two telephone numbers to a hybrid mobile device . A first telephone number may be characterized as a data telephone number that is based on a VoIP telephony scheme. The second number may be characterized as a mobile telephone number that is used in conjunction with a radio transmission scheme associated with a mobile carrier network . The subscriber may only be aware of the data number and not have actual knowledge of the mobile number. For all intents and purposes the subscriber places and receives calls using the data telephone number. To reach the subscriber a second communication device would dial the subscriber s data telephone number.

When the hybrid mobile device is connected with an IP access point telephony services and functions are handled using VoIP. To dial out the subscriber dials the telephone number of the intended recipient s communication device. The intelligence within the hybrid mobile device recognizes that the subscriber is attempting to place a call and notes the telephone number entered. The call from the hybrid mobile device is routed to a call server hosted in an IP based network such as the Internet and establishes a first communication link. The call server then determines the intended telephone number that was dialed by the subscriber and places a call to the communication device associated with that telephone number called communication device . Upon connecting the second communication link between the call server and the called communication device the call server joins the first communication link with the second communication link to create a full duplex communication session between the hybrid mobile device and the called communication device.

The communication session will generally stay active until one of the respective communication devices terminates the call. Sometimes however the hybrid mobile device may experience a loss of service with or degradation to the WiFi connection. This commonly occurs if the hybrid mobile device moves out of range of the IP access point or the quality of the connection with the IP access point otherwise degrades. In such a scenario it is necessary to handoff or hand over the call over to the mobile carrier network to avoid terminating the communication session. This may be accomplished by creating a third communication link between the call server and the hybrid mobile device . The third communication link however may be routed through the mobile carrier network to the hybrid mobile device . When the first communication link is lost or is significantly degraded it may be seamlessly replaced by the third communication link such that the call server bridges or connects the third communication link with the second communication link to maintain the communication session.

Determining when to handoff the call to the mobile carrier network may be based on any number of suitable factors. In a typical implementation a manufacturer carrier or network provider may determine a default set of connection characteristics below which a connection is handed off from the IP network to the mobile carrier network . This default approach however may not take into account the differences between user expectations regarding connection quality differences in networks configurations and performance capabilities and differences between devices used to establish the connection on behalf of a user e.g. different mobile devices . Based on these and other factors as described in more detail below it may be advantageous to incorporate user feedback into the algorithm used to determine when the handoff from the IP network to the mobile carrier network or an alternative network via an alternative network access point or a different WiFi IP access point for which network conditions may be more favorable is required.

On inbound calls to the hybrid mobile device a calling communication device dials the data number of the hybrid mobile device . This initiates a connection to the call server as the data number is automatically routed to the call server . The call server then establishes a first communication link with the calling communication device. The call server then establishes a second communication link with the hybrid mobile device . The call server defaults to WiFi mode in attempting to establish the communication link with the hybrid mobile device . If the hybrid mobile device is not currently connected to an IP access point and is therefore inaccessible via VoIP over WiFi the call server will switch to cellular mode. In cellular mode the call server will establish the second communication link over the mobile carrier network . This cannot be done however using the hybrid mobile device s data number since that number is unknown to the mobile carrier network . To establish the second communication link between the call server and the hybrid mobile device the call server accesses a translation table within a database that includes data mobile number pairs in which each pair may be associated with a hybrid mobile device . In this case the call server will lookup the data number and have a mobile number returned. The call server may then establish the second communication link by dialing the mobile number and establishing a connection to the hybrid mobile device . The call server may then join the first and second communication links to create the full duplex communication session between the calling device and the hybrid mobile device .

The communication session will stay active until one of the respective communication devices terminates the call. While the communication session is in progress the hybrid mobile device may re establish a WiFi connection. In such a scenario it may be desirable to hand the call over to the VoIP network to reduce the burden on the mobile carrier network . This may be accomplished by creating a third communication link between the call server and the hybrid mobile device . This time the third communication link may be routed over the VoIP network via an IP access point to the hybrid mobile device . When the third communication link is sufficiently established it may seamlessly replace the first communication link such that the call server bridges or connects the third communication link with the second communication link to maintain the communication session.

In another outbound calling scenario the hybrid mobile device may not have an initial connection via WiFi to a packet based VoIP network or the WiFi connection may not be sufficiently good. An outbound call to a destination telephone number is established over the mobile carrier network using the mobile number associated with the hybrid mobile device . For caller ID purposes however the calling number is the data number associated with the hybrid mobile device . The call is again routed to and through the call server . The first communication link is between the hybrid mobile device and the call server. This is accomplished by having the hybrid mobile device automatically place a call to the call server using one of the pool of telephone numbers associated with the call server. Just prior to the call the hybrid mobile device may utilize the mobile carrier network s data services to send a message to the call server . The message to the call server may contain the mobile and data numbers of the hybrid mobile device and the destination telephone number such that when the call server receives the call from the hybrid mobile device using the mobile number it can place a call to the destination telephone number and substitute the data telephone number in the caller ID field. Upon establishing the second communication link the call server may then join the first and second communication links to create the full duplex communication session between the hybrid mobile device and the destination device.

Alternatively a plurality of call servers may be employed and may be arranged for example in one or more server banks or computer banks or other arrangements. For example a plurality of call servers together may comprise a cloud computing resource a grid computing resource and or any other aggregated or distributed computing arrangement. Such call servers may be located in a single installation or may be distributed among different geographical locations. For purposes of convenience the call server is illustrated in and referred to herein in the singular. Even though the call server is referred to in the singular it is understood that a plurality of call servers may be employed in various arrangements as described above.

The communication interface s may include a voice over IP VoIP interface adapted to exchange IP based telephony signaling e.g. SIP and or media data with other IP network devices using a VoIP protocol. Another communication interface may be a PSTN interface adapted to convert incoming PSTN audio data to VoIP audio data and convert outgoing VoIP audio data to PSTN audio data. Still another communication interface may be an IP data interface adapted to exchange IP data with other IP network devices. This may include IP data exchanged with a mobile wireless handset over an intermediate mobile carrier network . Yet another communication network interface may be directed toward an alternative network adapted to exchange data with a wireless handset or a hybrid mobile device . Examples of alternative network s may include but are not limited to WiMAX and whitespace. A whitespace network may be characterized as one that utilizes frequency spectrum that is overlapping with that of broadcast television frequency spectrum.

The call server may further include several inter operable software modules operable with application programming interfaces APIs and communication interfaces and configured to intelligently manage the communication session. These software modules may include a bridge routing module an intelligence module and a handoff module . The aforementioned software modules have functional names for convenience and ease of reference. These functional names should not be construed as limiting to the various software modules individually or the call server as a whole. There may be functions performed by one or more of the software modules in conjunction with the APIs and network communication interfaces that achieve a stated purpose or goal.

The bridge routing module may be configured to physically or logically connect communication links. The intelligence module may be configured to monitor network conditions and receive communication session data from the hybrid mobile device regarding its connection with the IP access point so as to intelligently determine the need for a soft handoff to the mobile carrier network . Communication session data may refer to any data relating to a communication session or its constituent communication link s such as but not limited to detected signal strengths available networks protocol and buffer statistics and analysis environmental and or geographical factors the performance of access points and other network components past interactions between or among communication devices access points and other network components context of conversations during voice calls and other data points described herein. The call handoff module may be configured to initiate a handoff from one communication link to another communication link with the assistance of the bridge routing module and the intelligence module . The details of the call handoff procedure supported by the call handoff module including the incorporation of user feedback is described in more detail below.

More specifically the bridge routing module may cooperate with the APIs and network interfaces to physically or logically connect communication links to initially establish a communication session between communication devices and or to perform a handoff of at least one communication link of a communication session from one network to another network. A communication session may be for instance between a hybrid mobile device and a second telephony endpoint e.g. . The handoff may be caused by an instruction or command received from the call handoff module . The bridge routing module may be configured to physically or logically establish communication links join communication links and sever communication links to a common or shared communication session based on commands or instructions received from the call server .

The intelligence module may cooperate with the APIs and network interfaces to monitor and gather receive data pertaining to network conditions and communication device connections with various networks. The data may then be intelligently processed to predict or determine the need for a handoff of at least one communication link of a communication session. The data received by the intelligence module may also include out of band and or out of network signaling from a communication device to indicate that a handoff is needed. In such a case the intelligence module may instruct the call server to establish a new communication link via the bridge routing module and then instruct the call handoff module to initiate a handoff process once the new communication link has been established.

The call handoff module may cooperate with the APIs and network interfaces to effect a handoff of a first communication link between the call server and the hybrid mobile device to a second communication link between the call server and the hybrid mobile device . The call handoff module may receive data and instructions from the intelligence module that indicates a handoff may be needed imminently based on the degrading network conditions associated with the first communication link. The need may be determined based on a handoff profile established based on a handoff profile as determined by a statistical modeling technique that was applied to a set of multiple VoIP network parameter data acquired via some form of user feedback. The call handoff module may then execute certain instructions to establish a second communication link between the call server and the hybrid mobile device . Once the second communication link has been established the call handoff module may instruct the bridge routing module to join the second communication link to the communication session with the other telephony device prior to severing the first communication link between the call server and the hybrid mobile device .

The call handoff module may also include communication link handoff logic CLH designed to fit a statistical model pertaining to call quality parameters of a media stream between a communication device and the call server . The call server CLH logic may include for example logic to establish a handoff profile based at least in part on user feedback used to fit a statistical model to multiple VoIP communication link parameters indicative of communication link quality.

The call server may execute various applications and or other functionality for among other things setting up managing and tearing down communication sessions between communication devices and . Also various data may be stored in a data storage via memory of the call server . Data storage illustrated in may be representative of a plurality of data stores as can be appreciated. The data stored in the data storage for example may be associated with the operation of the various applications and or functional entities of the call server .

The WiFi transceiver may be operable to communicate with an IP network access point using one or more of the 802.11 wireless transmission protocols. Upon connection with an IP network access point the hybrid mobile device may exchange IP data with servers or other computers that are connected with or communicable with the Internet via LAN WAN . This may include the call server shown in .

The cellular transceiver may be operable to communicate with a mobile carrier network for both voice and IP data communication. On the voice side the mobile carrier network may be based on GSM CDMA or other communication protocols while on the IP data side the mobile carrier network may be based on for example GPRS EDGE EV DO HSPA D HSPA U LTE UMTS WCDMA UMTS TDD eHRPD etc.

In one embodiment the alternate transceiver may be a WiMAX transceiver that is operable to communicate with an IP network access point using one or more of the 802.16 wireless transmission protocols. Upon connection with a WiMAX network access point the hybrid mobile device may exchange IP data with servers or other computers that are connected with or communicable with the Internet via WiMAX network . This may include call server shown in . In another embodiment the alternate transceiver may be a whitespace transceiver that is operable to communicate with a whitespace network access point. The whitespace network in turn may be communicable with the Internet to allow IP data communication between the hybrid mobile device and servers or other computers that are connected with or communicable with the Internet . This may include call server shown in .

The hybrid mobile device may further include data storage software applications various user interface s and communication link handoff CLH logic . The data storage may include for example one or more types of memory devices including but not limited to flash memory usable for ROM RAM PROM EEPROM and cache. The software applications may include for example one or more software applications executable on or by the processor s including but not limited to web browsers email applications application specific data and or audio video applications call handoff applications etc. The user interface s may include for example a display a touchscreen for soft key input speaker s microphone s a keyboard for hard key input and one or more buttons. The CLH logic may include for example logic to establish and execute a handoff profile based at least in part on statistically modeled user feedback regarding communication link quality.

Sometimes however the hybrid mobile device may experience a loss of service with or degradation to the original network connection used to establish the call. The original network may be a mobile carrier network or an IP network . In such a scenario it is necessary to hand the call over e.g. handoff to an alternate network to avoid terminating the communication session. The alternate network may be the opposite of the original network . For example if the original network was an IP network the alternate network maybe a mobile carrier network and vice versa. The embodiments are not limited to these examples. There may be other alternate network s that are neither mobile carrier network s or IP network s .

The handoff may be accomplished by creating an alternate communication link between the call server and the hybrid mobile device . The alternate communication link however will be routed through the alternate network to the hybrid mobile device . When the original communication link is lost or is significantly degraded it may be seamlessly replaced by the alternate communication link such that the call server bridges or connects the alternate communication link with the communication link to the other communication device to maintain the communication session.

To establish the alternate communication link the hybrid mobile device may initially send an out of band or even an out of network signal to the call server . A call between the hybrid mobile device and a called communication device by way of call server may be initially setup using the Session Initiation Protocol SIP . IP addresses and ports are exchanged and an audio and or video codec is negotiated for the exchange of media. Audio and or video from both ends flows using the Real time Transport Protocol RTP and the selected codec s . Any further change in the call is accomplished using SIP e.g. one party hangs up . The hybrid mobile device may also maintain an open data channel with the call server using for example a protocol called Message Queue Telemetry Transport MQTT . MQTT is an open message protocol for machine to machine communication that enables the transfer of telemetry style data in the form of messages from pervasive devices along high latency or constrained networks to a server or small message broker. Pervasive devices may range from for example sensors and actuators to mobile phones embedded systems on vehicles or laptops and full scale computers.

The MQTT channel is not involved in the initial call setup. As long as the communication device has some sort of network connection the MQTT channel is available. The impending handoff signal may be sent from the communication device to the server using this data channel. The MQTT channel is out of band in the sense that it is not involved with the initiation or destruction of a communication session e.g. phone call . Nor is it in the path of the exchange of media between the hybrid mobile device and the call server . Additionally or alternatively the impending handoff signal could be out of band in the sense that it uses an alternative such as for example a text message white space or LTE that may be referred to herein as out of network signals.

The out of band or out of network signal may instruct the call server to initiate the process of establishing an alternate communication link between the hybrid mobile device and the call server . The out of band or out of network signal may be the result of the hybrid mobile device detecting poor or degrading original network connectivity or may be based on one or more other sensor inputs indicative of the impending need for a handoff. Once the out of band or out of network signal requesting establishment of an alternate communication link is received the call server may initiate the alternate communication link by first determining on what network the original communication link is established. The call server may then dial the hybrid mobile device using the telephone number associated with the alternate network connection to the hybrid mobile device . The hybrid mobile device may then automatically answer the call without user notification or intervention. The call server may then join the alternate communication link with communication link to the other communication device to maintain the communication session before severing the original communication link between hybrid mobile device and the call server . Alternatively the hybrid mobile device may sever the original communication link once the alternate communication link is established.

For example if the original network connection for the original communication link is a VoIP based WiFi connection the alternate communication link may be established over a mobile carrier network via a cellular system. The hybrid mobile device will have both a data telephone number associated with in this example the original network and a mobile telephone number associated with the alternate network . The alternate communication link may be routed over the alternate network by having the call server send call establishment signaling to the hybrid mobile device . Since the hybrid mobile device is currently connected to the call server on the original communication link the incoming new call signaling may be acted upon without notifying the user. For instance the hybrid mobile device may not ring vibrate or display a call waiting message pertaining to the incoming call from the call server . Rather the hybrid mobile device may automatically answer the new incoming call over the alternate network based on a particular piece of information in the signaling data that identifies the new call as being a handoff for the current call. For example the out of band or out of network signal sent by the hybrid mobile device to the call server may include a flag or data bits uniquely signifying a request to create an alternate communication link between the hybrid mobile device and the call server and switch from the original communication link to the alternate communication link. In another embodiment the call server may use a particular telephone number as the source number when signaling the hybrid mobile device . The particular number may be dedicated to handoff calls only.

The technique s described may work whether the original network is an IP based VoIP network and the alternate network is a cellular based mobile carrier network or vice versa. In addition there may be other types of non cellular based network s that can function as the original network or alternate network . The embodiments are not limited to these examples.

The foregoing description relates generally to the process of handing a call off from an IP based VoIP network to a cellular based carrier network or an alternate network and vice versa . While the handoff process itself is useful in improving the user experience and decreasing network load by utilizing an IP based VoIP network when possible the determination regarding when to initiate the handoff and what parameters to analyze when determining that the handoff should be performed is an area that can be improved. Currently a device manufacturer network carrier or other similar party in the communications chain assigns default handoff metrics. This process however does not account for personal user preferences user tolerance for communication link quality degradation variations between different networks and devices and the like. Therefore in various embodiments it may be advantageous to incorporate user feedback into the algorithm used to determine when a handoff should occur for that user. In addition a larger data set of user feedback may also be used to refine a default or current handoff profile. The embodiments are not limited in this respect.

In various embodiments a communication link may be established between a first communication device and a call server operable in an Internet Protocol IP based packet data network. In some embodiments this communication link may comprise an actual call. In other embodiments this communication link may comprise a test call established for the purpose of establishing user preferences regarding communication link quality. In still other embodiments the communication link may be a simulated test call performed over an Internet connection between a server and a web browser or by a software application executing on a user s communication device.

During the course of the communication link e.g. while the communication link is active user feedback may be received indicating a level of quality of the communication link. For example as shown in the user feedback may comprise activation of one or more input output I O devices of the first communication device e.g. mobile device . In the example shown in a user may press and hold the down volume button to indicate that the quality of the connection link is not personally sufficient. In other embodiments as shown in for example the user feedback may comprise interaction with a graphical user interface GUI element displayed on a touch sensitive display of the first communication device e.g. mobile device . For example if the user is utilizing speakerphone mode or a headset device not shown the user may have access to the touch sensitive display during the connection link. In these example the user may be presented with a graphical user interface element that when pressed may indicate a personal evaluation of insufficient connection link quality as judged by the user. In still other embodiments while not shown the user feedback may comprise activation of one or more sensors of the first communication device e.g. mobile device . For example a user may be instructed to shake or rotate the first communication device to indicate insufficient communication link quality as judged by the user and one or more sensors of the first communication device such as one or more accelerometers may detect this movement. The embodiments are not limited in this context.

In the case of an actual call e.g. a connection between two users the user feedback may be provided in response to a loss of call connection quality to the point that the connection is no longer sufficient to satisfy the user s call quality expectations. For example a loss of a few packets may not bother some users while other users may find this quality loss to be unacceptable. In the case of a test call or test communication link or a simulated communication link one or more communication link parameters may be varied regardless of the actual quality of the communication link that affect the quality of the communication link to present varying communication link quality levels. Regardless of the type of connection user feedback with respect to communication link parameters may be received in response to the changes in the quality of the communication link.

When user feedback is received one or more communication link parameters may be determined and recorded. For example the communication link parameters may comprise one or more of received signal strength e.g. via a RSSI jitter latency packet loss link speed link throughput or distance between the first communication device and an IP access point. While a limited number and type of communication link parameters are described for purposes of illustration it should be understood that the embodiments are not limited in this respect.

In various embodiments latency e.g. delay may comprise a one way delay between a source and destination. VoIP is a real time application that cannot tolerate long delays as the users will lose interactivity. According to the International Telecommunication Union Telecommunication Standardization Sector ITU T recommendations one way delay follows the following constraints under 150 ms is acceptable 150 to 400 ms is acceptable with limitations and over 400 ms is unacceptable. In a VoIP telephony system voice packets are transmitted by RTP. RTP identifies a voice stream by its unique Synchronization Source Identifier SSRC . Additionally individual packets can be identified by the port numbers sequence numbers and timestamps. The time difference of the same packet at source and destination results in its one way delay.

Jitter comprises the variation in delay of successive voice packets. Jitter occurs because different packets suffer different delays in the network. Jitter contributes in the overall delay of the voice packets. It is an estimate of the inter arrival time of RTP packets and may be referred to as the inter arrival jitter. If R represents the arrival time of a packet and S represents the RTP timestamp then the inter arrival difference D i j between two packets i and j can be calculated as follows 

Packet loss may also be a dominant factor in the loss of quality in a VoIP communication link. Packet loss is generally intolerable in time constrained applications like VoIP. Packet loss can be annoying because voice packets are carried by User Datagram Protocol UDP that does not retransmit lost packets. Packet loss may be due to congestion interference noise and buffer overflow at the receiver. A packet arriving after a certain scheduled play out time is also discarded. Packet loss can be mitigated using forward error correction FEC by transmitting redundant information and interleaving the packets. Typically packet loss up to 10 may be acceptable in VoIP communications.

In various embodiments an increased distance between a hybrid mobile device and an IP access point may result in decreased communication link quality. For example the further a hybrid mobile device is moved away from an IP access point the lower the quality of the communication link. This decrease in quality can be measured at least in part based on signal strength via for example a received signal strength indicator RSSI . Other embodiments are described and claimed. These and other communication link parameters may be measured and recorded at the time or shortly thereafter user feedback is received.

The one or more communication link parameters may be correlated to a loss of quality of the communication link in some embodiments. For example when a user indicates that the quality of a communication link has degraded the one or more communication link parameters may be recorded and associated with a loss of quality of a communication link. A handoff profile may be established based on the user tolerance levels for various communication link parameters. The handoff profile may be determined using a variety of statistical modeling techniques.

In various embodiments a personalized handoff profile may comprise a minimum desired quality of the communication link for a voice call. The communication link may be handed off to an alternate communication link using an alternate network while maintaining a connection between the hybrid mobile device and the call server when the quality of the original communication link falls below that specified in the handoff profile. For example based on the user feedback described above a handoff profile containing a composite threshold level associated with individual communication link parameters may be assigned to the hybrid mobile device at which the user provides the feedback. In this example the handoff profile may be customized for a particular user or on a per user basis. In other embodiments the handoff profile data may be sent to one or more call servers along with the handoff profile data of other users to average the handoff profile data. The collective user data may establish a community handoff profile that may be used as an initial default handoff profile for all subsequent users. In this example the handoff profile data may be crowd sourced such that the data comprises an average of different preferences experiences and quality considerations across any number of users. The embodiments are not limited in this respect.

For another embodiment the handoff profile may comprise a statistical model fit to a training set of VoIP network parameter data indicative of various VoIP network communication link parameters. The statistical model may be used to predict instantaneous VoIP channel quality using new samples of real time VoIP parameter data. The VoIP parameter data may include main effect parameters interaction parameters two way or higher or transformations of parameters. Some of these parameters include an RSSI between the hybrid mobile device and an IP access point a link speed between the hybrid mobile device and an IP access point jitter e.g. the deviation from true periodicity of a presumed periodic signal number of dropped packets the number of holes in a packet stream e.g. if data is duplicated or lost a hole may exist in the byte stream the average hole size and the maximum hole size. The average and maximum hole sizes depend on a time interval applied to the calculation. Additional factors for the statistical model may be interactions of two or more of the aforementioned parameters or transformations of the aforementioned parameters or a combination of both. For instance the interaction of RSSI and number of holes may be treated as an independent parameter. Similarly the interaction of RSSI and the natural logarithm of jitter log jitter may be an independent parameter. The previous two examples are illustrative and not exhaustive. Other interactions and or transformations of parameters henceforth including interactions of possibly transformed parameters may comprise a single parameter for use with the statistical models.

In another embodiment the handoff profile may result in a raw score in which each communication link parameter and an associated weighting coefficient contributes to the raw score. For example jitter may comprise 30 of the raw score while packet loss comprises 40 and latency 30 . A handoff may occur when the current raw score of a packet data stream falls below a threshold raw score of a training data set. The threshold raw score may be determined based on user feedback to the training set of data. The scenario above is purely exemplary. Other combinations coefficients percentages and rankings of the communication link parameters with respect to a raw score and threshold may be implemented.

A hybrid mobile device as described herein may include a mechanism to force a manual handoff from an IP network to a mobile carrier network e.g. cellular network in some embodiments. In these embodiments in response to receiving a request to handoff the communication link to an alternate communication link using an alternate network such as a mobile carrier network one or more communication link parameters may be determined and the handoff profile may be established based on the request. For example rather than requesting specific feedback from a user during a call the system may use the request for a manual handoff as the feedback to capture the information needed to establish and or update the handoff profile. In this embodiment the values of the communication link parameters may be recorded at the time of manual handoff request and treated as user feedback for creating a handoff profile. Subsequent calls exhibiting communication link parameters like those at the time of the manual handoff request may initiate an automatic handoff.

In other embodiments the call server may include logic operable to simulate a test call with a user via a web browser. For example prior to purchasing a hybrid mobile device a user may have the option of establishing a test call via a tablet computing device laptop or other similar computing device to determine or estimate the call quality that would be expected should the user decide to purchase a hybrid device. In these examples a user may have the opportunity to place a test call over a home network and over a work network to ensure that the most commonly used IP networks provide sufficient call quality for VoIP calls prior to incurring the expense of purchasing a hybrid mobile device .

In another embodiment the call server may simulate the effects of the various communication link parameters and solicit user feedback. For example the call server may establish a communication link with the hybrid mobile device by creating an actual phone call with the user s hybrid mobile device . The phone call may be established by the user by calling a pre determined telephone number associated with the call server and reserved for call quality evaluation purposes. In another embodiment the user may select an option from a hybrid mobile device based software application that is directed to evaluating call quality. In selecting the option via a graphical user interface GUI a phone call is made to the pre determined telephone number or an instruction is sent to the call server to call the user s hybrid mobile device . Once the call is established the call server may create an audio media stream and intentionally introduce diminishing quality for parameters like packet loss jitter latency etc. The call server may request that the user indicate when a particular communication link parameter has degraded to the point that a handoff is desired. This may be achieved through a graphical user interface GUI interaction of some sort. The call server and or the hybrid mobile device may then create a default handoff profile for the user based on the feedback. The handoff algorithm may then be adjusted for that user and implemented for the hybrid mobile device . This procedure may be repeated by the user as often as desired.

In another embodiment a software application executing on the hybrid device may simulate the same communication link parameters and acquire feedback. This may be achieved through a graphical user interface GUI interaction of some sort. An actual telephone call is not required in this embodiment. The acquired feedback may be used by the hybrid mobile device to amend the user s handoff profile. In addition to or in lieu of the acquired feedback may be sent to a call server that maintains user handoff profiles. The user may log in to an account associated with the service such that acquired feedback may be linked to the proper user. Other embodiments are described and claimed.

In various embodiments the foregoing functionality may be enabled by communication link handoff CLH logic present on either or both of the call server and hybrid mobile device . For example at least one machine readable medium may comprise a set of instructions that in response to being executed on a computing device cause the computing device to perform any of the functionality methods and or processes described herein. In some embodiments an apparatus may comprise a processor component at least two radio frequency RF transceivers each capable of communicating with a call server over a separate network and communication link handoff CLH logic to be executed by the processor component to perform any of the functionality methods and or processes described herein. In other embodiments a system may comprise a processor component memory coupled to the processor component. at least two radio frequency RF transceivers each capable of communicating with a call server over a separate network one or more antennas coupled to the at least two RF transceivers and communication link handoff CLH logic to be executed by the processor component to perform any of the functionality methods and or processes described herein. The embodiments are not limited in this respect.

Included herein is a set of flow charts and message diagrams representative of exemplary methodologies for performing novel aspects of the disclosed architecture. While for purposes of simplicity of explanation the one or more methodologies shown herein for example in the form of a flow chart or flow diagram are shown and described as a series of acts it is to be understood and appreciated that the methodologies are not limited by the order of acts as some acts may in accordance therewith occur in a different order and or concurrently with other acts from that shown and described herein. For example those skilled in the art will understand and appreciate that a methodology could alternatively be represented as a series of interrelated states or events such as in a state diagram. Moreover not all acts illustrated in a methodology may be required for a novel implementation.

In the illustrated example shown in the logic flow may include a call server mediating a voice media channel connection between a hybrid mobile device and a second device at . For example the voice media channel connection may comprise a communication link between a hybrid mobile device and a call server operable in an Internet Protocol IP based packet data network and between the call server and a second communication device . For example a communication link may be established between hybrid mobile device call server and a second communication device in some embodiments.

At the logic flow may include a call server receiving user feedback pertaining to voice quality over the media channel during the call. For example the user feedback received during the communication link may indicate a lack of quality of the communication link. If in some embodiments a user determines that the quality of the VoIP communication link less than desired for a VoIP call the user may among other things hold down the down volume button for a designated period of time to provide feedback. The feedback itself may be sent over a parallel data channel between the hybrid mobile device and the call server . Such a parallel data channel may include an MQTT channel and or a cellular data channel. Another mechanism for conveying the in call user feedback to the call server may be automatically construct and send an SMS message to the call server using either a telephone number or SMS short code associated with the call server as the destination. Other feedback mechanisms on the hybrid mobile device may be implemented including manipulating other buttons on the housing of the first communication device and or interaction with a touch screen display. The embodiments are not limited in this respect.

The logic flow may include the call server and or first communication device determining a user quality tolerance threshold for communication link parameters based on the user feedback at . In some embodiments this may include determining one or more communication link parameters in response to the user feedback. The CLH logic on the hybrid mobile device or the call server may be operative to monitor measure and or record the one or more VoIP communication link parameters such as jitter latency or RSSI. VoIP communication link parameter data may be captured continuously throughout a call not just when user feedback is given.

At the logic flow may include the call server and or hybrid mobile device updating a handoff profile for the hybrid mobile device based on the user quality tolerance thresholds of communication link parameters. In various embodiments the CLH logic may be operative to correlate the one or more communication link parameters to the lack of quality of the communication link. For example the user feedback may trigger the CLH logic to record the one or more communication link parameters in response to the user feedback associate these parameters with less than desired quality of the communication link and update the handoff profile of the hybrid mobile device based on the communication link parameters accordingly.

At the logic flow may include the call server forwarding a new handoff profile to the hybrid mobile device or the hybrid mobile device updating its own handoff profile. For example a new handoff profile may be established based on the correlating and this new handoff profile may be forwarded to the hybrid mobile device from which the user feedback originated. The logic flow at may include updating the hybrid mobile device with the new handoff profile. For example once received the hybrid mobile device may utilize the new handoff profile to make handoff decisions moving forward. In embodiments where the hybrid mobile device calculated its own new handoff profile using CLH logic based on the user feedback the hybrid mobile device may update the handoff profile itself. The process may be repeated as often as desired. Other embodiments are described and claimed.

At the logic flow may include the call server and hybrid mobile device establishing a voice media channel connection specifically to gauge a user s tolerance to communication link parameters. For example rather than establishing a link between the hybrid device and the call server for the purpose of connecting the hybrid device to a second communication device to enable users of the devices to communicate the communication link may instead be established for purposes of a test call. More particularly the logic flow at may include the call server varying multiple communication link parameters e.g. packet loss jitter latency etc. . For example as part of the test call the call server may vary and or simulate variance of one or more communication link parameters to enable a user of the hybrid mobile device to experience the differences in connection quality associated with the changes. The embodiments are not limited in this respect.

The logic flow at may include the call server requesting user feedback for each communication link parameter. In some embodiments the call server may individual adjust each communication link parameter and request user feedback for each adjustment. For example jitter may be gradually increased until user feedback is received then latency may be gradually increased until user feedback is received and so on. In other embodiments different combinations of changes among the different communication link parameters may be combined and the different combinations may each be adjusted until user feedback is received.

The call server and or hybrid mobile device may determine a user quality tolerance threshold for each communication link parameter as part of the logic flow at . For example based on the changes to the communication link parameters and the resulting user feedback the user quality tolerance threshold may be determined indicating a user s tolerance for each characteristic. Stated differently the user quality tolerance threshold may comprise the minimum quality that a user will tolerate for each communication link parameter below which it may be desirable to handoff a the VoIP communication link between the hybrid mobile device and the call server to another network such as a mobile carrier network .

At the logic flow may include the call server and or the hybrid mobile device creating a handoff profile based on the user quality tolerance threshold of the communication parameters. For example the handoff profile may be unique to a hybrid mobile device a user of a device or a user of an account or may be shared across any number of devices users or accounts. The handoff profile may comprise threshold levels for the various communication link parameters such that when one or more of the communication link parameters dips below its threshold level initiation of a handoff of the communication link from the VoIP network to an alternate network may be commenced.

The call server may forward a new handoff profile to the hybrid mobile device at in the logic flow and at the logic may include updating the hybrid mobile device with the new handoff profile. For example once the handoff profile is established it may be forwarded via the call server for example to the hybrid mobile device from which the user feedback originated. That originating hybrid mobile device may use that handoff profile moving forward to make network and or communication link handoff decisions. In embodiments where the hybrid mobile device re calculated the handoff profile it may update the handoff profile itself. Other embodiments are described and claimed.

In various embodiments the logic flow at may include a user opening an application executing on a hybrid mobile device specifically to gauge the user s tolerance to communication link parameters and communication link parameter changes. For example the application app may comprise an application software program or other logic stored on hybrid mobile device and used for purposes of calibrating a handoff profile for the user and or the hybrid mobile device . While described in terms of an application being opened by a user the embodiments are not limited in this respect. In some embodiments the application may be arranged to run automatically when a hybrid mobile device is activated when a hybrid mobile device is powered on and or whenever the hybrid mobile device detects a new network. The embodiments are not limited in this respect.

At the logic flow may include the application simulating and varying multiple communication link parameters e.g. packet loss jitter latency etc. . For example rather than establish a real communication link or a test communication link the application may be operative to play back an audio signal that varies in a manner that simulates variances in one or more communication link parameters. The user may provide feedback for each communication link parameter as part of the logic flow at . For example as the application simulates the variations in the communication link parameters the user may be instructed to listen and to provide feedback when the audio signal is not of an acceptable quality.

In some embodiments the logic flow at may include the application determining a user feedback tolerance threshold for each communication link parameter. As described above the user feedback tolerance threshold may be determined based on the user feedback and one or more of the communication link parameters at the time of the user feedback to ensure that a handoff is initiated when one or more of the communication link parameters drop below the threshold resulting in potentially poor connection quality.

At the logic flow may include the application creating a handoff profile based on the user quality tolerance threshold of the communication link parameters and at the logic flow may include the hybrid mobile device being updated with the new handoff profile. For example once the handoff profile is established by the application it may be stored on the hybrid mobile device containing and or executing the application and on which the user feedback was received. The hybrid mobile device may use that handoff profile moving forward to make network and or communication link handoff decisions. Other embodiments are described and claimed.

In various embodiments the logic flow at may include a user navigating to a website linked with a hybrid mobile device service specifically to gauge the user s tolerance to communication link parameters. For example a website web server or other server available via the Internet may be accessible by a user or a prospective user of a hybrid mobile device . This website may be operative to present one or more communication link parameters and or simulate a connection that the user may utilize for establishing communication connections with a hybrid mobile device . Other embodiments are described and claimed.

At the logic flow may include the user providing authentication information to link a session to a specific hybrid mobile device account. For example a user may log in to the website to access an existing account with a service provider or may be prompted to create a new account if they do not already have an account. In various embodiments the logic flow may include the website simulating and or varying multiple VoIP communication link parameters e.g. packet loss jitter latency etc. at . For example and as recited above with respect to logic flow rather than establish a real communication link or a test communication link the website may be operative to play back audio signals that vary in a manner that simulates variances in one or more VoIP communication link parameters. The user may provide feedback for each communication link parameter as part of the logic flow at . For example as the website simulates the variations in the communication link parameters the user may be instructed to listen and to provide feedback when the audio signal is not of an acceptable quality.

In various embodiments at the logic flow may include the website determining a user feedback tolerance threshold for each VoIP communication link parameter at the logic flow may include the website creating a handoff profile based on the user quality tolerance threshold of communication link parameters at the logic flow includes the website forwarding the handoff profile to a call server and or a hybrid mobile device and at the logic flow includes a hybrid mobile device being updated with the new handoff profile. The user feedback tolerance threshold may be determined based on the user feedback and one or more of the communication link parameters at the time of the user feedback. Similarly the handoff profile may be additionally modified on VoIP communication link parameters obtained through monitoring subsequent calls and not necessarily through user feedback to ensure that a handoff is initiated for the user of the associated account when one or more of the VoIP communication link parameters drop below the threshold resulting in potentially poor connection quality. In various embodiments once the handoff profile is established by the website it may be associated with a user account based on the authentication information. The call server or hybrid mobile device may use that handoff profile moving forward to make network and or communication link handoff decisions for that user and or the handoff profile may be forwarded to a hybrid mobile device associated with the user s account and provisioned on that hybrid mobile device . Other embodiments are described and claimed.

At the logic flow may include the call server and or web server collecting communication link parameter tolerance thresholds for multiple users. For example using any one or more of the above described methods communication link parameter tolerance thresholds may be gathered for multiple users. The logic flow at may include the communication link parameter tolerance thresholds for the multiple users being processed to determine average tolerance thresholds for each communication link parameter. For example the threshold for each parameter e.g. jitter latency interactions and transformations etc. may be averaged across any number of the received communication link parameter tolerance thresholds. In various embodiments at the logic flow may include averaging the tolerance thresholds for each communication link parameter to create a community default handoff profile. For example the community default handoff profile may comprise a combination of preferences for any number of users that are used to establish baseline thresholds for an entire community of users rather than relying on device or user specific thresholds. Averaging is but one embodiment for obtaining tolerance thresholds. Other embodiments for determining tolerance thresholds for each communication link parameter include but are not limited to weighted averages trimmed averages medians quantiles and combinations thereof.

The logic flow at may include the community default handoff profile being stored in a call server and or a web server associated with one or more user accounts. For example once established the community default handoff profile may be stored on a web server or call server used by the one or more devices to establish communication connections. In some embodiments the logic flow at may include the community default handoff profile being provisioned on new hybrid mobile devices and or sent to existing hybrid mobile devices . For example as new hybrid mobile devices are added to or associated with the call server these hybrid mobile devices may be provisioned with the community default handoff profile. Similarly existing hybrid mobile devices already associated with the call server may be updated with the newly established or updated community default handoff profile. Other embodiments are described and claimed.

The logic flow may obtain a time lined data set of multiple VoIP communication link parameters from VoIP audio streams involving a particular hybrid mobile device at block . In addition the timeline for the obtained data set may further include points of user input specifying a subjective indication of acceptable and or poor quality of the audio stream. For example a user may establish a VoIP connection between a hybrid mobile device and an IP access point to be used for a VoIP telephony call. In one embodiment the aforementioned VoIP connection may be made specifically as a test connection with a call server to obtain the time lined data set of VoIP communication link parameters. In another embodiment the aforementioned VoIP connection may be part of an actual call during which the user provides real time feedback pertaining to call quality to obtain the time lined data set of VoIP communication link parameters. It should be noted that when a user provides feedback pertaining to VoIP call quality there is a slight lag between the actual VoIP communication link parameter measurements and the time it takes for the user s response to those parameters to be registered at a server collecting such data. Thus the server may intentionally shift the timeline of the feedback backwards along the packet data stream by some pre determined interval to reflect such a lag. Doing so increases the accuracy of the user feedback by more accurately linking it with the VoIP communication link parameter settings that caused the feedback.

The result of block is a time lined data set of multiple VoIP communication link parameters from VoIP audio streams involving a particular hybrid mobile device and a corresponding judgment of acceptable or poor quality at any given point along the continuum of the time lined data set. In block a statistical model known as a logistic regression model may be fit to the data set of multiple VoIP communication link parameters to determine a set of coefficients for each of the multiple VoIP communication link parameters. Some of the parameters used in the statistical model may be a result of transformations and or two way or higher order interactions from the original VoIP parameters. As described earlier a set of VoIP communication link parameters may include but are not limited to an RSSI between the hybrid mobile device and an IP access point a link speed between the hybrid mobile device and an IP access point jitter the number of dropped packets in a packet data stream the number of holes in a packet data stream e.g. if data is duplicated or lost a hole may exist in the byte stream the average hole size and the maximum hole size. Examples of transformed parameters may be the interaction between RSSI number of holes or the interaction of RSSI and the natural logarithm of jitter log jitter . There may be additional transformed parameters as well including any number of applications of transformations and interactions to parameters and combinations thereof including interactions of possibly transformed parameters.

The logic flow may fit a logistic regression statistical model to the data set obtained in block at block . The logistic regression statistical model may determine a set of coefficients to apply to each of the multiple VoIP communication link parameters and transformed parameters. The coefficients in turn may be used in producing a raw score indicative of overall VoIP audio quality at block with a linear combination of the coefficients and multiple real time VoIP communication link parameters and transformed parameters. The raw score threshold may be constructed in block such that subsequent scores at or above the raw score threshold calculated from real time data are indicative of poor overall audio quality. The raw score threshold may be determined by choosing a value such that the weighted number of true positives where the model correctly predicts poor overall audio quality as subjectively rated by a user and true negatives where the model correctly predicts acceptable overall audio quality as subjectively rated by a user are appropriately balanced for the training data set.

The coefficients associated with the logistic regression statistical model may be determined in a computer server equipped to perform such calculations. The computer server may be independent of the call server and or the hybrid mobile device . Once computed the coefficients may be loaded into the communication link handoff logic of the hybrid mobile device .

At decision block it is determined whether the current audio quality raw score for the current time interval VoIP network parameter data calculated in block is at or above the raw score threshold calculated in block of . If it is determined that the audio quality raw score calculated in block is less than the raw score threshold calculated in block of as per the comparison performed at decision block the audio quality is deemed acceptable at block and logic flow control returns to block to obtain the next set of VoIP audio data for the next time interval. On the other hand if it is determined that the audio quality raw score calculated in block is equal to or greater than the raw score threshold calculated in block of as per the comparison performed at decision block control may be passed to a second decision block to determine if the audio quality raw score for the immediately preceding time interval is also equal to or greater than the threshold raw score. If so the audio quality is deemed poor at block and the logic flow initiates a handoff from the VoIP communication link to an alternative communication link. If not the audio quality is deemed acceptable at block and logic flow control returns to block to obtain the next set of VoIP audio data for the next time interval.

The logic flow may obtain a time lined data set of multiple VoIP communication link parameters from VoIP audio streams involving a particular hybrid mobile device at block . In addition the timeline for the obtained data set may further include points of user input specifying a subjective indication of acceptable and or poor quality of the audio stream. For example a user may establish a VoIP connection between a hybrid mobile device and an IP access point to be used for a VoIP telephony call. In one embodiment the aforementioned VoIP connection may be made specifically as a test connection with a call server to obtain the time lined data set of VoIP communication link parameters. In another embodiment the aforementioned VoIP connection may be part of an actual call during which the user provides real time feedback pertaining to call quality to obtain the time lined data set of VoIP communication link parameters. It should be noted that when a user provides feedback pertaining to VoIP call quality there is a slight lag between the actual VoIP communication link parameter measurements and the time it takes for the user s response to those parameters to be registered at a server collecting such data. Thus the server may intentionally shift the timeline of the feedback backwards along the packet data stream by some pre determined interval to reflect such a lag. Doing so increases the accuracy of the user feedback by more accurately linking it with the VoIP communication link parameter settings that caused the feedback.

The result of block is a time lined data set of multiple VoIP communication link parameters from VoIP audio streams involving a particular hybrid mobile device and a corresponding judgment of acceptable or poor quality at any given point along the continuum of the time lined data set. In block a statistical model may be fit to the data set of multiple VoIP communication link parameters to instantaneously estimate a probability of poor overall VoIP audio quality. Some of the parameters used in the statistical model may be a result of transformations and or two way or higher order interactions from the original VoIP parameters. As described earlier a set of VoIP communication link parameters to be statistically modeled may include but are not limited to an RSSI between the hybrid mobile device and an IP access point a link speed between the hybrid mobile device and an IP access point jitter the number of dropped packets in a packet data stream the number of holes in a packet data stream e.g. if data is duplicated or lost a hole may exist in the byte stream the average hole size the maximum hole size and transformed parameters. Examples of transformed parameters may be the interaction between RSSI number of holes or the interaction of RSSI and the natural logarithm of jitter log jitter . There may be additional transformed parameters as well including any number of applications of transformations and interactions to parameters and combinations thereof.

The statistical model may be determined in a computer server equipped and or programmed to perform such calculations. The computer server may be independent of the call server and or the hybrid mobile device . Once computed the statistical model may be loaded into the communication link handoff logic of the hybrid mobile device . Once loaded the model may be used to predict instantaneous overall VoIP audio quality with discrete sets of real time VoIP network parameter data.

At decision block an outcome of the statistical model is determined that yields an estimate as to whether the overall quality of the VoIP audio data is acceptable or poor. If it is determined that the overall VoIP audio is acceptable as per the outcome of decision block the audio quality is deemed acceptable at block and logic flow control returns to block to obtain the next set of VoIP audio data for the next time interval. On the other hand if it is determined that the overall VoIP audio is poor as per the outcome of decision block control may be passed to a second decision block to determine if there is a pattern in predicted poor audio as determined by the statistical model to suggest overall poor audio quality in the VoIP communication link. If so the audio quality is deemed poor at block and the logic flow initiates a handoff from the VoIP communication link to an alternative communication link. If not the audio quality is deemed acceptable at block and logic flow control returns to block to obtain the next set of VoIP audio data for the next time interval.

Some examples may be described using the expression in one example or an example along with their derivatives. These terms mean that a particular feature structure or characteristic described in connection with the example is included in at least one example. The appearances of the phrase in one example in various places in the specification are not necessarily all referring to the same example.

Some examples may be described using the expression coupled connected or capable of being coupled along with their derivatives. These terms are not necessarily intended as synonyms for each other. For example descriptions using the terms connected and or coupled may indicate that two or more elements are in direct physical or electrical contact with each other. The term coupled however may also mean that two or more elements are not in direct contact with each other but yet still co operate or interact with each other.

It is emphasized that the Abstract of the Disclosure is provided to comply with 37 C.F.R. Section 1.72 b requiring an abstract that will allow the reader to quickly ascertain the nature of the technical disclosure. It is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition in the foregoing Detailed Description it can be seen that various features are grouped together in a single example for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed examples require more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter lies in less than all features of a single disclosed example. Thus the following claims are hereby incorporated into the Detailed Description with each claim standing on its own as a separate example. In the appended claims the terms including and in which are used as the plain English equivalents of the respective terms comprising and wherein respectively. Moreover the terms first second third and so forth are used merely as labels and are not intended to impose numerical requirements on their objects.

