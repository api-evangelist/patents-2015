---

title: Dynamically adjusting a light source within a real world scene via a light map visualization manipulation
abstract: A light source within a real world scene can be identified. The light source can be associated with a one or more attributes. The light source can emit light to illuminate the real world scene. The attributes can include intensity, wavelength, and/or orientation. A live view of the real world scene can be presented within an interface of a computing device. The attributes associated with the light source can be determined. A light map for the light source within the real world scene can be computed. The light map can be a graphical visualization of an approximation of a propagation of light emanating from the light source within the scene.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09615009&OS=09615009&RS=09615009
owner: 
number: 09615009
owner_city: 
owner_country: 
publication_date: 20150226
---
This application claims priority to the provisional application entitled DYNAMICALLY ADJUSTING LIGHT SOURCE WITHIN A REAL WORLD SCENE VIA A LIGHT MAP INTERACTION filed Feb. 26 2014 with Application No. 61 944 716 which is incorporated herein in its entirety.

The present invention relates to the field of photographic visualization more particularly to dynamically adjusting a light source within a real world scene via a light map visualization manipulation.

Photography and film making rely heavily on lights to illuminate a scene to set the mood and even tell a story with a single frame. For example using a directional light in the background and filling the foreground with soft diffuse lighting can make an actor look sinister without requiring dialog. These lights often include hot lights and strobes which are powerful light sources which can illuminate a room. Additional equipment such as barndoors filters diffusers and gels allow an infinite combination of lighting schemes. Often lighting a scene correctly requires specialized knowledge and experience which many amateur photography and filmmakers lack. As such a mechanism for improving scene lighting organization and or planning is necessary.

The present disclosure is a solution for dynamically adjusting a light source within a real world scene via a light map visualization manipulation. In the solution a light source within a view real world scene can be identified. The view can be presented within an interface of a computing device. In one embodiment one or more attributes of the light source can be manually and or automatically identified. In the embodiment the attributes can be utilized to compute a light field of the light source within the real world scene. In one instance the light field can be graphically represented as a light map visualization within the interface. In the instance the visualization can indicate the illumination the light source contributes to the scene. In one configuration of the instance the visualization can be dynamically manipulated to adjust the light source intensity color spread and the like.

As will be appreciated by one skilled in the art aspects of the present invention may be embodied as a system method or computer program product. Accordingly aspects of the present invention may take the form of an entirely hardware embodiment an entirely software embodiment including firmware resident software micro code etc. or an embodiment combining software and hardware aspects that may all generally be referred to herein as a circuit module or system. Furthermore aspects of the present invention may take the form of a computer program product embodied in one or more computer readable medium s having computer readable program code embodied thereon.

Any combination of one or more computer readable medium s may be utilized. The computer readable medium may be a computer readable signal medium or a computer readable storage medium. A computer readable storage medium may be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus or device or any suitable combination of the foregoing. More specific examples a non exhaustive list of the computer readable storage medium would include the following an electrical connection having one or more wires a portable computer diskette a hard disk a random access memory RAM a read only memory ROM an erasable programmable read only memory EPROM or Flash memory an optical fiber a portable compact disc read only memory CD ROM an optical storage device a magnetic storage device or any suitable combination of the foregoing. In the context of this document a computer readable storage medium may be any tangible medium that can contain or store a program for use by or in connection with an instruction execution system apparatus or device.

A computer readable signal medium may include a propagated data signal with computer readable program code embodied therein for example in baseband or as part of a carrier wave. Such a propagated signal may take any of a variety of forms including but not limited to electro magnetic optical or any suitable combination thereof. A computer readable signal medium may be any computer readable medium that is not a computer readable storage medium and that can communicate propagate or transport a program for use by or in connection with an instruction execution system apparatus or device.

Program code embodied on a computer readable medium may be transmitted using any appropriate medium including but not limited to wireless wireline optical fiber cable RF etc. or any suitable combination of the foregoing. Computer program code for carrying out operations for aspects of the present invention may be written in any combination of one or more programming languages including an object oriented programming language such as Java Smalltalk C or the like and conventional procedural programming languages such as the C programming language or similar programming languages. The program code may execute entirely on the user s computer partly on the user s computer as a stand alone software package partly on the user s computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario the remote computer may be connected to the user s computer through any type of network including a local area network LAN or a wide area network WAN or the connection may be made to an external computer for example through the Internet using an Internet Service Provider .

Aspects of the present invention are described below with reference to flowchart illustrations and or block diagrams of methods apparatus systems and computer program products according to embodiments of the invention. It will be understood that each block of the flowchart illustrations and or block diagrams and combinations of blocks in the flowchart illustrations and or block diagrams can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer special purpose computer or other programmable data processing apparatus to produce a machine such that the instructions which execute via the processor of the computer or other programmable data processing apparatus create means for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

These computer program instructions may also be stored in a computer readable medium that can direct a computer other programmable data processing apparatus or other devices to function in a particular manner such that the instructions stored in the computer readable medium produce an article of manufacture including instructions which implement the function act specified in the flowchart and or block diagram block or blocks.

The computer program instructions may also be loaded onto a computer other programmable data processing apparatus or other devices to cause a series of operational steps to be performed on the computer other programmable apparatus or other devices to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the functions acts specified in the flowchart and or block diagram block or blocks.

As used herein a light map visualization can be a graphical representation of a light field e.g. of light associated with the propagation of light emitted form a light source e.g. flash unit . In one embodiment visualization can be associated with a light field data set e.g. light map which can represent a light source emitting light within a real world scene. In one instance visualization can be a bounded area within a view which can indicate the illumination e.g. light from a light source. That is visualization can be associated with a real world light source e.g. flash unit .

In scenario a flash unit can be communicatively linked to a camera . Unit can be a light source utilized to illuminate a real world scene which can include one or more subjects e.g. models a background and the like. In one instance camera can present within a interface a live view of scene permitting a user to view scene through interface . In the instance camera can trigger flash unit to emit light .

In one embodiment camera can capture an image of real world scene in which flash unit illuminates the scene . In the embodiment the camera can present the image and a light map visualization which can be overlaid on the area in the image for which the flash unit illuminated. That is the camera can visually show an area of light propagation associated with the flash illumination and associated boundaries e.g. where the flash unit is not able to illuminate sufficient . For example visualization can appear as a highlighted region of view within camera interface to indicate light fall off e.g. where light is approximately equal to ambient light of scene .

In one instance the visualization can be computed utilizing one or more flash settings camera settings scene information e.g. ambient light and the like. In the instance an ambient light level can be determined prior to unit activation and after light is emitted the difference can be determined to produce visualization . It should be appreciated that visualization generation can be arbitrarily complex and is not limited to the embodiments presented herein.

In one embodiment visualization can be generated without image capture. In the embodiment camera can trigger flash unit activation e.g. test fire pre flash which can be measured by light sensors within camera . That is light sensor e.g. and associated exposure functionality within camera can be utilized to produce an approximate visualization of light .

It should be appreciated that light propagation can follow an inverse square distribution and one or more user thresholds can be established to limit the boundaries for which visualization can be computed. That is an intensity threshold for light can be determined to ensure visualization can include a computationally feasible bounded region. For example when light in scene is less than 30 lumens e.g. edges of infinity wall a boundary can be established for the visualization.

In one embodiment visualization can include but is not limited to a light source identifier an intensity value a duration value an orientation a color value a depth value and the like.

Light sources can include but is not limited to flash units modeling lights hot lights e.g. modeling lights light fixtures and the like. That is any light source able to emit light can be modeled e.g. utilizing traditional and or proprietary methods and displayed within an interface of a computing device.

In one embodiment the disclosure can permit one or more interactions with light map visualization . In the embodiment interactions can be utilized to dynamically adjust light source e.g. unit . That is by directly manipulating a graphical visualization of the propagation of light from the light source e.g. light source can be adjusted e.g. power output duration zoom . It should be appreciated that light source adjustment via visualization manipulation can be arbitrarily complex. In one instance flash unit can be dynamically adjusted through touch buttons on camera . In the instance adjustment of light source can trigger visualization to be appropriate rendered e.g. updated to match the adjustment performed. For example a zoom in push button can increase the power output of flash by one stop of light when pressed and a zoom out button can decrease the power output of flash by one stop of light.

Drawings presented herein are for illustrative purposes only and should not be construed to limit the invention in any regard. In one embodiment camera settings can be utilized to compute light map visualization based on exposure of scene in camera image sensor. Camera settings can include but is not limited to orientation aperture shutter speed ISO and the like. It should be appreciated that interaction can be performed via physical buttons on camera interface elements within camera display via voice commands gestures multi touch gestures and the like. It should be appreciated that the disclosure can be used to compute light propagation light diffusion light reflection light refraction and the like for real world light source illuminating a view of a real world scene.

In scenario the disclosure can perform an analysis to identify one or more light maps associated with an image . In one instance analysis can determine one or more editable and or non editable light maps associated with lighting within the image. In the instance an editable light map can be a light map associated with a light source which can be adjusted. In the instance a non editable light map can be a light map associated with a light source which cannot be adjusted e.g. ambient light sources non dimmable light bulbs . Analysis can include but is not limited to depth analysis surface geometry determination histogram information and the like.

In one instance a transparent shaded overlay e.g. visualization can be generated from each light source. In one embodiment overlay can be presented upon image within an interface of a computing device as a composite screen to indicate light propagation within the image . It should be appreciated that overlay can be generated for each light map .

Drawings presented herein are for illustrative purposes only and should not be construed to limit the invention in any regard. In one embodiment metadata within image can be utilized to generate maps and or enhance map accuracy. In the embodiment metadata can include but is not limited to exposure data color space settings and the like. For example the disclosure can leverage Exchangeable Image File Format EXIF data to compute light map and or visualization .

In scenario a light source can be utilized to illuminate a real world scene . A view of scene can be presented within an augmented reality device device. For example device can be a GOOGLE GLASSES able to show a light map visualization for a light source within the display e.g. interface . In one instance device can permit visualization to be overlayed onto view indicating a volume of light emitted from light source . In one embodiment visualization can be used to indicate change in light e.g. diffusion as a result of objects which can alter light source properties including but not limited to light diffusers e.g. umbrellas softboxes light magnifiers and the like.

In one instance the disclosure can generate a modifyable light map visualization for light source which can be presented within view . In the instance visualization can include traditional and or proprietary attributes properties including but not limited to tag e.g. name attributes identifiers shape e.g. dimensions geometry editing handles e.g. move resize handles and the like. For example visualization can be associated with resizing handles which allow visualization to be resized similar to vector drawings. In one embodiment a gesture can be utilized to increase the light intensity from light source when visualization is selected. In the embodiment a mapping can be utilized to associate gestures and or interactions with light source command changes. For example when a pinch apart gesture is used on visualization the light source settings can be increased from power to power. Mapping can include but is not limited to an input an action a timing criteria a constraint e.g. discrete increments and the like. For example mapping can be utilized to limit the amount a light source can be increased via the visualization manipulation. In one embodiment one or more interface notifications can be presented responsive to interaction with visualization . In the embodiment notifications can indicate modification type e.g. increase decrease modification quantity e.g. 10 2 stops and the like.

In one instance tag can correspond to flash command unit names groups and the like. For example visualization can include a flash unit identifier e.g. Group A Flash which can be presented within tag of interface . It should be appreciated that multiple visualizations can be presented within view which can include overlapping regions. In one instance overlapping regions of light visualization can be computed utilizing traditional lighting models. That is the disclosure can enable complex lighting of a scene to be directly visible without requiring the light source to be active and or present.

In one embodiment a light map visualization can be created within an interface of device which can alter view allowing virtual lighting of view . In the embodiment the light map visualization can be associated with a real world light source after creation or can remain independent e.g. truly virtual light source .

Drawings presented herein are for illustrative purposes only and should not be construed to limit the invention in any regard. It should be appreciated that device can include any computing device including but not limited to a mobile phone a tablet computing device a netbook a hybrid laptop device a camera a remote projection computing system a 3D glasses a portable media player and the like.

In scenario a tablet device can present a light map visualization associated with a set of lights of ceiling fan in a room of a house. In the scenario a home automation screen can be utilized to control ceiling fan via a ceiling fan widget e.g. interactive icon . The screen can present widget within a floorplan layout of a house. For example floorplan can be a screen of a home automation application executing on tablet or on a HDTV. It should be appreciated that floorplan can include one or more lighting elements appliances and the like which can be interacted with via home automation system e.g. widget .

In one embodiment a visualization of fan can be presented e.g. overlaid on widget which can approximately portray the lighting conditions of room . In one instance gesture can be utilized to dim the lights by adjusting the size of visualization . For example a pinch squeeze gesture can be utilized to decrease the area of the visualization which can communicate a command to home automation system which can perform an automation resulting in lights dimming ten percent of the current state.

It should be appreciated that visualization can be 2D objects 3D objects and the like. Light map visualization can be adjusted in one two and or three dimensions e.g. size of area illuminated distance illuminated based on interface presentation of the visualization.

Drawings presented herein are for illustrative purposes only and should not be construed to limit the invention in any regard. It should be appreciated that the functionality described herein can be performed within the home automation system e.g. control panel and is not limited to communicatively linked devices.

In step a computing session can be established within a computing device. In step a view of a real world scene can be presented within an interface of a computing device. In step a real world light source within the view of the real world scene can be identified. In step attributes of the light source can be determined. In step a light map can be computed for the light source based on the attributes. In step a graphical visualization of the light map can be generated. In step the graphical visualization can be presented within the view approximating light source illumination of the real world scene. In step if another light source is present the method can return to step else proceed to step . In step the session can be terminated. In step the method can end.

Drawings presented herein are for illustrative purposes only and should not be construed to limit the invention in any regard. It should be appreciated that method can be performed in real time or near real time. It should be appreciated that steps can be performed continuously during computing device usage. It should be understood that method can include one or more additional steps or can lack one or more steps .

Mapping engine can be a hardware software entity for generating a light map and or map visualization from a scene with an associated light schema . Engine can include but is not limited to mapping model settings and the like. Engine functionality can include but is not limited to light schema determination scene information extraction e.g. from scene light map generation map visualization generation visualization modification scheme modification and the like. In one instance mapping model can include one or more traditional and or propreitary light propagation diffusion diffraction reflection refraction models. In one instance model can include but is not limited to a wave model a particle model and the like. In one embodiment the engine can be utilized to calculate a map e.g. and or visualization for only light propagation within a view. In another embodiment engine can be utilized to calculate a map e.g. and or visualization for light propagation and light reflection of objects within the scene .

Mapping model can be one or more data sets for computing light propagation diffusion reflection refraction and the like. Model can include but is not limited to a light field mapping function a light field spatial model and the like. In one instance model can include a two dimensional mapping function a three dimensional mapping function a four dimensional mapping function and the like.

Settings can be one or more options for configuring the behavior of system server and or engine . In one instance settings can be persisted within a data store. In one embodiment settings can be manually and or automatically established. In one configuration of the embodiment settings can be heuristically established from one or more historic settings and or input. It should be appreciated that settings can include one or more rules for establishing light map generation visualization creation visualization modification and the like.

Scene information can be one or more datasets for representing the real world scene within a computing environment. Information can include but is not limited to atmospheric conditions ambient light conditions object information e.g. object tracking information surface materials depth information perspective information and the like. In one embodiment scene information can be manually and or automatically determined.

Light schema can be one or more datasets for representing lighting conditions associated with scene . Lighting conditions can include light source identifiers light source attributes and the like. In one instance schema can be utilized to represent light sources light bounces e.g. bounce card light diffusers e.g. scrim and the like. In the instance schema can conform to one or more traditional and or proprietary formats including but not limited to Extensible Markup Language XML Hypertext Markup Language HTML and the like. In one embodiment schema can conform to one or more traditional and or proprietary digital lighting diagrams. In one instance schema e.g. data from 3d modeling programs can be imported from virtual photographic studio application e.g. set.a.light 3D studio application lighting simulation applications and the like.

Light map can be one or more datasets for representing light propagation from one or more light sources within scene e.g. and schema . Map can include but is not limited to a light field function a volumetric light field model and the like. In one instance map can be a matrix data set for representing a light field from a light source within scene . In one embodiment map can include vector representation of a light field from a light source within scene . In one instance light map can correspond to light maps utilized in 3d graphics modeling video game environments and the like. In another instance the light map can include shadow information viewing frustrum and the like.

Map visualization can be one or more graphical representations of light map . Visualization can include but is not limited to a two dimensional geometric shape a three dimensional volumetric region and the like. It should be appreciated that visualization appearance can be highly customized e.g. settings and is not arbitrarily limited. Visualization can be arbitrarily complex and can conform to any graphics format including but not limited to a Joint Photographic Experts Group JPEG Portable Network Graphics PNG GIF and the like.

Since light map generation can be computationally intense light map calculations can be approximated e.g. using inverse square formula to produce an approximately accurate light map e.g. and or visualization . Upon creation of an approximation additional computation can be performed to refine the map e.g. and or visualization . That is the creation of a light map and or visualization can be a stepwise process.

It should be appreciated that engine can be a component of a distributed computing network a networked computing environment and the like. In one instance the engine can be a functionality of an Application Programming Interface API . In another instance engine can be a functionality of an application executing within a computing device. For example engine can be a function of a camera application of a mobile phone.

Drawings presented herein are for illustrative purposes only and should not be construed to limit the invention in any regard. It should be appreciated that engine can be an optional component of system . It should be appreciated that one or more components within system can be optional components permitting that the disclosure functionality be retained. It should be understood that engine components can be optional components providing that engine functionality is maintained. It should be appreciated that one or more components of engine can be combined and or separated based on functionality usage and the like. System can conform to a Service Oriented Architecture SOA Representational State Transfer REST architecture and the like.

The flowchart and block diagrams in the illustrate the architecture functionality and operation of possible implementations of systems methods and computer program products according to various embodiments of the present invention. In this regard each block in the flowchart or block diagrams may represent a module segment or portion of code which comprises one or more executable instructions for implementing the specified logical function s . It should also be noted that in some alternative implementations the functions noted in the block may occur out of the order noted in the figures. For example two blocks shown in succession may in fact be executed substantially concurrently or the blocks may sometimes be executed in the reverse order depending upon the functionality involved. It will also be noted that each block of the block diagrams and or flowchart illustration and combinations of blocks in the block diagrams and or flowchart illustration can be implemented by special purpose hardware based systems that perform the specified functions or acts or combinations of special purpose hardware and computer instructions.

