---

title: Dynamic in-band service control mechanism in mobile network
abstract: A method, computer readable medium and apparatus for transmitting signaling information within payload traffic. For example, the method parses a certificate received from a service provider to obtain service imprint information associated with a mobile service, inserts a service control parameter derived from the service imprint information into a packet header, and forwards the packet header within payload traffic to a policy charging and enforcing function.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09584636&OS=09584636&RS=09584636
owner: AT&T Intellectual Property I, L.P.
number: 09584636
owner_city: Atlanta
owner_country: US
publication_date: 20151230
---
This application is a continuation of U.S. patent application Ser. No. 13 718 815 filed Dec. 18 2012 which is currently allowed and is herein incorporated by reference in its entirety.

The present disclosure relates generally to communication networks and more particularly to a method computer readable medium and apparatus for providing a dynamic in band service control mechanism in a mobile network e.g. in a 3G network a LTE long term evolution wireless network and the like.

With the introduction of LTE and wide availability of mobile broadband there is significant growth in mobile services and applications. These new mobile services and applications pose huge challenges and opportunities to mobile operators in terms of providing network management such as Quality of Service QoS and control. Traditionally mobile core network control is achieved by a policy control and charging PCC mechanism which is based on Internet Protocol IP flow at the network layer. However most of the mobile services such as Web Real Time Communication WebRTC need to be managed at the application level and these mobile services are mostly transactional and session based. In addition the time sensitive nature of these transactional services requires a very low latency management solution. The traditional flow based service control does not manage the session based service well.

In addition multiple ecosystems currently exist to support a diverse array of mobile applications. However these ecosystems have poor or no interactions with each other. Given the dynamic nature of the mobile environment it is difficult for these ecosystems to adapt to current conditions experienced by the mobile applications. This can lead to mobile applications not performing well when resources are not correctly allocated to meet the needs of the mobile application particularly in real time delay sensitive applications.

In one embodiment the present disclosure teaches a method computer readable medium and apparatus for transmitting signaling information within payload traffic. In addition the signaling information is transmitted within the user plane traffic flow instead of using out of band signaling as traditionally done. For example the method parses a certificate received from a service provider to obtain service imprint information associated with a mobile service inserts a service control parameter derived from the service imprint information into a packet header and forwards the packet header within payload traffic to a policy charging and enforcing function.

To facilitate understanding identical reference numerals have been used where possible to designate identical elements that are common to the figures.

The present disclosure broadly teaches a method computer readable medium and apparatus for providing a dynamic in band service control mechanism in a mobile network e.g. in a 3G network a LTE long term evolution wireless network and the like. Broadly the teachings of the present disclosure can be applied to any wireless networks e.g. 2G networks 3G networks 4G networks and the like.

The present disclosure provides an in band dynamic service control method that will enhance a mobile operator s ability to support a flexible charging model and provide a more dynamic and efficient service control including Quality of Service QoS over application level services such as web applications. The present method will be widely applicable to the control of mobile applications and services in general.

Web based services are dynamic and are often time sensitive. For example web based services often involve the transmission of a short burst of information such as a small banner advertisement ad associated with a transaction or an in time and on location transaction. These transactional services require an effective mechanism with extremely low latency in the mobile core network. The traditional out of band signaling method will not be able to keep up with the latency requirement of these transactional services. Another associated issue is the scalability in that out of band signaling method can be limited by the resource constraints in the signaling network elements.

To illustrate for a service sponsor use case e.g. a provider of web based content will sponsor or pay for the network resources that deliver the content to the end user a service provider will send the service related information through a common Application Programming Interface API gateway as part of an application function AF . The AF then converts the information into Diameter Attribute Value Pairs AVPs and then sends the information via standard PCC mechanism to the network to provide network resources to support the services such as bandwidth charging sponsor identification id QoS etc. that are required to deliver the service. However under the traditional mechanism the signaling traffics are separated from the user plane e.g. payload traffic. Thus this traditional mechanism is often referred to as an out of band signaling. This process works well with IP flow based services that are not time and delay sensitive.

The present disclosure provides an in band signaling method e.g. via hypertext transfer protocol HTTP header insertion to control application level services in a dynamic fashion with very low latency. In one embodiment the present disclosure provides a mechanism called the dynamic service control engine DSCE that inserts service control information in the user traffic plane e.g. in this case the HTTP headers and exchanges control information within the payload traffic itself. Thus the present method is referred to as in band signaling. 

As shown in in one embodiment the dynamic service control engine will operate with the application in the UE to insert header information e.g. application information related to the one or more mobile services that can be processed and enforced on the TDF traffic detection function or a HTTP proxy . An important aspect of is that the in band signaling shown in thinner lines will be in the same flow as the payload traffic e.g. bi directional uplink UL and downlink DL . In other words the in band signaling is provided within the user plane bearer. As illustrated in it is also important to note that the out of band signaling method can still be used in conjunction with the present in band signaling method as further described below.

In one alternate embodiment the UE will not have to install any special applications to process the in band signaling or to insert headers. Instead these functions will be performed in the PCEF so that there is no impact to the UEs. The PCEF will proxy the necessary functions for the UE .

In one embodiment the DSCE can be part of a HTTP proxy gateway or in another embodiment the DSCE can be part of the TDF or the different combinations of the two. In one embodiment the DSCE is acting both as a signaling function e.g. service information process insertion and enforcement function e.g. process traffic based on the service information .

Furthermore although method is discussed in the context of the various modules as depicted in the present disclosure is not so limited. In other words the modules of can be combined into a lesser amount of modules or even expanded into additional modules based on the requirement of a particular implementation.

Method starts in step and proceeds to step . In step the DSCE checks for a response for a signed manifest from a SP in a certificate e.g. an X.509 certificate. X.509 is an ITU T standard for a public key infrastructure PKI that employs a system of certificate authorities CAs for issuing certificates. A manifest can be signed with the signature becoming part of the manifest. Step is performed to ensure that the manifest received from the service provider SP is valid before the manifest is parsed and cached by the DSCE. Thus step is broadly an authentication step for authenticating the SP and any number of methods for performing authentication of the certificate can be performed and are within the scope of the present disclosure.

In step the DSCE parses service imprint information from the certificate. In one embodiment the service imprint information comprises various service control parameters pertaining to service control information associated with a mobile service or application. For example the various service control parameters may comprise a sponsor type a sponsor identification ID an application ID a duration a type of content a time a location an address an advertisement ID authorization parameters QoS and so on. It should be noted that the above list of service control parameters is not exhaustive. There could be numerous other service control parameters that are not listed. Again the service control parameters are intended to be used as signaling for use in controlling or providing the mobile service or application.

Using the service sponsor use case as an example the service parameters may define 1 the sponsor ID e.g. an ID representing a particular beverage company 2 the type of content that is sponsored e.g. a sports program 3 an advertisement ID e.g. the ID for the advertisement that will be played during the sports program in exchange for sponsoring the sports program to be transmitted to the subscriber 4 a duration e.g. the length of time for the sports program that is sponsored the various timestamps as to when the advertisement will be displayed 5 the location e.g. the location of subscriber receiving the sports program e.g. different regions may get different advertisements based on the location of the recipient of the transmitted content 6 the application ID e.g. the ID of the software application that will receive the sports program 7 the QoS e.g. whether the sports program will be transmitted in high definition mode and so on. Again it should be noted that the above example is only illustrative and not exhaustive. In sum the DSCE parses the service imprint information broadly a service signature from a service provider that was imbedded in the X.509 certificate.

In step the DSCE uses the service imprint information and inserts relevant service control parameters into one or more packet headers e.g. the HTTP headers. It should be noted that the reference to HTTP header is only an illustrative example and the present disclosure is applicable to any other packet protocol. Thus the signaling information is embedded into the user traffic plane.

In step the DSCE may optionally translate or convert the relevant service parameters into enforcement policies that will be enforced in the TDF or the HTTP proxy gateway e.g. PCEF . In other words the DSCE may have to perform a translation operation to generate enforcement policies consistent with the relevant service control parameters if necessary. If the HTTP proxy gateway e.g. PCEF is capable of performing this translation operation on its own then step can be deemed to be optional. It should be noted that the enforcement policies can be implemented at the TDF of the DSCE and or at the PCEF .

In step the DSCE may optionally cache the service imprint information. Namely the DSCE may cache the service imprint information extracted from the certificates for future transactions across the applicable user base. For example the DSCE may apply the service imprint information to other transactions for this subscriber or a group of subscribers based on a timer which can be set based on service level agreement SLA or other agreements between the various parties . In another embodiment this feature can also be set on the DSCE. Thus the caching of the service imprint information allows the DSCE to retain the service imprint information for a period of time so that the DSCE can continually provide mobile service to the subscriber and or a class of users that includes the subscriber. For example the subscriber may attempt to access certain functions on the uplink direction and the cached service imprint information will allow the DSCE to determine how to address the subscriber s service requests in accordance with the cached service imprint information.

In step the DSCE forwards the modified packet headers with the embedded relevant service control parameters and any enforceable policies if any to the PCEF .

In step the PCEF applies the enforceable policies and or remove the service control parameters from the one or more packet headers. For example the PCEF may use layer deep packet inspection DPI and may use the information contained in the packet headers to classify the packet traffic such as using a sponsor ID service ID etc. for policy control and charging treatment. In one embodiment the PCEF will enforce and strip the extra inserted header information from the packet headers. This will avoid any impacts to the UE that may not be configured to process the extra inserted header information. Thus in one embodiment the downlink signaling will be executed internal to the PCEF and the PCEF will process the uplink header information and enforce the uplink traffic as well as downlink traffic consistent with the relevant service parameters.

In an alternative embodiment as shown in the UE may have the necessary applications to address the extra inserted header information in the packet headers by itself with respect to certain service control parameters. In fact in one embodiment the UE may actually have the capability of performing header information insertion as illustrated in .

In step the PCEF forwards the packet headers to the UE. The packet headers may or may not contain the extra inserted header information depending on the implementation i.e. based on the capability of the UEs that are receiving the packet headers.

In step the UE may optionally apply the relevant service control parameters. For example if the UE has the proper application to process the extra inserted header information then it may operate in accordance with the relevant service parameters. For example the application on the UE may operate to provide certain statistical information back to the service provider that provided the sponsored sports program as a condition of receiving the sports program without having to pay a fee. Alternatively the application on the UE can switch to non sponsored header based on an error response such as missing sponsored data information and the like.

However in one embodiment step is deemed to be optional since the UE may not be loaded with any special application. If that is the case the PCEF would have stripped the extra inserted header information from the packet headers before the packet headers are sent to the UE. This alternative embodiment would therefore allow existing UEs to continue to operate in the current state without the need for loading any special application while enjoying the benefit of the present dynamic in band service control mechanism.

It should be noted that although not specifically specified one or more steps or operations of method may include a storing displaying and or outputting step as required for a particular application. In other words any data records fields and or intermediate results discussed in each of the respective methods can be stored displayed and or outputted to another device as required for a particular application. Furthermore steps blocks or operations in that recite a determining operation or involve a decision do not necessarily require that both branches of the determining operation be practiced. In other words one of the branches of the determining operation can be deemed as an optional step.

It should be noted that the teachings of the present disclosure can be implemented in software and hardware e.g. using application specific integrated circuits ASIC a general purpose computer or any other hardware equivalents e.g. computer readable instructions pertaining to the method s discussed above can be used to configure a hardware processor to perform operations of the above disclosed methods. For example a computer readable medium may be in communication with the processor where the computer readable medium having stored thereon a plurality of instructions which when executed by the hardware processor cause the hardware processor to perform the operations e.g. method as disclosed above. It should be noted that the processor can be configured or programmed to cause other devices to perform one or more operations as discussed above. In other words the processor may serve the function of a central controller directing other devices to perform the one or more operations as discussed above. Furthermore the operations as disclosed in the above method can be implemented in a plurality of different hardware elements e.g. the UE PCEF and DSCE can all be deployed in separate hardware systems that are distinct from each other.

In one embodiment the present module or process for providing dynamic in band service control mechanism in a wireless network can be implemented as computer executable instructions e.g. a software program comprising computer executable instructions and loaded into memory and executed by the hardware processor to implement the steps functions or operations as discussed above. As such the present method for providing dynamic in band service control mechanism in a wireless network including associated data structures of the present disclosure can be stored on a non transitory e.g. tangible or physical computer readable storage medium e.g. RAM memory magnetic or optical drive or diskette and the like.

While various embodiments have been described above it should be understood that they have been presented by way of example only and not limitation. Thus the breadth and scope of a preferred embodiment should not be limited by any of the above described exemplary embodiments but should be defined only in accordance with the following claims and their equivalents.

