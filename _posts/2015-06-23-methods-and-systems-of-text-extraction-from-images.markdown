---

title: Methods and systems of text extraction from images
abstract: A method for extracting text from an image data is disclosed. The method includes pre-processing, via a processor, the image data to obtain a readable image data. The method further includes filtering, via the processor, a plurality of copies of the readable image data using a plurality of noise filters to obtain a corresponding plurality of noise removed images. Yet further, the method includes performing, via the processor, image data recognition on each of the plurality of noise removed images to obtain a text copy associated with each of the plurality of noise removed images. Moreover, the method includes ranking, via the processor, each word in the text copy associated with each of the plurality of noise removed images based on a predefined set of parameters. Finally, the method includes selecting, via the processor, highest ranked words within the text copy associated with each of the plurality of noise removed images to obtain output text for the image data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09412052&OS=09412052&RS=09412052
owner: WIPRO LIMITED
number: 09412052
owner_city: Bangalore
owner_country: IN
publication_date: 20150623
---
This U.S. patent application claims priority under 35 U.S.C. 119 to India Application No. 1303 CHE 2015 filed on Mar. 16 2015. The entire contents of the aforementioned application are incorporated herein by reference.

This disclosure relates generally to text extraction and more particularly to methods and systems for text extraction from images.

Digital images are captured for example using cameras digital video recorders or scanners and include a variety of content for example textual content. The textual content in an image may include text of varying size orientation and typeface. When there is a need to extract textual content from the images Optical Character Recognition OCR tools are used which process images with printed text to obtain the textual content.

The conventional OCR tools are effective for extracting textual content from clear images i.e. images without any noise. However these conventional OCR tools are not effective in extracting textual content from an image with noise. For example an image with handwritten characters example a hand drawn circle mark on a printed text an image of a paper document with a smudge mark caused by a spill out and a faded text on an image example a faded thermal print . Using these conventional OCR tools to extract textual content from images with noise results in erroneous text. For example special characters may be returned in place of noisy text in an image. Moreover the conventional OCR tools require special training with samples of noisy images before they can be used for extraction of text.

In one embodiment a method for extracting text from an image data is disclosed. The method includes pre processing via a processor the image data to obtain a readable image data. The method further includes filtering via the processor a plurality of copies of the readable image data using a plurality of noise filters to obtain a corresponding plurality of noise removed images. Yet further the method includes performing via the processor image data recognition on each of the plurality of noise removed images to obtain a text copy associated with each of the plurality of noise removed images. Moreover the method includes ranking via the processor each word in the text copy associated with each of the plurality of noise removed images based on a predefined set of parameters. Finally the method includes selecting via the processor highest ranked words within the text copy associated with each of the plurality of noise removed images to obtain the output text for the image data.

In another embodiment a system for extracting text from an image data is disclosed. The system includes a processor configured to pre process the image data to obtain a readable image data. The processor is further configured to filter a plurality of copies of the readable image data using a plurality of noise filters to obtain a corresponding plurality of noise removed images. Yet further the processor is configured to perform image data recognition on each noise removed image to obtain a text copy associated with each noise removed image. Moreover the processor is configured to rank each word in the text copy associated with each noise removed image based on a predefined set of parameters. Finally the processor is configured to select highest ranked words within the text copy associated with each noise removed image to obtain the output text for the image data.

In yet another embodiment a non transitory computer readable storage medium for extracting text from an image data is disclosed such that when executed by a computing device the non transitory computer readable storage medium cause the computing device to pre process the image data to obtain a readable image data filter a plurality of copies of the readable image data using a plurality of noise filters to obtain a corresponding plurality of noise removed images perform image data recognition on each noise removed image to obtain a text copy associated with each noise removed image rank each word in the text copy associated with each noise removed image based on a predefined set of parameters and select highest ranked words within the text copy associated with each noise removed image to obtain output text for the image data.

It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory only and are not restrictive of the invention as claimed.

Exemplary embodiments are described with reference to the accompanying drawings. Wherever convenient the same reference numbers are used throughout the drawings to refer to the same or like parts. While examples and features of disclosed principles are described herein modifications adaptations and other implementations are possible without departing from the spirit and scope of the disclosed embodiments. It is intended that the following detailed description be considered as exemplary only with the true scope and spirit being indicated by the following claims.

Referring now to a system for extracting text from images is illustrated in accordance with an embodiment. In particular system is configured to extract text from images with noise without requiring any special training. System includes one or more processors for example a processor a storage medium e.g. a memory and a display . Storage medium stores instructions that when executed by the one or more processors cause the one or more processors to extract text from images in accordance with various embodiments. In an embodiment storage medium may be a computer readable medium. System interacts with users through a user interface accessible to the users via display .

Thereafter at the plurality of copies of the readable image data are filtered using a plurality of noise filters to obtain a corresponding plurality of noise removed images. The plurality of noise filters work in parallel such that a particular noise filter performs filtering action on one copy of the readable image data. By way of an example five copies of a readable image are created. In this case five different noise filters will be used to filter these five copies such that one noise filter is employed for one copy of the readable image. A particular noise filter will output one noise removed image thus resulting in five noise removed images in all. In an alternate embodiment one or more noise filters may be employed in series such that they perform filtering action on a copy of the readable image data one after another. A noise filter for example may include but is not limited to an erode filter a dilation filter a bitwise Not filter a contour filter a decomposition filter and a threshold filter.

Thereafter at image data recognition is performed on each of the plurality of noise removed images to obtain a text copy associated with each of the plurality of noise removed images. The image data recognition is performed in parallel on each of the plurality of noise removed images. In other words one text copy is obtained for a particular noise removed image. In continuation of the example given above when image data recognition is performed on the five noise removed images five different text copies are obtained such that a particular text copy is obtained for a given noise removed image. In an embodiment a text copy may be obtained in various formats which may include but are not limited to a multi dimensional text format that may be represented as Image index Word index Word . The multi dimensional text format is explained in further detail in conjunction with below. The image data recognition may be performed via Optical Character Recognition OCR tools. Examples of the OCR tools may include but are not limited to Tesseract OpenCV Adobe Acrobat OmniPage ABBYY FineReader Readiris and Microsoft OneNote .

In an embodiment apart from the textual content image data also includes faces and objects. In this embodiment the image data recognition further includes performing face recognition and object recognition for the image data. Face recognition may be performed using face recognition tools which may include but are not limited to OpenBR and OpenCV . Further object recognition may be performed using object recognition tools which may include but are not limited to TINA and OpenCV .

After a text copy has been obtained at each word in the text copy associated with each of the plurality of noise removed images is ranked based on a predefined set of parameters. In continuation of the example given above each word in the five text copies associated with the five noise removed images is ranked. The number of words is same in all the five text copies. The ranking is performed based on position of the word in the five text copies. For example the process starts with ranking the first word in each of the five text copies. Then the second word in each of the five text copies is ranked. This is repeated until all words in the five text copies are ranked.

The predefined set of parameters for a word may include a string distance of the word across text copies associated with each of the plurality of noise removed images. The string distance may be calculated using a distance algorithm for example the Levenshtein distance algorithm. The Levenshtein distance is a string metric for measuring the difference between two sequences. The Levenshtein distance between two words is the minimum number of single character edits i.e. insertions deletions or substitutions required to change one word into the other. The predefined set of parameters may further include a word index associated with the word. The word index is representative of a position of the word across the text copies. This is further explained in detail in conjunction in below.

Finally at the highest ranked words within the text copy associated with each of the plurality of noise removed images are selected to obtain the output text for the image data. Thereafter all the selected words may be consolidated to produce the output text. In continuation of the example given above the highest ranked words in the five text copies are selected to obtain output text. Firstly the highest ranked first word across all the five text copies is selected as the first word for the output text. Similarly the highest ranked second word across all the five text copies is selected as the second word for the output text. This is repeated until all words are selected for the output text. In an embodiment this may be achieved by sorting the ranks per each word in an ascending order and then for each word choosing the word on the top of the sorted list for the output text.

Referring now to a method for extracting text from an image data is illustrated in accordance with another embodiment. An image data is received which is an image that includes textual content along with some noise. The noise for example may include but are not limited to handwritten characters on a printed text smudge marks on a printed text caused by a spill out and faded text characters. To extract text from such an image data at the image data is pre processed to obtain a readable image data. The pre processing includes tilting the image data. The image data may be tilted in steps of a predefined angle of rotation until the text is readable. For example the image data may be rotated by 30 degrees. If the text is not readable even after the rotation then the image data is again rotated by 30 degrees. This is repeated until the text is readable. The angle of rotation may be varied as required.

When the corners of the image data are not aligned the pre processing may further include adjusting the corners. The corners may be adjusted by subjecting the image data to a plurality of movements which may include but are not limited to left to right movement right to left movement top to bottom movement and bottom to top movement. If the image data is a colored image the pre processing may further include inverting the image data from a colored image to a grayscale image to make it more readable. Further if the background in the image data is dark the pre processing may further include adjusting the gray scale of the image data. The pre processing may also include adjusting the brightness of the image data based on an optimum brightness threshold of the image data. Moreover if the Dots Per Inch DPI of the image data does not match a default value the pre processing may include adjusting the DPI such that it matches the default value. For example the default value for the DPI may be 300 DPI.

Thereafter at a plurality of copies of the readable image data is obtained. The number of copies of the readable image data obtained may be determined based on the number of noise filters available for use. Then at the plurality of copies of the readable image data are filtered using a plurality of noise filters to obtain a corresponding plurality of noise removed images. This has been explained in detail in conjunction with above.

The plurality of noise removed images are then stored at after which at image data recognition is performed on each of the plurality of noise removed images to obtain a text copy associated with each of the plurality of noise removed images. Performing image data recognition further includes generating a multi dimensional text format at corresponding to the text copy obtained for each of the plurality of noise removed images. The multi dimensional text format is further explained in detail in conjunction with below.

Thereafter at each word in the text copy associated with each of the plurality of noise removed images is ranked based on a predefined set of parameters. Further the ranking includes using the distance algorithm to weigh each word by the word index such that the highest fit words are ranked as highest numerical rank value. This has been explained in detail in conjunction with above. Finally at the highest ranked words within the text copy associated with each of the plurality of noise removed images are selected to obtain the output text for the image data. This has been explained in detail in conjunction with above.

First a hard copy of a document is scanned using a scanner to obtain a scanned image of hard copy . Hard copy includes printed textual content with some noise such as handwritten characters a smudge caused by a spill out or faded print of the textual content. Then scanned image is inputted to pre processing module which processes scanned image in order to obtain a readable image. To this end pre processing module further includes a tilting module a corner adjustment module a brightness adjustment module an inverting module and a gray scale adjustment module .

Tilting module tilts scanned image in steps of a predefined angle of rotation until the text is readable. Corner adjustment module adjusts the corners if the corners of scanned image are not aligned. Moreover to produce a more readable image data brightness adjustment module adjusts the brightness of scanned image based on an optimum brightness threshold inverting module inverts scanned image from a colored image to a grayscale image and gray scale adjustment module adjusts the gray scale of scanned image when its background is dark.

Thereafter a plurality of copies of the readable image are provided to filter module . Filter module then filters the plurality of copies using a plurality noise filters to obtain a corresponding plurality noise removed images. When required additional noise filters may be included in filter module . Alternatively one or more noise filters in filter module may be removed. The plurality of noise removed images are then sent to image data recognition module which performs image data recognition on each of the plurality of noise removed images to obtain a text copy associated with each of the plurality of noise removed images. In an embodiment the image data recognition operation further comprises the operations of optical character recognition face recognition and object recognition in the image data.

Thereafter ranking module ranks each word in the text copy associated with each of the plurality of noise removed images based on a predefined set of parameters. The predefined set of parameters for a word include the string distance of the word across text copies associated with each of the plurality of noise removed images and a word index associated with the word. Ranking module may use the Levenshtein distance algorithm to calculate the string distance of the word across the text copies. Selecting module then selects the highest ranked words within the text copy associated with each of the plurality of noise removed images to obtain an output text for the image data. In an embodiment the above described functionalities of modules within text extraction module are performed by the one or more processors within system .

The first line Here comes the Optimus Prime includes five words. The second line While I function Earth is under my protection includes eight words. Image data also includes some hand drawn characters which act as noise during the text extraction process. First image data is pre processed to obtain a readable image data and five copies of the readable image data are filtered using five noise filters to obtain corresponding five noise removed images. Thereafter OCR is performed on each of the five noise removed images to obtain a text copy associated with each of the five noise removed images. A data table corresponds to the first line Here comes the Optimus Prime and includes five rows i.e. a row a row a row a row and a row . Each of these five rows corresponds to a noise removed image referred to as an Image Index in the respective row header. For example row has the row header Image Index 1 and refers to the first noise removed image. Similarly row refers to the second noise removed image row refers to the third noise removed image row refers to the fourth noise removed image and row refers to the fifth noise removed image. Further each row includes a text copy associated with the particular noise removed image as indicated by the corresponding Image Index .

Accordingly row includes the first text copy associated with the first noise removed image which is represented as Tlere Oomes Thy Optinus Prime . Each cell in row includes a word in the first text copy. In other words the first cell in row after the row header includes the word Tlere the second cell includes the word Oomes the third cell includes the word Thy the fourth cell includes the word Optinus and the fifth cell includes the word Prime . Similarly the remaining four text copies are included in rows .

Further data table includes five columns i.e. a column a column a column a column and a column . Each column corresponds to a particular word referred to as a Word Index in the column header. The Word Index is representative of a position of the word in a line. For example the first line Here comes the Optimus Prime includes five words therefore five word indexes will be used for the first line namely Word Index 1 Word Index 2 Word Index 3 Word Index 4 and Word Index 5 . Column has the column header Word Index 1 and refers to the first word in the first line. Similarly column refers to the second word in the first line column refers to the third word in the first line column refers to the fourth word in the first line and column refers to the fifth word in the first line. Further each column includes a word based on the word index across the five text copies. Accordingly column includes the first word across the five text copies Tlere row Ilere row Here row Tieie row and Here row .

In a similar fashion data table corresponds to the second line i.e. While I function Earth is under my protection and includes five rows i.e. a row a row a row a row and a row . Further data table includes eight columns i.e. a column a column a column a column a column a column a column and a column . Each of five rows include a text copy associated with a noise removed image and each column corresponds to a Word index . This has been described in detail in conjunction with the data table above. Data table and data table are multi dimensional text format Image index Word index Word representation of the five text copies obtained after OCR is performed.

Next each word in the five text copies is ranked based on a predefined set of parameters. The predefined set of parameters for a word include the string distance of the word across text copies associated with each of the five noise removed images and a word index associated with the word. The string distance is calculated using the Levenshtein distance algorithm.

Referring back to data table the Levenshtein distance algorithm is applied separately for each word across the five text copies. With reference specifically to first word of the first line i.e. Here column includes the first word across the five text copies i.e. Tlere row Ilere row Here row Tieie row and Here row . The result obtained on application of the Levenshtein distance algorithm to the first word in column across the five text copies is depicted in a data table . Data table includes five rows i.e. a row a row a row a row and a row . Further data table includes five columns i.e. a column a column a column a column and a column . As shown in data table both the row header and the column header include the first word from the five text copies. Further data table includes an additional column titled Count of Zeros .

For each word in data table the Levenshtein distance is determined. The Levenshtein distance between two words is defined as the minimum number of single character edits i.e. insertions deletions or substitutions required to change one word into the other. For example for a cell the Levenshtein distance is zero as the words in the header of column and the header of row are exactly same i.e. Tlere . However for a cell the Levenshtein distance is one as one character T needs to be changed to l to convert the word Tlere as given in the header of row to Ilere as given in the header of column . Similarly the Levenshtein distance is determined for the remaining cells formed by the rows and the columns . Thereafter the number of zeros is counted for each row and the number obtained is included in column . Each of row row and row has one zero and each of row and row has two zeros. Thus rows and have the highest number of zeros and each of rows and correspond to the same word i.e. Here . Therefore the word Here is highest ranked word. Accordingly the word Here is selected as the first word for the output text. A similar process is repeated for remaining words. Finally the output text reads Here comes the Optimus Prime . Similarly for the second line the output text reads While I function Earth is under my protection .

Processor may be disposed in communication with one or more input output I O devices via an I O interface . I O interface may employ communication protocols methods such as without limitation audio analog digital monoaural RCA stereo IEEE 1394 serial bus universal serial bus USB infrared PS 2 BNC coaxial component composite digital visual interface DVI high definition multimedia interface HDMI RF antennas S Video VGA IEEE 802.n b g n x Bluetooth cellular e.g. code division multiple access CDMA high speed packet access HSPA global system for mobile communications GSM long term evolution LTE WiMax or the like etc.

Using I O interface computer system may communicate with one or more I O devices. For example an input device may be an antenna keyboard mouse joystick infrared remote control camera card reader fax machine dongle biometric reader microphone touch screen touchpad trackball sensor e.g. accelerometer light sensor GPS gyroscope proximity sensor or the like stylus scanner storage device transceiver video device source visors etc. An output device may be a printer fax machine video display e.g. cathode ray tube CRT liquid crystal display LCD light emitting diode LED plasma or the like audio speaker etc. In some embodiments a transceiver may be disposed in connection with processor . Transceiver may facilitate various types of wireless transmission or reception. For example transceiver may include an antenna operatively connected to a transceiver chip e.g. Texas Instruments WiLink WL1283 Broadcom BCM4750IUB8 Infineon Technologies X Gold 618 PMB9800 or the like providing IEEE 802.11a b g n Bluetooth FM global positioning system GPS 2G 3G HSDPA HSUPA communications etc.

In some embodiments processor may be disposed in communication with a communication network via a network interface . Network interface may communicate with communication network . Network interface may employ connection protocols including without limitation direct connect Ethernet e.g. twisted pair 50 500 5000 Base T transmission control protocol internet protocol TCP IP token ring IEEE 802.11a b g n x etc. Communication network may include without limitation a direct interconnection local area network LAN wide area network WAN wireless network e.g. using Wireless Application Protocol the Internet etc. Using network interface and communication network computer system may communicate with devices and . These devices may include without limitation personal computer s server s fax machines printers scanners various mobile devices such as cellular telephones smartphones e.g. Apple iPhone Blackberry Android based phones etc. tablet computers eBook readers Amazon Kindle Nook etc. laptop computers notebooks gaming consoles Microsoft Xbox Nintendo DS Sony PlayStation etc. or the like. In some embodiments computer system may itself embody one or more of these devices.

In some embodiments processor may be disposed in communication with one or more memory devices e.g. RAM ROM etc. via a storage interface . Storage interface may connect to memory devices including without limitation memory drives removable disc drives etc. employing connection protocols such as serial advanced technology attachment SATA integrated drive electronics IDE IEEE 1394 universal serial bus USB fiber channel small computer systems interface SCSI etc. The memory drives may further include a drum magnetic disc drive magneto optical drive optical drive redundant array of independent discs RAID solid state memory devices solid state drives etc.

Memory devices may store a collection of program or database components including without limitation an operating system a user interface application a web browser a mail server a mail client a user application data e.g. any data variables or data records discussed in this disclosure etc. Operating system may facilitate resource management and operation of the computer system . Examples of operating system include without limitation Apple Macintosh OS X Unix Unix like system distributions e.g. Berkeley Software Distribution BSD FreeBSD NetBSD OpenBSD etc. Linux distributions e.g. Red Hat Ubuntu Kubuntu etc. IBM OS 2 Microsoft Windows XP Vista 7 8 etc. Apple iOS Google Android Blackberry OS or the like. User interface may facilitate display execution interaction manipulation or operation of program components through textual or graphical facilities. For example user interfaces may provide computer interaction interface elements on a display system operatively connected to computer system such as cursors icons check boxes menus scrollers windows widgets etc. Graphical user interfaces GUIs may be employed including without limitation Apple Macintosh operating systems Aqua IBM OS 2 Microsoft Windows e.g. Aero Metro etc. Unix X Windows web interface libraries e.g. ActiveX Java Javascript AJAX HTML Adobe Flash etc. or the like.

In some embodiments computer system may implement web browser stored program component. Web browser may be a hypertext viewing application such as Microsoft Internet Explorer Google Chrome Mozilla Firefox Apple Safari etc. Secure web browsing may be provided using HTTPS secure hypertext transport protocol secure sockets layer SSL Transport Layer Security TLS etc. Web browsers may utilize facilities such as AJAX DHTML Adobe Flash JavaScript Java application programming interfaces APIs etc. In some embodiments computer system may implement mail server stored program component. Mail server may be an Internet mail server such as Microsoft Exchange or the like. The mail server may utilize facilities such as ASP ActiveX ANSI C C Microsoft .NET CGI scripts Java JavaScript PERL PHP Python WebObjects etc. The mail server may utilize communication protocols such as internet message access protocol IMAP messaging application programming interface MAPI Microsoft Exchange post office protocol POP simple mail transfer protocol SMTP or the like. In some embodiments computer system may implement mail client stored program component. Mail client may be a mail viewing application such as Apple Mail Microsoft Entourage Microsoft Outlook Mozilla Thunderbird etc.

In some embodiments computer system may store user application data such as the data variables records etc. as described in this disclosure. Such databases may be implemented as fault tolerant relational scalable secure databases such as Oracle or Sybase. Alternatively such databases may be implemented using standardized data structures such as an array hash linked list struct structured text file e.g. XML table or as object oriented databases e.g. using ObjectStore Poet Zope etc. . Such databases may be consolidated or distributed sometimes among the various computer systems discussed above in this disclosure. It is to be understood that the structure and operation of the any computer or database component may be combined consolidated or distributed in any working combination.

It will be appreciated that for clarity purposes the above description has described embodiments of the invention with reference to different functional units and processors. However it will be apparent that any suitable distribution of functionality between different functional units processors or domains may be used without detracting from the invention. For example functionality illustrated to be performed by separate processors or controllers may be performed by the same processor or controller. Hence references to specific functional units are only to be seen as references to suitable means for providing the described functionality rather than indicative of a strict logical or physical structure or organization.

Various embodiments disclose methods and systems for extracting text from an image data. The image data is pre processed to obtain a readable image data. Then a plurality of copies of the readable image data are filtered to obtain noise removed images. Next image data recognition is performed on the noise removed images to obtain corresponding text copies. Each word in the text copy is ranked and the highest ranked words are selected to obtain output text for the image data. The disclosed method increases the chances of extracting high quality output text without requiring any special training. The system is portable easy to use and flexible. Further the system is not dependent on any specific hardware. Moreover the disclosed methods and systems are not just limited to extracting text they can be used for face and object recognition as well.

The specification has described methods and systems for text extraction from images. The illustrated steps are set out to explain the exemplary embodiments shown and it should be anticipated that ongoing technological development will change the manner in which particular functions are performed. These examples are presented herein for purposes of illustration and not limitation. Further the boundaries of the functional building blocks have been arbitrarily defined herein for the convenience of the description. Alternative boundaries can be defined so long as the specified functions and relationships thereof are appropriately performed. Alternatives including equivalents extensions variations deviations etc. of those described herein will be apparent to persons skilled in the relevant art s based on the teachings contained herein. Such alternatives fall within the scope and spirit of the disclosed embodiments.

Furthermore one or more computer readable storage media may be utilized in implementing embodiments consistent with the present disclosure. A computer readable storage medium refers to any type of physical memory on which information or data readable by a processor may be stored. Thus a computer readable storage medium may store instructions for execution by one or more processors including instructions for causing the processor s to perform steps or stages consistent with the embodiments described herein. The term computer readable medium should be understood to include tangible items and exclude carrier waves and transient signals i.e. be non transitory. Examples include random access memory RAM read only memory ROM volatile memory nonvolatile memory hard drives CD ROMs DVDs flash drives disks and any other known physical storage media.

It is intended that the disclosure and examples be considered as exemplary only with a true scope and spirit of disclosed embodiments being indicated by the following claims.

