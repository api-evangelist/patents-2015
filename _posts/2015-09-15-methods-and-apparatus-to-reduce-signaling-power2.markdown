---

title: Methods and apparatus to reduce signaling power
abstract: System, methods and apparatus are described that reduce the power consumed by a multi-level encoded communications link. In one example, different logic states of a 4-level pulse amplitude modulation encoded transmission consume greater power than other logic states. The fraction of primary bits in a first logic state in multi-bit data symbols may determine whether the primary bits are inverted prior to transmission. The fraction of secondary bits in the first logic state in the multi-bit data symbols may determine whether the secondary bits are inverted prior to transmission. The primary bits may be swapped with the secondary bits is more secondary bits are in the first logic state than primary bits in the first logic state.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09621385&OS=09621385&RS=09621385
owner: QUALCOMM Incorporated
number: 09621385
owner_city: San Diego
owner_country: US
publication_date: 20150915
---
This application is a continuation of U.S. non provisional patent application Ser. No. 14 089 683 filed in the United States Patent and Trademark Office on Nov. 25 2013 the entire content of which is incorporated herein by reference for all applicable purposes.

The present disclosure relates generally to high speed data communications interfaces and more particularly to pulse amplitude modulation encoded data communication links.

Manufacturers of mobile devices such as cellular phones may deploy various electronic components in one or more integrated circuit IC devices and or on one or more circuit boards. The electronic components may include processing devices storage devices communications transceivers display drivers and the like. In one example a processing device may be provided on a printed circuit board PCB and may communicate with one or more memory devices on the same PCB and or on a different PCB. The processor may communicate with the memory devices using a high speed communications link that supports unidirectional and bidirectional channels for data and control signals.

In a multi wire interface the power consumption associated with a communications link can be significant in relation to a power budget available in a mobile wireless device. The power consumed by the communications link may be determined to some extent by one or more of bus width driver types used to transmit data on a transmission line geometry and structure of the transmission line encoding format frequency of switching logic states which may be defined by voltage and current levels of an encoding scheme and so on.

Embodiments disclosed herein provide systems methods and apparatus that can reduce power consumption in a data communications link. Power consumption may be reduced by limiting the number of occurrences of a high power encoding state in a primary bit or a secondary bit of a multi bit data symbol. The primary bit may be a bit of the multi bit data symbol that has one or more signaling states which draw more power than the signaling states of other bits of the multi bit data symbol and the secondary bit may be another bit of the multi bit data symbol which has signaling states that draw more power than the remaining bits of the multi bit data symbol other than the primary bit. In some examples the primary bit may be the most significant bit MSB or the least significant bit LSB of the multi bit data symbol and the secondary bit of the multi bit data symbol may be any of a plurality of bits associated with the multi bit data symbol other than the primary bit.

In an aspect of the disclosure a method for data communications includes determining a first fraction corresponding to a proportion of primary bits of a plurality of input data symbols that are in a first logic state and a second fraction corresponding to a proportion of secondary bits of the plurality of input data symbols that are in the first logic state generating transmission symbols from the plurality of input data symbols and providing the transmission symbols to one or more multi state encoders configured to encode the transmission symbols as multi level transmission symbols for transmission on a communications link. More power may be required to transmit a primary bit in the first logic state than to transmit a secondary bit in the first logic state. Primary bits of the transmission symbols may be derived from the secondary bits of the plurality of input data symbols and secondary bits of the transmission symbols may be derived from the primary bits of the plurality of input data symbols when the second fraction is greater than a half and greater than the first fraction.

In an aspect of the disclosure generating transmission symbols from the plurality of input data symbols includes inverting the primary bits of the input data symbols when the first fraction is greater than a half and inverting the secondary bits of the input data symbols when the second fraction is greater than a half.

In an aspect of the disclosure generating transmission symbols from the plurality of input data symbols includes inverting the primary bits of the transmission symbols when the first fraction is greater than a half or the second fraction is greater than a half.

In an aspect of the disclosure the primary bits and secondary bits are binary encoded bits of a multi bit data symbol and wherein more power may be required to transmit a binary encoded bit in the first logic state than to transmit a binary encoded bit in a second logic state.

In an aspect of the disclosure a sequence of the transmission symbols may be transmitted on a connector of the communications link. The transmission symbols may be transmitted in parallel on the communications link.

In an aspect of the disclosure an encoding indicator signal may be provided to one of the one or more multi state encoders to obtain a multi level encoding indicator signal indicating whether the primary bits of the transmission symbols correspond to the secondary bits of the input data symbols and the secondary bits of the transmission symbols correspond to the primary bits of the input data symbols. The the multi level encoding indicator signal and the multi level transmission symbols may be transmitted in parallel in one transmission clock cycle on the communications link. The multi level encoding indicator signal may indicate whether the primary bits of the transmission symbols are inverted. The multi level encoding indicator signal may indicate whether the secondary bits of the transmission symbols are inverted. The one or more multi state encoders may encode each of the transmission symbols as one of at least three voltage or current levels. The one or more multi state encoders may encode each of the transmission symbols for transmission on a pulse amplitude modulated communications link.

In an aspect of the disclosure an apparatus includes means for determining a fraction of primary bits of a plurality of multi bit data symbols that are in a first logic state and means for providing transmission symbols to a multi state encoder. More power may be required to transmit a primary bit in the first logic state than a primary bit in a second logic state. More power may be required to transmit the primary bit in the first logic state than to transmit a secondary bit in any logic state. Each transmission symbol may include an inverted version of the primary bit of a corresponding one of the plurality of multi bit data symbols when the fraction of primary bits is greater than a half. The multi state encoder may be configured to encode each of the plurality of multi bit data symbols as one of at least three voltage or current levels on a communications link.

In an aspect of the disclosure an apparatus includes a multi state encoder configured to encode each of a plurality of multi bit data symbols as one of at least three voltage or current levels on a communications link a plurality of multi state transmitter circuits configured to receive a set of transmission symbols from the multi state encoder and a processing circuit. The processing circuit may be configured to determine a fraction of primary bits of a plurality of multi bit data symbols that are in a first logic state and provide the transmission symbols to the multi state encoder. More power may be required to transmit a primary bit in the first logic state than a primary bit in a second logic state. More power may be required to transmit the primary bit in the first logic state than to transmit a secondary bit in any logic state. Each transmission symbol may include an inverted version of the primary bit of a corresponding one of the plurality of multi bit data symbols when the fraction of primary bits is greater than a half.

In an aspect of the disclosure a processor readable storage medium has one or more instructions. The instructions may be executed by one or more processing circuits and may cause the one or more processing circuits to determine a fraction of primary bits of a plurality of multi bit data symbols that are in a first logic state and provide transmission symbols to a multi state encoder. More power may be required to transmit a primary bit in the first logic state than a primary bit in a second logic state. More power may be required to transmit the primary bit in the first logic state than to transmit a secondary bit in any logic state. Each transmission symbol may include an inverted version of the primary bit of a corresponding one of the plurality of multi bit data symbols when the fraction of primary bits is greater than a half. The multi state encoder may be configured to encode each of the plurality of multi bit data symbols as one of at least three voltage or current levels on a communications link.

In an aspect of the disclosure a method includes decoding a multi level encoding indicator signal received from a communications link to provide a plurality of control signals selectively inverting a primary bit of data symbols decoded from one or more signals received from the communications link based on a first of the plurality of control signals selectively inverting a secondary bit of the data symbols based on a second of the plurality of control signals and selectively swapping the primary bit and the secondary bit based on a third of the plurality of control signals. More power may be required to transmit a primary bit or secondary bit in a first logic state than in a second logic state.

In an aspect of the disclosure an apparatus includes means for determining a first fraction corresponding to a proportion of primary bits of a plurality of input data symbols that are in a first logic state and a second fraction corresponding to a proportion of secondary bits of the plurality of input data symbols that are in the first logic state means for generating transmission symbols from the plurality of input data symbols and means for providing the transmission symbols to one or more multi state encoders configured to encode the transmission symbols as multi level transmission symbols for transmission on a communications link. More power may be required to transmit a primary bit in the first logic state than to transmit a secondary bit in the first logic state. Primary bits of the transmission symbols may be derived from the secondary bits of the plurality of input data symbols and secondary bits of the transmission symbols may be derived from the primary bits of the plurality of input data symbols when the second fraction is greater than a half and greater than the first fraction.

In an aspect of the disclosure transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the input data symbols when the first fraction is greater than a half and inverting the secondary bits of the input data symbols when the second fraction is greater than a half. In one example the transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the transmission symbols when the first fraction is greater than a half or the second fraction is greater than a half.

In an aspect of the disclosure an apparatus includes a multi state decoder configured to decode a multi level encoding indicator signal received from a communications link and to provide a plurality of control signals extracted from the encoding indicator signal and a processing circuit. The processing circuit may be configured to determine a first fraction corresponding to a proportion of primary bits of a plurality of input data symbols that are in a first logic state and a second fraction corresponding to a proportion of secondary bits of the plurality of input data symbols that are in the first logic state generate transmission symbols from the plurality of input data symbols and provide the transmission symbols to one or more multi state encoders configured to encode the transmission symbols as multi level transmission symbols for transmission on a communications link. More power may be required to transmit a primary bit in the first logic state than to transmit a secondary bit in the first logic state. Primary bits of the transmission symbols may be derived from the secondary bits of the plurality of input data symbols and secondary bits of the transmission symbols may be derived from the primary bits of the plurality of input data symbols when the second fraction is greater than a half and greater than the first fraction.

In an aspect of the disclosure transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the input data symbols when the first fraction is greater than a half and inverting the secondary bits of the input data symbols when the second fraction is greater than a half. In one example the transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the transmission symbols when the first fraction is greater than a half or the second fraction is greater than a half.

In an aspect of the disclosure a processor readable storage medium has or maintains one or more instructions. The one or more instructions may be executed by at least one processing circuit. The one or more instructions may cause the at least one processing circuit to determine a first fraction corresponding to a proportion of primary bits of a plurality of input data symbols that are in a first logic state and a second fraction corresponding to a proportion of secondary bits of the plurality of input data symbols that are in the first logic state generate transmission symbols from the plurality of input data symbols and provide the transmission symbols to one or more multi state encoders configured to encode the transmission symbols as multi level transmission symbols for transmission on a communications link. More power may be required to transmit a primary bit in the first logic state than to transmit a secondary bit in the first logic state. Primary bits of the transmission symbols may be derived from the secondary bits of the plurality of input data symbols and secondary bits of the transmission symbols may be derived from the primary bits of the plurality of input data symbols when the second fraction is greater than a half and greater than the first fraction.

In an aspect of the disclosure transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the input data symbols when the first fraction is greater than a half and inverting the secondary bits of the input data symbols when the second fraction is greater than a half. In one example the transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the transmission symbols when the first fraction is greater than a half or the second fraction is greater than a half.

Various aspects are now described with reference to the drawings. In the following description for purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of one or more aspects. It may be evident however that such aspects may be practiced without these specific details.

As used in this application the terms component module system and the like are intended to include a computer related entity such as but not limited to hardware firmware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computer. By way of illustration both an application running on a computing device and the computing device can be a component. One or more components can reside within a process and or thread of execution and a component may be localized on one computer and or distributed between two or more computers. In addition these components can execute from various computer readable media having various data structures stored thereon. The components may communicate by way of local and or remote processes such as in accordance with a signal having one or more data packets such as data from one component interacting with another component in a local system distributed system and or across a network such as the Internet with other systems by way of the signal.

Moreover the term or is intended to mean an inclusive or rather than an exclusive or. That is unless specified otherwise or clear from the context the phrase X employs A or B is intended to mean any of the natural inclusive permutations. That is the phrase X employs A or B is satisfied by any of the following instances X employs A X employs B or X employs both A and B. In addition the articles a and an as used in this application and the appended claims should generally be construed to mean one or more unless specified otherwise or clear from the context to be directed to a singular form.

Certain aspects of the invention may be applicable to communications links deployed between electronic devices that may include subcomponents of an apparatus such as a telephone a mobile computing device an appliance automobile electronics avionics systems etc. depicts an apparatus that may employ a communication link between IC devices. In one example the apparatus may comprise a wireless communication device that communicates through an RF transceiver with a radio access network RAN a core access network the Internet and or another network. The apparatus may include a communications transceiver operably coupled to processing circuit . The processing circuit may comprise one or more IC devices such as an application specific IC ASIC . The ASIC may include one or more processing devices logic circuits and so on. The processing circuit may include and or be coupled to processor readable storage such as a memory that may maintain instructions and data the may be executed by processing circuit . The processing circuit may be controlled by one or more of an operating system and an application programming interface API layer that supports and enables execution of software modules residing in storage media such as the memory device of the wireless device. The memory device may include read only memory ROM or random access memory RAM electrically erasable programmable ROM EEPROM flash cards or any memory device that can be used in processing systems and computing platforms. The processing circuit may include or access a local database that can maintain operational parameters and other information used to configure and operate apparatus . The local database may be implemented using one or more of a database module flash memory magnetic media EEPROM optical media tape soft or hard disk or the like. The processing circuit may also be operably coupled to external devices such as an antenna a display operator controls such as a button and or a keypad among other components.

Various devices within the apparatus may be interconnected using a communications link that includes a number of conductors. The communications link may include one or more of a cable wires within a semiconductor package metallization on an IC and traces on a PCB or chip carrier. In some instances data may be encoded on the communications link using multi level signaling such that multiple bits of data or control information may be transmitted in a single pulse or communications clock cycle. For example pulse amplitude modulation PAM may be employed to connect memory devices such as double data rate synchronous dynamic random access memory DDR SDRAM and other devices or circuits. Examples of PAM include 2 level PAM 2 PAM 4 level PAM 4 PAM and 8 level PAM 8 PAM where the number of levels indicates the number of voltage or current levels available for encoding data or control information.

The communications link may comprise multiple individual data links and . One communications link may include bidirectional connectors and may operate in time division half duplex full duplex or other modes. One or more communications links and may comprise unidirectional connectors. The communications link may be asymmetrically configured providing higher bandwidth in one direction and or between different IC devices . In one example a first communications link between two devices may be referred to as a forward link while a second communications link between the two devices may be referred to as a reverse link . In another example a first IC device may be designated as a host manager master and or transmitter while one or more other IC devices may be designated as a client slave and or receiver even if both IC devices and are configured to transmit and receive on the communications link .

The IC devices and may each comprise or cooperate with a general purpose processor or other processing and or computing circuit or device adapted to cooperate with various circuits and modules in order to perform certain functions disclosed herein. The IC devices may perform different functions and or support different operational aspects of the apparatus . A plurality of IC devices including the devices and may include modems transceivers display controllers user interface devices memory devices processing devices and so on. In one example the first IC device may perform core functions of the apparatus including maintaining wireless communications through a wireless transceiver and an antenna while the second IC device may support a user interface that manages or operates a display controller and may control operations of a camera or video input device using a camera controller . Other features supported by one or more of the IC devices and may include a keyboard a voice recognition component and other input or output devices. Display controller may comprise circuits and software drivers that support displays such as a liquid crystal display LCD panel touch screen display indicators and so on. The storage media and may comprise transitory and or non transitory storage devices adapted to maintain instructions and data used by the respective processors and and or other components of the IC devices and . The storage media and may include or cooperate with DRAM devices and other devices provided as one of the IC devices and or externally of the IC devices and connected using the communications link .

Communication between each processor and corresponding internal external and or collocated storage media and and other modules and circuits may be facilitated by a bus . Communication between each processor and its corresponding external storage media and and other modules and circuits may be facilitated by one or more communications links . Certain aspects disclosed herein are applicable to both the busses and the communications link . The communication link and or the busses may be operated to communicate control command and other information between the first IC device and the second IC device in accordance with an industry or other standard. Industry standards may be application specific.

According to certain aspects disclosed herein a data inversion DI encoding technique may be employed to conserve power in binary signaling topologies involving the parallel transmission of n bit data. In one example DI encoding may be applied to reduce the number of transmitted non zero multi bit symbols 11 10 or 01 in a 4 PAM binary signaling topology. In some instances such as in ground referenced terminated single ended communications data links data inversion can be limited to symbols in which a primary bit is set to logic 1 e.g. 11 or 10 when the primary bit is the MSB to optimize power savings with minimal hardware complexity when the primary bit controls the higher levels of current or voltage.

The primary bit may be a bit of a multi bit symbol that has one or more signaling states that draw more power than the corresponding signaling states of other bits of the multi bit symbol. In some examples the primary bit may be the MSB or the LSB of the multi bit symbol. The secondary bit may be the LSB when the primary bit is the MSB. The secondary bit may be the MSB when the primary bit is the LSB. The secondary bit may be another bit in the multi bit symbol. In some instances the secondary bit may have signaling states that draw more power than the corresponding signaling states in other remaining bits in the multi bit symbol i.e. other than the primary bit .

An encoding indicator which may also be referred to as an inversion flag or DI signal may be transmitted to the decoder using a line driver to drive one connector of the physical bus . The encoding indicator may indicate when parallel data transmitted through line drivers and the bus to the decoder includes one or more data elements that have been inverted by the encoder . The decoder may respond to the encoding indicator by re inverting any inverted data elements received from the bus . In one example the encoding indicator may be associated with transmission data that has an 8 bit width i.e. a byte and the encoding indicator is set if at least 5 bits of the 8 bit transmission data are determined to have the undesired value. The encoder may be configured to invert the transmission data and the decoder may be configured to invert data received from the bus when the encoding indicator is set. The decoder reverses any inversions performed by the encoder and thereby produces an output that is a true copy and or representation of the input of the encoder . In some examples the determination of whether the encoder should invert the input data may include a consideration of one or more other bytes in a 16 32 or 64 bit word that are transmitted in parallel with the input of the encoder . In some instances the bus width may be as narrow as two parallel bits or signal lines.

The effectiveness of the DI encoding scheme may be evaluated by calculating the totals of logic state 1 s on the data lines of the bus . In the eight bytes of the raw data a total of 31 logic 1 states occur and after inversion a total of 17 logic 1 states occur in the DI data . However the savings in power consumption is offset by the total of logic 1 transmitted in the DI signal . In the example 5 logic 1 s are transmitted in the DI signal and the reduction in logic state 1 s obtained by transmitting DI data is 9 transmitted states calculated as the difference between the number of logic 1 s in the raw data and the combined number of logic 1 s in the DI data and the DI signal . The reduction in power consumption may have a direct relationship with the number of transmitted logic 1 s. In some data encoding schemes however certain bits may be associated with greater power levels than other bits and variations of the DI encoding scheme may produce significant power reductions with limited increases in hardware complexity.

According to certain aspects disclosed herein a modified DI encoding scheme may be employed with multi level data encoding. includes a diagram illustrating a model circuit for a multi level line driver circuit and also includes a graph illustrating four voltage states and available for encoding data in one corresponding multi level data encoding scheme. A transmitter side line driver circuit may be adapted to drive a transmission line in a terminated multi level 4 PAM communications link. The driver circuit may be controlled by an encoder e.g. encoder of to produce each of four voltage states and through the configuration of a pair of switches .

Data may be encoded in two bits each bit controlling the state of one of the two switches . In one example each switch may be in an open state when its control bit is set to logic 1 and in a closed state when its control bit is set to logic 0 . In another example each switch may be in a closed state when its control bit is set to logic 1 and in an open state when its control bit is set to logic 0 . In the closed state each switch enables current from an associated current source to flow through the transmission line and termination resistance . A first current source produces less current than a second current source . One switch may be controlled by the primary bit because it causes a greater current level to flow from the second current source through the transmission line when closed than the current level caused when the other secondary bit switch is closed. Current flow in the transmission line and termination resistance determines the voltage level of the received signal at a receiver.

In the example depicted the first current source may source or sink a unit of current when connected to a load impedance while the second current source sources or sinks two units of current when connected to the load impedance. The amperage corresponding to the unit of current may be determined by the application. The switches may select between four current levels including 0 units 1 unit 2 units and 3 units. For the purposes of this description the first current source may be used to encode a secondary bit of a multi bit data symbol while the second current source may used to encode the primary bit of the multi bit data symbol. In some instances the voltage differences or current levels in a multi state signal may not be uniform. In other words the current sources may not be binary weighted or exact multiples of one another.

The load impedance may include the combined resistance of the transmission line and the terminating resistor where the terminating resistor may include a resistor connected at the receiving end of a wire that may conduct current provided by the first current source and the second current source . The voltage V of an output signal at the receiver may be determined as the product of the current I flowing in the terminating resistor and the resistance R of the terminating resistor .

It will be appreciated that in a 4 PAM configuration a communications link consumes different amounts of power at each signal level and . In a simple case where the terminating resistor dissipates all or substantially all of the power consumed by the driver circuit the power for each state may be calculated as I R . Nominally no power is consumed for zero state 2 bit data symbols and power consumed by the communications link increases with current flow because the currents associated with the primary bit and the secondary bit of the 2 bit data symbol are summed across the terminating resistor to produce the appropriate signal level. Accordingly significantly greater power reductions may be obtained from inverting the primary bit of the 2 bit data symbol than the secondary bit of the 2 bit data symbol.

The encoder may be configured to implement a modified DI scheme in which fewer than all of the inputs are subject to inversion. In the simplified example of a pair of bits including the secondary bit and the primary bit is received in the data symbol but only the primary bit is considered for inversion. Receiving logic determines the state of the primary bit and determines whether the primary bit should be inverted for transmission. If the primary bit is inverted then an encoding indicator is set and transmitted to the receiver typically as a separate signal. In some examples the inversion logic may consider the state of both bits and in the input symbol when determining whether the primary bit is to be inverted. In a simple example the primary bit inversion occurs when the primary bit is in the logic 1 state regardless of the state of one or more less significant bits. In some instances power consumption may be reduced and circuits simplified because the encoding indicator can be transmitted as a 2 level signal. In another example the state of two or more bits may be considered including when the input symbol comprises more than two bits or when a plurality of symbols is transmitted. A 4 PAM communications link presents a relatively simple example of the presently disclosed DI technique. However the principles illustrated in can be applied to more complex coding schemes including schemes that apply DI to both the primary bit and the secondary bit in 4 PAM 2 bit data symbols to one or more bits in 8 PAM 3 bit data symbols and other higher state encoding schemes and for multi wire 4 PAM or 8 PAM systems.

The multi level encoding indicator signal may encode the secondary bit encoding indicator and the primary bit encoding indicator in four voltage states and as illustrated in . In one example the secondary encoding indicator is provided as the secondary bit of a symbol encoded by the 4 state encoder line driver and the primary encoding indicator is provided as the primary bit of the symbol encoded by the 4 state encoder line driver . In this example the transmitted encoding indicator signal may be in a 00 state when no bits are inverted in a 01 state when only the secondary bit of the input symbol is inverted in the 10 state when only the primary bit of the input symbol is inverted and in the 11 state when both the primary bit and the secondary bit of the input symbol are inverted.

Other encoding indicator encoding schemes may be used based on the type of data transmitted and or characteristics of the data that may affect the frequency of occurrence of 1 s or 0 s in the secondary bit and primary bit of the input symbol .

The average power consumption of an 8 bit parallel bus can be reduced by over 21.1 for a 4 PAM signal when DI is applied to the primary bit. When DI is used with both the primary bit and the secondary bit in 2 bit data symbols reduction in power consumption for the 8 bit parallel bus can be reduced by more than 29.1 . In some configurations a simple binary data encoding indicator may be employed for a primary bit inversion. In some instances a trade off is applied to balance the increased power consumption that may be experienced by a receiver when multi level signaling is used. For example the receiver power consumption may increase by a factor of 50 in a 4 PAM topology although the receiver consumes only a small fraction of the overall signaling power.

According to certain aspects disclosed herein signaling power associated with a communications link may be further reduced by selectively swapping primary bit and secondary bit bits during encoding. illustrates an example in which modules and or circuits are configured to perform a combination of data inversion and bit swapping DI BS according to a process illustrated in the flowchart of in one example a bus having a width W is configured to carry data encoded using 4 PAM. The data is provided as a set of multi bit input symbols to be transmitted in a single transmit clock cycle. The allocation of bus bits to the set of symbols may be selected according to application and or characteristics of the data to be transmitted. In one example allocation is made sequentially such that a first symbol includes the two least significant bits of the bus a second symbol includes the next two least significant bits and so on.

The number of logic 1 s in the primary bits to be transmitted for each set of symbols are summed using a first summing circuit or module . The number of logic 1 s in the secondary bits to be transmitted for each set of symbols are summed using a second summing circuit or module . The circuit may include a first logic or mathematical comparator that compares the output of the first summing circuit of module which may represent the number of primary bits set to logic 1 with the output of the second summing circuit or module which may represent the number of secondary bits set to logic 1 .

If the output of the first comparator indicates that the sum of the logic 1 primary bits exceeds the sum of logic 1 secondary bits or it is determined by a second comparator module or circuit that the fraction of secondary bits in the logic 1 state is not greater than a half i.e the sum of logic 1 secondary bits is not greater than half the bus width W 2 then the DI encoding process is performed without swapping primary bits and secondary bits

If the output of first comparator indicates that the sum of the logic 1 primary bits is less than the sum of logic 1 secondary bits and the fraction of secondary bits in the logic 1 state is greater than a half then the input secondary bits are inverted and provided as output primary bits while the while the input primary bits are provided as output secondary bits with a primary bit of the encoding indication symbol EISym encoded as an encoding indicator signal being set to logic 1 to indicate that a swap has occurred. In one example this swap is effected using multiplexers that are controlled by a logic gate that combines the results of the first comparator and the second comparator to obtain a swap signal which also serves as the primary bit of the EISym . Selective inversion of the input secondary bits may be implemented using multiplexers that are controlled by the swap signal which selects between the input secondary bits and an inverted version of the input secondary bits provided by inverters .

When the output primary bits correspond to inverted input secondary bits i.e. when a swap is indicated a determination of whether to invert the input primary bits may be based on the number of input primary bits that are set to logic 1 as indicated by the output of a third comparator circuit or module . If the fraction of input primary bits is greater than a half then the input primary bits are inverted and provided as output secondary bits and the secondary bit of the EISym is set. If the fraction of input primary bits is not greater than a half then the input primary bits are provided without inversion as output secondary bits and the output secondary bit of the EISym is cleared. In one example selective inversion of the input primary bits may be implemented using multiplexers that receive the input primary bits and an inverted version of the input primary bits provided by inverters .

When DI encoding is performed without swapping primary bits and secondary bits the primary bit of the EISym is cleared and the input secondary bits a are provided as output secondary bits without inversion. The inversion state of the input primary bits may be determined based on the number of input primary bits that are set to logic 1 as indicated by the output of a third comparator circuit or module . If the fraction of input primary bits is greater than a half then the input primary bits are inverted and provided as output primary bits and the secondary bit of of the EISym is set. If the number of input primary bits is not greater than half the bus width then the input primary bits are provided without inversion as output primary bits and the secondary bit of of the EISym is cleared.

The encoding indicator signal provides information that indicates to a receiver whether the primary bits and the secondary bits should be swapped and whether the secondary bits should be inverted. In certain DI BS algorithms the primary bits and the secondary bits are swapped when more secondary bits are in a higher power state than primary bits and when the fraction of secondary bits in the higher power state is greater than a half. Accordingly the secondary bits are necessarily inverted if a swap occurs when these DI BS algorithms are used. illustrates an example of a multi level encoding scheme that may be used to encode an encoding indicator signal when a DI BS algorithm is used. In this example a swap control signal is used as the primary bit of the EISym and a control signal which is used to select between primary bits and a version of the primary bits produced by inverting logic is provided as the secondary bit of the EISym . The encoding indicator signal derived from the EISym may switch between four states or during each transmission interval where the transmission interval may correspond to a transmission clock cycle or edge.

According to the multi level encoding scheme illustrated in the encoding indicator signal is in a 00 state when no bits are inverted or swapped and in the 01 state when the primary bits have been inverted without swapping. When the primary bits and the secondary bits are swapped the encoding indicator signal is either in a 10 state when the primary bits are not inverted or in the 11 state when the primary bits have been inverted. When the encoding indicator signal is in the 10 state or the 11 state it can be inferred that the secondary bits have been inverted.

A DI BS encoding circuit such as the circuit shown in may be configured or adapted to support other encoding schemes including certain encoding schemes described herein. For example DI may be applied to both the primary bits and the secondary bits of a multi bit symbol without swapping by removing or disabling the primary to secondary bits compare element or by forcing an output of the compare element to cause the output multiplexers and to select a non swapped output configuration. In one example the AND gate may be enabled to provide the output of the secondary bit comparison bus width comparison for combination in the encoding indicator signal. In this reduced form the output of comparator may control the multiplexer and provide the encoding indicator for the secondary bit path and the primary bit output and secondary bit output may then be representative of the output of the multiplexers and respectively. While certain logic gates and devices may be physically eliminated alternative encoding schemes can be achieved by disabling logic gates and devices using control signals provided by a processing device or a data encoding controller. In another example the DI scheme may be limited to the primary bits with the secondary bits being passed directly to the multi state encoder.

Control logic may be configured to provide control signals and that determine whether the secondary bits and primary bits of the data are inverted and or swapped before being provided as the output symbols . The control logic may provide the control signals and in accordance with the operations defined by Table 1 which lists the operations to be performed for each possible value of encoding indicator .

The sequence of raw encoded data may be processed by the DI BS circuitry to produce DI BS data according to certain aspects described herein. The DI BS data may then be used to encode corresponding transmission lines. The total number of units of current or voltage expended for the depicted example is 74 units including the number of units 14 needed to encode a transmission line carrying an encoding indicator signal . In the depicted example a 41.2 power reduction is obtained through the use of DI BS encoding. is graph illustrating the mean signal current level transmitted during each cycle for the raw data and the DI BS encoded data described in relation to the example shown in .

For example the graph highlights an example indicated generally at of percentage power savings for an 8 bit bus. In this example the DI primary bit encoding scheme produces a 22.1 power savings the DI 2 level primary bit and secondary bit inversion encoding scheme produces an 29.1 power savings while the primary bit secondary bit inversion swap encoding scheme produces a 30.9 power savings.

The principles illustrated in can be applied to more complex coding schemes including schemes that apply DI to multi bit data symbols where each bit is weighted by current or voltage levels that are multiples of one another and to more complex encoding indicators representing the data symbol or a combination of data symbols transmitted in a multi wire communications link. In this description the terms primary bit and secondary bit are associated with higher and lower current power respectively although the principles apply also to encoding schemes in which secondary bit signaling consumes more power than primary bit signaling. Certain examples employ primary bits that are MSBs of multi bit data symbols although the primary bit may be selected as any bit of a multi bit data symbols. Furthermore the concepts systems methods and apparatus described herein can be applied to encoding schemes in which logic 1 s are associated with lower power than logic 0 s notwithstanding that certain examples described herein are based on an assumption that logic 1 s are associated with higher power.

At step the device may generate transmission symbols from the plurality of input data symbols. The primary bits of the transmission symbols may be derived from the secondary bits of the plurality of input data symbols when the second fraction is greater than a half and greater than the first fraction. The secondary bits of the transmission symbols may be derived from the primary bits of the plurality of input data symbols when the second fraction is greater than a half and greater than the first fraction. Transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the input data symbols when the first fraction is greater than a half. Transmission symbols may be generated from the plurality of input data symbols by inverting the secondary bits of the input data symbols when the second fraction is greater than a half. Transmission symbols may be generated from the plurality of input data symbols by inverting the primary bits of the transmission symbols when the first fraction is greater than a half or the second fraction is greater than a half.

At step the device may provide the transmission symbols to one or more multi state encoders configured to encode the transmission symbols as multi level transmission symbols for transmission on a communications link.

In an aspect of the disclosure a sequence of the transmission symbols may be transmitted on a connector of the communications link. The transmission symbols may be transmitted in parallel on the communications link.

In an aspect of the disclosure an encoding indicator signal may be provided to one of the multi state encoders to obtain a multi level encoding indicator signal indicating whether the primary bits of the transmission symbols correspond to the secondary bits of the input data symbols and whether the secondary bits of the transmission symbols correspond to the primary bits of the input data symbols.

In an aspect of the disclosure the multi level encoding indicator signal and the multi level transmission symbols may be transmitted in parallel in one transmission clock cycle on the communications link. The multi level encoding indicator signal may indicate whether the primary bits of the transmission symbols are inverted. The multi level encoding indicator signal may indicate whether the secondary bits of the transmission symbols are inverted. The one or more multi state encoders may encode each of the transmission symbols as one of at least three voltage or current levels. The one or more multi state encoders may encode each of the transmission symbols for transmission on a pulse amplitude modulated communications link.

The processor may include a microprocessor a controller a digital signal processor a sequencer a state machine etc. The processor is responsible for general processing including the execution of software stored on the computer readable storage medium . The software when executed by the processor causes the processing circuit to perform the various functions described supra for any particular apparatus. The computer readable storage medium may also be used for storing data that is manipulated by the processor when executing software. The processing circuit further includes at least one of the modules and . The modules and or may include one or more software modules running in the processor resident stored in the computer readable storage medium one or more hardware modules coupled to the processor or some combination thereof.

In one configuration the apparatus for wireless communication includes a module or circuit for determining a first fraction corresponding to a proportion of primary bits of a plurality of input data symbols that are in a first logic state and a second fraction corresponding to a proportion of secondary bits of the plurality of input data symbols that are in the first logic state a module or circuit for generating transmission symbols from the plurality of input data symbols for transmission on the communications link a module or circuit for encoding the transmission symbols for transmission on a multi state encoded communications link a module or circuit for generating an inversion encoding indicator as a multi level transmission symbol to be transmitted on a communications link indicating whether the primary bits and or secondary bits are inverted and or swapped. The aforementioned means may be implemented for example using some combination of a processor or physical layer drivers or and storage media and .

It is understood that the specific order or hierarchy of steps in the processes disclosed is an illustration of exemplary approaches. Based upon design preferences it is understood that the specific order or hierarchy of steps in the processes may be rearranged. The accompanying method claims present elements of the various steps in a sample order and are not meant to be limited to the specific order or hierarchy presented.

At step the device may selectively invert a primary bit of data symbols decoded from one or more signals received from the communications link based on a first of the plurality of control signals. The one or more signals may include 4 level PAM signals.

At step the device may selectively invert a secondary bit of the data symbols based on a second of the plurality of control signals.

At step the device may selectively swap the primary bit and the secondary bit based on a third of the plurality of control signals. More power may be required to transmit a primary bit or secondary bit in first logic state than in a second logic state. The first logic state and the second logic state may correspond to different boolean logic levels. Swapping the primary bit and the secondary bit may include providing a version of the primary bit of each symbol decoded from the one or more signals as a secondary bit of an output symbol and providing a version of the secondary bit of each symbol decoded from the one or more signals as a primary bit of the output symbol.

The processor may include a microprocessor a controller a digital signal processor a sequencer a state machine etc. The processor is responsible for general processing including the execution of software stored on the computer readable storage medium . The software when executed by the processor causes the processing circuit to perform the various functions described supra for any particular apparatus. The computer readable storage medium may also be used for storing data that is manipulated by the processor when executing software. The processing circuit further includes at least one of the modules and . The modules and or may include one or more software modules running in the processor resident stored in the computer readable storage medium one or more hardware modules coupled to the processor or some combination thereof.

In one configuration the apparatus for wireless communication includes means for decoding a multi level encoding indicator signal received from a communications link and configured to provide a plurality of control signals means for inverting primary bits and or secondary bits of data symbols decoded from one or more signals received from the communications link based on a first and or second of the plurality of control signals and means for swapping the primary bits and the secondary bits based on a third of the plurality of control signals. The aforementioned means may be implemented for example using some combination of a processor or physical layer drivers or and storage media and .

It is understood that the specific order or hierarchy of steps in the processes disclosed is an illustration of exemplary approaches. Based upon design preferences it is understood that the specific order or hierarchy of steps in the processes may be rearranged. The accompanying method claims present elements of the various steps in a sample order and are not meant to be limited to the specific order or hierarchy presented.

The previous description is provided to enable any person skilled in the art to practice the various aspects described herein. Various modifications to these aspects will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other aspects. Thus the claims are not intended to be limited to the aspects shown herein but is to be accorded the full scope consistent with the language claims wherein reference to an element in the singular is not intended to mean one and only one unless specifically so stated but rather one or more. Unless specifically stated otherwise the term some refers to one or more. All structural and functional equivalents to the elements of the various aspects described throughout this disclosure that are known or later come to be known to those of ordinary skill in the art are expressly incorporated herein by reference and are intended to be encompassed by the claims. Moreover nothing disclosed herein is intended to be dedicated to the public regardless of whether such disclosure is explicitly recited in the claims. No claim element is to be construed as a means plus function unless the element is expressly recited using the phrase means for. 

