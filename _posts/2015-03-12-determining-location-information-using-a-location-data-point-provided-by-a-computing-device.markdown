---

title: Determining location information using a location data point provided by a computing device
abstract: A system and method for determining location information using a location data point provided by a computing device is described. A location data point is received by a system from a client computing device. The system determines whether the location data point is within a predefined region from a plurality of predefined regions configured by a user of the system. If the location data point is within a predefined region, location information corresponding to the predefined region is transmitted to the client device. If the location data point is not within a predefined region, one or more third-party reverse geocoding services can be used that translates the location data point to a street address.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09482549&OS=09482549&RS=09482549
owner: UBER TECHNOLOGIES, INC.
number: 09482549
owner_city: San Francisco
owner_country: US
publication_date: 20150312
---
This application is a continuation of U.S. patent application Ser. No. 14 506 473 entitled DETERMINING LOCATION INFORMATION USING A LOCATION DATA POINT PROVIDED BY A COMPUTING DEVICE filed Oct. 3 2014 which claims the benefit to U.S. Provisional Patent Application No. 61 887 239 filed Oct. 4 2013 entitled DETERMINING LOCATION INFORMATION USING A LOCATION DATA POINT PROVIDED BY A COMPUTING DEVICE the aforementioned applications being fully incorporated by reference in their entirety.

Some on demand services may arrange for transport to be provided for a user by a driver of a vehicle. In some cases the user and the driver can each operate a computing device to communicate with a system that arranges the transport. To facilitate the transport the system can provide location information for the transport to the computing devices of the user and the driver.

Examples described herein provide for a system that receives a location data point from a computing device and determines location information corresponding to that location data point for purposes of providing location based services. In one example the system can determine which resource to use to determine the location information based on which resources are available or accessible by the system.

According to an example the system can receive a location data point such as a global positioning system GPS data point from a client computing device. The location data point can comprise a latitude a longitude and an error value. The system can perform a reverse geocoding process for the location data point to determine the corresponding location information or address. In one example the system can first determine whether the location data point is within a predefined region of a plurality of predefined regions that have been configured by a user e.g. an administrator of the system. The plurality of predefined regions can be stored for example in a database accessible by the system. If the location data point is within a predefined region the location information corresponding to the predefined region can be identified and transmitted to the client device.

If the location data point is not within a predefined region the system can determine whether a third party reverse geocoding service is available or accessible for translating or converting the location data point to an address such as a street address. In some examples the system can communicate with a plurality of third party reverse geocoding services. If a third party reverse geocoding service is accessible for translating the location data point to an address the system can transmit a request to the third party reverse geocoding service which includes the location data point and can receive the corresponding address. The address can then be transmitted to the client device.

In some cases the third party reverse geocoding service s may not be available for or accessible by the system. In such situations the system can determine whether a map database of the system e.g. an internal database maintained by the system is available for translating the location data point to the address. If the map database is available the system can retrieve a stored address from the map database using the location data point and transmit the retrieved address to the client device. If the map database is unavailable or if no address is found that corresponds to the location data point the system can identify a specified text string to be transmitted to the client device. In this manner the system can perform a reverse geocoding process based on a predetermined hierarchy or order.

Still further the system can also receive a request for a transport service from the client device. The request for transport can include a location data point specified selected by the user of the client device e.g. either the previously transmitted location data point or a new location data point . The system can select a driver capable of providing the transport service based on the location data point of the request for transport. According to some examples the system can determine whether the preferred language of the user of the client device matches the preferred language of the selected driver. If the preferred languages match the system can transmit the determined location information address to the device of the driver. On the other hand if the preferred languages do not match the system can perform the reverse geocoding process e.g. on behalf of the driver to determine the location information or address in the preferred language of the driver.

As used herein a client device a driver device and or a computing device refer to devices corresponding to desktop computers cellular devices or smartphones personal digital assistants PDAs laptop computers tablet devices television IP Television etc. that can provide network connectivity and processing resources for communicating with the system over a network. A driver device can also correspond to other devices of a transit object or custom hardware etc. The client device and or the driver device can also operate an application configured to communicate with the system.

Still further the system for example can enable location based services such as a transportation service a delivery service an entertainment service to be arranged between individuals using the computing devices described. As an example a user can request an on demand service such as a transportation or delivery service e.g. food delivery messenger service food truck service or product shipping or an entertainment service e.g. mariachi band string quartet and the system can select a service provider such as a driver food provider band etc. that uses devices that communicate with the system.

In still another example multiple location data points are received over one or more networks wherein the multiple location points are communicated from one or more client devices over a duration of time. In response to receiving each of the multiple location data points a data store is accessed that includes a plurality of predefined geofences in order to determine whether that location data point is within a predefined region of any of the plurality of predefined geofences. At least one of the plurality of predefined geofences is configured by a user of the system. For at least one location data point that is not within a predefined region i a determination is made as to another resource is to be used to provide location information to the client device. One or more third party reverse geocoding services are also determined to translate the location data point. A request is transmitted to a third party reverse geocoding service to translate each of the multiple location data points to a street address where the request including the location data point. A corresponding street address is received for each of the multiple location data points. For each of the multiple location data points the corresponding street address is transmitted to a client device that communicated the location data point.

One or more examples described herein provide that methods techniques and actions performed by a computing device are performed programmatically or as a computer implemented method. Programmatically as used herein means through the use of code or computer executable instructions. These instructions can be stored in one or more memory resources of the computing device. A programmatically performed step may or may not be automatic.

One or more examples described herein can be implemented using programmatic modules engines or components. A programmatic module engine or component can include a program a sub routine a portion of a program or a software component or a hardware component capable of performing one or more stated tasks or functions. As used herein a module or component can exist on a hardware component independently of other modules or components. Alternatively a module or component can be a shared element or process of other modules programs or machines.

Some examples described herein can generally require the use of computing devices including processing and memory resources. For example one or more examples described herein may be implemented in whole or in part on computing devices such as servers desktop computers cellular or smartphones personal digital assistants e.g. PDAs laptop computers printers digital picture frames network equipment e.g. routers and tablet devices. Memory processing and network resources may all be used in connection with the establishment use or performance of any example described herein including with the performance of any method or with the implementation of any system .

Furthermore one or more examples described herein may be implemented through the use of instructions that are executable by one or more processors. These instructions may be carried on a computer readable medium. Machines shown or described with figures below provide examples of processing resources and computer readable mediums on which instructions for implementing examples described herein can be carried and or executed. In particular the numerous machines shown with examples described herein include processor s and various forms of memory for holding data and instructions. Examples of computer readable mediums include permanent memory storage devices such as hard drives on personal computers or servers. Other examples of computer storage mediums include portable storage units such as CD or DVD units flash memory such as carried on smartphones multifunctional devices or tablets and magnetic memory. Computers terminals network enabled devices e.g. mobile devices such as cell phones are all examples of machines and devices that utilize processors memory and instructions stored on computer readable mediums. Additionally examples may be implemented in the form of computer programs or a computer usable carrier medium capable of carrying such a program.

Typically a computing device can provide a location data point to a third party reverse geocoding service and the third party reverse geocoding service can perform a translation of the location data point to a street address. However there may be disadvantages for solely using a third party reverse geocoding service to determine location information. For example third party reverse geocoding service s can have rate limits such as a limited number of queries per second QPS allowed for a particular device and or can be costly. In situations where multiple client devices operate on the same network such as on a wireless local area network WLAN the third party reverse geocoding service can view the multiple devices querying the third party reverse geocoding service as being the same device and lock out the devices e.g. prevent the devices from making calls to the third party reverse geocoding service . In addition reliance on a particular third party reverse geocoding service may be problematic in some situations such as when address data is inaccurate or when computing resources of the third party reverse geocoding service fail e.g. server crash . Rather than enabling the client devices to directly transmit the location data point s to the third party reverse geocoding services the system of can receive the location data point s from a client device and can perform a reverse geocoding process that may or may not utilize the third party reverse geocoding service s .

According to an example the system includes a location determination a transport arrangement a device interface a service interface a geofence database a geofence interface and a map database . A plurality of client devices and a plurality of driver devices can communicate with the system over one or more networks via the device interface . In some examples the system can also communicate with one or more third party reverse geocoding services . The components of the system can combine to receive a location data point s from a client device and perform a reverse geocoding process to determine an address or location information corresponding to the location data point s . Logic can be implemented with various applications e.g. software and or with hardware of a computer system that implements the system .

Depending on implementation one or more components of the system can be implemented on network side resources such as on one or more servers. The system can also be implemented through other computer systems in alternative architectures e.g. peer to peer networks etc. . As an addition or an alternative some or all of the components of the system can be implemented on client devices such as through applications that operate on the client devices and or the driver devices . For example a client application such as a service application can execute to perform one or more of the processes described by the various components of the system . The system can communicate over a network via a network interface e.g. wirelessly or using a wireline to communicate with the one or more client devices and the one or more driver devices .

The system can communicate over one or more networks with client devices and driver devices using the device interface . The device interface can manage communications between the system and remote computing devices. In some examples the client devices and driver devices can individually operate a service application that can interface with the device interface to communicate with the system . According to some examples the applications can include or use an application programming interface API such as an externally facing API to communicate data with the device interface . The externally facing API can provide access to the system via secure access channels over the network through any number of methods such as web based forms programmatic access via restful APIs Simple Object Access Protocol SOAP remote procedure call RPC scripting access etc.

According to some examples the location determination can receive a location data point from a client device via the device interface . For example when a user of a client device operates a service application the user can interact with the user interface of the service application to select or specify a particular location pertaining to the on demand and or location based service. The user can interact with a map interface for example which shows the user s current location e.g. the current location of the client device as well as one or more graphic features e.g. a pin that can be moved on the map by the user to indicate a location for use with requesting a location based service. In one example the location specified by the pin on the map can be a pick up location and or a destination location for a transport service or a drop off location for a delivery service.

When the user selects a location e.g. by moving the pin on the map interface to a particular location the client device determines and transmits a location data point corresponding to the particular location to the system via the device interface . According to examples the location data point corresponding to the selected location includes a latitude a longitude and an error value. For example the client device can include a global positioning system GPS component and or other components that can determine the GPS coordinates for the current location of the client device or the selected location on the map interface. The GPS component can also include an error value for the location data point to indicate the accuracy of the latitude and the longitude. For example a location data point with a high error value is deemed to be not as accurate as a location data point with a lower error value e.g. the GPS component can have a high error for a location data point when at the time the GPS coordinates are determined there is signal interference hardware glitches etc. .

According to one example each time the user of the client device specifies a location on the map interface of the service application such as a pick up location for a transport service the client device can provide the corresponding location data point to the system . For example the user can select a first location on the map interface e.g. move the pin via a finger touch on the touch sensitive display of the client device and then remove the finger once the desired location has been specified and the client device can determine that the user has selected a location in response to the user removing the finger from the touch sensitive display and transmit a corresponding location data point to the system . Immediately thereafter e.g. one second later the user can select a different second location on the map interface e.g. the user decides that a second location is better for transport service . Similarly the client device can then transmit a location data point corresponding to the second location.

In some example the user can continue to change the specified location and cause the client device to continue transmitting corresponding location data points until i the user makes a transport request to the system ii a predetermined time after the user made the transport request and or iii the user is picked up by a driver providing the transport service. Each time the user specifies a location the service application running on the user s client device provides the corresponding location data point to the system so that a corresponding address or location information can be determined by the system and provided to the service application. According to one example the location data point can be provided by the service application to the system as part of a request for a corresponding address. In this manner the user can view and verify that the particular address is the address in which the user wants to be picked up at for transport service or dropped off at in another example .

The location determination receives the location data point from the client device and in response can perform a reverse geocoding process for that location data point . In one example the location determination can perform the reverse geocoding process by determining based on one or more conditions which resource e.g. which particular database which third party reverse geocoding service etc. to use to translate the location data point to a corresponding address e.g. a street address or to a corresponding location name information or identifier. In some examples the location determination includes a resource selection and a language match.

The location determination can access or communicate with a plurality of resources to determine location information or an address for a received location data point . The plurality of resources can include the geofence database the map database a plurality of third party reverse geocoding services and or other databases such as a database for storing text strings not illustrated in . Depending on implementation the geofence database and or the map database can be included with the system and or maintained by administrator user s of the system .

According to an example the geofence database is a database that stores a plurality of user created or user configured geofences e.g. a predefined region defined by three or more location data points each corresponding to a descriptive text string. Each entry in the geofence database can include i a plurality of location points that define the boundary of the geofence and ii location information e.g. as a specified text string corresponding to the geofence. For example a geofence can be created for a geographic region such as an area near an exit or door e.g. near the pick up area of Terminal 2 of San Francisco International Airport and identified as Terminal 2 SFO. In some examples a geofence entry can also include a time period e.g. a start date a start time an end date an end time etc. for that geofence entry. An administrator can interact with a geofence interface via one or more inputs to create edit and or delete geofences in the geofence database .

The map database can correspond to mapping information stored with the system . For example the mapping information can be provided by or retrieved from mapping sources such as OpenStreetMap OSM an open source mapping database or from other mapping sources. The map database can be periodically updated using information from OSM and or can be updated by an administrator of the system e.g. the system stores and maintains the map database . The location determination can access the geofence database and or the map database to determine location information corresponding to the received location data point .

In addition the system can also access one or more third party reverse geocoding services over a network via one or more service interfaces . A third party reverse geocoding service provides a translation of a location data point such as a latitude and longitude to a readable address or name. A plurality of different third party reverse geocoding services can exist and be available to the system e.g. via the service interface . For example a third party reverse geocoding service can provide street addresses for location data points that are within a particular region such as a large city or country e.g. a third party reverse geocoding service can specialize in translating location points in South Korea while another third party reverse geocoding service can provide street addresses for location points that are within another region e.g. France . In another example a third party reverse geocoding service can be more encompassing than others i.e. have a larger database of addresses that span a larger geographic region than others such as Google Inc. s reverse geocoding service .

Based on the received location data point and one or more conditions of the system the resource selection can determine which resource to use to determine the location information or address for the received location data point . For example the resource selection can be configured via one or more parameters inputted by the user of the system to determine which resource to use first then second if necessary then third if necessary and so forth in order to determine the location information or address for the received location data point . In addition in one example the location determination can first determine whether the error value received with the location data point is equal to or greater than a threshold error value. An error value that is equal to greater than the threshold error value can indicate that the latitude and longitude determined by the GPS component of the client device for example has a high likelihood of being faulty or inaccurate.

If the location determination determines that the error value is equal to or greater than a threshold error value for example the resource selection can select a text string database not shown in as the resource for the location determination to access. The location determination can retrieve from the text string database a default text string and provide the default text string to the client device that transmitted the location data point indicating to the user that the location could not be determined or that the GPS component provided inaccurate location data. In other examples the text string can also prompt the user to try again or select a new location. In such an example because the error value is determined to be high the location determination can forego using a third party reverse geocoding service thereby reducing network bandwidth use and reducing the number of communications made to third party reverse geocoding services and in general does not perform a reverse geocoding process to determine a corresponding address or location information for the received location data point .

As an addition or an alternative in some examples the resource selection can also store a ranking of the resources relative to each other to use to determine an address or location information for a corresponding received location data point . In one example the resources can be previously categorized or ranked relative to each other by an administrator of the system . When the location determination receives a location data point the resource selection can select the highest ranked resource that is available or accessible to use to determine the corresponding address or location information. For example the ranking of the resources to be used by the location determination can be prioritized in this order 1 the geofence database 2 a location specific third party reverse geocoding service s 3 a larger more generic third party reverse geocoding service as compared to the location specific third party reverse geocoding service s 4 the map database and 5 text string database. The order of the resources can be different in other examples. In some examples the administrator can adjust the rankings of the resources for the resource selection of the location determination .

When the location determination receives the location data point it can perform a reverse geocoding process to determine the corresponding address or location information. The reverse geocoding process includes determining which resource to use to determine the corresponding address or location information for the received location data point . In one example the resource selection can determine that the geofence database is to be used first e.g. based on the above mentioned ranking . The location determination will access the geofence database to determine whether the location data point is located within a predefined region of a geofence e.g. within a boundary defined by three or more location points for the geofence . If the location data point is within a predefined region of a geofence the location determination identifies the corresponding location information or descriptive text string from the geofence database and provides the location information or descriptive text string as location information to the client device via the device interface .

As discussed a geofence entry that is stored in the geofence database can be a time based geofence entry in which one or more durations of time is associated with that geofence entry. A duration of time can indicate when the geofence is active. For example a geofence can specify a duration of time in which an event e.g. a concert a sporting event a parade etc. may occur. Such a time based geofence can indicate descriptive text string corresponding to such an event when the user requests a pickup location in the geofence region during that duration of time. If the location determination receives a location data point that is within the predefined region of a time based geofence but is received a particular instance in time that is not during the specified duration of time of that geofence the location determination can indicate that the location data point does not match an existing geofence entry in the geofence database e.g. even though the location data point is within a predefined region of a time based geofence . The resource selection can determine that another resource is to be used for the reverse geocoding process based on the specified order or hierarchy.

If the location data point is not within a predefined region of any of the geofences in the geofence database the resource selection can determine if a location specific third party geocoding service corresponding to the location data point is accessible. In some cases a third party reverse geocoding service may be inaccessible as a result of access limits e.g. only a certain number of reverse geocoding requests can be made per second such as a queries per second QPS limit bandwidth limits hardware problems e.g. the third party reverse geocoding service server is down or has network problems etc. In addition the location data point can be within an area where no location specific third party geocoding service is available. If a location specific third party geocoding service is accessible e.g. such as a location specific third party geocoding service that is specific to a city region state or country etc. that the location data point is located in the location determination can send a reverse geocode request e.g. query the location specific third party geocoding service using the location data point to a location specific third party geocoding service that can provide the translation from the location data point to a corresponding address. Once the location determination receives the corresponding address from the third party reverse geocoding service the location determination can provide the address to the client device .

On the other hand if no location specific third party geocoding service is accessible the resource selection can determine if a larger more generic third party reverse geocoding service as compared to the location specific third party reverse geocoding service s is accessible. In some examples the larger more generic third party reverse geocoding service can encompass a larger geography of data points e.g. such as the reverse geocoding service provided by Google Inc. . If the larger more generic third party reverse geocoding service is accessible the location determination can send a reverse geocode request e.g. query the larger more generic third party geocoding service using the location data point to a larger more generic third party geocoding service that can provide the translation from the location data point to a corresponding address. Once the location determination receives the corresponding address from the larger more generic third party reverse geocoding service the location determination can provide the address to the client device .

If no third party geocoding service is accessible the resource selection can determine if an internal map database of the system is accessible. The map database can correspond to mapping information provided by or retrieved from one or more mapping sources. If the map database is accessible the location determination can perform a lookup of the location data point in the map database . If the location data point has a corresponding address or location information the location determination can provide the address or location information as location information to the client device via the device interface .

If the map database is inaccessible or unavailable or if no corresponding address or location information is found in the map database the resource selection can determine that no resources are available or accessible and the location determination can identify a custom text string that is stored in the text string database. The location determination can cause the custom text string such as Address is unavailable Select another location or Input an address in the text field to be transmitted to the client device via the device interface . In this manner the user can receive accurate information regarding an address or location for an on demand location based service before making a request for the service.

According to some examples the location determination can also determine the preferred language of the user operating the client device . For example the system can maintain a profile database of users and or the users respective client devices . The system can also maintain a profile database of drivers. A profile of a user can include a user identifier ID e.g. a user name email address etc. and a preferred language e.g. English Korean Arabic French Chinese etc. along with other user information. When a user operates the client device and the client device provides a location data point to the location determination e.g. along with the user ID the language match can identify the preferred language of that user by accessing the user s profile from the profile database of users. In this manner when a corresponding address or location information is to be provided to the client device of the user for the location data point selected by that user the location determination can transmit the address or location information in the preferred language of that user.

According to variations the location determination e.g. via the language match can provide the address or location information in a preferred language of a corresponding user and or user s client device by i performing a translation of an address or location information that is determined using the reverse geocoding process e.g. determined using one of the plurality of resources ii accessing a third party translation service to perform the translation of the determined address or location information and or iii during the reverse geocoding process cause the location determination to make the reverse geocoding request to a third party reverse geocoding service for the address in the specified preferred language. In some examples the translation can be a translation from one language e.g. English to another language that is expressed phonetically e.g. phonetically in Chinese .

The system can also operate with or as part of another system that enables location based services to be arranged between parties. For example the system can include a transport arrangement that receives a transport request from a client device . A user of the client device can select a location such as a location for pick up and receive an address or location information from system . The user can then make a transport request via the service application operating on the client device to system using the selected location or select a different location . The transport request can include the location data point and the transport arrangement can arrange for transport to be provided by a driver based on the location data point which specifies the pickup location. For example a plurality of drivers can operate a plurality of driver devices . The transport arrangement can select a driver based on the transport request e.g. what type of vehicle is requested what time the user s ratings the driver s ratings etc. and or the location data point e.g. the transport arrangement can select a driver that is nearby as compared to other drivers who are further away .

When the transport arrangement selects a driver information about the transport service can be provided to the client device and the driver device of the selected driver e.g. to the service applications operating on the respective devices . The driver is also notified of the pickup location selected by the customer. Instead of providing a location data point selected by the user of the client device to the driver device however in some examples the location determination can provide the corresponding street address or location information previously determined for the user of the client device to the driver device as address or location information .

According to some examples the location determination can also determine the preferred language of the selected driver. When a driver is selected by the transport arrangement the language match of the location determination can identify the preferred language of the selected driver by accessing the driver profiles in the profile database of drivers e.g. using a driver ID . The language match can compare the preferred language of the user and the preferred language of the selected driver to determine if they are the same. If the preferred languages match the location determination does not have to perform another translation step but instead transmit the determined address or location information that was previously transmitted to the user s client device to the driver device . On the other hand if the preferred languages do not match the location determination can perform the reverse geocoding process again e.g. to receive an address in the preferred language of the driver and or perform a translation of the determined address in the preferred language of the user to the preferred language of the driver.

In this manner the system provides many benefits in providing location information or street addresses using a predefined reverse geocoding process. For example if a third party reverse geocoding service is unavailable or inaccessible the system can still provide relevant location information to the user of the client device using other resources. Administrators of the system can continue to update internal databases such as the geofence database to provide more granular and time based location information messages to users. Such granular and time based information may be more useful to a user as well as a service provider then a typical street address when roads street corners regions etc. are blocked or closed due to temporary events e.g. marathons or city festivals . In addition because the system provides the determined address or location information to both the client device and the driver device for purposes of an on demand service the user and the selected driver can receive the same information without having two separate reverse geocoding requests be made to a third party reverse geocoding service i.e. individually made by the client device and the driver device .

Referring to the system can receive a location data point such as a GPS data point from a client device over one or more networks . In some examples the location data point can comprise a latitude a longitude and an error value. If the error value is less than a threshold error value the system can perform a reverse geocoding process for the received location data point. An example of the reverse geocoding process such as performed by the location determination of is described in detail.

The location determination determines if the location data point is within a predefined region of a plurality of predefined regions that have been configured by an administrator of the system . If the location data point is within a predefined region the location determination identifies location information corresponding to that predefined region and transmits the location information to the client device . Information about the plurality of predefined regions can be stored in a geofence database as geofence entries. In some examples a geofence entry can be timed based and include a time period e.g. a start date a start time an end date an end time etc. for that geofence entry. For example a geofence entry can specify a region that surrounds and or corresponds to AT T Park and have a time period related to the date and a duration of a baseball game played there e.g. one hour prior to the game to one hour after the game . The corresponding location information text string for the predefined region of AT T Park can recite for example Giants game walk to 3St. and Brannan for pick up. The location information can be informative to guide the user to move to another location for pickup e.g. such as for a transport service because the actual address location might be congested with people and or roads may be closed. In this manner such a pre configured location information provided to a user s client device can be more useful for the user for purposes of on demand services.

If the location data point is not within a predefined region the location determination determines if there is an available or accessible location specific reverse geocoding service . For example a third party reverse geocoding service may be unavailable if a rate limit such as the number of queries per second QPS has been reached at the time the location data point is received from the client device. In another example a third party reverse geocoding service may be unavailable if a call is made to the third party reverse geocoding service and no address is received in response to the call e.g. due to computing resources of the third party reverse geocoding service having failed or crashed or if network connectivity to the third party reverse geocoding service has been lost .

If a location specific third party reverse geocoding service is accessible for translating the location data point to an address the location determination can transmit a request to the location specific third party reverse geocoding service . The request can include the location data point. In one embodiment the request can also be made for a street address in a preferred language of the user. The location specific third party reverse geocoding service can translate the location data point to a street address and provide the address to the location determination . The location determination can transmit the address to the client device . In one variation if the location specific third party reverse geocoding service is unable to provide an address for the location data point the location determination can determine if there are other third party reverse geocoding services that are available or accessible for providing the translation. If no third party reverse geocoding services are available or accessible the location determination can use other resources such as the map database of the system to determine location information or provide a custom text string to the client device.

Referring back to if location specific third party reverse geocoding services are unavailable or inaccessible for translating the location data point to an address the location determination can determine if a larger more generic third party reverse geocoding service as compared to the location specific third party reverse geocoding service is accessible e.g. such as the reverse geocoding service provided by Google Inc. . If a larger more generic third party reverse geocoding service is accessible the location determination transmits a request to that location specific third party reverse geocoding service . The location determination can receive the translated address and transmit the address to the client device .

In some cases third party reverse geocoding services may not be available for or accessible by the system . If no third party reverse geocoding services are accessible or available the location determination can determine if a map database of the system e.g. an internal database maintained by the system is available for translating the location data point to the address . If the map database is available the location determination can retrieve a stored address or location information from the map database using the location data point and transmit the retrieved address to the client device . If the map database is unavailable or if no address is found that corresponds to the location data point the system can identify a specified text string to be transmitted to the client device e.g. Address is unavailable Select another location Call your driver .

While has been described in a specific order in which the location determination accesses or attempts to access a plurality of resources depending on variations other orders or rankings of resources are possible. In other examples the location determination may not access or attempt to access certain resources. For example when a total QPS limit has been reached for a third party reverse geocoding service the location determination may not access the third party geocoding service and instead access another resource e.g. the map database of the system or other internal databases. In addition different resources may be available for different geographic regions in which the location data point is located in.

For example illustrates another example for determining location information according to an embodiment. is similar to FIG. A except that in the location determination does not individually access or attempt to access a location specific third party reverse geocoding service. The location determination receives a location data point from a client device and determines if the location data point is within a predefined region . If yes the identified location information corresponding to the predefined region is transmitted to the client device .

If the location data point is not within a predefined region the location determination determines if a third party reverse geocoding service is available or accessible . If a third party reverse geocoding service is available or accessible the location determination transmits a request to the service . The third party reverse geocoding service can perform a translation of the location data point to an address such as a street address and return a result to the location determination . The location determination can transmit the address to the client device .

If no third party reverse geocoding service is available or accessible the location determination determines if the map database of the system is available . If yes the location information or address corresponding to the location data point is retrieved from the map database and transmitted to the client device . If the map database of the system is unavailable the location determination can identify a custom text string to transmit to the client device .

The system can receive a location data point from a client device . The client device can run a service application for example in which a user of the client device can specify a location for use with an on demand or location based service. In one example the service application can provide a map interface in which a user can select the location by moving a graphic feature on the map interface. The selected location can correspond to a location data point such as a latitude and a longitude.

In response to receiving the location data point the location determination performs a reverse geocoding process to determine the address or location information corresponding to the received location data point . In some examples the reverse geocoding process can correspond to steps of or steps of . The location determination provides the result of the reverse geocoding process e.g. an address location information or custom text string to the client device. The user can also continue to change the location on the map interface before he or she make a transport request or in some embodiments can change the location even after the transport request is made but before a predetermined time before the estimated time of arrival by a driver . The location determination can continue to perform the reverse geocoding process each time the client device provides a different location data point to the system e.g. each time the user moves the graphic feature on the map interface of the service application .

In some examples the user can make an on demand service request to the system e.g. a delivery request an entertainment service request a transport request etc. via the client device using the location data point . The system can arrange for the on demand service to be provided for the user by a service provider. For example the system can use information about the transport service request information about the user and information about available drivers in a geographic region corresponding to the location data point to select a driver to provide the transport service . In other on demand service examples the system can select a particular driver for performing a delivery service select a food vendor for providing a food service etc. Information about the transport service can be provided to both the client device of the user and the driver device of the driver.

For example for a transport service a driver should know the pick up location specified by the user. The user specifies the pick up location and can receive the street address or location information identified by the system via the reverse geocoding process described in . Such information should also be provided to the driver. In one embodiment the location determination can provide the address or location information to the user in a preferred language of the user. The location determination can determine if the preferred language of the user matches the preferred language of the driver . If the preferred languages match the location determination can transmit the already determined address or location information to the device of the driver .

On the other hand if the preferred language of the user does not match the preferred language of the driver the location determination can i perform a translation of the determined address or location information ii access a third party translation service to perform the translation of the determined address or location information and or iii perform the reverse geocoding process a second time which can include making the reverse geocoding request to a third party reverse geocoding service for an address or location information in the preferred language of the driver . The address or location information that is in the preferred language of the driver can be provided to the device of the driver .

In one implementation the computer system includes processing resources a main memory a read only memory ROM a storage device and a communication interface . The computer system includes at least one processor for processing information and the main memory such as a random access memory RAM or other dynamic storage device for storing information and instructions to be executed by the processor . The main memory also may be used for storing temporary variables or other intermediate information during execution of instructions to be executed by the processor . The computer system may also include the ROM or other static storage device for storing static information and instructions for the processor . A storage device such as a magnetic disk or optical disk is provided for storing information and instructions including instructions for implementing components of the system of . According to some examples the processor can execute the instructions stored in the ROM and or the storage device to implement logic for performing a reverse geocoding process such as described in .

The communication interface can enable the computer system to communicate with one or more networks e.g. cellular network through use of the network link wireless or wireline . Using the network link the computer system can communicate with one or more computing devices and one or more servers. In some variations the computer system can be receive location data points from one or more client devices via the network link. A location data point can be processed by the processor to determine an address or location information corresponding to the location data point . The determined address information can be transmitted to the client device e.g. that provided the location data point over the network and or to a driver device of a driver that has been selected to provide a transport service for the user of the client device.

The computer system can also include a display device such as a cathode ray tube CRT an LCD monitor or a television set for example for displaying graphics and information to a user. An input mechanism such as a keyboard that includes alphanumeric keys and other keys can be coupled to the computer system for communicating information and command selections to the processor . Other non limiting illustrative examples of input mechanisms include a mouse a trackball touch sensitive screen or cursor direction keys for communicating direction information and command selections to the processor and for controlling cursor movement on the display .

Examples described herein are related to the use of the computer system for implementing the techniques described herein. According to one embodiment those techniques are performed by the computer system in response to the processor executing one or more sequences of one or more instructions contained in the main memory . Such instructions may be read into the main memory from another machine readable medium such as the storage device . Execution of the sequences of instructions contained in the main memory causes the processor to perform the process steps described herein. In alternative implementations hard wired circuitry may be used in place of or in combination with software instructions to implement examples described herein. Thus the examples described are not limited to any specific combination of hardware circuitry and software.

The processor is configured with software and or other logic to perform one or more processes steps and other functions described with implementations such as described by and elsewhere in the application. The processor is configured with instructions and data stored in the memory resources to operate a service application as described in . For example instructions for operating the service application in order to display user interfaces can be stored in the memory resources of the computing device .

A user can operate the service application on the computing device so that a location data point can be determined for a selected location e.g. using the GPS component . The location data point can be wirelessly transmitted to the system via the communication sub systems . The system can perform a reverse geocoding process to determine an address or location information corresponding to the location data point and transmit the determined address or location information to the computing device . The address information can be processed by the processor to provide the address on the display as part of the user interface .

For example the processor can provide a variety of content to the display by executing instructions and or applications that are stored in the memory resources . One or more user interfaces can be provided by the processor such as a user interface for the service application which can include the received address information . While is illustrated for a mobile computing device one or more embodiments may be implemented on other types of devices including full functional computers such as laptops and desktops e.g. PC .

It is contemplated for examples described herein to extend to individual elements and concepts described herein independently of other concepts ideas or system as well as for examples to include combinations of elements recited anywhere in this application. Although examples are described in detail herein with reference to the accompanying drawings it is to be understood that the concepts are not limited to those precise examples. Accordingly it is intended that the scope of the concepts be defined by the following claims and their equivalents. Furthermore it is contemplated that a particular feature described either individually or as part of an example can be combined with other individually described features or parts of other examples even if the other features and examples make no mentioned of the particular feature. Thus the absence of describing combinations should not preclude having rights to such combinations.

