---

title: Device and method for assisting laparoscopic surgery rule based approach
abstract: A surgical controlling system comprising: at least one location estimating means to real-time locate the 3D spatial position of at least one surgical tool; at least one movement detection means in communication with a movement database and with the location estimating means; and a controller, which controls the position of at least one surgical tool, in communication with a movement database, a control database and the movement detection means. The movement database stores the 3D spatial position of each surgical tool at the present time and at at least one previous time; a tool has moved if its present position is different from its previous position. The control database stores rules to identify a movement of a tool as either an ALLOWED movement or a RESTRICTED movement.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09504456&OS=09504456&RS=09504456
owner: M.S.T. MEDICAL TECHNOLOGIES LTD
number: 09504456
owner_city: Yoqneam
owner_country: IL
publication_date: 20150628
---
This application is a Divisional of National Phase application Ser. No. 14 150 939 filed Jan. 9 2014 which claims priority from provisional application No. 61 750 856 filed on Jan. 10 2010 and PCT Application Number PCT IL2012 000310 filed on Aug. 21 2012 which claims priority from provisional application No. 61 525 779 filed on Aug. 21 2011 and provisional application No. 61 525 787 filed on Aug. 21 2011 and provisional application No. 61 525 789 filed on Aug. 21 2011. All of these applications are hereby incorporated by reference in their entirety.

The present invention generally relates to means and methods for improving the interface between the surgeon and the operating medical assistant or between the surgeon and an endoscope system for laparoscopic surgery. Moreover the present invention discloses a device useful for spatially repositioning an endoscope to a specific region in the human body during surgery.

In laparoscopic surgery the surgeon performs the operation through small holes using long instruments and observing the internal anatomy with an endoscope camera. The endoscope is conventionally held by a human camera assistant i.e. operating medical assistant since the surgeon must perform the operation using both hands. The surgeon s performance is largely dependent on the camera position relative to the instruments and on a stable image shown by the monitor. The main problem is that it is difficult for the operating medical assistant to hold the endoscope steady keeping the scene upright.

Laparoscopic surgery is becoming increasingly popular with patients because the scars are smaller and their period of recovery is shorter. Laparoscopic surgery requires special training for the surgeon or gynecologist and the theatre nursing staff. The equipment is often expensive and is not available in all hospitals.

During laparoscopic surgery it is often required to shift the spatial placement of the endoscope in order to present the surgeon with an optimal view. Conventional laparoscopic surgery makes use of either human assistants that manually shift the instrumentation or alternatively robotic automated assistants. Automated assistants utilize interfaces that enable the surgeon to direct the mechanical movement of the assistant achieving a shift in the camera view.

U.S. Pat. No. 6 714 841 discloses an automated camera endoscope in which the surgeon is fitted with a head mounted light source that transmits the head movements to a sensor forming an interface that converts the movements to directions for the mechanical movement of the automated assistant. Alternative automated assistants incorporate a voice operated interface a directional key interface or other navigational interfaces. The above interfaces share the following drawbacks 

Research has suggested that these systems divert the surgeon s focus from the major task at hand. Therefore technologies assisted by magnets and image processing have been developed to simplify interfacing control. However these improved technologies still fail to address another complicating interface aspect of laparoscopic surgery in that they do not allow the surgeon to signal to automated assistants or to human assistants or to surgical colleagues which instrument his attention is focused on.

Hence there is still a long felt need for a improving the interface between the surgeon and an endoscope system surgical colleagues or human assistants for laparoscopic surgery.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the predetermined set of rules comprises at least one rule selected from a group consisting of most used tool rule right tool rule left tool rule field of view rule no fly zone rule route rule environmental rule operator input rule proximity rule collision prevention rule history based rule tool dependent allowed and RESTRICTED movements rule preferred volume zone rule preferred tool rule a movement detection rule tagged tool rule change of speed rule and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the route rule comprises a communicable database storing predefined route in which the at least one surgical tool is adapted to move within the surgical environment the predefined route comprises n 3D spatial positions of the at least one surgical tool n is an integer greater than or equals to 2 the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions of the predefined route and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions of the predefined route.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the environmental rule comprises a comprises a communicable database the communicable database is adapted to received real time image of the surgical environment and is adapted to perform real time image processing of the same and to determine the 3D spatial position of hazards or obstacles in the surgical environment the environmental rule is adapted to determine the ALLOWED and RESTRICTED movements according to the hazards or obstacles in the surgical environment such that the RESTRICTED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the hazards or obstacles in the surgical environment are selected from a group consisting of tissue a surgical tool an organ an endoscope and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the operator input rule comprises a communicable database the communicable database is adapted to receive an input from the operator of the system regarding the ALLOWED and RESTRICTED movements of the at least one surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the input comprises n 3D spatial positions n is an integer greater than or equals to 2 wherein at least one of which is defined as ALLOWED location and at least one of which is defined as RESTRICTED location such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the input comprises at least one rule according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that the spatial position of the at least one surgical tool is controlled by the controller according to the ALLOWED and RESTRICTED movements.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the predetermined set of rules comprises at least one rule selected from the group consisting of most used tool right tool rule left tool rule field of view rule no fly zone rule a route rule an environmental rule an operator input rule a proximity rule a collision prevention rule preferred volume zone rule movement detection rule a history based rule a tool dependent allowed and RESTRICTED movements rule and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the operator input rule converts an ALLOWED movement to a RESTRICTED movement and a RESTRICTED movement to an ALLOWED movement.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the proximity rule is adapted to define a predetermined distance between at least two surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined distance and the RESTRICTED movements which are out of the range or within the range of the predetermined distance.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the proximity rule is adapted to define a predetermined angle between at least three surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined angle and the RESTRICTED movements which are out of the range or within the range of the predetermined angle.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the collision prevention rule is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment the ALLOWED movements are movements which are in a range that is larger than the predetermined distance and the RESTRICTED movements are movements which is in a range that is smaller than the predetermined distance.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the anatomical element is selected from a group consisting of tissue organ another surgical tool or any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein at least one of the following is being held true a said system additionally comprising an endoscope said endoscope is adapted to provide real time image of said surgical environment b at least one of said surgical tools is an endoscope adapted to provide real time image of said surgical environment.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the right tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to right of the endoscope.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the left tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to left of the endoscope.

It is another object of the present invention to provide the surgical controlling system as defined above said a tagged tool rule comprises means adapted to tag at least one surgical tool within said surgical environment and to determine said ALLOWED movement of said endoscope according to the movement of said tagged surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the field of view rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions so as to maintain a constant field of view such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the preferred volume zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions and RESTRICTED movement of the endoscope outside the n 3D spatial positions such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the preferred tool rule comprises a communicable database the database stores a preferred tool the preferred tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the preferred tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the no fly zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone rule is adapted to determine the RESTRICTED movement if the movement is within the no fly zone and the ALLOWED movement if the movement is outside the no fly zone such that the RESTRICTED movements are movements in which the at least one of the surgical tool is located substantially in at least one of the n 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the most used tool rule comprises a communicable database counting the amount of movement of each of the surgical tools the most used tool rule is adapted to constantly position the endoscope to track the movement of the most moved surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein said system further comprising a maneuvering subsystem communicable with said controller said maneuvering subsystem is adapted to spatially reposition said at least one surgical tool during a surgery according to said predetermined set of rules further wherein the system is adapted to alert the physician of a RESTRICTED movements of the at least one surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the alert is selected from a group consisting of audio signaling voice signaling light signaling flashing signaling and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the ALLOWED movement is permitted by the controller and a RESTRICTED movement is denied by the controller.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the history based rule comprises a communicable database storing each 3D spatial position of each of the surgical tool such that each movement of each surgical tool is stored the history based rule is adapted to determine the ALLOWED and RESTRICTED movements according to historical movements of the at least one surgical tool such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the tool dependent allowed and RESTRICTED movements rule comprises a communicable database the communicable database is adapted to store predetermined characteristics of at least one of the surgical tool the tool dependent allowed and RESTRICTED movements rule is adapted to determine the ALLOWED and RESTRICTED movements according to the predetermined characteristics of the surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the predetermined characteristics of the surgical tool are selected from the group consisting of physical dimensions structure weight sharpness and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the movement detection rule comprises a communicable database comprising the real time 3D spatial positions of each of the surgical tool and to detect movement of the at least one surgical tool when a change in the 3D spatial positions is received such that the ALLOWED movements are movements in which the endoscope is directed to focus on the moving surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above further comprising a maneuvering subsystem communicable with the controller the maneuvering subsystem is adapted to spatially reposition the at least one surgical tool during a surgery according to the predetermined set of rules such that if said movement of said at least one surgical tool is a RESTRICTED movement said maneuvering subsystem prevents said movement.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the at least one location estimating means comprises at least one endoscope adapted to acquire real time images of the surgical environment within the human and at least one surgical instrument spatial location software adapted to receive said real time images of said surgical environment and to estimate said 3D spatial position of said at least one surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the at least one location estimating means are comprises a at least one element selected from a group consisting of optical imaging means radio frequency transmitting and receiving means at least one mark on the at least one surgical tool and any combination thereof and b at least one surgical instrument spatial location software adapted to estimate said 3D spatial position of said at least one surgical tool by means of said element.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the at least one location estimating means are an interface subsystem between a surgeon and the at least one surgical tool the interface subsystem comprises 

It is another object of the present invention to provide a method for assisting an operator to perform a surgical procedure comprising steps of 

It is another object of the present invention to provide the method as defined above further comprising a step of selecting the predetermined set of rules from the group consisting of most used tool right tool rule left tool rule field of view rule no fly zone rule a route rule an environmental rule an operator input rule a proximity rule a collision prevention rule preferred volume zone rule preferred tool rule movement detection rule a history based rule a tool dependent allowed and RESTRICTED movements rule tagged tool rule and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the route rule comprises a communicable database storing predefined route in which the at least one surgical tool is adapted to move within the surgical environment the predefined route comprises n 3D spatial positions of the at least one surgical tool n is an integer greater than or equals to 2 the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions of the predefined route and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions of the predefined route.

It is another object of the present invention to provide the method as defined above wherein the environmental rule comprises a comprises a communicable database the communicable database is adapted to received real time image of the surgical environment and is adapted to perform real time image processing of the same and to determine the 3D spatial position of hazards or obstacles in the surgical environment the environmental rule is adapted to determine the ALLOWED and RESTRICTED movements according to the hazards or obstacles in the surgical environment such that the RESTRICTED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the hazards or obstacles in the surgical environment are selected from a group consisting of tissue a surgical tool an organ an endoscope and any combination thereof

It is another object of the present invention to provide the method as defined above wherein the operator input rule comprises a communicable database the communicable database is adapted to receive an input from the operator of the system regarding the ALLOWED and RESTRICTED movements of the at least one surgical tool.

It is another object of the present invention to provide the method as defined above wherein the input comprises n 3D spatial positions n is an integer greater than or equals to 2 wherein at least one of which is defined as ALLOWED location and at least one of which is defined as RESTRICTED location such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the input comprises at least one predetermined rule according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that the spatial position of the at least one surgical tool is controlled by the controller according to the ALLOWED and RESTRICTED movements.

It is another object of the present invention to provide the method as defined above wherein the predetermined rules is selected from the group consisting of most used tool right tool rule left tool rule field of view rule no fly zone rule preferred volume zone rule a route rule an environmental rule an operator input rule a proximity rule a collision prevention rule a history based rule a tool dependent allowed and RESTRICTED movements rule and any combination thereof

It is another object of the present invention to provide the method as defined above wherein the operator input rule converts an ALLOWED movement to a RESTRICTED movement and a RESTRICTED movement to an ALLOWED movement.

It is another object of the present invention to provide the method as defined above wherein the proximity rule is adapted to define a predetermined distance between at least two surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined distance and the RESTRICTED movements which are out of the range or within the range of the predetermined distance.

It is another object of the present invention to provide the method as defined above wherein the proximity rule is adapted to define a predetermined angle between at least three surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined angle and the RESTRICTED movements which are out of the range or within the range of the predetermined angle

It is another object of the present invention to provide the method as defined above wherein the collision prevention rule is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment the ALLOWED movements are movements which are in a range that is larger than the predetermined distance and the RESTRICTED movements are movements which is in a range that is smaller than the predetermined distance.

It is another object of the present invention to provide the method as defined above wherein the anatomical element is selected from a group consisting of tissue organ another surgical tool or any combination thereof.

It is another object of the present invention to provide the method as defined above wherein at least one of the following is being held true a said system additionally comprising an endoscope said endoscope is adapted to provide real time image of said surgical environment b at least one of said surgical tools is an endoscope adapted to provide real time image of said surgical environment.

It is another object of the present invention to provide the method as defined above wherein the right tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to right of the endoscope.

It is another object of the present invention to provide the method as defined above wherein the left tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to left of the endoscope.

It is another object of the present invention to provide the method as defined above wherein said a tagged tool rule comprises means adapted to tag at least one surgical tool within said surgical environment and to determine said ALLOWED movement of said endoscope according to the movement of said tagged surgical tool.

It is another object of the present invention to provide the method as defined above wherein the field of view rule comprises n 3D spatial positions n is an integer greater than or equals to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions so as to maintain a constant field of view such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the preferred volume zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions and RESTRICTED movement of the endoscope outside the n 3D spatial positions such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the preferred tool rule comprises a communicable database the database stores a preferred tool the preferred tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the preferred tool.

It is another object of the present invention to provide the method as defined above wherein the no fly zone rule comprises n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone rule is adapted to determine the RESTRICTED movement if the movement is within the no fly zone and the ALLOWED movement if the movement is outside the no fly zone such that the RESTRICTED movements are movements in which the at least one of the surgical tool is located substantially in at least one of the n 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the most used tool rule comprises a database counting the amount of movement of each of the surgical tools the most used tool rule is adapted to constantly position the endoscope to track the movement of the most moved surgical tool.

It is another object of the present invention to provide the method as defined above additionally comprising step of alerting the physician of a RESTRICTED movements of the at least one surgical tool.

It is another object of the present invention to provide the method as defined above wherein the step of alerting is performed by at least one selected from a group consisting of audio signaling voice signaling light signaling flashing signaling and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the ALLOWED movement is permitted by the controller and a RESTRICTED movement is denied by the controller.

It is another object of the present invention to provide the method as defined above wherein the history based rule comprises a communicable database storing each 3D spatial position of each of the surgical tool such that each movement of each surgical tool is stored the history based rule is adapted to determine the ALLOWED and RESTRICTED movements according to historical movements of the at least one surgical tool such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the tool dependent allowed and RESTRICTED movements rule comprises a communicable database the communicable database is adapted to store predetermined characteristics of at least one of the surgical tool the tool dependent allowed and RESTRICTED movements rule is adapted to determine the ALLOWED and RESTRICTED movements according to the predetermined characteristics of the surgical tool.

It is another object of the present invention to provide the method as defined above wherein the predetermined characteristics of the surgical tool are selected from the group consisting of physical dimensions structure weight sharpness and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the movement detection rule comprises a communicable database comprising the real time 3D spatial positions of each of the surgical tool and to detect movement of the at least one surgical tool when a change in the 3D spatial positions is received such that the ALLOWED movements are movements in which the endoscope is directed to focus on the moving surgical tool.

It is another object of the present invention to provide the method as defined above further comprising a step of providing a maneuvering subsystem communicable with the controller the maneuvering subsystem is adapted to spatially reposition the at least one surgical tool during a surgery according to the predetermined set of rules.

It is another object of the present invention to provide the method as defined above wherein the at least one location estimating means comprises at least one endoscope adapted to acquire real time images of a surgical environment within the human body and at least one surgical instrument spatial location software adapted to receive said real time images of said surgical environment and to estimate said 3D spatial position of said at least one surgical tool.

It is another object of the present invention to provide the method as defined above wherein the at least one location estimating means are comprises a at least one element selected from a group consisting of optical imaging means radio frequency transmitting and receiving means at least one mark on the at least one surgical tool and any combination thereof and b at least one surgical instrument spatial location software adapted to estimate said 3D spatial position of said at least one surgical tool by means of said element.

It is another object of the present invention to provide the method as defined above wherein the at least one location estimating means are an interface subsystem between a surgeon and the at least one surgical tool the interface subsystem comprises 

It is another object of the present invention to provide a surgical tracking system for assisting an operator to perform a laparoscopic surgery of a human body the surgical tracking system comprising 

It is another object of the present invention to provide the surgical tracking system as defined above wherein each of the instructing functions g t is provided with t where i is an integer greater than or equals to 1 where t are weighting functions of each g t and a n is total number of instruction functions.

It is another object of the present invention to provide the surgical tracking system as defined above wherein each of the instructing functions g t is selected from a group consisting of most used tool function a right tool function left tool function field of view function preferred volume zone function preferred tool function no fly zone function a tool detection function a movement detection function an organ detection function a collision detection function an operator input function a prediction function a past statistical analysis function proximity function a tagged tool function and any combination thereof.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the weighting functions t are time varying functions wherein the value of which is determined by the operators.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the tool detection function is adapted to detect surgical tools in the surgical environment and to output instruction to the tracking subsystem to instruct the maneuvering system to direct the endoscope on the detected surgical tools.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the movement detection function comprises a communicable database comprising the real time 3D spatial positions of each of the surgical tool in the surgical environment and to detect movement of the at least one surgical tool when a change in the 3D spatial positions is received and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope on the moved surgical tool.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the organ detection function is adapted to detect organs in the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope on the detected organs.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the right tool function is adapted to detect surgical tool positioned to right of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope on the right tool and to track the right tool.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the left tool function is adapted to detect surgical tool positioned to left of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope on the left tool and to track the left tool.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the operator input function comprises a communicable database the communicable database is adapted to receive an input from the operator of the system the input comprising n 3D spatial positions n is an integer greater than or equals to 2 and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the at least one 3D spatial position received.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the proximity function is adapted to define a predetermined distance between at least two surgical tools and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the two surgical tools if the distance between the two surgical tools is less than the predetermined distance.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the proximity function is adapted to define a predetermined angle between at least three surgical tools and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the three surgical tools if the angle between the two surgical tools is less than or greater than the predetermined angle.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the preferred volume zone function comprises communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the preferred volume zone.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the preferred tool function comprises a communicable database the database stores a preferred tool the preferred tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the preferred tool.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the collision prevention function is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the surgical tool and the anatomical element within the surgical environment if the distance between the at least one surgical tool and an anatomical element is less than the predetermined distance.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the anatomical element is selected from a group consisting of tissue organ another surgical tool or any combination thereof.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the field of view function comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to at least one 3D spatial position substantially within the n 3D spatial positions so as to maintain a constant field of view.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the no fly zone function comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to at least one 3D spatial position substantially different from all the n 3D spatial positions.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the most used tool function comprises a communicable database counting the amount of movement of each surgical tool located within the surgical environment the most used tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to constantly position the endoscope to track the movement of the most moved surgical tool.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the prediction function comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the prediction function is adapted to a to predict the future 3D spatial position of each of the surgical tools and b to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the future 3D spatial position.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the past statistical analysis function comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the past statistical analysis function is adapted to a statistical analyze the 3D spatial positions of each of the surgical tools and b to predict the future 3D spatial position of each of the surgical tools and c to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the future 3D spatial position.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the a tagged tool function comprises means adapted to tag at least one surgical tool within the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope to the tagged surgical tool.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the means are adapted to constantly tag the at least one of surgical tool within the surgical environment.

It is another object of the present invention to provide the surgical tracking system as defined above wherein means are adapted to re tag the at least one of the surgical tools until a desired tool is selected.

It is another object of the present invention to provide the surgical tracking system as defined above additionally comprising means adapted to toggle the surgical tools.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the toggling is performed manually or automatically.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the image processing is obtained by at least one algorithm selected from the group consisting of image stabilization algorithm image improvement algorithm image compilation algorithm image enhancement algorithm image detection algorithm image classification algorithm image correlation with the cardiac cycle or the respiratory cycle of the human body smoke or vapor steam reduction from the endoscope and any combination thereof.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the endoscope comprises an image acquisition device selected from the group consisting of a camera a video camera an electromagnetic sensor a computer tomography imaging device a fluoroscopic imaging device an ultrasound imaging device and any combination thereof.

It is another object of the present invention to provide the surgical tracking system as defined above further comprising a display adapted to provide input or output to the operator regarding the operation of the system.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the display is used for visualizing the region of interest by the operator.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the display is adapted to output the acquired real time images of a surgical environment with augmented reality elements.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the image processing algorithm is adapted to analyze 2D or 3D representation rendered from the real time images of the surgical environment.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the data processor is further adapted to operate a pattern recognition algorithm for assisting the operation of the instructing functions g t .

It is another object of the present invention to provide the surgical tracking system as defined above additionally comprising at least one location estimating means for locating the position of at least one surgical tool in the surgical environment.

It is another object of the present invention to provide the surgical tracking system as defined above wherein the at least one location estimating means are an interface subsystem between a surgeon and the at least one surgical tool the interface subsystem comprises 

It is another object of the present invention to provide a method for assisting an operator to perform a laparoscopic surgery of a human body the method comprising steps of 

It is another object of the present invention to provide the method as defined above wherein each of the instructing functions g t is provided with t where i is an integer greater than or equals to 1 where t are weighting functions of each g t and a n is total number of instruction functions.

It is another object of the present invention to provide the method as defined above wherein each of the instructing functions g t is selected from a group consisting of most used tool function a right tool function left tool function field of view function preferred volume zone function preferred tool function no fly zone function a tool detection function a movement detection function an organ detection function a collision detection function an operator input function a prediction function a past statistical analysis function proximity function a tagged tool function and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the weighting functions t are time varying functions wherein the value of which is determined by the operators.

It is another object of the present invention to provide the method as defined above wherein the tool detection function is adapted to detect surgical tools in the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope on the detected surgical tools.

It is another object of the present invention to provide the method as defined above wherein the movement detection function comprises a communicable database comprising the real time 3D spatial positions of each of the surgical tool in the surgical environment and to detect movement of the at least one surgical tool when a change in the 3D spatial positions is received and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope on the moved surgical tool.

It is another object of the present invention to provide the method as defined above wherein the organ detection function is adapted to detect organs in the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope on the detected organs.

It is another object of the present invention to provide the method as defined above wherein the right tool function is adapted to detect surgical tool positioned to right of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope on the right tool and to track the right tool.

It is another object of the present invention to provide the method as defined above wherein the left tool function is adapted to detect surgical tool positioned to left of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope on the left tool and to track the left tool.

It is another object of the present invention to provide the method as defined above wherein the operator input function comprises a communicable database the communicable database is adapted to receive an input from the operator of the system the input comprising n 3D spatial positions n is an integer greater than or equals to 2 and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the at least one 3D spatial position received.

It is another object of the present invention to provide the method as defined above wherein the proximity function is adapted to define a predetermined distance between at least two surgical tools and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the two surgical tools if the distance between the two surgical tools is less than the predetermined distance.

It is another object of the present invention to provide the method as defined above wherein the proximity function is adapted to define a predetermined angle between at least three surgical tools and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the three surgical tools if the angle between the two surgical tools is less than or greater than the predetermined angle.

It is another object of the present invention to provide the method as defined above wherein the preferred volume zone function comprises communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the preferred volume zone.

It is another object of the present invention to provide the method as defined above wherein the preferred tool function comprises a communicable database the database stores a preferred tool the preferred tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the preferred tool.

It is another object of the present invention to provide the method as defined above wherein the collision prevention function is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the surgical tool and the anatomical element within the surgical environment if the distance between the at least one surgical tool and an anatomical element is less than the predetermined distance.

It is another object of the present invention to provide the method as defined above wherein the anatomical element is selected from a group consisting of tissue organ another surgical tool or any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the field of view function comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to at least one 3D spatial position substantially within the n 3D spatial positions so as to maintain a constant field of view.

It is another object of the present invention to provide the method as defined above wherein the no fly zone function comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to at least one 3D spatial position substantially different from all the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the most used tool function comprises a communicable database counting the amount of movement of each surgical tool located within the surgical environment the most used tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to constantly position the endoscope to track the movement of the most moved surgical tool.

It is another object of the present invention to provide the method as defined above wherein the prediction function comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the prediction function is adapted to a to predict the future 3D spatial position of each of the surgical tools and b to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the future 3D spatial position.

It is another object of the present invention to provide the method as defined above wherein the past statistical analysis function comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the past statistical analysis function is adapted to a statistical analyze the 3D spatial positions of each of the surgical tools and b to predict the future 3D spatial position of each of the surgical tools and c to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the future 3D spatial position.

It is another object of the present invention to provide the method as defined above wherein the a tagged tool function comprises means adapted to tag at least one surgical tool within the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope to the tagged surgical tool.

It is another object of the present invention to provide the method as defined above wherein the means are adapted to constantly tag the at least one of surgical tool within the surgical environment.

It is another object of the present invention to provide the method as defined above wherein means are adapted to re tag the at least one of the surgical tools until a desired tool is selected.

It is another object of the present invention to provide the method as defined above additionally comprising step of providing means adapted to toggle the surgical tools.

It is another object of the present invention to provide the method as defined above wherein the toggling is performed manually or automatically.

It is another object of the present invention to provide the method as defined above wherein the image processing is obtained by at least one algorithm selected from the group consisting of image stabilization algorithm image improvement algorithm image compilation algorithm image enhancement algorithm image detection algorithm image classification algorithm image correlation with the cardiac cycle or the respiratory cycle of the human body smoke or vapor steam reduction from the endoscope and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the endoscope comprises an image acquisition device selected from the group consisting of a camera a video camera an electromagnetic sensor a computer tomography imaging device a fluoroscopic imaging device an ultrasound imaging device and any combination thereof.

It is another object of the present invention to provide the method as defined above further comprising step of providing a display adapted to provide input or output to the operator regarding the operation of the system.

It is another object of the present invention to provide the method as defined above wherein the display is used for visualizing the region of interest by the operator.

It is another object of the present invention to provide the method as defined above wherein the display is adapted to output the acquired real time images of a surgical environment with augmented reality elements.

It is another object of the present invention to provide the method as defined above wherein the image processing algorithm is adapted to analyze 2D or 3D representation rendered from the real time images of the surgical environment.

It is another object of the present invention to provide the method as defined above wherein the data processor is further adapted to operate a pattern recognition algorithm for assisting the operation of the instructing functions g t .

It is another object of the present invention to provide the method as defined above additionally comprising step of preliminary tagging at least one of the surgical tools.

It is another object of the present invention to provide the method as defined above additionally comprising step of constantly tagging at least one of the surgical tools.

It is another object of the present invention to provide the method as defined above additionally comprising step of re tagging the at least one of the surgical tools until a desired tool is selected.

It is another object of the present invention to provide the method as defined above additionally comprising step of toggling the surgical tools.

It is another object of the present invention to provide the method as defined above wherein the toggling is performed manually or automatically.

It is another object of the present invention to provide the method as defined above additionally comprising step of locating the 3D position of at least one surgical tool in the surgical environment.

It is another object of the present invention to provide the method as defined above wherein the step of locating the 3D position of at least one surgical tool is provided by at least one location estimating means the at least one location estimating means are an interface subsystem between a surgeon and the at least one surgical tool the interface subsystem comprises 

It is another object of the present invention to provide the surgical controlling system as defined above wherein the predetermined characteristics are selected from a group consisting of color of the element 3D spatial location of the element contours of the element and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above additionally comprising at least one surgical tool adapted to be inserted into a surgical environment of a human body for assisting a surgical procedure.

It is another object of the present invention to provide the surgical controlling system as defined above additionally comprising a at least one location estimating means adapted to real time estimate the location of the at least one surgical tool at any given time t and b at least one movement detection means communicable with a movement s database and with said location estimating means said movement s database is adapted to store said 3D spatial position of said at least one surgical tool at time tand at time t where t t said movement detection means is adapted to detect movement of said at least one surgical tool if the 3D spatial position of said at least one surgical tool at time tis different than said 3D spatial position of said at least one surgical tool at time t.

It is another object of the present invention to provide the surgical controlling system as defined above additionally comprising a controller having a processing means communicable with a controller s database the controller adapted to control the spatial position of the at least one surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the controller s database is adapted to store a predetermined set of rules according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that each detected movement by said movement detection means of said at least one surgical tool is determined as either an ALLOWED movement or as a RESTRICTED movement according to said predetermined set of rules.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the predetermined set of rules comprises at least one rule selected from the group consisting of most used tool rule right tool rule left tool rule field of view rule no fly zone rule route rule environmental rule operator input rule proximity rule collision prevention rule history based rule tool dependent allowed and RESTRICTED movements rule preferred volume zone rule preferred tool rule movement detection rule and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the route rule comprises a communicable database storing predefined route in which the at least one surgical tool is adapted to move within the surgical environment the predefined route comprises n 3D spatial positions of the at least one surgical tool n is an integer greater than or equals to 2 the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions of the predefined route and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions of the predefined route.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the environmental rule comprises a comprises a communicable database the communicable database is adapted to received real time image of the surgical environment and is adapted to perform real time image processing of the same and to determined the 3D spatial position of hazards or obstacles in the surgical environment the environmental rule is adapted to determine the ALLOWED and RESTRICTED movements according to the hazards or obstacles in the surgical environment such that the RESTRICTED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the hazards or obstacles in the surgical environment are selected from a group consisting of tissue a surgical tool an organ an endoscope and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the operator input rule comprises a communicable database the communicable database is adapted to receive an input from the operator of the system regarding the ALLOWED and RESTRICTED movements of the at least one surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the input comprises n 3D spatial positions n is an integer greater than or equals to 2 wherein at least one of which is defined as ALLOWED location and at least one of which is defined as RESTRICTED location such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the input comprises at least one rule according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that the spatial position of the at least one surgical tool is controlled by the controller according to the ALLOWED and RESTRICTED movements.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the predetermined set of rules comprises at least one rule selected from the group consisting of most used tool right tool rule left tool rule field of view rule no fly zone rule a route rule an environmental rule an operator input rule a proximity rule a collision prevention rule preferred volume zone rule movement detection rule a history based rule a tool dependent allowed and RESTRICTED movements rule and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the operator input rule converts an ALLOWED movement to a RESTRICTED movement and a RESTRICTED movement to an ALLOWED movement.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the proximity rule is adapted to define a predetermined distance between at least two surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined distance and the RESTRICTED movements which are out of the range or within the range of the predetermined distance.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the proximity rule is adapted to define a predetermined angle between at least three surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined angle and the RESTRICTED movements which are out of the range or within the range of the predetermined angle.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the collision prevention rule is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment the ALLOWED movements are movements which are in a range that is larger than the predetermined distance and the RESTRICTED movements are movements which is in a range that is smaller than the predetermined distance.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the anatomical element is selected from a group consisting of tissue organ another surgical tool or any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein at least one of the following is being held true a said system additionally comprising an endoscope said endoscope is adapted to provide real time image of said surgical environment b at least one of said surgical tools is an endoscope adapted to provide real time image of said surgical environment.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the right tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to right of the endoscope.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the left tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to left of the endoscope.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the field of view rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions so as to maintain a constant field of view such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the preferred volume zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions and RESTRICTED movement of the endoscope outside the n 3D spatial positions such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the preferred tool rule comprises a communicable database the database stores a preferred tool the preferred tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the preferred tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the no fly zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone rule is adapted to determine the RESTRICTED movement if the movement is within the no fly zone and the ALLOWED movement if the movement is outside the no fly zone such that the RESTRICTED movements are movements in which the at least one of the surgical tool is located substantially in at least one of the n 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the most used tool rule comprises a communicable database counting the amount of movement of each of the surgical tools the most used tool rule is adapted to constantly position the endoscope to track the movement of the most moved surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein said system further comprising a maneuvering subsystem communicable with said controller said maneuvering subsystem is adapted to spatially reposition said at least one surgical tool during a surgery according to said predetermined set of rules further wherein the system is adapted to alert the physician of a RESTRICTED movements of the at least one surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the alert is selected from a group consisting of audio signaling voice signaling light signaling flashing signaling and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the ALLOWED movement is permitted by the controller and a RESTRICTED movement is denied by the controller.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the history based rule comprises a communicable database storing each 3D spatial position of each of the surgical tool such that each movement of each surgical tool is stored the history based rule is adapted to determine the ALLOWED and RESTRICTED movements according to historical movements of the at least one surgical tool such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the tool dependent allowed and RESTRICTED movements rule comprises a communicable database the communicable database is adapted to store predetermined characteristics of at least one of the surgical tool the tool dependent allowed and RESTRICTED movements rule is adapted to determine the ALLOWED and RESTRICTED movements according to the predetermined characteristics of the surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the predetermined characteristics of the surgical tool are selected from the group consisting of physical dimensions structure weight sharpness and any combination thereof.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the movement detection rule comprises a communicable database comprising the real time 3D spatial positions of each of the surgical tool and to detect movement of the at least one surgical tool when a change in the 3D spatial positions is received such that the ALLOWED movements are movements in which the endoscope is directed to focus on the moving surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above further comprising a maneuvering subsystem communicable with the controller the maneuvering subsystem is adapted to spatially reposition at least one surgical tool during a surgery according to the predetermined set of rules such that if said movement of said at least one surgical tool is a RESTRICTED movement said maneuvering subsystem prevents said movement.

It is another object of the present invention to provide the surgical controlling system as defined above further comprising at least one location estimating means adapted to acquire real time images of the surgical environment within the human body for the estimation of the 3D spatial position of at least one surgical tool.

It is another object of the present invention to provide the surgical controlling system as defined above wherein the at least one location estimating means are comprises at least one selected from a group consisting of optical imaging means radio frequency transmitting and receiving means at least one mark on the at least one surgical tool and any combination thereof.

It is another object of the present invention to provide a method for controlling surgical surgery comprising step of 

It is another object of the present invention to provide the method as defined above wherein the predetermined characteristics are selected from a group consisting of color of the element 3D spatial location of the element contours of the element and any combination thereof.

It is another object of the present invention to provide the method as defined above additionally comprising at least one surgical tool adapted to be inserted into a surgical environment of a human body for assisting a surgical procedure.

It is another object of the present invention to provide the method as defined above additionally comprising a at least one location estimating means adapted to real time estimate the location of the at least one surgical tool at any given time t and b at least one movement detection means communicable with a movement s database and with said location estimating means said movement s database is adapted to store said 3D spatial position of said at least one surgical tool at time tand at time t where t t said movement detection means is adapted to detect movement of said at least one surgical tool if the 3D spatial position of said at least one surgical tool at time tis different than said 3D spatial position of said at least one surgical tool at time t.

It is another object of the present invention to provide the method as defined above additionally comprising a controller having a processing means communicable with a controller s database the controller adapted to control the spatial position of the at least one surgical tool.

It is another object of the present invention to provide the method as defined above wherein the controller s database is adapted to store a predetermined set of rules according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that each detected movement by said movement detection means of said at least one surgical tool is determined as either an ALLOWED movement or as a RESTRICTED movement according to said predetermined set of rules.

It is another object of the present invention to provide the method as defined above wherein the predetermined set of rules comprises at least one rule selected from the group consisting of most used tool right tool rule left tool rule field of view rule no fly zone rule a route rule an environmental rule an operator input rule a proximity rule a collision prevention rule preferred volume zone rule preferred tool rule movement detection rule a history based rule a tool dependent allowed and RESTRICTED movements rule and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the route rule comprises a communicable database storing predefined route in which the at least one surgical tool is adapted to move within the surgical environment the predefined route comprises n 3D spatial positions of the at least one surgical tool n is an integer greater than or equals to 2 the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions of the predefined route and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions of the predefined route.

It is another object of the present invention to provide the method as defined above wherein the environmental rule comprises a comprises a communicable database the communicable database is adapted to received real time image of the surgical environment and is adapted to perform real time image processing of the same and to determined the 3D spatial position of hazards or obstacles in the surgical environment the environmental rule is adapted to determine the ALLOWED and RESTRICTED movements according to the hazards or obstacles in the surgical environment such that the RESTRICTED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the hazards or obstacles in the surgical environment are selected from a group consisting of tissue a surgical tool an organ an endoscope and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the operator input rule comprises a communicable database the communicable database is adapted to receive an input from the operator of the system regarding the ALLOWED and RESTRICTED movements of the at least one surgical tool.

It is another object of the present invention to provide the method as defined above wherein the input comprises n 3D spatial positions n is an integer greater than or equals to 2 wherein at least one of which is defined as ALLOWED location and at least one of which is defined as RESTRICTED location such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the input comprises at least one predetermined rule according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that the spatial position of the at least one surgical tool is controlled by the controller according to the ALLOWED and RESTRICTED movements.

It is another object of the present invention to provide the method as defined above wherein the predetermined rule is selected from the group consisting of most used tool right tool rule left tool rule field of view rule no fly zone rule a route rule an environmental rule an operator input rule a proximity rule a collision prevention rule preferred volume zone rule preferred tool rule movement detection rule a history based rule a tool dependent allowed and RESTRICTED movements rule and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the operator input rule converts an ALLOWED movement to a RESTRICTED movement and a RESTRICTED movement to an ALLOWED movement.

It is another object of the present invention to provide the method as defined above wherein the proximity rule is adapted to define a predetermined distance between at least two surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined distance and the RESTRICTED movements which are out of the range or within the range of the predetermined distance.

It is another object of the present invention to provide the method as defined above wherein the proximity rule is adapted to define a predetermined angle between at least three surgical tools the ALLOWED movements are movements which are within the range or out of the range of the predetermined angle and the RESTRICTED movements which are out of the range or within the range of the predetermined angle.

It is another object of the present invention to provide the method as defined above wherein the collision prevention rule is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment the ALLOWED movements are movements which are in a range that is larger than the predetermined distance and the RESTRICTED movements are movements which is in a range that is smaller than the predetermined distance.

It is another object of the present invention to provide the method as defined above wherein the anatomical element is selected from a group consisting of tissue organ another surgical tool or any combination thereof.

It is another object of the present invention to provide the method as defined above wherein at least one of the following is being held true a said system additionally comprising an endoscope said endoscope is adapted to provide real time image of said surgical environment b at least one of said surgical tools is an endoscope adapted to provide real time image of said surgical environment.

It is another object of the present invention to provide the method as defined above wherein the right tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to right of the endoscope.

It is another object of the present invention to provide the method as defined above wherein the left tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the surgical tool positioned to left of the endoscope.

It is another object of the present invention to provide the method as defined above wherein the field of view rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions so as to maintain a constant field of view such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the preferred volume zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions and RESTRICTED movement of the endoscope outside the n 3D spatial positions such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the preferred tool rule comprises a communicable database the database stores a preferred tool the preferred tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the preferred tool.

It is another object of the present invention to provide the method as defined above wherein the no fly zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone rule is adapted to determine the RESTRICTED movement if the movement is within the no fly zone and the ALLOWED movement if the movement is outside the no fly zone such that the RESTRICTED movements are movements in which the at least one of the surgical tool is located substantially in at least one of the n 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the most used tool rule comprises a communicable database counting the amount of movement of each of the surgical tools the most used tool rule is adapted to constantly position the endoscope to track the movement of the most moved surgical tool.

It is another object of the present invention to provide the method as defined above additionally comprising step of alerting the physician of a RESTRICTED movement of the at least one surgical tool.

It is another object of the present invention to provide the method as defined above wherein the alert is selected from a group consisting of audio signaling voice signaling light signaling flashing signaling and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the ALLOWED movement is permitted by the controller and a RESTRICTED movement is denied by the controller.

It is another object of the present invention to provide the method as defined above wherein the history based rule comprises a communicable database storing each 3D spatial position of each of the surgical tool such that each movement of each surgical tool is stored the history based rule is adapted to determine the ALLOWED and RESTRICTED movements according to historical movements of the at least one surgical tool such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

It is another object of the present invention to provide the method as defined above wherein the tool dependent allowed and RESTRICTED movements rule comprises a communicable database the communicable database is adapted to store predetermined characteristics of at least one of the surgical tool the tool dependent allowed and RESTRICTED movements rule is adapted to determine the ALLOWED and RESTRICTED movements according to the predetermined characteristics of the surgical tool.

It is another object of the present invention to provide the method as defined above wherein the predetermined characteristics of the surgical tool are selected from the group consisting of physical dimensions structure weight sharpness and any combination thereof.

It is another object of the present invention to provide the method as defined above wherein the movement detection rule comprises a communicable database comprising the real time 3D spatial positions of each of the surgical tool and to detect movement of the at least one surgical tool when a change in the 3D spatial positions is received such that the ALLOWED movements are movements in which the endoscope is directed to focus on the moving surgical tool.

It is another object of the present invention to provide the method as defined above further comprising step of proving a maneuvering subsystem communicable with the controller the maneuvering subsystem is adapted to spatially reposition the at least one surgical tool during a surgery according to the predetermined set of rules.

It is another object of the present invention to provide the surgical controlling system as defined above wherein controller s database comprises n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view said field of view rule is adapted to relocate said endoscope if movement of at least one of said surgical tools has been detected by said detection means such that said field of view is maintained.

It is another object of the present invention to provide the method as defined above wherein controller s database comprises n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view said field of view rule is adapted to relocate said endoscope if movement of at least one of said surgical tools has been detected by said detection means such that said field of view is maintained.

It is another object of the present invention to provide the surgical tracking system as defined above wherein controller s database comprises n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view said field of view rule is adapted to relocate said endoscope if movement of at least one of said surgical tools has been detected by said detection means such that said field of view is maintained.

It is another object of the present invention to provide the method as defined above wherein controller s database comprises n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view said field of view rule is adapted to relocate said endoscope if movement of at least one of said surgical tools has been detected by said detection means such that said field of view is maintained.

It is another object of the present invention to provide the surgical controlling system as defined above wherein controller s database comprises n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view said field of view rule is adapted to relocate said endoscope if movement of at least one of said surgical tools has been detected by said detection means such that said field of view is maintained.

It is another object of the present invention to provide the method as defined above wherein controller s database comprises n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view 

said field of view rule is adapted to relocate said endoscope if movement of at least one of said surgical tools has been detected by said detection means such that said field of view is maintained.

Before explaining at least one embodiment of the invention in detail it is to be understood that the invention is not limited in its application to the details of construction and the arrangement of the components set forth in the following description or illustrated in the drawings. The invention is applicable to other embodiments or of being practiced or carried out in various ways. Also it is to be understood that the phraseology and terminology employed herein is for the purpose of description and should not be regarded as limiting.

The term surgical environment refers hereinafter to any anatomical part within the human body which may be in surrounding a surgical instrument. The environment may comprise organs body parts walls of organs arteries veins nerves a region of interest or any other anatomical part of the human body.

The term endoscope refers hereinafter to any means adapted for looking inside the body for medical reasons. This may be any instrument used to examine the interior of a hollow organ or cavity of the body. The endoscope may also refer to any kind of a laparascope. It should be pointed that the following description may refer to an endoscope as a surgical tool.

The term region of interest refers hereinafter to any region within the human body which may be of interest to the operator of the system of the present invention. The region of interest may be for example an organ to be operated on a RESTRICTED area to which approach of a surgical instrument is RESTRICTED a surgical instrument or any other region within the human body.

The term spatial position refers hereinafter to a predetermined spatial location and or orientation of an object e.g. the spatial location of the endoscope the angular orientation of the endoscope and any combination thereof .

The term prohibited area refers hereinafter to a predetermined area to which a surgical tool e.g. an endoscope is prohibited to be spatially positioned in.

The term preferred area refers hereinafter to predetermined area to which a surgical tool e.g. an endoscope is allowed and or preferred to be spatially positioned in.

The term automated assistant refers hereinafter to any mechanical device including but not limited to a robotic device that can maneuver and control the position of a surgical or endoscopic instrument and that can in addition be adapted to receive commands from a remote source.

The term tool or surgical instrument refers hereinafter to any instrument or device introducible into the human body. The term may refer to any location on the tool. For example it can refer to the tip of the same the body of the same and any combination thereof. It should be further pointed that the following description may refer to a surgical tool instrument as an endoscope.

The term provide refers hereinafter to any process visual tactile or auditory by which an instrument computer controller or any other mechanical or electronic device can report the results of a calculation or other operation to a human operator.

The term automatic or automatically refers to any process that proceeds without the necessity of direct intervention or action on the part of a human being.

The term ALLOWED movement refers hereinafter to any movement of a surgical tool which is permitted according to a predetermined set of rules.

The term RESTRICTED movement refers hereinafter to any movement of a surgical tool which is forbidden according to a predetermined set of rules. For example one rule according to the present invention provides a preferred volume zone rule which defines a favored zone within the surgical environment. Thus according to the present invention an allowed movement of a surgical tool or the endoscope is a movement which maintains the surgical tool within the favored zone and a RESTRICTED movement of a surgical tool is a movement which extracts or moves the surgical tool outside the favored zone.

The term time step refers hereinafter to the working time of the system. At each time step the system receives data from sensors and commands from operators and processes the data and commands and executes actions. The time step size is the elapsed time between time steps.

Laparoscopic surgery also called minimally invasive surgery MIS is a modern surgical technique in which operations in the abdomen are performed through small incisions usually 0.5 1.5 cm as compared to larger incisions needed in traditional surgical procedures. The key element in laparoscopic surgery is the use of a laparoscope which is a device adapted for viewing the scene within the body at the distal end of the laparoscope. Either an imaging device is placed at the end of the laparoscope or a rod lens system or fiber optic bundle is used to direct this image to the proximal end of the laparoscope. Also attached is a light source to illuminate the operative field inserted through a 5 mm or 10 mm cannula or trocar to view the operative field.

The abdomen is usually injected with carbon dioxide gas to create a working and viewing space. The abdomen is essentially blown up like a balloon insufflated elevating the abdominal wall above the internal organs like a dome. Within this space various medical procedures can be carried out.

In many cases the laparoscope cannot view the entire working space within the body so the laparoscope is repositioned to allow the surgeon to view regions of interest within the space. The present invention discloses a surgical controlling system adapted to control the position of at least one surgical tool during a surgery of the human body. The system may perform the control by identifying the location of the surgical tool and provide instruction to the operator to which direction the surgical tool may or should be directed and to which direction the surgical tool is RESTRICTED from being moved to.

According to different embodiments of the present invention the surgical controlling system comprises the following components 

It is within the scope of the present invention that the database is adapted to store a predetermined set of rules according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that the spatial position of the at least one surgical tool is controlled by the controller according to the ALLOWED and RESTRICTED movements. In other words each detected movement by said movement detection means of said at least one surgical tool is determined as either an ALLOWED movement or as a RESTRICTED movement according to said predetermined set of rules.

Thus the present invention stores the 3D spatial position of each of said surgical tools at a current at time tand at time t where t t. If the 3D spatial position of said at least one surgical tool at time tis different than said 3D spatial position of said at least one surgical tool at time tmovement of the tool is detected. Next the system analyses said movement according to said set of rule and process whether said movement is ALLOWED movement or RESTRICTED movement.

According to one embodiment of the present invention the system prevents said movement if said movement is a RESTRICTED movement. Said movement prevention is obtained by controlling a maneuvering system which prevents the movement of said surgical tool.

According to one embodiment of the present invention the system does not prevent said movement if said movement is a RESTRICTED movement but merely signals alerts the user i.e. the physician of said RESTRICTED movement.

According to different embodiments of the present invention the controller may provide a suggestion to the operator as to which direction the surgical tool has to move to or may be moved to.

Thus according to a preferred embodiment of the present invention the present invention provides a predetermined set of rules which define what is an allowed movement of any surgical tool within the surgical environment and what is a RESTRICTED movement of any surgical tool within the surgical environment.

According to some embodiments the system of the present invention comprises a maneuvering subsystem communicable with the controller the maneuvering subsystem is adapted to spatially reposition the at least one surgical tool during surgery according to the predetermined set of rules.

According to some embodiments the controller may provide instructions to a maneuvering subsystem for spatially repositioning the location of the surgical tool. According to these instructions only ALLOWED movements of the surgical tool will be performed. Preventing RESTRICTED movements is performed by detecting the location of the surgical tool processing all current rules analyzing the movement of the surgical tool and preventing the movement if the tool s movement is a RESTRICTED movement.

According to some embodiments system merely alerts the physician of a RESTRICTED movement of at least one surgical tool instead of preventing said RESTRICTED movement .

Alerting the physician of RESTRICTED movements or alternatively preventing a RESTRICTED movement is performed by detecting the location of the surgical tool processing all current rules analyzing the movement of the surgical tool and informing the surgeon the user of the system if the tool s movement is an allowed movement or a RESTRICTED movement.

Thus according to a preferred embodiment of the present invention if RESTRICTED movements are prevented the same process of detecting the location of the surgical tool processing all current rules and analyzing the movement of the surgical tool is followed except for the last movement where the movement is prevented if the tool s movement is a RESTRICTED movement. The surgeon can also be informed that the movement is being prevented.

According to another embodiment the above alerting the physician and or preventing the movement is performed by detecting the location of the surgical tool and analyzing the surgical environment of the surgical tool. Following analysis of the surgical environment and detection of the location of the surgical tool the system may assess all the risks which may follow a movement of the surgical tool in the predetermined direction. Therefore each location in the surgical environment has to be analyzed so that any possible movement of the surgical tool will be classified as an ALLOWED movement or a RESTRICTED movement.

According to one embodiment of the present invention the location of each tool is determined using image processing means and determining in real time what is the 3D spatial location of each tool. It should be understood that the above mentioned tool may refer to the any location on the tool. For example it can refer to the tip of the same the body of the same and any combination thereof.

The predetermined set of rules which are the essence of the present invention are adapted to take into consideration all the possible factors which may be important during the surgical procedure. The predetermined set of rules may comprise the following rules or any combination thereof 

Thus for example the collision prevention rule defines a minimum distance below which two or more tools should not be brought together i.e. there is minimum distance between two or more tools that should be maintained . If the movement of one tool will cause it to come dangerously close to another tool i.e. the distance between them after the movement is smaller than the minimum distance defined by the collision prevention rule the controller either alerts the user that the movement is a RESTRICTED movement or does not permit the movement.

It should be emphasized that all of the above and the following disclosure is enabled by constantly monitoring the surgical environment and identifying and locating the 3D spatial location of each element tool in the surgical environment.

The identification is provided by conventional means known to any skilled in the art e.g. image processing optical means etc. .

According to some embodiments the route rule comprises a predefined route in which the at least one surgical tool is adapted to move within the surgical environment the ALLOWED movements are movements in which the at least one surgical tool is located within the borders of the predefined route and the RESTRICTED movements are movements in which the at least one surgical tool is located out of the borders of the predefined route. Thus according to this embodiment the route rule comprises a communicable database storing at least one predefined route in which the at least one surgical tool is adapted to move within the surgical environment the predefined route comprises n 3D spatial positions of the at least one surgical tool in the route n is an integer greater than or equal to 2 ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions of the predefined route and RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions of the predefined route.

In other words according to the route rule each of the surgical tool s courses and path in any surgical procedure is stored in a communicable database. ALLOWED movements are defined as movements in which the at least one surgical tool is located substantially in at least one of the stored routes and RESTRICTED movements are movements in which the at least one surgical tool is in a substantially different location than any location in any stored route.

According to some embodiments the environmental rule is adapted to determine ALLOWED and RESTRICTED movements according to hazards or obstacles in the surgical environment as received from an endoscope or other sensing means. Thus according to this embodiment the environmental rule comprises a comprises a communicable database the communicable database is adapted to received real time images of the surgical environment and is adapted to perform real time image processing of the same and to determine the 3D spatial position of hazards or obstacles in the surgical environment the environmental rule is adapted to determine ALLOWED and RESTRICTED movements according to hazards or obstacles in the surgical environment such that RESTRICTED movements are movements in which at least one surgical tool is located substantially in at least one of the 3D spatial positions and ALLOWED movements are movements in which the location of at least one surgical tool is substantially different from the 3D spatial positions.

In other words according to the environment rule each element in the surgical environment is identified so as to establish which is a hazard or obstacle and a path in any surgical procedure and each hazard and obstacle and path is stored in a communicable database. RESTRICTED movements are defined as movements in which the at least one surgical tool is located substantially in the same location as that of the hazards or obstacles and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from that of all of the hazards or obstacles.

According to other embodiments hazards and obstacles in the surgical environment are selected from a group consisting of tissues surgical tools organs endoscopes and any combination thereof.

According to some embodiments the operator input rule is adapted to receive an input from the operator of the system regarding the ALLOWED and RESTRICTED movements of the at least one surgical tool. Thus according to this embodiment the operator input rule comprises a communicable database the communicable database is adapted to receive an input from the operator of the system regarding ALLOWED and RESTRICTED movements of the at least one surgical tool.

According to other embodiments the input comprises n 3D spatial positions n is an integer greater than or equal to 2 wherein at least one of which is defined as an ALLOWED location and at least one of which is defined as a RESTRICTED location such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D ALLOWED spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D ALLOWED spatial positions.

According to other embodiments the input comprises at least one rule according to which ALLOWED and RESTRICTED movements of the at least one surgical tool are determined such that the spatial position of the at least one surgical tool is controlled by the controller according to the ALLOWED and RESTRICTED movements.

According to other embodiments the operator input rule can convert an ALLOWED movement to a RESTRICTED movement and a RESTRICTED movement to an ALLOWED movement.

According to some embodiments the proximity rule is adapted to define a predetermined distance between the at least one surgical tool and at least one another surgical tool the ALLOWED movements are movements which are within the range or out of the range of the predetermined distance and the RESTRICTED movements which are out of the range or within the range of the predetermined distance the ALLOWED movements and the RESTRICTED movements are defined according to different ranges. Thus according to this embodiment the proximity rule is adapted to define a predetermined distance between at least two surgical tools. In a preferred embodiment the ALLOWED movements are movements which are within the range of the predetermined distance while the RESTRICTED movements which are out of the range of the predetermined distance. In another preferred embodiment the ALLOWED movements are movements which are out of the range of the predetermined distance while the RESTRICTED movements are within the range of the predetermined distance

According to another embodiment the proximity rule is adapted to define a predetermined angle between at least three surgical tools ALLOWED movements are movements which are within the range or out of the range of the predetermined angle and RESTRICTED movements are movements which are out of the range or within the range of the predetermined angle.

According to some embodiments the collision prevention rule is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment e.g. tissue organ another surgical tool or any combination thereof the ALLOWED movements are movements which are in a range that is larger than the predetermined distance and the RESTRICTED movements are movements which is in a range that is smaller than the predetermined distance.

According to another embodiment the anatomical element is selected from a group consisting of tissue organ another surgical tool or any combination thereof.

According to some embodiments the surgical tool is an endoscope. The endoscope is adapted to provide real time images of the surgical environment.

According to some embodiments the right tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of a surgical tool in a specified position in relation to the endoscope preferably positioned to right of the same. According to this rule the tool which is defined as the right tool is constantly tracked by the endoscope. According to some embodiments the right tool is defined as the tool positioned to the right of the endoscope according to other embodiments any tool can be defined as the right tool. An allowed movement according to the right tool rule is a movement in which the endoscope field of view is moved to a location substantially the same as the location of the right tool thereby tracking the right tool. A RESTRICTED movement according to the right tool rule is a movement in which the endoscope field of view is moved to a location substantially different from the location of the right tool.

According to some embodiments the left tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of a surgical tool in a specified position in relation to the endoscope preferably positioned to left of the same. According to this rule the tool which is defined as the left tool is constantly tracked by the endoscope. According to some embodiments the left tool is defined as the tool positioned to the left of the endoscope according to other embodiments any tool can be defined as the left tool. An allowed movement according to the left tool rule is a movement in which the endoscope field of view is moved to a location substantially the same as the location of the left tool. A RESTRICTED movement according to the left tool rule is a movement in which the endoscope field of view is moved to a location substantially different from the location of the left tool.

According to some embodiments the field of view rule is adapted to define a field of view and maintain that field of view. The field of view rule is defined such that if the endoscope is adapted to track a predetermined set of tools in a desired field of view when one of those tools is no longer in the field of view the rule instructs the endoscope to zoom out so as to reintroduce the tool into the field of view. Thus according to this embodiment the field of view rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions so as to maintain a constant field of view such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions.

Thus according to another embodiment of the field of view rule the field of view rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view. The field of view rule further comprises a communicable database of m tools and the 3D spatial locations of the same where m is an integer greater than or equal to I and where a tool can be a surgical tool an anatomical element and any combination thereof. The combination of all of the n 3D spatial positions provides a predetermined field of view. The field of view rule is adapted to determine ALLOWED movement of the endoscope such that the m 3D spatial positions of the tools comprise at least one of the n 3D spatial positions of the field of view and RESTRICTED movements are movements in which the 3D spatial position of at least one tool is substantially different from the n 3D spatial positions of the field of view.

According to another embodiment the preferred volume zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equal to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone rule is adapted to determine the ALLOWED movement of the endoscope within the n 3D spatial positions and RESTRICTED movement of the endoscope outside the n 3D spatial positions such that the ALLOWED movements are movements in which the endoscope is located substantially in at least one of the n 3D spatial positions and the RESTRICTED movements are movements in which the location of the endoscope is substantially different from the n 3D spatial positions. In other words the preferred volume zone rule defines a volume of interest a desired volume of interest such that an ALLOWED movement according to the preferred volume zone rule is a movement in which the endoscope or any surgical tool is moved to a location within the defined preferred volume. A RESTRICTED movement according to the preferred volume zone rule is a movement in which the endoscope or any surgical tool is moved to a location outside the defined preferred volume.

According to another embodiment the preferred tool rule comprises a communicable database the database stores a preferred tool the preferred tool rule is adapted to determine the ALLOWED movement of the endoscope according to the movement of the preferred tool. In other words the preferred tool rule defines a preferred tool i.e. a tool of interest that the user of the system wishes to track. An allowed movement according to the preferred tool rule is a movement in which the endoscope is moved to a location substantially the same as the location of the preferred tool. A RESTRICTED movement is a movement in which the endoscope is moved to a location substantially different from the location of the preferred tool. Thus according to the preferred tool rule the endoscope constantly tracks the preferred tool such that the field of view as seen from the endoscope is constantly the preferred tool. It should be noted that the user may define in said preferred tool rule to constantly tack the tip of said preferred tool or alternatively the user may define in said preferred tool rule to constantly track the body or any location on the preferred tool.

According to some embodiments the no fly zone rule is adapted to define a RESTRICTED zone into which no tool or alternatively no predefined tool is permitted to enter. Thus according to this embodiment the no fly zone rule comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equal to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone rule is adapted to determine a RESTRICTED movement if the movement is within the no fly zone and an ALLOWED movement if the movement is outside the no fly zone such that RESTRICTED movements are movements in which the at least one surgical tool is located substantially in at least one of the n 3D spatial positions and the ALLOWED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

According to another embodiment the most used tool function is adapted to define either real time during the procedure or prior to the procedure which tool is the most used tool i.e. the tool which is moved the most during the procedure and to instruct the maneuvering subsystem to constantly position the endoscope to track the movement of this tool. Thus according to this embodiment the most used tool rule comprises a communicable database counting the number of movements of each of the surgical tools the most used tool rule is adapted to constantly position the endoscope to track the movement of the surgical tool with the largest number of movements. In another embodiment of the most used tool function the communicable database measures the amount of movement of each of the surgical tools the most used tool rule is adapted to constantly position the endoscope to track the movement of the surgical tool with the largest amount of movement.

According to another embodiment the system is adapted to alert the physician of a RESTRICTED movement of at least one surgical tool. The alert can be audio signaling voice signaling light signaling flashing signaling and any combination thereof.

According to another embodiment an ALLOWED movement is one permitted by the controller and a RESTRICTED movement is one denied by the controller.

According to another embodiment the operator input rule function is adapted to receive an input from the operator of the system regarding ALLOWED and RESTRICTED movements of the at least one surgical tool. In other words the operator input rule function receives instructions from the physician as to what can be regarded as ALLOWED movements and what are RESTRICTED movements. According to another embodiment the operator input rule is adapted to convert an ALLOWED movement to a RESTRICTED movement and a RESTRICTED movement to an ALLOWED movement.

According to some embodiments the history based rule is adapted to determine the ALLOWED and RESTRICTED movements according to historical movements of the at least one surgical tool in at least one previous surgery. Thus according to this embodiment the history based rule comprises a communicable database storing each 3D spatial position of each of the surgical tools such that each movement of each surgical tool is stored the history based rule is adapted to determine ALLOWED and RESTRICTED movements according to historical movements of the at least one surgical tool such that the ALLOWED movements are movements in which the at least one surgical tool is located substantially in at least one of the 3D spatial positions and the RESTRICTED movements are movements in which the location of the at least one surgical tool is substantially different from the n 3D spatial positions.

According to some embodiments the tool dependent allowed and RESTRICTED movements rule is adapted to determine ALLOWED and RESTRICTED movements according to predetermined characteristics of the surgical tool where the predetermined characteristics of the surgical tool are selected from a group consisting of physical dimensions structure weight sharpness and any combination thereof. Thus according to this embodiment the tool dependent ALLOWED and RESTRICTED movements rule comprises a communicable database the communicable database is adapted to store predetermined characteristics of at least one of the surgical tools the tool dependent ALLOWED and RESTRICTED movements rule is adapted to determine ALLOWED and RESTRICTED movements according to the predetermined characteristics of the surgical tool.

According to another embodiment the predetermined characteristics of the surgical tool are selected from a group consisting of physical dimensions structure weight sharpness and any combination thereof.

According to this embodiment the user can define e.g. the structure of the surgical tool he wishes the endoscope to track. Thus according to the tool dependent allowed and RESTRICTED movements rule the endoscope constantly tracks the surgical tool having said predetermined characteristics as defined by the user.

According to another embodiment of the present invention the movement detection rule comprises a communicable database comprising the real time 3D spatial positions of each surgical tool said movement detection rule is adapted to detect movement of at least one surgical tool. When a change in the 3D spatial position of that surgical tool is received ALLOWED movements are movements in which the endoscope is re directed to focus on the moving surgical tool.

According to another embodiment of the present invention the system further comprises a maneuvering subsystem communicable with the controller. The maneuvering subsystem is adapted to spatially reposition the at least one surgical tool during a surgery according to the predetermined set of rules.

According to some embodiments the at least one location estimating means is at least one endoscope adapted to acquire real time images of a surgical environment within the human body for the estimation of the location of at least one surgical tool.

According to another embodiment the location estimating means comprise at least one selected from a group consisting of optical imaging means radio frequency transmitting and receiving means at least one mark on at least one surgical tool and any combination thereof.

According to another embodiment the at least one location estimating means is an interface subsystem between a surgeon and at least one surgical tool the interface subsystem comprising a at least one array comprising N regular light sources or N pattern light sources where N is a positive integer b at least one array comprising M cameras where M is a positive integer c optional optical markers and means for attaching the optical markers to at least one surgical tool and d a computerized algorithm operable via the controller the computerized algorithm adapted to record images received by each camera of each of the M cameras and to calculate therefrom the position of each of the tools and further adapted to provide automatically the results of the calculation to the human operator of the interface.

It is well known that surgery is a highly dynamic procedure with a constantly changing environment which depends on many variables. A non limiting list of these variables includes for example the type of the surgery the working space e.g. with foreign objects dynamic uncorrelated movements etc the type of tools used during the surgery changing background relative movements dynamic procedures dynamic input from the operator and the history of the patient. Therefore there is need for a system which is able to integrate all the variables by weighting their importance and deciding to which spatial position the endoscope should be relocated.

The present invention can be also utilized to improve the interface between the operators e.g. the surgeon the operating medical assistant the surgeon s colleagues etc. . Moreover the present invention can be also utilized to control and or direct an automated maneuvering subsystem to focus the endoscope on an instrument selected by the surgeon or to any other region of interest. This may be performed in order to estimate the location of at least one surgical tool during a surgical procedure.

The present invention also discloses a surgical tracking system which is adapted to guide and relocate an endoscope to a predetermined region of interest in an automatic and or a semi automatic manner. This operation is assisted by an image processing algorithm s which is adapted to analyze the received data from the endoscope in real time and to assess the surgical environment of the endoscope.

According to an embodiment the system comprises a smart tracking subsystem which receives instructions from a maneuvering function f t t is the time as to where to direct the endoscope and which instructs the maneuvering subsystem to relocate the endoscope to the required area.

The maneuvering function f t receives as input output from at least two instructing functions g t analyses their output and provides instruction to the smart tracking system which eventually re directs the endoscope .

The instructing functions g t of the present invention are functions which are configured to assess the environment of the endoscope and the surgery and to output data which guides the tracking subsystem for controlling the spatial position of the maneuvering subsystem and the endoscope. The instructing functions g t may be selected from a group consisting of 

Thus for example the maneuvering function f t receives input from two instructing functions the collision detection function g t the function providing information whether the distance between two elements is smaller than a predetermined distance and from the most used tool function g t the function counts the number of times each tool is moved during a surgical procedure and provides information as to whether the most moved or most used tool is currently moving . The output given from the collision detection function g t is that a surgical tool is dangerously close to an organ in the surgical environment. The output given from the most used tool function g t is that the tool identified statistically as the most moved tool is currently moving.

The maneuvering function f t then assigns each of the instructing functions with weighting functions t . For example the most used tool function g t is assigned with a greater weight than the weight assigned to the collision detection function g t .

After the maneuvering function f t analyses the information received from the instructing functions g t and the weighting functions t of each the same outputs instructions to the maneuvering subsystem to re direct the endoscope either to focus on the moving tool or on the tool approaching dangerously close to the organ .

It should be emphasized that all of the above and the following disclosure is enabled by constantly monitoring and locating identifying the 3D spatial location of each element tool in the surgical environment.

The identification is provided by conventional means known to any skilled in the art e.g. image processing optical means etc. .

According to this embodiment the tracking subsystem comprises a data processor. The data processor is adapted to perform real time image processing of the surgical environment and to instruct the maneuvering subsystem to modify the spatial position of the endoscope according to input received from a maneuvering function f t the maneuvering function f t is adapted to a receive input from at least two instructing functions g t where i is 1 . . . n and n 2 and where t is time i and n are integers and b to output instructions to the maneuvering subsystem based on the input from the at least two instructing functions g t so as to spatially position the endoscope to the region of interest.

According to one embodiment the tool detection function g t is adapted to detect tools in the surgical environment. According to this embodiment the tool detection function is adapted to detect surgical tools in the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the detected surgical tools.

According to some embodiments the functions g t may rank the different detected areas in the surgical environment according to a ranking scale e.g. from 1 to 10 in which prohibited areas i.e. areas which are defined as area to which the surgical tools are forbidden to enter receive the lowest score e.g. 1 and preferred areas i.e. areas which are defined as area in which the surgical tools should be maintained receive the highest score e.g. 10 .

According to a preferred embodiment one function g t is adapted to detect tools in the surgical environment and inform the maneuvering function f t if they are in preferred areas or in prohibited areas.

According to some embodiments the movement detection function g t comprises a communicable database comprising the real time 3D spatial positions of each of the surgical tools in the surgical environment means to detect movement of the at least one surgical tool when a change in the 3D spatial positions is received and means to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the moved surgical tool.

According to some embodiments the organ detection function g t is adapted to detect physiological organs in the surgical environment and to classify the detected organs as prohibited areas or preferred areas. For example if the operator instructs the system that the specific surgery is kidney surgery the organ detection function g t will classify the kidneys or one kidney if the surgery is specified to be on a single kidney as a preferred area and other organs will be classified as prohibited areas. According to another embodiment the organ detection function is adapted to detect organs in the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the detected organs. According to some embodiments the right tool function is adapted to detect surgical tool positioned to right of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope on the right tool and to track the right tool.

According to another embodiment the left tool function is adapted to detect surgical tool positioned to left of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope on the left tool and to track the left tool.

According to some embodiments the collision detection function g t is adapted to detect prohibited areas within the surgical environment so as to prevent collisions between the endoscope and the prohibited areas. For example if the endoscope is located in a narrow area in which a precise movement of the same is preferred the collision detection function g t will detect and classify different areas e.g. nerves veins walls of organs as prohibited areas. Thus according to this embodiment the collision prevention function is adapted to define a predetermined distance between the at least one surgical tool and an anatomical element within the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the surgical tool and the anatomical element within the surgical environment if the distance between the at least one surgical tool and an anatomical element is less than the predetermined distance. According to one embodiment of the present invention the anatomical element is selected from a group consisting of tissue organ another surgical tool and any combination thereof.

According to some embodiments the operator input function g t is adapted to receive an input from the operator. The input can be for example an input regarding prohibited areas in the surgical environment an input regarding allowed areas in the surgical environment or an input regarding the region of interest and any combination thereof. The operator input function g t can receive instructions from the operator before or during the surgery and respond accordingly. According to some embodiments the operator input function may further comprise a selection algorithm for selection of areas selected from a group consisting of prohibited areas allowed areas regions of interest and any combination thereof. The selection may be performed via an input device e.g. a touch screen .

According to some embodiments the operator input function g t comprises a communicable database the communicable database is adapted to receive an input from the operator of the system the input comprising n 3D spatial positions n is an integer greater than or equal to 2 and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the at least one 3D spatial position received.

According to some embodiments the prediction function g t is adapted to provide data regarding a surgical environment at a time t t wherein tis the present time and tis a future time. The prediction function g t may communicate with a database which stores data regarding the environment of the surgery e.g. the organs in the environment . This data may be used by the prediction function g t for the prediction of expected or unexpected events or expected or unexpected objects during the operation. Thus according to this embodiment the prediction function g t comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the prediction function is adapted to a to predict the future 3D spatial position of each of the surgical tools or each object and b to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the future 3D spatial position.

According to some embodiments the past statistical analysis function g t is adapted to provide data regarding the surgical environment or the laparoscopic surgery based on past statistical data stored in a database. The data regarding the surgical environment may be for example data regarding prohibited areas data regarding allowed areas data regarding the region of interest and any combination thereof. Thus according to this embodiment the past statistical analysis function g t comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the past statistical analysis function g t is adapted to a perform statistical analysis on the 3D spatial positions of each of the surgical tools in the past and b to predict the future 3D spatial position of each of the surgical tools and c to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the future 3D spatial position. Thus according to the past statistical analysis function g t the past movements of each tool are analyzed and according to this analysis a prediction of the tool s next move is provided.

According to another embodiment the most used tool function g t comprises a communicable database counting the amount of movement of each surgical tool located within the surgical environment the most used tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to constantly position the endoscope to track the movement of the most moved surgical tool. The amount of movement of a tool can be defined as the total number of movements of that tool or the total distance the tool has moved.

According to some embodiments the right tool function g t is adapted to detect at least one surgical tool in a specified position in relation to the endoscope preferably positioned to right of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to constantly direct the endoscope to the right tool and to track the same. According to preferred embodiments the right tool is defined as the tool positioned to the right of the endoscope according to other embodiments any tool can be defined as the right tool.

According to another embodiment the left tool function g t is adapted to detect at least one surgical tool in a specified position in relation to the endoscope preferably positioned to left of the endoscope and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to constantly direct the endoscope to the left tool and to track the same. According to preferred embodiments the left tool is defined as the tool positioned to the left of the endoscope according to other embodiments any tool can be defined as the left tool.

According to another embodiment the field of view function g t comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view function is adapted to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to at least one 3D spatial position substantially within the n 3D spatial positions so as to maintain a constant field of view.

According to another embodiment the preferred volume zone function g t comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equal to 2 the n 3D spatial positions provide the preferred volume zone the preferred volume zone function g t is adapted to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to at least one 3D spatial position substantially within the preferred volume zone.

According to another embodiment the no fly zone function g t comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equal to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone function g t is adapted to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to at least one 3D spatial position substantially different from all the n 3D spatial positions.

According to some embodiments the proximity function g t is adapted to define a predetermined distance between at least two surgical tools and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the two surgical tools if the distance between the two surgical tools is less than or if it is greater than the predetermined distance.

According to another embodiment the proximity function g t is adapted to define a predetermined angle between at least three surgical tools and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the three surgical tools if the angle between the two surgical tools is less than or if it is greater than the predetermined angle.

According to another embodiment the preferred volume zone function comprises communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions provides the preferred volume zone the preferred volume zone function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the preferred volume zone.

According to another embodiment the field of view function comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the combination of all of the n 3D spatial positions provides a predetermined field of view the field of view function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to at least one 3D spatial position substantially within the n 3D spatial positions so as to maintain a constant field of view.

According to another embodiment the no fly zone function comprises a communicable database comprising n 3D spatial positions n is an integer greater than or equals to 2 the n 3D spatial positions define a predetermined volume within the surgical environment the no fly zone function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to at least one 3D spatial position substantially different from all the n 3D spatial positions.

According to another embodiment the most used tool function comprises a communicable database counting the amount of movement of each surgical tool located within the surgical environment the most used tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to constantly position the endoscope to track the movement of the most moved surgical tool.

According to some embodiments the prediction function g t is adapted to provide data regarding a surgical environment in a time t t wherein t is the present time and tis the future time. The prediction function g t may communicate with a database which stores data regarding the environment of the surgery e.g. the organs in the environment . This data may be used by the prediction function g t for the prediction of expected or unexpected events or object during the operation. Thus according to this embodiment the prediction function comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the prediction function is adapted to a to predict the future 3D spatial position of each of the surgical tools and b to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the future 3D spatial position.

According to some embodiments the past statistical analysis function g t is adapted to provide data regarding the surgical environment or the laparoscopic surgery based on past statistical data stored in a database. The data regarding the surgical environment may be for example data regarding prohibited areas data regarding allowed areas data regarding the region of interest. Thus according to this embodiment the past statistical analysis function comprises a communicable database storing each 3D spatial position of each of surgical tool within the surgical environment such that each movement of each surgical tool is stored the past statistical analysis function is adapted to a statistical analyze the 3D spatial positions of each of the surgical tools in the past and b to predict the future 3D spatial position of each of the surgical tools and c to output instructions to the tracking subsystem to instruct the maneuvering system to direct the endoscope to the future 3D spatial position. Thus according to the past statistical analysis function g t the past movements of each tool are analyzed and according to this analysis a future prediction of the tool s next move is provided.

According to some embodiments preferred tool function comprises a communicable database the database stores a preferred tool the preferred tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering system to constantly direct the endoscope to the preferred tool such that said endoscope constantly tracks said preferred tool.

Thus according to the preferred tool function the endoscope constantly tracks the preferred tool such that the field of view as seen from the endoscope is constantly maintained on said preferred tool. It should be noted that the user may define in said preferred tool function to constantly tack the tip of said preferred tool or alternatively the user may define in said preferred tool function to constantly track the body or any location on the preferred tool.

According to some embodiments the tagged tool function g t comprises means adapted to tag at least one surgical tool within the surgical environment and to output instructions to the tracking subsystem to instruct the maneuvering subsystem to constantly direct the endoscope to the tagged surgical tool. Thus according to the tagged tool function the endoscope constantly tracks the preferred i.e. tagged tool such that the field of view as seen from the endoscope is constantly maintained on said preferred tagged tool. It should be noted that the user may define in said tagged tool function to constantly tack the tip of said preferred tagged tool or alternatively the user may define in said tagged tool function to constantly track the body or any location on the preferred tagged tool.

According to some embodiments the means are adapted to constantly tag the at least one of surgical tool within the surgical environment.

According to some embodiments the preferred tool function g t comprises a communicable database. The database stores a preferred tool and the preferred tool function is adapted to output instructions to the tracking subsystem to instruct the maneuvering subsystem to direct the endoscope to the preferred tool.

According to some embodiments the system further comprises means adapted to re tag the at least one of the surgical tools until a desired tool is selected.

According to some embodiments the system further comprises means adapted to toggle the surgical tools. According to some embodiments the toggling is performed manually or automatically.

According to different embodiments of the present invention the weighting functions t are time varying functions or constants the value of which is determined by the operator or the output of the instructing functions g t . For example if a specific function g t detected an important event or object its weighting functions t may be adjusted in order to elevate the chances that the maneuvering function f t will instruct the maneuvering subsystem to move the endoscope towards this important event or object.

According to different embodiments of the present invention the tracking subsystem may implement various image processing algorithms which may also be algorithms that are well known in the art. The image processing algorithms may be for example image stabilization algorithms image improvement algorithms image compilation algorithms image enhancement algorithms image detection algorithms image classification algorithms image correlations with the cardiac cycle or the respiratory cycle of the human body smoke reduction algorithms vapor reduction algorithms steam reduction algorithms and any combination thereof. Smoke vapor and steam reduction algorithms may be needed as it is known that under certain conditions smoke vapor or steam may be emitted by or from the endoscope. The image processing algorithm may also be implemented and used to analyze 2D or 3D representations which may be rendered from the real time images of the surgical environment.

According to different embodiments the endoscope may comprise an image acquisition device selected from a group consisting of a camera a video camera an electromagnetic sensor a computer tomography imaging device a fluoroscopic imaging device an ultrasound imaging device and any combination thereof.

According to some embodiments the system may also comprise a display adapted to provide input or output to the operator regarding the operation of the system. The display may be used to output the acquired real time images of a surgical environment with augmented reality elements. The display may also be used for the definition of the region of interest by the operator.

According to some embodiments the endoscope may be controlled be an endoscope controller for performing operations such as acquiring the real time images and zooming in to a predetermined area. For example the endoscope controller may cause the endoscope to acquire the real time images in correlation with the cardiac cycle or the respiratory cycle of a human body.

According to different embodiments the data processor of the present invention may operate a pattern recognition algorithm for assisting the operation of the instructing functions g t . The pattern recognition algorithm may be used as part of the image processing algorithm.

It should be emphasized that all of the above and the following disclosure is enabled by constantly monitoring and locating identifying the 3D spatial location of each element tool in the surgical environment.

The identification is provided by conventional means known to any skilled in the art e.g. image processing optical means etc. .

The present invention further discloses a method for assisting an operator to perform a surgical procedure comprising steps of 

The present invention also discloses a method for assisting an operator to perform laparoscopic surgery on a human body. The method comprises steps of 

It should be emphasized that all of the above and the following disclosure is enabled by constantly monitoring and locating identifying the 3D spatial location of each element tool in the surgical environment.

The identification is provided by conventional means known to any skilled in the art e.g. image processing optical means etc. .

Thus according to this embodiment each element in the surgical environment is characterized. The characteristics are constantly monitored. If the characteristics change substantially the system notifies the user.

For example the element that is monitored could be an organ and the characteristic being monitored is its contours. Once the contours have significantly changed which could imply that the organ has been e.g. carved the system alerts the user.

It should be emphasized that all of the above is enabled by constantly monitoring and locating identifying the 3D spatial location of each element tool in the surgical environment.

The identification is provided by conventional means known to any skilled in the art e.g. image processing optical means etc. .

According to another embodiment the predetermined characteristics are selected from a group consisting of color of the element 3D spatial location of the element contours of the element and any combination thereof.

According to another embodiment the system additionally comprises at least one surgical tool adapted to be inserted into a surgical environment of a human body for assisting a surgical procedure.

According to another embodiment the system additionally comprises at least one location estimating means adapted to estimate the location of the at least one surgical tool.

According to another embodiment the system additionally comprises a controller having a processing means communicable with a database the controller adapted to control the spatial position of the at least one surgical tool.

According to another embodiment the predetermined characteristics are selected from a group consisting of color of the element 3D spatial location of the element contours of the element and any combination thereof.

According to another embodiment the method additionally comprises a step of providing at least one surgical tool adapted to be inserted into a surgical environment of a human body for assisting a surgical procedure.

According to another embodiment the method additionally comprises a step of providing at least one location estimating means adapted to estimate the location of the at least one surgical tool.

According to another embodiment the method additionally comprises a step of providing a controller having a processing means communicable with a database the controller adapted to control the spatial position of the at least one surgical tool.

According to another embodiment the system of the present invention additionally comprises an image processing unit. According to another embodiment the image processing unit is adapted to reduce noise from the received image by reducing the visibility in the image of the smoke caused by e.g. coagulation. According to another embodiment the image processing unit is adapted to reduce noise from the received image by reducing the visibility in the image of vapor or steam accumulated on the endoscope.

According to another embodiment the right tool function is adapted to instruct the maneuvering subsystem to constantly position the endoscope to track the movement of the right tool i.e. the tool positioned to the right of the endoscope .

According to another embodiment the left tool function is adapted to instruct the maneuvering subsystem to constantly position the endoscope to track the movement of the left tool i.e. the tool positioned to the left of the endoscope .

According to another embodiment the field of view function is adapted to instruct the maneuvering subsystem to constantly position the endoscope so as to maintain a constant field of view.

According to another embodiment the no fly zone function is adapted to define either real time during the procedure or prior to the procedure a no fly zone and to instruct the maneuvering subsystem to restrict entrance of the endoscope to the no fly zone.

According to another embodiment the most used tool function is adapted to define either real time during the procedure or prior to the procedure which tool is the most used tool i.e. the tool which is moved the most during the procedure and to instruct the maneuvering subsystem to constantly position the endoscope to track the movement of the most used tool.

Reference is made now to which is a general schematic view of a specific embodiment of a surgical tracking system . In this figure are illustrated surgical instruments and and an endoscope which may be maneuvered by means of maneuvering subsystem according to the instructions received from a tracking subsystem operable by computer .

According to one embodiment of the present invention as defined in the above the user may define the field of view function as constantly monitoring at least one of surgical instruments and

According to this embodiment the surgical tracking system may also comprise one or more button operated wireless transmitters which transmit upon activation a single code wave through aerial to connected receiver that produces a signal processed by computer thereby directing and modifying the spatial position of endoscope to the region of interest as defined by the field of view function.

Alternatively according to the proximity rule if the distance between the surgical instruments and is smaller than a predetermined distance as defined by the collision prevention rule the system alerts the user that any movement of either one of the surgical instruments and that will reduce the distance is a RESTRICTED movement.

Reference is made now to which schematically illustrates the operation of the present invention. According to this figure the system of the present invention comprises a display in which the overall procedure is presented to the operator. In this figure an endoscope is automatically spatially repositioned towards a region of interest .

The region of interest to which the endoscope is repositioned comprises tools and which are automatically detected by the tracking subsystem not shown of computer . According to different embodiments the repositioning of the endoscope may be automatic or semi automatic. For example according to a light depression of the button on generic code emitting wireless transmitter causes transmission of a code that is received by receiver aerial communicated through connected receiver to computer . This operation causes the endoscope of the present invention to be spatially repositioned to the predefined region of interest e.g. the location in which the working tools are located . According to this embodiment of the present invention the operator may define the region of interest as the region in which a tip of tool is found.

According to another embodiment the operator can define one of the surgical instruments and as a preferred tool. Thus according to the preferred tool rule the endoscope will constantly monitor and track the body of the selected tool. According to another embodiment the user can define the preferred tool rule to constantly reposition the endoscope on the tip of the same see tip in .

According to the embodiment illustrated in the activation of the system is provided by a button that signals to the system that it is to be activated.

According to another embodiment of the present invention the button can be coupled to the desired tool to be monitored such that the endoscope will monitor the tool to which the button is coupled and from which signal is emitted .

Referring again to once a region of interest has been defined the tracking subsystem is adapted to look for tip within the region of interest by performing image processing. When tip is not detected by the tracking subsystem the system can move the endoscope in a forward direction along a predefined track. When tip is detected by the tracking subsystem the endoscope automatically focuses of the region of interest.

While performing the surgery the surgeon often changes the position of his tools and even their insertion point. In order to realize a position and range system many well known technologies may be used. For example the tools may be equipped with switches. If the switches emit wireless signals then an array of antennas may be used to compare the power of the signal received at each antenna in order to determine the angle of the switch and its approximate range to the camera holder mechanism. If the switch emits ultrasound then ultrasound sensitive microphones can be used to triangulate the position of the switch. The same is true for a light emitting switch. In a preferred embodiment of the invention a single wireless emission code is utilized and choice is achieved by a visible graphic representation on a conventional viewing screen.

In another preferred embodiment each instrument is fitted with a unique code wireless transmitter and selection is achieved by depressing its button.

According to different embodiments the tracking subsystem of the present invention may be used in any conventional camera assisted laparoscopic surgery system which comprises an endoscope. Upon depression of at least one button on a transmitter for activating the tracking subsystem either a generic or a unique code is transmitted to a receiving device connected to a computer that instructs the maneuvering subsystem to reposition the endoscope to a region of interest.

For example the system of the present invention may be used to allow an operator e.g. a surgeon to present the surgical instrument to surgical colleagues and staff. By identifying the surgical instrument via the tracking subsystem the endoscope directs the view to the predefined region of interest.

According to some embodiments the tracking subsystem may identify a surgical tool after characterization of the same prior to the surgery. The characteristics of the surgical tool may be stored in a database for further use in the image processing algorithm. Upon depression of at least one button the tracking subsystem may instruct the maneuvering subsystem to move the endoscope so as to achieve the desired focus on a specific region of interest.

Additional features and advantages of the invention will become apparent from the following drawings and description.

To improve the control of the endoscope the system of the present invention comprises a maneuvering subsystem. Many maneuvering systems are known in the art and many of them have several degrees of freedom 

Such maneuvering systems are utilized by the present invention so as to reposition the endoscope to the desired location.

The present invention is utilized to improve upon the interface between surgeon and automated assistants by communicating the surgeon s current instrument of choice supplying location data to the image processing computing software thereby directing the endoscope to focus on that choice. The technology relies on marrying a conventional laparoscopic system with data obtained from e.g. small RF transmitters attached to a surgical tool or alternatively data obtained from light emitters e.g. LED bulbs attached to a surgical tool.

It will be apparent to one skilled in the art that there are several embodiments of the invention that differ in details of construction without affecting the essential nature thereof and therefore the invention is not limited by that which is illustrated in the figures and described in the specification but only as indicated in the accompanying claims with the proper scope determined only by the broadest interpretation of the claims.

Examples are given in order to prove the embodiments claimed in the present invention. The example which is a clinical test describes the manner and process of the present invention and set forth the best mode contemplated by the inventors for carrying out the invention but are not to be construed as limiting the invention.

Locations Gd1 t and Gd2 t are calculated in real time at each time step from an image or location marker .

Tool movement vector Gd3 t is calculated from Gd1 t as the difference between the current location and at least one previous location probably also taking into account previous movement vectors .

The probability of collision Gd4 t is calculated for example from the difference between location Gd1 and location Gd2 the smaller the distance the closer the proximity and the higher the probability of collision from movement vector Gd3 t indicating a collision etc.

Tool Instructions Gt2 Weight function t 1 If Gt2 t a predetermined threshold and 0 otherwise Tool Instructions 1 2 

In reference to which shows in a non limiting manner an embodiment of a tracking system and collision avoidance system. The system tracks a tool and the liver in order to determine whether a collision between the tool and the liver is possible within the next time step. show how the behavior of the system depends on the distance between the tool and the liver while show how movement of the tool affects the behavior. In the distance between the tool and the liver is large enough that a collision is not possible in that time step. Since no collision is possible no movement of the tool is commanded. In the distance between the tool and the liver is small enough that a collision is likely. In the embodiment illustrated a movement is commanded to move the tool away from the liver . In other embodiments the system does not command movement in such embodiments the tool will remain close to the liver . In yet other embodiments the system warns signals the operator that the tool close to the liver but does not command movement away from the liver. Such a warning signaling can be visual or aural using any of the methods known in the art.

In tool is the same distance from liver as in . However in the movement of the tool is toward the liver making a collision between tool and liver possible. In some embodiments a movement is commanded to move the tool away from the liver . In other embodiments the system prevents movement but does not command movement in this embodiment the tool will remain close to the liver . In yet other embodiments the system warns the operator that move is RESTRICTED but does not restrict movement or command movement away from the liver. Such a warning can be visual or aural using any of the methods known in the art.

As a non limiting example in an operation on the liver the collision detection function can warn the operator that a collision between a tool and the liver is likely but not prevent the collision. In an operation on the gall bladder the collision detection function can prevent a collision between the tool and the liver either by preventing the movement or by commanding a movement redirecting the tool away from the liver 

Locations GdM t Gd tool1 K t and Gd organ2 L t are calculated in real time at each time step from image or location marker .

Main Tool Movement Vector Gd3 t is calculated per GdM t as the difference between the current location and at least one previous location probably also taking into account previous movement vectors 

The proximity of the main tool to other tools Gd4 t is calculated for example as the smallest of the differences between the main tool location and the other tools locations.

Tool Instructions Gt1 Weight function t is proportional to tool proximity function Gd4 t the closer the tool the slower the movement so that for example 4 maximum 4 or log 4 maximum 4 where maximum 4 is the maximum distance which is likely to result in a collision given the distances the speed of the tool and the movement vector. Tool Instructions 1.

In reference to which shows in a non limiting manner an embodiment of a tracking system with no fly rule. The system tracks a tool with respect to a no fly zone in order to determine whether the tool will enter the no fly zone within the next time step. In this example the no fly zone surrounds the liver.

In the tool is outside the no fly zone rule function and no movement of the tool is commanded. In the tool is inside the no fly zone .

In the embodiment illustrated a movement is commanded to move the tool away from the no fly zone . In other embodiments the system prevents movement further into the no fly zone refers as movement see but does not command movement in such embodiments the tool will remain close to the no fly zone .

In yet other embodiments the system warns signals the operator that the move is RESTRICTED but does not restrict movement further into the no fly zone or command movement away from the no fly zone . Such a warning signaling can be visual or aural using any of the methods known in the art.

In tool is the same distance from no fly zone as in . However in the movement of the tool is toward no fly zone making it possible for tool to enter no fly zone . In the embodiment illustrated a movement is commanded to move the tool away from the no fly zone . In other embodiments the system prevents movement but does not command movement in such embodiments the tool will remain close to the no fly zone . In yet other embodiments the system warns signals the operator that the move is RESTRICTED but does not restrict movement or command movement away from the no fly zone rule function . Such a warning signaling can be visual or aural using any of the methods known in the art.

In reference to which shows in a non limiting manner an embodiment of a tracking system with a preferred volume zone function rule.

The system tracks a tool with respect to a preferred volume zone in order to determine whether the tool will leave the preferred volume within the next time step.

In this example the preferred volume zone extends over the right lobe of the liver. show how the behavior of the system depends on the location of the tool tip with respect to the preferred volume zone while show how movement of the tool affects the behavior i.e. the preferred volume zone rule function .

In the tool is inside the preferred volume zone and no movement of the tool is commanded. In the tool is outside the preferred volume zone .

In the embodiment illustrated a movement is commanded to move the tool into the preferred volume zone . In other embodiments the system does not command movement in such embodiments the tool will remain close to but outside the preferred volume zone . In yet other embodiments the system warns signals the operator that the tool is outside the preferred volume zone but does not move the tool. Such a warning signaling can be visual or aural using any of the methods known in the art.

In the movement of the tool is out of the preferred volume making it possible for tool to leave preferred volume .

According to one embodiment illustrated a movement is commanded to move the tool into the preferred volume zone . In other embodiments the system prevents movement but does not command movement in such embodiments the tool will remain within the preferred volume zone . In yet other embodiments the system warns signals the operator that the move is RESTRICTED but does not restrict movement or command movement into the preferred volume zone . Such a warning signaling can be visual or aural using any of the methods known in the art.

In reference to which shows in a non limiting manner an embodiment of an organ detection system however it should be noted that the same is provided for detection of tools instead of organs .

For each organ the 3D spatial positions of the organs stored in a database. In the perimeter of each organ is marked to indicate the edge of the volume of 3D spatial locations stored in the database.

In the liver is labeled with a short dashed line. The stomach is labeled with a long dashed line the intestine with a solid line and the gall bladder is labeled with a dotted line.

In some embodiments a label or tag visible to the operator is also presented. Any method of displaying identifying markers known in the art can be used. For non limiting example in an enhanced display colored or patterned markers can indicate the locations of the organs with the marker either indicating the perimeter of the organ or the area of the display in which it appears.

In reference to which shows in a non limiting manner an embodiment of a tool detection function. For each tool the 3D spatial positions of the tools stored in a database. In the perimeter of each tool is marked to indicate the edge of the volume of 3D spatial locations stored in the database. In the left tool is labeled with a dashed line while the right tool is labeled with a dotted line.

In some embodiments a label or tag visible to the operator is also presented. Any method of displaying identifying markers known in the art can be used. For non limiting example in an enhanced display colored or patterned markers can indicate the locations of the tools with the marker either indicating the perimeter of the tool or the area of the display in which it appears.

In reference to which shows in a non limiting manner an embodiment of a movement detection function rule. schematically illustrates a liver a left tool and a right tool at a time t. schematically illustrates the liver left tool and right tool at a later time t t where t is a small time interval. In this example the left tool has moved downward towards the direction of liver in the time interval t.

The system has detected movement of left tool and labels it. This is illustrated schematically in by a dashed line around left tool .

In reference to which shows in a non limiting manner an embodiment of the above discussed prediction function.

In this embodiment the system automatically prevents predicted collisions and in this example as shown in the system applies a motion to redirect left tool so as to prevent the collision.

In other embodiments the system warns signals the operator that a collision is likely to occur but does not alter the movement of any tool. Such a warning signaling can be visual or aural using any of the methods known in the art.

In other embodiments the prediction function can be enabled to for non limiting example alter the field of view to follow the predicted movement of a tool or of an organ to warn of or prevent predicted motion into a no fly zone to warn of or prevent predicted motion out of a preferred zone.

In reference to which shows in a non limiting manner an embodiment of a right tool function. schematically illustrates a liver a left tool and a right tool . The right tool is labeled illustrated schematically by the dashed line and its 3D spatial location is constantly and real time stored in a database. Now according to the right tool function rule the endoscope constantly tracks the right tool.

It should be pointed out that the same rule function applies for the left tool the left tool function rule .

The gall bladder is nearly completely visible at the left of the field of view. Two tools are also in the field of view with their tips in proximity with the liver. These are left tool and right tool . In this example the field of view function rule tracks left tool . In this example left tool is moving to the right as indicated by arrow .

The field of view function rule can be set to follow a selected tool as in this example or to keep a selected organ in the center of the field of view. It can also be set to keep a particular set of tools in the field of view zooming in or out as necessary to prevent any of the chosen tools from being outside the field of view.

Alternatively the field of view function rule defines n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view.

Each movement of the endoscope or the surgical tool within said n 3D spatial positions is an allowed movement and any movement of the endoscope or the surgical tool outside said n 3D spatial positions is a restricted movement.

Alternatively said the field of view function rule defines n 3D spatial positions n is an integer greater than or equal to 2 the combination of all of said n 3D spatial positions provides a predetermined field of view.

According to the field of view function rule the endoscope is relocated if movement has been detected by said detection means such that said field of view is maintained.

The tool most of interest to the surgeon at this point during the operation is tool . Tool has been tagged dotted line the 3D spatial location of tool is constantly stored in a database and this spatial location has been labeled as one of interest.

The system can use this tagging for many purposes including but not limited to keeping tool in the center of the field of view predicting its future motion keeping it from colliding with other tools or keeping other tools from colliding with it instructing the endoscope to constantly monitor and track said tagged tool and so on.

It should be noted that in the preferred tool rule the system tags one of the tools and performs as in the tagged tool rule function.

Since tool is within proximity of tool the field of view moves upward illustrated schematically by arrow until the tips of tool and tool are in the center of field of view .

Alternatively the once the distance between the two tools and is smaller than a predetermined distance the system alerts the user of said proximity which might lead to a collision between the two tools . Alternatively the system moves one of the tools away from the other one.

In reference to which shows in a non limiting manner an embodiment of an operator input function rule. According to this embodiment input is received from the operator.

As illustrated in after selection of the tip of tool by operator by means of wireless transmitter and receiver the system then directs and modifies the spatial position of the endoscope so that the tagged tip of tool is in the center of the field of view . In this non limiting example the liver and the tool

If a tool has been moved closely to an organ in the surgical environment according to the proximity rule or the collision prevention rule the system will according to one embodiment prevent the movement of the surgical tool.

According to one embodiment of the present invention once the surgical tool has been stopped any movement of said tool in the direction is interpreted as input from the operator to continue the movement of said surgical tool in said direction.

Thus according to this embodiment the operator input function rule receives input from the operator i.e. physician to continue the move of said surgical tool even though it is against the collision prevention rule . Said input is simply in the form of the continued movement of the surgical tool after the alert of the system or after the movement prevention by the system .

In reference to which shows in a non limiting manner an embodiment of a tracking system with a constant field of view rule function.

In many endoscopic systems the tip lens in the camera optics is not at a right angle to the sides of the endoscope. Conventionally the tip lens angle is described relative to the right angle so that a tip lens at right angles to the sides of the endoscope is described as having an angle of 0. Typically angled endoscope tip lenses have an angle of 30 or 45 . This tip lens angle affects the image seen during zooming. illustrates in an out of scale manner for a conventional system the effect of zooming in the field of view in an endoscope with tip lens set straight in the end vs. the effect of zooming in the field of view in an endoscope with angled tip lens .

If the tip lens is set straight in the end of the endoscope an object in the center FOV will be in the center of the FOV and the camera image both before and after the zoom. However if the tip lens is set at an angle in the end of the endoscope then an object that is in the center of the FOV and the camera image before the zoom will not be in the center of the FOV or the camera image after the zoom since the direction of motion of the endoscope is not the direction in which the center of the field of view points.

In an embodiment of the system of the present invention unlike in conventional systems the controlling means maintains the center of the field of view FOV during zoom independent of the tip lens angle. An advantage of controlling the zoom of the endoscope via a data processing system is that the tip lens angle does not need to be input to the data processing system obviating a possible source of error.

According to one embodiment of the present invention the endoscope s movement will be adjusted in order to maintain a constant field of view.

According to another embodiment of the present invention the system can inform the user of any misalignment of the same system.

Misalignment of the system may cause parasitic movement of the endoscope tip where the endoscope tip does not move exactly in the expected direction. According to one embodiment of the system the system comprises sensors e.g. gyroscopes accelometers and any combination thereof that calculate estimates the position of the pivot point in real time in order to a inform the user of misalignment or b calculate the misalignment so that the system can adjust its movement to prevent parasitic movement.

In reference to which shows in a non limiting manner an embodiment of a tracking system with a change of speed rule function.

In conventional endoscopic control systems motion of the endoscope occurs at a single speed. This speed is fairly fast so that the endoscope can be moved rapidly between locations that are well separated. However this means that making fine adjustments is so difficult that fine adjustments are normally not made. In an embodiment of the present invention the speed of the tip of the endoscope is automatically varied such that the closer the endoscope tip is to an object be it a tool an obstacle or the object of interest the more slowly it moves. In this embodiment as shown in measurements are made of the distance X from the tip of the endoscope to the pivot point of the endoscope where said pivot point is at or near the surface of the skin of a patient . Measurements are also made of the distance Y from the tip of the endoscope to the object in the center of the FOV. From a predetermined velocity V the actual velocity of the tip of the endoscope at a given time V is calculated from

Therefore the closer to the object at the center of the FOV the more slowly the endoscope moves making it possible to use automatic control of even fine adjustments and reducing the probability that the endoscope will come in contact with tissue or instruments.

In embodiments of the system the harder the control unit is pressed the faster the endoscope tip moves. In these embodiments the system provides a warning if the speed is above a predetermined maximum. Examples of the method of warning include but are not limited to a constant volume tone a constant pitch tone a varying volume tone a varying pitch tone a vocal signal a constant color visual signal a constant brightness visual signal a varying color visual signal a varying brightness visual signal a signal visible on at least some part of the endoscope image a signal visible on at least some portion of the patient a signal visible in at least some portion of the surroundings of the patient a vibration in the control unit a temperature change in the control unit and any combination of the above.

According to one embodiment of the present invention the velocity of the endoscope s movement will be adjusted as a function of the distance of the endoscope s tip from the organ tissue.

In the foregoing description embodiments of the invention including preferred embodiments have been presented for the purpose of illustration and description. They are not intended to be exhaustive or to limit the invention to the precise form disclosed. Obvious modifications or variations are possible in light of the above teachings. The embodiments were chosen and described to provide the best illustration of the principals of the invention and its practical application and to enable one of ordinary skill in the art to utilize the invention in various embodiments and with various modifications as are suited to the particular use contemplated. All such modifications and variations are within the scope of the invention as determined by the appended claims when interpreted in accordance with the breadth they are fairly legally and equitably entitled.

