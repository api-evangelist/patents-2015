---

title: System and method for utilizing a unique identifier while registering a device in a network
abstract: An information handling system includes a server having a management system module. The management system module broadcasts an address resolution protocol request including a unique identifier in the information handling system. The management system module also receives multiple address resolution protocol responses to the address resolution protocol request. Each of the multiple address resolution protocol responses includes a different media access control address associated with the unique identifier. The management system module also creates a unique identifier table correlating each of the media access control addresses with the unique identifier.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09548923&OS=09548923&RS=09548923
owner: DELL PRODUCTS, LP
number: 09548923
owner_city: Round Rock
owner_country: US
publication_date: 20150128
---
This application is a continuation of U.S. patent application Ser. No. 13 739 466 entitled System and Method for an Utilizing a Unique Identifier while Registering a Device in a Network filed on Jan. 11 2013 the disclosure of which is hereby expressly incorporated by reference in its entirety.

This disclosure generally relates to information handling systems and more particularly relates to a system and method for utilizing a unique identifier while registering a device in a network.

As the value and use of information continues to increase individuals and businesses seek additional ways to process and store information. One option is an information handling system. An information handling system generally processes compiles stores and or communicates information or data for business personal or other purposes. Because technology and information handling needs and requirements can vary between different applications information handling systems can also vary regarding what information is handled how the information is handled how much information is processed stored or communicated and how quickly and efficiently the information can be processed stored or communicated. The variations in information handling systems allow for information handling systems to be general or configured for a specific user or specific use such as financial transaction processing airline reservations enterprise data storage or global communications. In addition information handling systems can include a variety of hardware and software components that can be configured to process store and communicate information and can include one or more computer systems data storage systems and networking systems.

When a new device is added to a network the device can be provisioned with some initial default configurations and can be registered with a management system of the network so that the device can be managed by the management system. The new device can connect to network via a switch which in turn can have a table identify an Internet Protocol address and media access control address for each network interface card connected to the switch. The switch can then utilize this table to route data to different devices in the network.

The following description in combination with the Figures is provided to assist in understanding the teachings disclosed herein. The following discussion will focus on specific implementations and embodiments of the teachings. This focus is provided to assist in describing the teachings and should not be interpreted as a limitation on the scope or applicability of the teachings. However other teachings can certainly be utilized in this application.

Information handling system includes a device which is in communication with switches and . The device can include multiple network interface cards NICs which can each have a different media access control MAC address to make them individually addressable. For example the device can include four NICs each with a different MAC address such as MAC 1 MAC 2 MAC 3 and MAC 4. The device can be connected to the switch via first and second NICs having respective MAC addresses of MAC 1 and MAC 2. Similarly the device can be connected to the switch via third and fourth NICs having respective MAC addresses of MAC 3 and MAC 4. Each of the NICs in the device can be connected to a different port of the switches or such as port 01 and port 10 of switch and port 01 and port 15 of switch .

When the device is first powered on after being connected to the information handling system the device can transmit a unique identifier ID of the device and the specific MAC addresses for each of the NICs in the device to the switches and . The unique ID can be any type of label that is unique to the device such as a service tag assigned to the device by the manufacturer of the device. The unique ID can include multiple alpha numeric characters for uniquely identifying the device . For example the unique ID for device can be XY12345 as shown in .

The switch can receive the unique ID and the associated MAC addresses on different ports of the switch and can then create a unique ID table to identify the unique ID MAC address connected to every port of the switch. For example the switch can create an entry P01 XY12345 MAC1 in the unique ID table to identify that a NIC within the device having a unique ID XY12345 has a MAC address of MAC1 and is connected to port P01 of the switch. Similarly the switch can create an entry P10 XY12345 MAC2 in the unique ID table to identify that a NIC within the device having a unique ID XY12345 has a MAC address of MAC2 and is connected to port P10 of the switch.

The switch can also receive the unique ID and the associated MAC address on different ports of the switch and can then create a unique ID table to identify the unique ID MAC address connected to every port of the switch. For example the switch can create an entry P01 XY12345 MAC3 in the unique ID table to identify that a NIC within the device having a unique ID XY12345 has a MAC address of MAC3 and is connected to port P01 of the switch. Similarly the switch can create an entry P15 XY12345 MAC4 in the unique ID table to identify that a NIC within the device having a unique ID XY12345 has a MAC address of MAC4 and is connected to port P15 of the switch.

The switches and can utilize the respective unique ID tables and to identify network connections. The unique ID for the device in addition to the MAC address of the NIC of the device can be utilized to identify that the NICs are part of the same device. In addition the device can identify a management NIC to the switches and and the switches can identify the management NIC in the unique ID table or . For example the NIC having a MAC address of MAC1 can be the management NIC for the device such that the switch can identify the entry P01 12345 MAC1 with the to identify that the NIC connected to the port P01 is the management NIC for the device . The switches and can utilize the unique ID tables and to register the device with a management system module of the information handling system as discussed below with respect to .

The server can utilize the unique IDs stored in the unique ID tables to be aware of and or discover devices connected to the information handling system . The server can then map how each of devices such as the device and the storage device are connected to the information handling system by receiving information available in the network switches and without communicating with a management NIC of each of the devices. Therefore the server may possibly verify proper installation of the device and the storage device in the information handling system even before the management NIC in each of devices is fully online based on the devices communicating the unique ID and MAC addresses to the switches and when the devices are first powered on.

The unique ID is assigned to the entire device or the storage device and not just to an individual NIC within the device. Therefore the unique ID can allow the server to request all associated network resources such as the NICs for the device or the storage device from the switches and having the unique ID tables and . For example if the device did not have a unique ID or if a unique ID query cannot be performed the management system module would make multiple queries to discover how each of the four NICs of the device are connected to the switches and . The multiple queries would be an individual Internet Protocol IP query for each IP address of the different NICs in the device . However if a unique ID query is performed a single unique ID query can return all the NICs within the device having the specific unique ID.

Prior to the device and the storage device being connected to the information handling system a user can login to a web portal for the management system module and can configure create an inventory list of devices and identify how the devices can be connected within the information handling system. The devices and can then be shipped to a customer site along with instructions for physically connecting the devices to the switches and . A user at the customer site can connect the device and the storage device to the switches and according to the instructions received with the devices and can power on the devices. At this point if the inventory list of devices the identification of how the device and storage device are to be connected and associated unique IDs for all the devices is in a machine readable form the management system module can discover the devices in the information handling system based only on the unique IDs and verify that the devices are properly connected without having to actually communicate with and establish management role with the devices. Thus the use of unique ID can allow the installation process to be simplified and improve user experience during an initial turn on process for the device and the storage device .

The registering and or discovery of the device and the storage device can be substantially the same. Therefore the registering of a device with be described only with respect to the device for simplicity. The device can be connected to both the switch and within the information handling system . When the device connects to the information handling system the device can transmit a Link Layer Discovery Protocol LLDP packet shown in including the unique ID for the device to both switches and . The device can send the LLDP packet on each link established from the different NICs of the device. For example the device can register its unique ID on both switches and via the four NICs shown in .

Referring back to when each of the switches and receives the LLDP packet the switch can associate the unique ID embedded in the unique ID portion in the unique table with the switch port on which the LLDP packet was received. The switches and can then create the unique ID tables and as described above with respect to . The switch can also store an indication of the MAC address that is associated with a management NIC in the unique ID table as shown in .

When the switches and have created the unique ID tables and the management system module can transmit an address resolution protocol ARP packet to each of the switches and to discover the MAC addresses associated with the unique ID of the device . The management system module can modify an ARP packet to find MAC addresses and map the MAC addresses to a unique ID. Typical ARP packets have been used for mapping a MAC address to a given IP address. The management system module would use ARP packet to send out a query to find the MAC address for a given IP address. Then a device that knows about the requested IP address would respond with a unicast packet back to the management system module with the associated MAC address. However the modified ARP request shown in can be utilized to resolve a unique ID to the MAC addresses of the device instead. Also the switches and store the unique ID of the device such that the switches can also respond to the ARP request on behalf of the device. Normally only a single response would be received at the management system module for an ARP request but a single unique ID may be associated with multiple MAC addresses such that each switch having the unique ID in its unique ID table can provide an ARP response for each entry of the unique ID in the unique ID table.

Referring back to the management system module can send the ARP request with the unique ID for the device to be located instead of an IP address associated with a NIC in the device. The management system module can broadcast the ARP request to all of the switches and which in turn can provide an ARP response if the unique ID table for the switch includes an entry with the unique ID. A response packet can have the target hardware address portion filled with the MAC address associated with the unique ID for the device . For example the switches and can provide the ARP response with the MAC address associated with the unique ID of the device . There may be multiple responses for a single ARP request since the device can have multiple NICs that each have a different MAC address. In an embodiment the target unique ID portion can include more bytes than the unique ID for the device such that the last byte may be used in the response to indicate if the MAC address in the response refers to a management MAC address for the device.

For example if the MAC address is associated with the management NIC the last byte of the unique ID portion in the response can be set to a first value such as 0xFF. Otherwise if the MAC address being returned is not associated with a management NIC the last byte can be set to a second value such as 0x00. The management system module can receive multiple responses to identify all MAC addresses associated with the given unique ID. The management system module can then store all the MAC addresses with the corresponding unique ID in the unique ID table . In one embodiment the ARP response can also include information identifying the switches and that respond to the ARP request.

The management system module can then utilize the unique ID table to determine all MAC addresses associated with a unique ID. The management system module can send Layer 2 ping to each of the MAC addresses associated with the unique ID for the device . The switches and can then send a response to the Layer 2 ping for each individual MAC address related to the unique ID of the device . If the management system module receives an unreachable response for any MAC address the management system module can send another ARP request for the unique ID of the device to refresh the unique ID table . In an embodiment the ARP request can be automatically triggered in response to the unreachable response.

Once the management system module has verified the unique ID of the device with each of the MAC addresses associated with the device listed in the unique ID table via the Layer 2 ping the management system module can utilize Layer 2 protocols to communicate with the management NIC of the device directly without requiring Layer 3 protocol addresses. Because a unique ID may be associated with multiple MAC addresses the management system module can select any MAC address that was previously designated as the management MAC address to communicate with the management NIC on the device .

The switches and can provide different features described above via a user interface and or an application programming interface. For example the switches and can return all learned unique IDs to the management system module and can return all MAC addresses associated with a unique ID to the management system module. The switches and can also provide a command to ping a unique ID and can provide a trace route method for all a unique IDs by simply doing a Layer 2 trace route for each MAC address. The switches and can also associate performance data previously tied to individual ports and MAC addresses to the associated unique ID of an entire device and can include associated unique IDs into event notifications or log records where physical ports and or MAC addresses were previously recorded. If the NICs are not identified by the unique ID of the device any dynamic change to a MAC address of NICs would cause all of the performance data for the device to be lost.

At block the second switch makes a determination of whether the unique ID in the ARP message is stored within a unique ID table of the switch. If the unique ID is located within the unique ID table the second switch sends a separate ARP response for every entry of the unique ID in the unique ID table at block . Each ARP response can include a different MAC address associated with the unique ID. In an embodiment an ARP response can indicate whether a MAC address is associated with a management NIC of a device having the unique ID. If the unique ID is not located within the unique ID table the second switch does not send an ARP response at block . At block the management system module receives all of the ARP responses from the first and second switches. At block the management system module stores each of the MAC addresses associated with the unique ID in a unique ID table of the management system module.

At block a third ping is sent to a second switch associated with a third MAC Address. A fourth ping is sent to the second switch associated with a fourth MAC address at block . At block a determination is made whether a ping response is received for each MAC address of the unique ID. If a ping response is received for each MAC address a longest response time between the pings is recorded as a latency for the unique ID at block . If a ping response is not received for at least one of the MAC addresses a new ARP message including the unique ID is sent at block . The new ARP can be utilized to update a unique ID table for the management system module.

As shown in the information handling system can include a first physical processor coupled to a first host bus and can further include additional processors generally designated as nphysical processor coupled to a second host bus . The first physical processor can be coupled to a chipset via the first host bus . Further the nphysical processor can be coupled to the chipset via the second host bus . The chipset can support multiple processors and can allow for simultaneous processing of multiple processors and support the exchange of information within information handling system during multiple processing operations.

According to one aspect the chipset can be referred to as a memory hub or a memory controller. For example the chipset can include an Accelerated Hub Architecture AHA that uses a dedicated bus to transfer data between first physical processor and the nphysical processor . For example the chipset including an AHA enabled chipset can include a memory controller hub and an input output I O controller hub. As a memory controller hub the chipset can function to provide access to first physical processor using first bus and nphysical processor using the second host bus . The chipset can also provide a memory interface for accessing memory using a memory bus . In a particular embodiment the buses and can be individual buses or part of the same bus. The chipset can also provide bus control and can handle transfers between the buses and .

According to another aspect the chipset can be generally considered an application specific chipset that provides connectivity to various buses and integrates other system functions. For example the chipset can be provided using an Intel Hub Architecture IHA chipset that can also include two parts a Graphics and AGP Memory Controller Hub GMCH and an I O Controller Hub ICH . For example an Intel 820E an 815E chipset or any combination thereof available from the Intel Corporation of Santa Clara Calif. can provide at least a portion of the chipset . The chipset can also be packaged as an application specific integrated circuit ASIC .

The information handling system can also include a video graphics interface that can be coupled to the chipset using a third host bus . In one form the video graphics interface can be an Accelerated Graphics Port AGP interface to display content within a video display unit . Other graphics interfaces may also be used. The video graphics interface can provide a video display output to the video display unit . The video display unit can include one or more types of video displays such as a flat panel display FPD or other type of display device.

The information handling system can also include an I O interface that can be connected via an I O bus to the chipset . The I O interface and I O bus can include industry standard buses or proprietary buses and respective interfaces or controllers. For example the I O bus can also include a Peripheral Component Interconnect PCI bus or a high speed PCI Express bus. In one embodiment a PCI bus can be operated at approximately 76 MHz and a PCI Express bus can be operated at more than one speed such as 2.5 GHz and 4 GHz. PCI buses and PCI Express buses can be provided to comply with industry standards for connecting and communicating between various PCI enabled hardware devices. Other buses can also be provided in association with or independent of the I O bus including but not limited to industry standard buses or proprietary buses such as Industry Standard Architecture ISA Small Computer Serial Interface SCSI Inter Integrated Circuit IC System Packet Interface SPI or Universal Serial buses USBs .

In an alternate embodiment the chipset can be a chipset employing a Northbridge Southbridge chipset configuration not illustrated . For example a Northbridge portion of the chipset can communicate with the first physical processor and can control interaction with the memory the I O bus that can be operable as a PCI bus and activities for the video graphics interface . The Northbridge portion can also communicate with the first physical processor using first bus and the second bus coupled to the nphysical processor . The chipset can also include a Southbridge portion not illustrated of the chipset and can handle I O functions of the chipset . The Southbridge portion can manage the basic forms of I O such as Universal Serial Bus USB serial I O audio outputs Integrated Drive Electronics IDE and ISA I O for the information handling system .

The information handling system can further include a disk controller coupled to the I O bus and connecting one or more internal disk drives such as a hard disk drive HDD and an optical disk drive ODD such as a Read Write Compact Disk R W CD a Read Write Digital Video Disk R W DVD a Read Write mini Digital Video Disk R W mini DVD or other type of optical disk drive.

Although only a few exemplary embodiments have been described in detail in the exemplary embodiments without materially departing from the novel teachings and advantages of the embodiments of the present disclosure. For example the methods described in the present disclosure can be stored as instructions in a computer readable medium to cause a processor such as chipset to perform the method. Additionally the methods described in the present disclosure can be stored as instructions in a non transitory computer readable medium such as a hard disk drive a solid state drive a flash memory and the like. Accordingly all such modifications are intended to be included within the scope of the embodiments of the present disclosure as defined in the following claims. In the claims means plus function clauses are intended to cover the structures described herein as performing the recited function and not only structural equivalents but also equivalent structures.

