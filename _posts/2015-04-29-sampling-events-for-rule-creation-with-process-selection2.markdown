---

title: Sampling events for rule creation with process selection
abstract: Embodiments are directed towards generating a representative sampling as a subset from a larger dataset that includes unstructured data. A graphical user interface enables a user to provide various data selection parameters, including specifying a data source and one or more subset types desired, including one or more of latest records, earliest records, diverse records, outlier records, and/or random records. Diverse and/or outlier subset types may be obtained by generating clusters from an initial selection of records obtained from the larger dataset. An iteration analysis is performed to determine whether a sufficient number of clusters and/or cluster types have been generated that exceed at least one threshold and when not exceeded, additional clustering is performed on additional records. From the resultant clusters, and/or other subtype results, a subset of records is obtained as the representative sampling subset.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09582557&OS=09582557&RS=09582557
owner: Splunk Inc.
number: 09582557
owner_city: San Francisco
owner_country: US
publication_date: 20150429
---
This application is a continuation of U.S. patent application Ser. No. 14 168 888 titled SAMPLING OF EVENTS TO USE FOR DEVELOPING A FIELD EXTRACTION RULE FOR A FIELD TO USE IN EVENT SEARCHING filed Jan. 30 2014 now U.S. Pat. No. 9 031 955 issued on May 12 2015 which is a continuation of U.S. patent application Ser. No. 13 747 153 titled VARIABLE REPRESENTATIVE SAMPLING UNDER RESOURCE CONSTRAINTS filed Jan. 22 2013 now U.S. Pat. No. 8 751 499 issued on Jun. 10 2014 both of which are incorporated by reference herein in their entirely.

The subject innovations relate generally to data sampling and more particularly but not exclusively to generating a variable representative sampling of data as a subset from a larger dataset that includes unstructured data.

The rapid increase in the production and collection of machine generated data has created large data sets that are difficult to search and or otherwise analyze. The machine data can include sequences of time stamped records that may occur in one or more usually continuous streams. Further machine data often represents activity made up of discrete records or events.

Often search engines may receive raw data from various data sources including machine data. In some cases search engines may be configured to transform raw data in various ways prior to storing it. At least one of the transformations may include extracting field values from the raw data. Sometimes the raw data may be unstructured this may make it difficult for systems to efficiently analyze the data to determine what data may be included in the raw data and or how to generate a field value extraction rule. This may be especially true where the datasets are considered extremely large such as in the terabytes or greater. Such large unstructured datasets may make it difficult and time consuming to analyze the data so as to be able to perform various actions on the data. For example determining extraction rules modification rules or the like on such large datasets that are correct and effective may be difficult and time consuming. Improper and or ineffective rules may result in improper values from the raw data and or omit significant values. Thus it is with respect to these considerations and others that the present invention has been made.

Various embodiments now will be described more fully hereinafter with reference to the accompanying drawings which form a part hereof and which show by way of illustration specific exemplary embodiments by which the subject innovations may be practiced. The embodiments may however be embodied in many different forms and should not be construed as limited to the embodiments set forth herein rather these embodiments are provided so that this disclosure will be thorough and complete and will fully convey the scope of the embodiments to those skilled in the art. Among other things the various embodiments may be methods systems media or devices. Accordingly the various embodiments may take the form of an entirely hardware embodiment an entirely software embodiment or an embodiment combining software and hardware aspects. The following detailed description is therefore not to be taken in a limiting sense.

Throughout the specification and claims the following terms take the meanings explicitly associated herein unless the context clearly dictates otherwise. The phrase in one embodiment as used herein does not necessarily refer to the same embodiment though it may. Furthermore the phrase in another embodiment as used herein does not necessarily refer to a different embodiment although it may. Thus as described below various embodiments may be readily combined without departing from the scope or spirit of the subject innovations.

In addition as used herein the term or is an inclusive or operator and is equivalent to the term and or unless the context clearly dictates otherwise. The term based on is not exclusive and allows for being based on additional factors not described unless the context clearly dictates otherwise. In addition throughout the specification the meaning of a an and the include plural references. The meaning of in includes in and on. 

The term machine data as used herein may include server logs and other types of machine data i.e. data generated by machines . In at least one of the various embodiments machine data streams may be time stamped to create time stamped events. For example information processing environments such as firewalls routers web servers application servers and databases may generate streams of time series data in the form of events. In some cases events may be generated hundreds or thousands of times per second.

The term unstructured data as used herein refers to data that either does not have a pre defined data model and or does not fit well into relational tables. Unstructured data sometimes may be text heavy in that the data might be predominately alpha data which may be of various lengths. However some embodiments of unstructured data may include numeric data as well. Moreover unstructured data may be absent of at least some field headers tags labels or the like that indicate a format and or type of data within a field or portion of the data.

The term time series data as used herein is data where each data record has a timestamp associated with it. A Time Series Search Engine is a search engine which in at least one of the various embodiments can perform queries limited by a time range such as between one time and another or data earlier than a given time or the like on the stored data and or generate results ordered by time and or timestamps such as from earliest to latest or vice versa .

The terms data repository and data store as used herein refer to data sources that may contain unstructured or structured data such as databases file systems search engine indexes or the like. In at least one of the various embodiments a data repository may be a live stream of data. In other cases a data repository may be static data or a combination of live data or static data. In at least one of the various embodiments data repositories may provide interfaces such as application programming interfaces API for receiving requests queries regarding the data stored in the data repository.

The term configuration information as used herein refers to data and or directives that may be employed by an application for performing action such as indexing transforming and or interpreting raw data received from data sources. Configuration information may be saved using various storage mechanisms such as file systems databases computer memory or the like.

Configuration information may include rules and or criteria that may be comprised of extraction rules filters matching functions rules for determining event boundaries within raw data e.g. rules for dividing an event stream into individual lines rules for merging lines into multi line events or the like rules for locating and parsing timestamps in raw data or the like. The configuration information may be employed by an application to identify events of interest that may be included in machine generated data identify and extract fields within events or the like.

The term raw data as used herein refers to data before it is processed by an indexer application or a previewing application. In at least one of the various embodiments the raw data may be machine generated data. Indexer applications and previewing applications may use the configuration information to determine how to interpret the raw data.

The term extraction rule as used herein refers to configuration information that may be applied to identify and extract field values from data.

The following briefly describes the embodiments of the subject innovations in order to provide a basic understanding of some aspects of the invention. This brief description is not intended as an extensive overview. It is not intended to identify key or critical elements or to delineate or otherwise narrow the scope. Its purpose is merely to present some concepts in a simplified form as a prelude to the more detailed description that is presented later.

Briefly stated subject innovations are directed towards identifying a variable representative sampling of data as a subset from a larger dataset that includes unstructured data. The larger dataset may also include structured data. Machine data is received in the form of records having columns which may have more than one value and or type of data. Such machine data is typically unstructured data and may include terabytes of data. One or more subsets of the data are selected based on one or more criteria to generate a representation of the larger dataset. It is anticipated that by operating on subsets of the data as representatives of the larger dataset time and resources may be conserved over operating on the entire larger dataset.

The data selection may be performed within a standalone system that receives the dataset and generates the representative subset or can be part of a larger system that may include performing other actions including using the representative subset to form extraction rules for use over the larger dataset or portion thereof to form rules usable to modify portions of the larger dataset including anonymizing portions of the subset and or the larger dataset to perform subset analysis and or to perform any of a variety of other actions.

A graphical user interface is provided that enables a user to provide various data selection parameters including specifying data source types specifying one or more subset types desired and or other criteria. The desired subset types may include latest records earliest records diverse records outlier records random records and or combinations thereof. Other subset types are also envisaged and therefore the subject innovations described herein are not limited to this non exhaustive list of subset types.

Diverse and or outlier subset types may be obtained by performing any of a variety of unsupervised clustering approaches to generate clusters from an initial selection of records obtained from the larger dataset. A cluster iteration analysis is performed to determine whether a sufficient number of clusters and or cluster types have been generated that exceed at least one threshold. When it is determined that an insufficient number of clusters or cluster types have been generated additional records are selected from the larger dataset and the unsupervised clustering approach is repeated. From resultant clusters a subset of records are obtained that are identified as a representative sampling subset of the larger dataset.

Combinations of selected subset types may also be used to generate a resultant representative sampling of the larger dataset by combining at least some of the records obtained from two or more of the subset type processes. In this manner the resultant representative sampling may allow testing of various hypotheses performing of automated tasks such as validating pattern matching analysis or the like. Other actions may also be performed.

In at least one embodiment cloud network enables one or more network services for a user based on the operation of corresponding arrangements and of virtually any type of networked computing device or devices. As shown the networked computing devices may include data selection device DSD post processor server enclosure of blade servers enclosure of server computers super computer network device and the like. In some embodiments one or more client devices may be included in cloud network in one or more arrangements to provide one or more network services to a user. Also these arrangements of networked computing devices may or may not be mutually exclusive of each other.

Additionally the user may employ a plurality of virtually any type of wired or wireless networked computing devices to communicate with cloud network and access at least one of the network services enabled by one or more of arrangements and . These networked computing devices may include tablet client device handheld client device server client device desktop client device and the like. In various embodiments the user may also employ notebook computers microprocessor based or programmable consumer electronics network appliances mobile telephones smart telephones pagers radio frequency RF devices infrared IR devices Personal Digital Assistants PDAs televisions integrated devices combining at least one of the preceding devices and the like.

One embodiment of a client device is described in more detail below in conjunction with . Generally client devices may include virtually any substantially portable and or non portable networked computing device capable of communicating over a wired wireless or some combination of wired and wireless network.

In various embodiments network may employ virtually any form of communication technology and topology. For example network can include local area networks Personal Area Networks PANs LANs Campus Area Networks CANs Metropolitan Area Networks MANs Wide Area Networks WANs direct communication connections and the like or any combination thereof. On an interconnected set of LANs including those based on differing architectures and protocols a router acts as a link between LANs enabling messages to be sent from one to another. In addition communication links within networks may include virtually any type of link e.g. twisted wire pair lines optical fibers open air lasers or coaxial cable plain old telephone service POTS wave guides acoustic full or fractional dedicated digital communication lines including T1 T2 T3 and T4 and or other carrier and other wired media and wireless media. These carrier mechanisms may include E carriers Integrated Services Digital Networks ISDNs universal serial bus USB ports Firewire ports Thunderbolt ports Digital Subscriber Lines DSLs wireless links including satellite links or other communications links known to those skilled in the art. Moreover these communication links may further employ any of a variety of digital signaling technologies including without limit for example DS 0 DS 1 DS 2 DS 3 DS 4 OC 3 OC 12 OC 48 or the like. Furthermore remotely located computing devices could be remotely connected to networks via a modem and a temporary communication link. In essence network may include virtually any communication technology by which information may travel between computing devices. Additionally in the various embodiments the communicated information may include virtually any kind of information including but not limited to processor readable instructions data structures program modules applications raw data control data archived data video data voice data image data text data and the like.

Network may be partially or entirely embodied by one or more wireless networks. A wireless network may include any of a variety of wireless sub networks that may further overlay stand alone ad hoc networks and the like. Such sub networks may include mesh networks Wireless LAN WLAN networks Wireless Router WR mesh cellular networks pico networks PANs Open Air Laser networks Microwave networks and the like. Network may further include an autonomous system of intermediate network devices such as terminals gateways routers switches firewalls load balancers and the like which are coupled to wired and or wireless communication links. These autonomous devices may be operable to move freely and randomly and organize themselves arbitrarily such that the topology of network may change rapidly.

Network may further employ a plurality of wired and wireless access technologies e.g. 2nd 2G 3rd 3G 4th 4G 5 5G generation wireless access technologies and the like for client devices. These wired and wireless access technologies may also include Global System for Mobile communication GSM General Packet Radio Services GPRS Enhanced Data GSM Environment EDGE Code Division Multiple Access CDMA Wideband Code Division Multiple Access WCDMA Long Term Evolution Advanced LTE Universal Mobile Telecommunications System UMTS Orthogonal frequency division multiplexing OFDM Wideband Code Division Multiple Access W CDMA Code Division Multiple Access 2000 CDMA2000 Evolution Data Optimized EV DO High Speed Downlink Packet Access HSDPA IEEE 802.16 Worldwide Interoperability for Microwave Access WiMax ultra wide band UWB user datagram protocol UDP transmission control protocol Internet protocol TCP IP any portion of the Open Systems Interconnection OSI model protocols Short Message Service SMS Multimedia Messaging Service MMS Web Access Protocol WAP Session Initiation Protocol Real time Transport Protocol SIP RTP or any of a variety of other wireless or wired communication protocols. In one non limiting example network may enable a client device to wirelessly access a network service through a combination of several radio network access technologies such as GSM EDGE SMS HSDPA LTE and the like.

As shown in the figure enclosure contains power supply and input output interface rack logic several blade servers and and backplane . Power supply provides power to each component and blade server within the enclosure. The input output interface provides internal and external communication for components and blade servers within the enclosure. Backplane can enable passive and active communication of power logic input signals and output signals for each blade server.

Blade server includes processor which communicates with memory via bus . Blade server also includes input output interface processor readable stationary storage device and processor readable removable storage device . Input output interface can enable blade server to communicate with other blade servers client devices network devices and the like. Interface may provide wireless and or wired communication links for blade server. Processor readable stationary storage device may include one or more devices such as an electromagnetic storage device hard disk solid state hard disk SSD hybrid of both an SSD and a hard disk and the like. In some configurations a blade server may include multiple storage devices. Also processor readable removable storage device enables processor to read non transitory storage media for storing and accessing processor readable instructions modules data structures and other forms of data. The non transitory storage media may include Flash drives tape media floppy media and the like.

Memory may include Random Access Memory RAM Read Only Memory ROM hybrid of RAM and ROM and the like. As shown memory includes operating system and basic input output system BIOS for enabling the operation of blade server . In various embodiments a general purpose operating system may be employed such as a version of UNIX LINUX a specialized server operating system such as Microsoft s Windows Server and Apple Computer s IOS Server or the like.

Memory further includes one or more data storage which can be utilized by blade server to store among other things applications and or other data. Data stores may include program code data algorithms and the like for use by processor to execute and perform actions. In one embodiment at least some of data store might also be stored on another component of blade server including but not limited to processor readable removable storage device processor readable stationary storage device or any other processor readable storage device not shown . Data storage may include for example dataset resultant data or selection criteria which are described in more detail below in conjunction with .

Applications may include processor executable instructions which when executed by blade server transmit receive and or otherwise process messages audio video and enable communication with other networked computing devices. Examples of application programs include database servers file servers calendars transcoders and so forth. Applications may include for example Data Selection Manager DSM and Post Processor Manager PPM which are described in more detail below in conjunction with .

Human interface components not pictured may be remotely associated with blade server which can enable remote input to and or output from blade server . For example information to a display or from a keyboard can be routed through the input output interface to appropriate peripheral human interface components that are remotely located. Examples of peripheral human interface components include but are not limited to an audio interface a display keypad pointing device touch interface and the like.

Client device includes processor in communication with memory via bus . Client device also includes power supply network interface audio interface display keypad illuminator video interface input output interface haptic interface global positioning systems GPS receiver Open air gesture interface temperature interface camera s projector pointing device interface processor readable stationary storage device and processor readable removable storage device . Power supply provides power to client device . A rechargeable or non rechargeable battery may be used to provide power. The power may also be provided by an external power source such as an AC adapter or a powered docking cradle that supplements and or recharges the battery. And in one embodiment a gyroscope may be employed within client device to measuring and or maintaining an orientation of client device .

Client device may optionally communicate with a base station not shown or directly with another computing device. Network interface includes circuitry for coupling client device to one or more networks and is constructed for use with one or more communication protocols and technologies including but not limited to protocols and technologies that implement any portion of the Open Systems Interconnection OSI model for mobile communication GSM code division multiple access CDMA time division multiple access TDMA user datagram protocol UDP transmission control protocol Internet protocol TCP IP Short Message Service SMS Multimedia Messaging Service MMS general packet radio service GPRS Web Access Protocol WAP ultra wide band UWB IEEE 802.16 Worldwide Interoperability for Microwave Access WiMax Session Initiation Protocol Real time Transport Protocol SIP RTP General Packet Radio Services GPRS Enhanced Data GSM Environment EDGE Wideband Code Division Multiple Access WCDMA Long Term Evolution Advanced LTE Universal Mobile Telecommunications System UMTS Orthogonal frequency division multiplexing OFDM Code Division Multiple Access 2000 CDMA2000 Evolution Data Optimized EV DO High Speed Downlink Packet Access HSDPA or any of a variety of other wireless communication protocols. Network interface is sometimes known as a transceiver transceiving device or network interface card NIC .

Audio interface is arranged to produce and receive audio signals such as the sound of a human voice. For example audio interface may be coupled to a speaker and microphone not shown to enable telecommunication with others and or generate an audio acknowledgement for some action. A microphone in audio interface can also be used for input to or control of client device e.g. using voice recognition detecting touch based on sound and the like.

Display may be a liquid crystal display LCD gas plasma electronic ink light emitting diode LED Organic LED OLED or any other type of light reflective or light transmissive display that can be used with a computing device. Display may also include a touch interface arranged to receive input from an object such as a stylus or a digit from a human hand and may use resistive capacitive surface acoustic wave SAW infrared radar or other technologies to sense touch and or gestures. Projector may be a remote handheld projector or an integrated projector that is capable of projecting an image on a remote wall or any other reflective object such as a remote screen.

Video interface may be arranged to capture video images such as a still photo a video segment an infrared video or the like. For example video interface may be coupled to a digital video camera a web camera or the like. Video interface may comprise a lens an image sensor and other electronics. Image sensors may include a complementary metal oxide semiconductor CMOS integrated circuit charge coupled device CCD or any other integrated circuit for sensing light.

Keypad may comprise any input device arranged to receive input from a user. For example keypad may include a push button numeric dial or a keyboard. Keypad may also include command buttons that are associated with selecting and sending images. Illuminator may provide a status indication and or provide light. Illuminator may remain active for specific periods of time or in response to events. For example when illuminator is active it may backlight the buttons on keypad and stay on while the client device is powered. Also illuminator may backlight these buttons in various patterns when particular actions are performed such as dialing another client device. Illuminator may also cause light sources positioned within a transparent or translucent case of the client device to illuminate in response to actions.

Client device also comprises input output interface for communicating with external peripheral devices or other computing devices such as other client devices and network devices. The peripheral devices may include an audio headset display screen glasses remote speaker system remote speaker and microphone system and the like. Input output interface can utilize one or more technologies such as Universal Serial Bus USB Infrared WiFi WiMax Bluetooth and the like. Haptic interface is arranged to provide tactile feedback to a user of the client device. For example the haptic interface may be employed to vibrate client device in a particular way when another user of a computing device is calling. Temperature interface may be used to provide a temperature measurement input and or a temperature changing output to a user of client device . Open air gesture interface may sense physical gestures of a user of client device for example by using single or stereo video cameras radar a gyroscopic sensor inside a device held or worn by the user or the like. Camera may be used to track physical eye movements of a user of client device .

GPS transceiver can determine the physical coordinates of client device on the surface of the Earth which typically outputs a location as latitude and longitude values. GPS transceiver can also employ other geo positioning mechanisms including but not limited to triangulation assisted GPS AGPS Enhanced Observed Time Difference E OTD Cell Identifier CI Service Area Identifier SAI Enhanced Timing Advance ETA Base Station Subsystem BSS or the like to further determine the physical location of client device on the surface of the Earth. It is understood that under different conditions GPS transceiver can determine a physical location for client device . In at least one embodiment however client device may through other components provide other information that may be employed to determine a physical location of the device including for example a Media Access Control MAC address IP address and the like.

Human interface components can be peripheral devices that are physically separate from client device allowing for remote input and or output to client device . For example information routed as described here through human interface components such as display or keyboard can instead be routed through network interface to appropriate human interface components located remotely. Examples of human interface peripheral components that may be remote include but are not limited to audio devices pointing devices keypads displays cameras projectors and the like. These peripheral components may communicate over a Pico Network such as Bluetooth Zigbee and the like. One non limiting example of a client device with such peripheral human interface components is a wearable computing device which might include a remote pico projector along with one or more cameras that remotely communicate with a separately located client device to sense a user s gestures toward portions of an image projected by the pico projector onto a reflected surface such as a wall or the user s hand.

A client device may include a browser application that is configured to receive and to send web pages web based messages graphics text multimedia and the like. The client device s browser application may employ virtually any programming language including a wireless application protocol messages WAP and the like. In at least one embodiment the browser application is enabled to employ Handheld Device Markup Language HDML Wireless Markup Language WML WMLScript JavaScript Standard Generalized Markup Language SGML HyperText Markup Language HTML eXtensible Markup Language XML HTML5 and the like.

Memory may include Random Access Memory RAM Read Only Memory ROM and or other types of memory. Memory illustrates an example of computer readable storage media devices for storage of information such as computer readable instructions data structures program modules or other data. Memory stores a basic input output system BIOS for controlling low level operation of client device . The memory also stores an operating system for controlling the operation of client device . It will be appreciated that this component may include a general purpose operating system such as a version of UNIX or LINUX or a specialized mobile computer communication operating system such as Windows Mobile or the Symbian operating system. The operating system may include or interface with a Java virtual machine module that enables control of hardware components and or operating system operations via Java application programs.

Memory further includes one or more data storage which can be utilized by client device to store among other things applications and or other data. For example data storage may also be employed to store information that describes various capabilities of client device . The information may then be provided to another device based on any of a variety of events including being sent as part of a header during a communication sent upon request or the like. Data storage may also be employed to store social networking information including address books buddy lists aliases user profile information or the like. Data storage may further include program code data algorithms and the like for use by a processor such as processor to execute and perform actions. In one embodiment at least some of data storage might also be stored on another component of client device including but not limited to non transitory processor readable removable storage device processor readable stationary storage device or even external to the client device. Data storage may include for example records that may include a subset of data that may be sent or otherwise be combined with data from one or more other sources to generate a larger dataset. At least some of records may include machine data that includes unstructured data. Data storage may also include resultant data obtained as a representative sampling of a larger dataset and selection criteria that represents various parameters useable to generate the resultant data from the larger dataset. It should be understood that while records resultant data and selection criteria are illustrated as residing on client device the subject innovations are not so limited. Thus in other embodiments some or all of these components might reside completely or in part on a remote computing device.

Applications may include computer executable instructions which when executed by client device transmit receive and or otherwise process instructions and data. Applications may include for example client selection manager CSM and client post processor manager CPM .

In some embodiments CSM is configured to provide a user interface to applications operating on a remote computing device that allows a user to generate variable representative sampling subsets from a larger dataset. CSM may in other embodiments operate as a standalone application residing within client device to provide substantially similar functionality as might be provided by the applications operating on the remote computing device. In either configuration CSM operate on data obtained from a remote device and or records using selection criteria to generate resultant data .

CPM is configured to enable a user to perform post processing operations on resultant data on at least some of records and or upon data obtained from any of a variety of other sources. Operations performed using CSM and CPM are described in more detail below in conjunction with s discussion regarding a data selection manager and post processor manager .

Other examples of application programs include calendars search programs email client applications IM applications SMS applications Voice over Internet Protocol VOIP applications contact managers task managers transcoders database programs word processing programs security applications spreadsheet programs games search programs and so forth.

As shown in the figure network device includes a processor in communication with a memory via a bus . Network device also includes a power supply network interface audio interface display keyboard input output interface processor readable stationary storage device and processor readable removable storage device . Power supply provides power to network device .

Network interface includes circuitry for coupling network device to one or more networks and is constructed for use with one or more communication protocols and technologies including but not limited to protocols and technologies that implement any portion of the Open Systems Interconnection model OSI model global system for mobile communication GSM code division multiple access CDMA time division multiple access TDMA user datagram protocol UDP transmission control protocol Internet protocol TCP IP Short Message Service SMS Multimedia Messaging Service MMS general packet radio service GPRS WAP ultra wide band UWB IEEE 802.16 Worldwide Interoperability for Microwave Access WiMax Session Initiation Protocol Real time Transport Protocol SIP RTP or any of a variety of other wired and wireless communication protocols. Network interface is sometimes known as a transceiver transceiving device or network interface card NIC . Network device may optionally communicate with a base station not shown or directly with another computing device.

Audio interface is arranged to produce and receive audio signals such as the sound of a human voice. For example audio interface may be coupled to a speaker and microphone not shown to enable telecommunication with others and or generate an audio acknowledgement for some action. A microphone in audio interface can also be used for input to or control of network device for example using voice recognition.

Display may be a liquid crystal display LCD gas plasma electronic ink light emitting diode LED Organic LED OLED or any other type of light reflective or light transmissive display that can be used with a computing device. Display may be a handheld projector or pico projector capable of projecting an image on a wall or other object.

Network device also may also comprise input output interface for communicating with external devices not shown in . Input output interface can utilize one or more wired or wireless communication technologies such as USB Firewire WiFi WiMax Thunderbolt Infrared Bluetooth Zigbee serial port parallel port and the like.

Human interface components can be physically separate from network device allowing for remote input and or output to network device . For example information routed as described here through human interface components such as display or keyboard can instead be routed through the network interface to appropriate human interface components located elsewhere on the network. Human interface components include any component that allows the computer to take input from or send output to a human user of a computer.

Memory may include Random Access Memory RAM Read Only Memory ROM and or other types of memory. Memory illustrates an example of computer readable storage media devices for storage of information such as computer readable instructions data structures program modules or other data. Memory stores a basic input output system BIOS for controlling low level operation of network device . The memory also stores an operating system for controlling the operation of network device . It will be appreciated that this component may include a general purpose operating system such as a version of UNIX or LINUX or a specialized operating system such as Microsoft Corporation s Windows operating system or the Apple Corporation s IOs operating system. The operating system may include or interface with a Java virtual machine module that enables control of hardware components and or operating system operations via Java application programs.

Memory further includes one or more data storage which can be utilized by network device to store among other things applications and or other data. For example data storage may also be employed to store information that describes various capabilities of network device . The information may then be provided to another device based on any of a variety of events including being sent as part of a header during a communication sent upon request or the like. Data storage may also be employed to store social networking information including address books buddy lists aliases user profile information or the like. Data stores may further include program code data algorithms and the like for use by a processor such as processor to execute and perform actions. In one embodiment at least some of data store might also be stored on another component of network device including but not limited to non transitory media inside processor readable removable storage device processor readable stationary storage device or any other computer readable storage device within network device or even external to network device . Data storage may include for example dataset resultant data and or selection criteria . Dataset represents machine data that is received from one or more other computing devices such as the client devices illustrated in . Typically dataset includes unstructured data. Moreover dataset may be received as streams of records where each record may include one or more sets of columns each of which can have more than one value or type of data. Typically dataset represents large sets of data that may sometimes be referred to a big data. As used herein the term big data refers to a collection of datasets so large and complex that it becomes difficult to process using on hand database management tools or traditional data processing applications. Big data usually includes datasets with sizes beyond the ability of traditional software tools to capture curate manage and or otherwise process the data within a cost effective elapsed time and or within a cost effective use of resources. Sizes for defining big data are a constantly changing. For example as of 2012 big data was viewed as ranging from a few dozen terabytes to many petabytes of data in a single dataset. It should be noted that while dataset may represent such big datasets of machine data having unstructured data therein dataset need not reside within a single network device. Thus should not be construed as limiting how or where dataset may reside. For example in some embodiments dataset may reside across a plurality of different physical non transitory storage devices. Further it should be understood that while such large datasets create resource constraints making performing operations on the datasets themselves expensive dataset need not in some embodiments include such big data. That is in some embodiments dataset may also include sets of data that are smaller than that of big datasets.

Additionally as shown in data storage may also include resultant data which represents a subset of dataset that may be generated as a representative sampling using data selection manager DSM and selection criteria . Selection criteria represent user selectable and or default parameters usable by DSM to generate resultant data .

Applications may include computer executable instructions which when executed by network device transmit receive and or otherwise process messages e.g. SMS Multimedia Messaging Service MMS Instant Message IM email and or other messages audio video and enable telecommunication with another user of another client device. Other examples of application programs include calendars search programs email client applications IM applications SMS applications Voice over Internet Protocol VOIP applications contact managers task managers transcoders database programs word processing programs security applications spreadsheet programs games search programs and so forth. Applications may include DSM and Post processor manager PPM .

It should be noted that while illustrates DSM and PPM within a same network device subject innovations are not so limited. Thus for example in other embodiments DSM may reside in one network device while PPM may reside in one or more other network devices. With respect to for example DSM may reside within DSD while PPM may reside in Post processor server . However in still other embodiments client devices such as those should in may include client versions of selection manager and or post processor manager. An example of a client device having client versions is shown in . In yet other embodiments post processor manager may be distributed across a plurality of different network devices and or client devices.

In any event DSM is configured to perform data analysis upon at least some of the data within dataset to generate a variable representative sampling resultant data . DSM is described in more detail in conjunction with . PPM is configured to receive one or more subsets of data from dataset and or to employ resultant data to perform various operations upon dataset and or resultant data . PPM is described in more detail below in conjunction with .

The operation of certain aspects of various embodiments will now be described with respect to . illustrates one embodiment of an architecture for use in managing variable data selection of a representative data subset from a larger dataset. Architecture includes components within network device usable to manage variable data selection and post processing. Not all of the components shown in may be required to practice the subject innovations and variations in the arrangement and type of the components also may be made.

As shown architecture includes dataset DSM PPM and network . Dataset DSM and PPM are briefly discussed above in conjunction with while network is described above in conjunction with .

As discussed above DSM is configured to identify a variable representative sampling of data as a resultant subset of data from the larger dataset that includes unstructured data. It is noted that larger dataset may also include structured as well as unstructured data. DSM provides a GUI which is described in more detail below in conjunction with . Briefly however the GUI enables a user to provide various data selection parameters and or criteria to DSM for use in identifying selecting records from dataset as the resultant subset. The user may for example indicate various types of processing to be performed on at least some of the data within dataset to generate different types of resultant subsets. For example the user may input parameters criteria using the GUI usable to identify a subset that is based on one or more latest records earliest records diverse records outlier records random records and or combinations thereof. DSM however is not constrained to these subset types or combinations thereof and others may also be included. DSM may employ a process such as described in more detail below in conjunction with to perform at least some of its actions based in part on the provided input dataset s and parameters criteria.

It should be noted that while a graphical user interface is disclosed herein other embodiments may employ other mechanisms for enabling a user to perform actions including for example a command line interface CLI or the like. Thus in some embodiments a CLI might be employed to request a subset to be generated. One non limiting non exhaustive example of such might include a command such as makesubset mybigdata.csv subset.csv. Clearly other mechanisms may also be used.

Further the resultant data from DSM may be provided to PPM for use in further processing. It should be noted however the PPM need not be constrained to merely operating on resultant data from DSM . For example PPM may in some embodiments operate on data obtained from any of a variety of sources including directly from dataset data received directly from one or more client devices manually entered data or the like.

PPM includes various post processing components including subset analyzer anonymizer and subset previewer . As indicated by the dashes within PPM other post processing components may also be included and thus subject innovations are not constrained to those shown. For example a sharing component may be included that enables users to post process and share at least some of the resultant data with one or more other network devices data stores or the like. Another component may include a saving component that is configured to save the received data as well as various extraction rules data types column values filters parameters or any combination thereof to permanent storage for later application of the data.

Subset analyzer is configured to enable a user to perform various post analysis on the subset of data including for example analysis for generation of extraction rules sorting rules reporting rules or even storage rules. For example using subset analyzer a user might generate an extraction rule for the subset of data that is generated based on the clustering algorithm e.g. for the outlier and or diverse subtypes . Subset analyzer may then provide feedback about a percentage of events records within some or all of the clusters from which data might be extracted using the extraction rule. Other post analysis actions may also be performed and therefore subject innovations are not limited by the provided non limiting non exhaustive examples of post analysis.

Anonymizer is configured to enable a user to perform various actions that are directed towards depersonalizing the data. Information within the data that may be construed as Personally Identifiable Information PII or otherwise private confidential or otherwise for limited viewing may be modified by anonymizer to remove such data. In some embodiments because some of the data within the subset is unstructured data anonymizer may be used to identify the location type and filter rules for anonymizing the data. It should be noted that while anonymizer may operate on the subset data anonymizer is not so limited. For example anonymizer may analyze the subset data in order to create anonymizer filters rules that may then be applied to at least some data within or obtained further from the larger dataset such as dataset .

Subset previewer is configured to employ various extraction rules that may be generated based on an analysis of the received resultant data. The extraction rules may then be used to further extract data from the resultant data subset or from dataset .

GUI may be configured to be displayed by any of a variety of display device components including within a screen display device usable by various computing devices including the client devices and or network devices of described above. Further GUI is not constrained by any particular software language scripting tool or the like for generating the display of GUI . Moreover GUI is not constrained to drop down fill ins buttons or the like and virtually any other mechanism usable to receive and or display user parameter criteria selections may be employed. GUI also may employ any of a variety of input selection mechanism including but not limited to touch screens voice recognition mouse keyboard stylus or the like.

In any event as shown in GUI may include parameter criteria selections including data source type data source subset type maximum records record sample as well as selections that enable post processing such as save selection share selection and analyze selection . Data source type allows a user to specify a data source type that may be from a data store an index of records a structured file such as for example CSV XML JSON files or the like from structured network data or the like. Data source is configured to allow a user to specify a source of the data which may include a type of data source such as from a file a source of data from that type such as var log data.csv or the like as well as an index name when the source is from an index database parameters such as connection information tables columns or the like a network address and or port when the source is from a network source a file or directory name when the source is from a file or directory or the like. Subset type is configured to allow a user to input the desired selected subset types obtained from the data. As such the user may select one or more of diverse subset outlier subset oldest record subset newest record subset and or random record subset type. As discussed above other subtypes may also be provided. Further as illustrated in a combination subset type may also be selected. In some embodiments a default for the combination subset type includes representative subsets from each of the other subset types. However in other embodiments a user might highlight or otherwise select combinations of two or more of the other subset types to generate other combinations. Maximum records is directed towards allowing a user to set a limit on a number of records to retrieve at least initially from the specified data source. In some embodiments a user might also be allowed to input a limit on a number of records to display within record sample . In some embodiments record sample might be configured to display samples of records that are obtained from within the resultant subset sampling. However in other embodiments record sample might also allow a user to select for display at least some of the records that are used to generate the resultant subset sampling. In other embodiments there may be an input that enables a user to define other selection criteria that might be usable for example in a filtering query. The input might include keywords phrases Boolean expressions wildcards or the like. Such selection criteria might then be usable in selecting record samples for display in selecting records for further processing or the like.

Post processing may also be performed using various selectors including using save selection to save the resultant subset share selection to share the resultant subset with other devices and analyze selection to commence further analysis upon the resultant subset or other data. While these post processor selectors are illustrated within GUI it should be understood that they may also be provided through a differently structured GUI. Thus GUI is not to be construed as limiting the subject innovations.

Process begins after a start block at block where data selection parameters criteria is received. In some embodiments the data selection parameters criteria may be received from a user that might employ a GUI such as described above in conjunction with . However process is not so limited and such data selection parameters criteria may be received using any of variety of other mechanisms.

In any event the data selection parameters criteria may include information about a data source any query constraints a type of subset desired and an amount of data desired N . In some embodiments the data source might indicate that the input records are to be obtained from dataset of . However process is not constrained to operating on merely dataset and any of a variety of other datasets may also be employed as input to process .

Process moves next to decision block where a determination is made whether the subset type to be used to obtain the resultant subset is a combination subset. As an aside in some embodiments a default desired subtype might also be used when the user elects not to provide a selection. In one embodiment the default desired subtype might be a combination subset type that includes records from each of the available subset types. In any event if the subtype process to be performed is a combination subtype then processing flows to block otherwise processing flows to decision block .

At block the number of records obtained within the resultant subset is computed as a split of the input N such that records are obtained from each of the subtype processes identified in the combination. For example if the combination is to be obtained by performing each of the five different processes newest oldest random diverse and outliers then N is in one embodiment recomputed as N N 5. That is a same number of records are obtained from each of the five subtype processes. However in other embodiments other ratios might be used including obtaining more records from one or more of the subtypes than obtained from at least one other subtype in the combination of subtypes. Processing then flows to decision block .

At decision block a determination is made which one or more subtype processes to perform. As noted more than one of the subtype processes may be performed. For example all of the identified subtype processes might be performed. Thus in that instance processing flows to blocks and . Such processing might be performed concurrently. However in other embodiments at least some of the selected subtype process might be performed serially.

In any event when one or more of newest or oldest subtype processes are to be performed processing flows to block . When the random subtype process is to be performed processing flows to block and when one or more of diverse or outlier subtype processes are to be performed processing flows to block .

At block for newest subtypes N most recent or current records are retrieved or otherwise extracted from the input set of records. That is a query might be performed on the data source for the N newest records. For oldest subtype processing a query of the data source may be performed to retrieve a subset of records that contains N oldest records. Such queries may be performed by searching the data input for a field indicating a time in which the data was received by from a client device for storage. Such field might be added during receipt from the client device or might be a known location within a record. Where both newest and oldest subtypes are to be obtained such actions may be concurrently performed within block or performed serially. In either event processing then flows to decision block .

At block a random subtype subset sampling is to be obtained. It should be understood that any of a variety of criteria may be employed to define randomness including but not limited to generating a sampling record selection based on a pseudo number generator a value obtained from a purely random source or the like.

In at least one embodiment for example records may be retrieved from within the data source a multiple e.g. 50 of N the desired returned subset to retrieve. That is 50 N records might be retrieved from the data source. Then a random subset N records might be extracted from the 50 N records to generate the random subset. Thus as illustrated at block a multiple of N records is obtained. As an aside it should be clear to one of ordinary skill in the art that any multiple of N might be selected and therefore 50 is merely a non limiting example. Processing then flows to block where N random records are obtained from this extracted subset to generate a random subtype sampling. Processing then flows to decision block .

At block for diverse and or outlier subtypes a multiple of N records is retrieved from the data source. Again the multiple may be virtually any non negative value greater than zero that is directed towards retrieving a whole number of records. Processing then flows to block .

At block any of a variety of clustering techniques may be applied to the retrieved records. In some embodiments the clustering technique used might be an unsupervised clustering technique where the task is to develop classification and sorting of the records without regard to a predefined number of groups or clusters to be generated. Such unsupervised clustering techniques seek to identify similarities between portions of the data within the records in order to determine whether the records can be characterized as forming a group. Such groups are typically also known as clusters. As noted any of a variety of unsupervised clustering techniques may be employed including but not limited to k means kx trees density estimation self organizing map modeling SOM adaptive resonance theory models ART as well as other feature extraction techniques. Further the similarity may be based on any one or more fields or portions of data within the records. In some embodiments the portions used might be predefined. However in other embodiments additional analysis might be performed to select which portion or portions of the records to use in creating the clusters. Further clustering may be based on one or more column values terms and or phrases with a value or event independent of a given column punctuation within column values or the like. For example the records may be machine data that is generated by code that generates records with similar punctuations but having different terms. For example the following three records have different text 

While unsupervised clustering techniques are typically directed towards generating one or more clusters from the records absent knowing a priori a predefined number of clusters to be created other clustering techniques may also be used. Thus supervised clustering techniques may also be used where the number of clusters or groupings might be predefined. In using supervised clustering techniques in some embodiments the number k of the resulting clusters might be iterated upon until some threshold criteria are satisfied. For example a degree of dissimilarity across each cluster is above a threshold might be used to determine when to stop iterating. The outcome of such iterations might then provide a value for k.

In any event as noted block results in the generation of one or more clusters of the retrieved records. At block a number of records in each cluster may vary thus at block each cluster may be assigned some identifier where the identifier is usable to indicate which cluster a record belongs. A cluster size for each cluster and their identifier may be saved.

Continuing to block a subset of the records from each cluster may be selected based on any of a variety of criteria. For example each record selected from a cluster may be based on a most similar criteria or most representative of the cluster or any of a variety of other criteria. Any number of records from the clusters may be selected. For example three records may be returned. However it should be noted that block may in some embodiments be optional and all records for each cluster might be selected and retained for later analysis.

Process flow then continues to decision block where a determination is made whether the desired subtype is the diverse subtype or the outlier subtype . When the desired subtype is the diverse subtype processing flow to block otherwise processing flows to block . For combination subtypes that include both outlier and diverse subtypes processing might flow to both blocks and .

At block the clusters are sorted by cluster size in descending cluster size order. At block the clusters are sorted by ascending cluster size order. The result is that the records are sorted based on the cluster size in most common cluster first for the diverse subtype and least common records for the outlier subtype. The following provides one non limiting non exhaustive example implementation of such sorting using a search processing language SPL 

Other implementations may also be employed. Therefore the above example should not be construed as limiting the subject innovations. In any event the above example search would retrieve the 25000 most recent records clusters the records by MYCOLUMN keeps up to three records per cluster keeps 500 records from the most common clusters diverse subtype and then optionally resorts the records into time order.

Process for both blocks and then flow to decision block where a cluster iteration analysis is performed to determine whether the number of clusters are greater than a defined threshold number for the diverse subtype. When the subtype is the outlier subtype one embodiment might include an or evaluation of whether the least popular clusters are more common than another threshold. Should the cluster iteration analysis indicate that the number of cluster is not greater than a threshold or at least for outlier evaluations that the least popular clusters are not more common than another threshold processing flows to block where additional records are retrieved from the data source. In some embodiments for example if the initial subset retrieved 100K records then the process might retrieve an additional 100K records. In some embodiments if not enough clusters are retrieved indicating that everything might be fairly homogeneous then more events can be retrieved until a threshold is met and there is determined to be sufficient diversity. Processing then branches back to block to continue cluster performance until the cluster iteration analysis is satisfied.

When the cluster iteration analysis is satisfied at decision block processing then flows to block where a first N set of records are retained. Processing then flows to decision block where a determination is made whether subtype processing is completed. Where the desired subtype processing is the combination subtype processing might then branch back to decision block until each of the subtypes with the combination subtype has generated a respective N number of records or weighted number of records which may then be combined to generate the resultant sampling subset of records. Processing would then be completed and would return to another process.

As seen above for the diverse subtype the resulting records may include a few e.g. three instances of the most common clusters and given N records many diverse types of records may be in the subset covering a large portion of the types of records likely in the full dataset. For example given a database of car ownership records in the United States it may be desired to generate a subset of 500 records that represent the most common cars. By retrieving 100K records clustering the 500 records by car model or MPG weight cost or any of a variety of other criteria keeping three instances of the most common models the 500 records in the resultant subset would that a majority of the types of cars in the dataset would be represented.

As discussed above for the outlier subtype the subset is made up of records from the least common types of records. By keeping the records from the rarest cluster the resulting records are intended to represent the outlier records. While the goal of the diverse subtype is to represent the most common records e.g. 95 the goal of the outlier subtype is to represent the rare e.g. 5 or unusual records. To use the same example as above given a dataset of all car ownership records in the United States a desire is to generate a subset of 500 records that represent the most obscure cars. By retrieving 100K records clustering by car model or other criteria keeping three instances of the least common models the 500 records would have uncommon cars. With keeping just about 500 records most of the most obscure cars are expected to be represented. While this might not find all of the most obscure cars in the full dataset as this would require processing over the full dataset it is anticipated to provide a reasonable representative sampling of the outliers.

However other mechanisms may also be used to obtain outliers or diverse subtypes. For example statistical methods may be applied to retain those outlier diverse records based on a statistical confidence level desired. For example using various statistical methods the initial number N of records retrieved might be determined based on a confidence level. Techniques may also be used that include keeping records that have column values outside of a norm in a statistical distribution such as more than two standard deviations from the mean or in commonality e.g. more rate than other values or the like.

As seen above using the combination subtype would result in obtaining subsets from two or more of the above discussed subtype processes. The number of records in results from each subtype would then total to the desired number of records e.g. 500 . Use of the combination subtype is directed towards enabling a user to test various hypotheses such as whether there are anomalies in the earliest or latest data in important common types of records or in obscure types of records. A combination of subtypes that include random records might assist in making a subset that might be usable for automated tasks such as validating that patterns match records in the data e.g. such as might be used for generating extraction rules anonymizing rules or the like that expected records occur or that expected records do not occur that the latest data is similar or not to the oldest data or any of a variety of other post processing analysis.

It will be understood that figures and combinations of steps in the flowchart like illustrations can be implemented by computer program instructions. These program instructions may be provided to a processor to produce a machine such that the instructions which execute on the processor create means for implementing the actions specified in the flowchart block or blocks. The computer program instructions may be executed by a processor to cause a series of operational steps to be performed by the processor to produce a computer implemented process such that the instructions execute on the processor to provide steps for implementing the actions specified in the flowchart block or blocks. These program instructions may be stored on a non transitory computer readable medium or machine readable medium such as processor readable non transitory storage media and the like.

Accordingly the illustrations support combinations of means for performing the specified actions combinations of steps for performing the specified actions and program instruction means for performing the specified actions. It will also be understood that each block of the flowchart illustration and combinations of blocks in the flowchart illustration can be implemented by modules such as special purpose hardware based systems which perform the specified actions or steps or combinations of special purpose hardware and computer instructions.

The above specification examples and data provide a complete description of the manufacture and use of the composition of the described embodiments. Since many embodiments can be made without departing from the spirit and scope of this description the embodiments reside in the claims hereinafter appended.

