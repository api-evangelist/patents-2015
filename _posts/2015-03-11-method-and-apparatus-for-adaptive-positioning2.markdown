---

title: Method and apparatus for adaptive positioning
abstract: The present disclosure provides methods and apparatus for adaptively performing position determination in response to environmental profile determination. Aspects of the disclosure provide an apparatus including a sensor, an environmental profile determination module, and a profile based position provider. The sensor is configured to generate data indicative of motions of the apparatus. The environmental profile determination module is configured to receive the data indicative of the motions of the apparatus, and detect an environmental profile from a plurality of environmental profiles for the apparatus based on the data. The profile based position provider includes a plurality of configurations associated with the plurality of environmental profiles. The profile based position provider is configured in one of the configurations associated with the environmental profile, and is configured to select a positioning source to determine a location of the apparatus based on the configuration.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09591458&OS=09591458&RS=09591458
owner: Marvell World Trade Ltd.
number: 09591458
owner_city: St. Michael
owner_country: BB
publication_date: 20150311
---
This present disclosure claims the benefit of U.S. Provisional Application No. 61 951 786 Using Accelerator Information to Reduce Power Consumption for Short Range Radio Positioning filed on Mar. 12 2014 and U.S. Provisional Application No. 61 988 999 Seamless Position Determination System Having Mixed Method of Global Positioning System and Micro Electro Mechanical System filed on May 6 2014 which are incorporated herein by reference in their entirety.

This disclosure relates generally to position determination. More specifically the disclosure relates to methods and apparatus for adaptively performing position determination for wireless devices in wireless communication networks.

The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors to the extent the work is described in this background section as well as aspects of the description that may not otherwise qualify as prior art at the time of filing are neither expressly nor impliedly admitted as prior art against the present disclosure.

Many mobile applications running on a mobile device such as a laptop computer a tablet computer a smart phone and the like depend on location information of the mobile device. The location information can be determined by the mobile device or a server device that is in communication with the mobile device.

Aspects of the disclosure provide an apparatus including a sensor an environmental profile determination module and a profile based position provider. The sensor is configured to generate data indicative of motions of the apparatus. The environmental profile determination module is configured to receive the data indicative of the motions of the apparatus and detect an environmental profile from a plurality of environmental profiles for the apparatus based on the data. The profile based position provider includes a plurality of configurations associated with the plurality of environmental profiles. The profile based position provider is configured in one of the configurations associated with the environmental profile and is configured to select a positioning source to determine a location of the apparatus based on the configuration.

According to an aspect of the disclosure the sensor is a microelectromechanical systems MEMS sensor configured to generate the data indicative of motions of the apparatus. The environmental profile determination module is configured to detect a static profile based on the data from the MEMS sensor. Then the profile based position provider is configured to retrieve a previous determined location as a current location of the apparatus. Further the profile based position provider is configured not to request position update.

According to another aspect of the disclosure the sensor is a satellite signal receiver configured to receive signals from satellites and calculate a poor to total satellites ratio PTSR . The environmental profile determination module is configured to detect the environmental profile from an outdoor profile a shadow profile and an indoor profile based on the PTSR. In an embodiment the environmental profile determination module is configured to detect the outdoor profile when the PTSR is below a lower threshold to detect the indoor profile when the PTSR is above an upper threshold and to detect the shadow profile when the PTSR is between the lower threshold and the upper threshold.

In an example the profile based position provider is configured in an outdoor configuration associated with the outdoor profile and request a position update from a satellite system based positioning source.

In another example the profile based position provider is configured in a shadow configuration associated with the shadow profile and request a position update from a microelectromechanical systems MEMS sensor based positioning source.

In another example the profile based position provider is configured in an indoor configuration associated with the indoor profile and request a position update from a map based positioning source.

In another example the profile based position provider is configured in an indoor configuration associated with the indoor profile and request a position update from a wireless local area network WLAN based positioning source.

Aspects of the disclosure provide a method for positioning a mobile device. The method includes receiving sensor data indicative of motions of the mobile device detecting an environmental profile from a plurality of environmental profiles for the mobile device based on the data configuring a profile based position provider according to a configuration associated with the environmental profile and selecting a positioning source to determine a location of the mobile device based on the configuration.

The mobile device can be any suitable device such as a laptop computer a tablet computer a smart phone a camera a wearable device a device installable on vehicles and the like. According to an aspect of the disclosure one or more applications installed on the mobile device require the location information of the mobile device . In an example the mobile device is a smart phone belonging to a user who has subscribed an information service such as a traffic service a business service a weather service and the like from a service provider. The smart phone executes a mobile application for example provided by the service provider. In an example the mobile application requires the location of the smart phone and then provides location dependent information to the user.

Location information can be detected from various positioning sources such as from a Global Navigation Satellite System GNSS a MEMS based positioning system a map based positioning system a server based positioning system and the like. According to an aspect of the disclosure different positioning sources are preferred under different environmental situations. In an example when the mobile device is outside of buildings the mobile device is able to receive the satellite signals with enough strength and the satellite based positioning system is preferred to provide accurate location information. In an example when the mobile device is inside a building satellite signals may not have enough strength for location determination and thus the map based positioning system is preferred to provide more accurate location information.

In the example the mobile device is configured to be able to receive positioning information from two or more positioning sources and is configured to select a positioning source based on an environmental profile.

Specifically the mobile device includes various sensors configured to generate sensor signals that are indicative of environmental profiles. In an example the mobile device includes a satellite signal receiver such as a Global Navigation Satellite System GNSS receiver and the like configured to receive satellite positioning signals transmitted by a satellite system such as the Global Positioning System GPS the GLObalnaja NAvigatsionnaja Sputnikovaja Sistema GLONASS satellite system the Galileo navigation satellite system the Beidou navigation satellite system and the like. Based on the satellite positioning signals the mobile device can determine the environmental profile.

In an example based on signal strengths of the satellite position signals the environmental profile determination module determines whether the mobile device is inside a building or outside of buildings. For example the environmental profile determination module calculate a poor to total satellites ratio PTSR which is a ratio of the number of captured satellites with carrier to noise density below a threshold to the total number of captured satellites. The PTSR is indicative of the environmental profile. In an example a lower threshold and an upper threshold for the PTSR are suitably determined. When the PTSR is below the lower threshold the environmental profile determination module determines that the mobile device is outside of buildings when the PTSR is above the lower threshold and below the upper threshold the environmental profile determination module determines that the mobile device is close to a building and when the PTSR is above the upper threshold the environmental profile determination module determines that the mobile device is in inside a building.

In another example the satellite positioning signals can be processed to determine a location of the mobile device . The location is indicative of the environmental profile. For example the mobile device stores a map database. Based on the map database and the location the environmental profile determination module determines the environmental profile such as whether the mobile device is outside of buildings or close to buildings.

In another example the mobile device includes a microelectromechanical systems MEMS sensor such as a three axis accelerometer a gyroscope and the like configured to provide sensor signals to the environmental profile determination module to detect the environmental profile such as whether the mobile device is moving or static.

The profile based position provider selects suitable positioning source based on the environmental profile to determine the location of the mobile device and provide the location to the application that requires the location. In an example when the mobile device is static the profile based position provider determines to use a previously determined location as a current location of the mobile device . For example the previously determined location is stored at a specific address in a memory and the profile based position provider accesses the memory obtains a location stored at the specific address and provides the location to the application that requires the location.

In another example when the mobile device is outside buildings the profile based position provider determines to use a GNSS based positioning source. For example the profile based position provider receives signals from the GNSS receiver performs position velocity and time PVT calculation to determine the location of the mobile device . Then the profile based position provider provides the location to the application that requires the location.

In another example when the mobile device is near a building the profile based position provider selects to use a method that combines information from the GNSS receiver and the MEMS sensors. For example the mobile device receives signals from the GNSS receiver and determines a location of the mobile device as an initial location. In addition the mobile device receives signals from the MEMS sensors and calculates a step length in an example. Further the profile based position provider receives signals from the MEMS sensors and determines orientation shift and distance shift from for example the initial location. Based on the initial location the orientation shift and the distance shift the profile based position provider determines the new location of the mobile device and provides the new location to the application that requires the location information. It is noted that in an example the profile based position provider uses the GNSS receiver based location information to calibrate the MEMS sensor parameters.

In another example when the mobile device is in a building the profile based position provider selects to use a method that combines information from the MEM sensors and an indoor floor map. For example the mobile device receives signals from the MEMS sensors and determines orientation shift and distance shift from a previously determined location. Based on the previously determined location and the orientation shift and the distance shift the profile based position provider determines the new location of the mobile device . Further the profile based position provider matches the new location on the indoor floor map to correct the new location.

It is noted that the environmental profile determination module and the profile based position provider can be implemented by various technique such as software hardware and the like. In an example the environmental profile determination module and the profile based position provider are implemented as software instructions to be executed by a processor not shown in the mobile device . The environmental profile determination module and the profile based position provider communicate with hardware components such as the GNSS receiver the MEMS sensors via suitable interfaces e.g. software interface hardware interface .

The mobile device can be any suitable device such as a laptop computer a tablet computer a smart phone a camera a wearable device a device installable on vehicles and the like. The GNSS receiver is configured to receive satellite positioning signals transmitted by a satellite system such as the Global Positioning System GPS the GLObalnaja NAvigatsionnaja Sputnikovaja Sistema GLONASS the Galileo navigation satellite system the Beidou navigation satellite system and the like. The satellite position signals can be used to determine the location of the mobile device .

The accelerometer and the gyroscope are MEMS sensors. The accelerometer is configured to detect an acceleration magnitude and the acceleration magnitude is used for detecting step event. In an example peaks in the acceleration magnitude are indicative of steps. The MEMS position provider uses peak detection to detect peaks in the acceleration magnitude and thus to identify distinct steps. In another example the MEMS position provider calculates differential acceleration and uses zero crossing detection and flat zone detection in the differential acceleration to identify distinct steps.

In an embodiment when the distinct steps are identified the MEMS position provider estimates a step length based on the acceleration amplitude. In another embodiment the MEMS position provider is configured to estimate the step length based on acceleration walking frequency or a linear combination of the acceleration and the walking frequency.

The gyroscope is configured to detect a motion orientation. It is noted that the accelerometer and the gyroscope can be replaced by other suitable sensors to detect the motion acceleration and the motion orientation. In the example the mobile device includes a MEMS sensor register configured to store the detected motion data such as the acceleration and orientation.

The indoor floor map database is configured to store floor maps inside building and provide suitable floor maps to the profile based position provider to assist location determination. In an example the indoor floor map database defines an indoor structure using link node and region. A link represents a passageway along which pedestrians can walk. A region represents an area within which boundary pedestrians can walk. A node represents a connection between two links or a connection between a link and a region.

The environmental profile determination module is configured to receive signals from the GNSS receiver detect an environmental profile such as an indoor profile a shadow profile an outdoor profile and the like based on the signals from the GNSS receiver and provide the detected environmental profile to the profile based position provider .

In the example the profile based position provider includes multiple position providers such as a map aided position provider a MEMS position provider a GNSS position provider and the like that use different techniques to determine the location of the mobile device . Further the profile based position provider has multiple configurations such as an indoor configuration a shadow configuration and an outdoor configuration associated with the position providers.

In an embodiment when the profile based position provider receives the environmental profile the profile based position provider is configured in one of the multiple configurations according to the environmental profile and send query to one of the position providers associated with the configuration. The position provider then determines the location of the mobile device accordingly.

In an embodiment the GNSS receiver receives satellite signals and provides satellite signal information to the environmental profile determination module to detect the environmental profile. In an example the satellite signal information includes the total number of satellites and the number of satellites with weak carrier to noise density. In an example the environmental profile determination module calculates a parameter that is indicative of the environmental profile based on the satellite signal information. For example the environmental profile determination module calculates the PTSR which is a ratio of the number of captured satellites with carrier to noise density below a threshold to the total number of captured satellites.

The PTSR is indicative of the environmental profile. In an example a lower threshold and an upper threshold for the PTSR are suitably determined. When the PTSR is below the lower threshold the environmental profile determination module determines that the mobile device is outside of buildings and has an outdoor profile when the PTSR is above the lower threshold and below the upper threshold the environmental profile determination module determines that the mobile device is close to a building and has a shadow profile and when the PTSR is above the upper threshold the environmental profile determination module determines that the mobile device is in inside a building and has an indoor profile.

In an embodiment the mobile device traces changes of the environmental profiles and dynamically selects the suitable position provider accordingly. In the example a user whom the mobile device belongs to walks outside the building and then enters the building and walks inside the building as shown by arrows in . For example from time t to time t the user walks outside the building in zone from time t to time t the user enters the building from an entrance in zone and after time t the user walks inside the building in zone .

According to an aspect of the disclosure during a first time duration from time t to t the environmental profile determination module calculates the PTSR and detects that the PTSR is below the lower threshold. Thus the environmental profile determination module determines that the mobile device has an outdoor profile. The environmental profile determination module provides the outdoor profile information to the profile based position provider . The profile based position provider is configured into the outdoor configuration . In the outdoor configuration a position query is sent to the GNSS position provider . The GNSS position provider determines an absolute location of the mobile device based on received GNSS signals from the GNSS receiver . The absolute location is provided to suitable applications that require the location information.

It is noted that in an example the environmental profile determination module periodically e.g. once a second determines the environmental profile and provide the environmental profile to the profile based position provider to select the associated position provider accordingly.

Further starting at time t and during a second time duration from time t to t the environmental profile determination module calculates the PTSR and detects that the PTSR is above the lower threshold and below the upper threshold. Thus the environmental profile determination module determines that the mobile device has a shadow profile. The environmental profile determination module provides the shadow profile information to the profile based position provider . The profile based position provider is configured into the shadow configuration . In the shadow configuration a position query is sent to the MEMS position provider . The MEMS position provider receives MEMS sensor information and determines the location of the mobile device based on the MEMS sensor information.

It is noted that at time t the mobile device is still able to receive the GNSS signals to determine the absolute location. In an example the MEMS position provider combines information from the GNSS position provider and the MEMS sensor information to determine the location of the mobile device . In an example the MEMS position provider collects information from the GNSS position provider to build a step model for identifying steps. For example when the peak detection fails to detect a step event the step model is able to mark a step to compensate for the step event detection. In addition in an example the step model can be used to calibrate the coefficients for step length estimation.

In an embodiment based on the MEMS sensor information the MEMS position provider determines orientation shift and distance shift to a previously determined location and then determines the new location.

It is further noted that when the user walks further in zone for example at time t that is later than time t and earlier than time t the GNSS signals received by the mobile device get weaker and MEMS position provider is able to provide more accurate location determination than the GNSS position provider . In an embodiment the MEMS position provider uses a Kalman filter to statistically analyze the GNSS signals the acceleration magnitude and the orientation to determine the new location of the mobile device . It is noted that the MEMS position provider can use any other suitable statistical algorithm that combines imprecise estimates of a value and produces a more precise estimation.

In an example starting at t the environmental profile determination module calculates the PTSR and detects that the PTSR is above the upper threshold. Thus the environmental profile determination module determines that the mobile device has an indoor profile. The environmental profile determination module provides the indoor profile information to the profile based position provider . The profile based position provider is configured into the indoor configuration . In the indoor configuration a position query is sent to the map aided position provider . The map aided position provider receives MEMS sensor information from the MEMS position provider and an indoor floor map from the indoor floor map database and determines the location of the mobile device based on the MEMS sensor information and the indoor floor map.

Specifically at time t the map aided position provider uses the location and orientation last determined by the MEMS position provider as an initial known location and orientation and performs a map matching operation to determine a matched location and a matched link in the indoor floor map. The matched location is designated as an updated location at time t. In an example the updated location more accurately represents the location of the mobile device than the initial known location that is determined by the MEMS position provider . Further in an example the map aided position provider is configured to perform orientation calibration based on the updated location and the calibrated orientation more accurately represents the orientation of movement of the mobile device than the initial orientation determined by the gyroscope for example. The calibrated orientation can be sent back to the MEMS position provider for further determining the position of the mobile device .

Following time t when the user walks in the building the map aided position provider continues to update the location of the mobile device determined by the MEMS position provider based on the indoor floor map to trace a route of mobile device .

According to an aspect of the disclosure when the mobile device is in the building the mobile device interacts with the user to get the initial location through user input. In an example the mobile device provides a floor view on a touch screen of the mobile device and accepts user input using for example a thumb to set a current location on the floor view shown on touch screen. In such a case the MEMS position provider and map aided position provider operate together to provide the location of the mobile device to trace the route of the mobile device .

It is noted that the profile based position provider can have other suitable configuration and position provider. In an example the profile based position provider includes another indoor configuration not shown associated with an access point based position provider not shown . When the building is equipped with wireless access points the mobile device is able to detect WiFi signals from the wireless access points. Thus when the user enters the builder the environmental profile determination module detects the indoor profile and the profile based position provider is configured according to the other indoor configuration to use the access point based position provider to determine the location of the mobile device .

According to an aspect of the disclosure the mobile device is configured to be able to determine location from various signals such as from satellite signals in a GNSS system radio signals in a cellular system WiFi signals in a wireless local area network WLAN system and the like. In an example the GNSS system based location determination provides relatively more accurate location than the cellular system location determination and the WLAN system based location determination.

Further in the example the mobile device is implemented using a five layer architecture. The five architecture layers include an application layer an application framework layer a hardware abstraction layer a kernel driver layer and a hardware layer . Each layer is configured to enable the GNSS system based location determination the cellular system and the WLAN system based location determination.

Specifically in the example the application layer includes a GNSS setting listening module and a coarse location setting listening module . When the GNSS setting listening module is started the location of the mobile device can be determined based on the GNSS system and the determined location is provided to the application layer . When the coarse location setting listening module is started the location of the mobile device can be determined based on the cellular system and or the WLAN system and the determined location is provided to the application layer .

Further the application framework layer includes a location manager service to manage the location request response and provide the determined location to the application layer . The location manager service includes a GNSS location provider and a network location provider . The GNSS location provider is configured to process the satellite signals in the GNSS system to determine the location in response to a location request. The network location provider is configured to process the radio signals in the cellular system or WiFi signals in the WLAN system to determine the location in response to location request.

In the example the network location provider further includes a data kit DataKit the profile based position provider a location history database data interface and the static profile determination module . The profile based position provider further includes a server location kit SLocKit and a client location kit CLocKit . In an embodiment data kit collects the position data from the GNSS location provider integrates the radio WiFi signal data with the GNSS position data based on filtering conditions and provides the integrated data to data engine DE server through application programming interfaces APIs .

In the embodiment the server location kit collects the scanned radio signal data and or WiFi signal data sends the scanned data through APIs to request the location from positioning engine PE server and receives the response of the geographic location through APIs. In the embodiment the client location kit collects the scanned WiFi radio signal data sends the scanned data to a memory to ask WiFi assistance data and determines the location by using the WiFi assistance data.

In the embodiment the location history database stores the position information obtained from the server location kit or the client location kit . In the embodiment the data interface allows kits in network location provider to start end capture of radio signal data and WiFi signal data.

In the example the hardware abstraction layer includes a GNSS processing abstraction a radio processing abstraction and a WiFi processing abstraction a memory interface abstraction and a memory abstraction . In an embodiment the GNSS processing abstraction the radio processing abstraction and the WiFi processing abstraction are implemented in software. In an embodiment the memory interface abstraction receives the WiFi assistance data from PE server and sends the received data to the memory abstraction . The memory abstraction stores the WiFi assistance data under a hierarchical folder structure. The hardware layer includes a GNSS chipset configured for GNSS processing a radio chipset configured for radio processing a WiFi chipset configured for WiFi processing and MEMS sensors configured to sense motions of the mobile device . The GNSS processing abstraction the radio processing abstraction and the WiFi processing abstraction interact with their corresponding hardware components in the hardware layer via the kernel driver layer .

The MEMS sensors can include any suitable sensor such as a three axis accelerometer sensor and the like to sense motions of the mobile device . The sensor data is provided to the static profile determination module via a register not shown .

In the example the mobile device is configured to perform a server based location determination based on the cellular system and or the WLAN system and a client based location determination based on the WLAN system. For the server based location determination the radio chipset and or the WiFi chipset is activated to perform signal scan and then communicate with a server over a cellular network or a WiFi network such as disclosed in Assignee s co pending application Ser. No. 14 260 849 filed Apr. 24 2014 which is incorporated herein by reference in its entirety.

For the client based location determination the WiFi chipset is activated to perform signal scan to collect scan data and determine the location of the mobile device based on the scan data.

According to an aspect of the disclosure the signal scan and communication operations of the radio chipset and or the WiFi chipset consume relatively large power. When the static profile determination module detects that the mobile device is still and not moving the profile based position provider is configured to retrieve a previously determined location as the current location thus the radio chipset and the WiFi chipset do not need to be activated frequently and can stay in a power saving mode to save power.

At S a first location of a mobile device is determined. The first location can be determined by various techniques. In an example the first location is determined based on the GNSS system. In another example the first location is determined based on the cellular system. In another example the first location is determined based on the WLAN system. Specifically the WiFi chipset scans signals from nearby access points. Based on signal strengths and the locations of the access points the mobile device is able to estimate the first location.

At S motion information of the mobile device is sensed. In an example before a time for generating a next position update request the MEMS sensors such as a three axis accelerometer sensor and the like generates sensor data indicative of the motion information of the mobile device and provides the sensor data to the static profile determination module .

At S a static decision is made and the process proceeds based on the static decision. In an example the static profile determination module determines whether the mobile device is static based on the sensor data. When the mobile device is static the process proceeds to S otherwise the process proceeds to S.

At S a position update request is generated to obtain a second position for example from one of the GNSS system the cellular system and the WiFi system. Then the process proceeds to S and terminates.

At S the first location is retrieved and used as the current location. In an example the mobile device prohibits the position update request such that the GNSS chipset the radio chipset and the WiFi chipset can stay in a power saving mode to save power. Then the process proceeds to S and terminates.

In an embodiment the coarse location manager is configured to manage the location request response in wide area radio systems such as a global system for mobile GSM communication system a wideband code division multiple access WCDMA communication system a time division synchronous code division multiple access TD SCDMA communication system a long term evolution LTE communication system and the like.

The finer location manager manages the location request response in short range radio systems such as a WiFi system a Bluetooth system a Zigbee system and the like.

In the example the finer location manager includes a location function a static restraint function and a static restraint monitoring function . The location function is configured to retrieve a current location via a location application program interface API . In an example the current location is obtained from a positioning engine server not shown in a short range radio system via the location API. In addition to retrieving current location the location function is configured to retrieve estimated location accuracy via the location API and register a time for receiving position information.

Further the static restraint function is configured to request values of the 3 axis accelerometer via sensor API before a time to request a next location update. The static restraint function is also configured to calculate the variance of 3 axis accelerometer values as a numerical value. The static restraint monitoring function is configured to obtain finer location identifiers through WiFi API. In an example the finer location identifiers can use MAC addresses due to the reason that MAC address is unique identifier for WiFi access point. In addition to the finer location identifiers the static restraint monitoring function is configured to record a radio signal reading such as signal strength and the like associated with a MAC address. The static restraint monitoring function can also monitor a numerical value retrieved from the static restraint function to identify a location update opportunity. Upon receiving information on the numerical value the static restraint monitoring function can compare the received information with default information e.g. pre defined value . When the received information reaches over the default information the static restraint monitoring function requests WiFi API to collect MAC address and radio signal reading at a time and can pass the MAC address and the radio signal reading to the location function to request the location update through location API. When the received information reaches below the default information the static restraint monitoring function does not need to collect MAC address and radio signal reading and the mobile device saves power.

In the example the client location kit includes a location estimation function a distance estimation function a static restraint function and a static restraint monitoring function . The client location kit manages the location request response in short range radio systems such as a WiFi system a Bluetooth system a Zigbee system and the like.

The location estimation function is configured to determine a current location using the estimated distances retrieved from the distance estimation function . In an example the location estimation function uses a multi lateral algorithm to calculate the current location of mobile device . Further the location estimation function is configured to record a time for estimating position information.

The distance estimation function is configured to retrieve WiFi assistance data from a local memory such as the memory via the location API. Further the distance estimation function is configured to determine the distances between the mobile device and WiFi access points. In an example the distance estimation function uses a polynomial regressive algorithm to determine the distances between the mobile device and WiFi access points.

In an embodiment the static restraint function is configured to record the 3 axis accelerometer readings via the sensor API. The static restraint function is further configured to calculate the variance of 3 axis accelerometer readings as a numerical value.

Further in the embodiment the static restraint monitoring function is configured to obtain and record finer location identifiers through WiFi API. In an example a finer location identifier includes a MAC address. For example a MAC address can uniquely identify a WiFi access point. In addition to recording current finer location identifiers the static restraint monitoring function is further configured to record a radio signal reading associated with a MAC address. The static restraint monitoring function is further configured to monitor a numerical value retrieved from the static restraint function to identify a location update opportunity.

In an example when the static restraint monitoring function receives the current numerical value the current numerical value is compared with a pre defined value. When the received numerical value reaches over the pre defined value the static restraint monitoring function collects MAC addresses and radio signal readings via the WiFi API and provides the collected information to the distance estimation function . The distance estimation function then retrieves WiFi assistance data for determining the distances via the location API. Next the distance estimation function provides the estimated distances to the location estimation function to update the location. When the received numerical value reaches below the pre defined value the static restraint monitoring function does not need to collect MAC address and radio signal reading and the mobile device saves power.

While aspects of the present disclosure have been described in conjunction with the specific embodiments thereof that are proposed as examples alternatives modifications and variations to the examples may be made. Accordingly embodiments as set forth herein are intended to be illustrative and not limiting. There are changes that may be made without departing from the scope of the claims set forth below.

