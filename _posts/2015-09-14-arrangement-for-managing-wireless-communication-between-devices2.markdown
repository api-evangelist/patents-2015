---

title: Arrangement for managing wireless communication between devices
abstract: An arrangement for managing bi-directional wireless communication between a controller and a plurality of controllable-devices wherein each controllable-device is able to provide operable function specific instructions to the controller as to how it would like to be operated by the controller and wherein a proximity mechanism means provides bidirectional communications over a distance of a few centimeters between the controller and the or each controllable-device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09647726&OS=09647726&RS=09647726
owner: XPED HOLDINGS PTY LTD
number: 09647726
owner_city: Mawson Lakes South Australia
owner_country: AU
publication_date: 20150914
---
This application is a Continuation of co pending application Ser. No. 13 260 084 filed on Sep. 23 2011 which is a National Phase of PCT International Application No. PCT AU2010 000358 filed on Mar. 26 2010 which claims priority under 35 U.S.C. 119 a to Patent Application No. 2009901298 filed in Australia on Mar. 26 2009. All of the above applications are hereby expressly incorporated by reference into the present application.

The present invention relates to the field of remote controls and remotely operated devices and more particularly to managing the interaction between a controller and one or more controllable devices.

Many modern pieces of household equipment come with a remote control. This allows a user to control them from a convenient location. However as the user purchases additional appliances this can result in them acquiring many remote controls each directed to a specific piece of equipment. For instance there may be a separate remote control for a television a DVD player a stereo a pay television box and other appliances.

Furthermore many modern remote controls provide a large number of functions. Although this provides greater control to the user it sometimes causes the remote control to become both complicated and confusing.

The compounded effect of having a large number of remote controls each with a large number of functions substantially diminishes the convenience provided by the remote controls themselves. One existing solution is a universal remote control a single remote control which can control multiple devices. A single universal remote can be used to replace a number of other remote controls.

The current state of the art can be broadly grouped into three generations of remote control technology which are depicted in . First generation remote controls contain the full control codes for one appliance and occasionally partial control codes for a second. For example a TV remote control may also have a few commonly used functions for a DVD player. The control codes are fixed and installed by the manufacturer in the factory. The communications medium is usually infrared there are some RF systems and provides a one way only channel from the controller to the appliance. Second generation remote controls can contain the control codes for many appliances. The control codes are either installed by the manufacturer at the factory or can be programmed later by the user.

Programming is accomplished by the user downloading appropriate control codes from a server on the Internet to a computer and then software on the computer installing the codes to the remote control. The communications medium is usually infrared and provides a one way only channel from the controller to the appliance.

Furthermore the programming situation for the user is further complicated for those programmable universal remotes that are able to control several devices in pre programmed macro sequences. For example a sequence named Play DVD could be created that turns on the DVD player and the TV changes the TV to the correct AV input for the DVD and starts the DVD playing.

Third generation remote controls are very similar to the second generation but include a learning capability where they are able to learn the control codes emitted from other remote controls. The communications medium is usually infrared and provides a one way only channel from the controller to the appliance.

A new remote control technology known as RF4CE is emerging. This technology improves the current state of the art in a number of ways. Firstly it replaces the infrared system with a radio frequency system that is able to penetrate through walls and carry over greater distances. Secondly it implements a standard control profile known as CERC that includes control codes for many common audio visual appliances. An industry alliance of consumer equipment manufactures are planning to offer appliances that conform to this standard profile. This promises a basic level of interoperability between a remote control made by one manufacturer and appliances made by another.

However the solution provided by RF4CE is still far from perfect. RF4CE uses a fixed profile system where all parties that implement a profile must agree on what features and functions are to be provided by it. For a device to be certified it must implement a profile fully. This presents many problems for manufactures.

The problems begin when the manufacturers have to agree on what functions should be included in the standard profile and which should not. Any functions that are not included in the standard profile must be put in to a vendor specific profile. For those devices that only implement the standard profile there is little or no differentiation between one manufacturer s product and the next. For those that implement a vendor specific profile in addition to the standard profile the remote control from another vendor will not be able to issue the vendor specific command set which is a poor situation for the user.

For a standard profile to be useful it must have a reasonably comprehensive set of commands. This presents a problem for those manufactures that want to make a low cost product. In order to drive cost down they need to implement only a small number of features however if they do this their product cannot be certified as it will not implement all the features in the standard profile.

Furthermore when a remote that implements the standard profile is used the low cost device will not implement all the standard features and hence not all function on the remote will work which is annoying for the user. In effect these RF4CE remote controls are an improved second generation technology.

Due to the limitations of the present remote control technology the usage of remote controls is generally restricted to localized situations i.e. the remote control remains in the same location as the appliances it controls. Users of present remote controls do not take them away from the location containing the appliances they can control because the remote control would not be in a position to control foreign appliances unless it was reprogrammed.

Furthermore some new devices such as popular media players have external accessories that they are able to couple with. For example the iPod can dock with many types of external accessories that are designed specifically for it such as powerful HiFi units portable ghetto blasters clock radio units and the like. However the problem for consumers and manufactures is that Apple tightly controls the docking interface that uses proprietary technology and is encumbered by a mechanical connector which does not facilitate remote operation.

Using such an arrangement is inflexible and requires a wired connection between controller and device or a plug in dongle to provide wireless communication technology appropriate for remote control and moreover the user is required to find then download software applications to make it all work.

Finally devices that currently do not have remote controls e.g. washing machines dryers ovens lights power points and the like and new devices that do not exist now but will be created in the future will benefit greatly from the ability to be controlled by and interact with a truly universal controller and for the control interface to automatically configure itself for the new appliance and to be easily extensible by the manufacturer and customizable by the user without modification to the software or hardware of the controller or the device.

It is then an object of the present invention to reduce or ameliorate one or more of the problems and disadvantages described above and to advance the state of the art with respect to the interchange and control of information or operation between a controller and one or more electronically controllable devices.

In an aspect of the invention and arrangement for managing wireless communication between a device and one or more other devices the arrangement includes a first device having a processor memory a communication mechanism and a proximity sensor and having access to a resource description file of at least the first device and a second device having a processor memory a communication mechanism and a proximity sensor and having no access to a resource description file for the first device wherein the first device and the second device are brought together including physical contact such as to confirm the proximity of the first device and the second device so that at least the first device and the second device can communicate wirelessly and thus make available to the memory of the second device at least the resource description file of the first device for processing by the processor of the second device.

The present invention to be discussed in detail below generally discloses a new and inventive remote control technology that is adapted so that a controller may control and interact with any kind of appliance or general device and that does not require the user to have to perform any setup or configuration in order for the system to operate other than a simple association between controller and self describing device.

Device implements the Auto Discovery Remote Control ADRC Protocol and consequently contains at least one Resource Description File RDF . Using the ADRC Protocol controller communicates with device over wireless communications link .

In protocol step controller and device discover each other and subsequently form an association whereby they may freely engage in bidirectional communication.

In protocol step controller receives an RDF for each sub unit of device and attempts to retrieve any resources indicated therein. Once these have been acquired controller uses information in the RDF to dynamically generate a user interface that is necessary and sufficient for controlling device and to configure any handler resources required to respond to events that may be received.

In protocol step controller receives the descriptive information for device . The descriptive information may contain items including manufacturer model version and link and this is provided for one or several sub units that device may implement.

In protocol step the user activates a control from the user interface which may be by issuing a voice instruction and controller formulates the correct command code sequence using the associated information in the RDF and sends this to device which receives the command code sequence and implements the associated command.

In protocol step device sends an unsolicited event notification to controller indicating that it has changed state or some other change in state has occurred. Controller is able to interpret the notification using information contained in the RDF and action an appropriate response by invoking the associated handler resource.

As introduced above the current state of the art can be broadly grouped into three generations of remote control technology which are depicted in . These figures were described above also but for detailing the controllable devices are referenced generally as and the controller .

The display on the controller is and the user input means . The Internet in shown generally as and a portable PC is numbered and a remote control being learned by the controller is referenced as .

It should be understood that the ensuing description is based on an embodiment where the controller and device first discover each other by way of a Proximity Touch Gesture that activates when the devices are so close that they are practically touching. Proximity based discovery is considered the preferred embodiment for consumer appliances for the following reasons it provides the most convenient and easy to operate method for users to form associations between controllers and devices it is a suitable default communication channel between all devices and controllers it enables discovery to be independent of the PAN LAN technology implemented on the device and controller it is a secure mechanism for exchanging sensitive information such as encryption keys and the like and it adds very little cost to the build price.

Using the Proximity Touch Gesture method the device and controller are able to sense when they are practically touching. Once in proximity they are able exchange information over a short range communications link. Information is passed that enables them to determine whether they have the necessary communications facilities to establish a wireless connection with each other.

Depending on the application device may require controller to authenticate and vice versa. If authentication is required and completes successfully device and controller exchange any information required to establish a network connection with each other. For example if the network was an RF4CE PAN controller would send a PAIR.request message to the NLME and device would reply with a PAIR.response. If successful both parties will have paired with each other and now able to communicate freely.

In order to interact with device controller may require certain information and other resources such as data or software applications and the like. These are specified in the RDF. Provisioning is the process whereby the RDF is acquired and any other resources specified therein are acquired and installed.

Enumeration is the mechanism whereby device provides descriptive information for each of its sub units to controller . This information includes the identity of the manufacturer the model the version an optional link to where an RDF may be found and any further information as may be required by specific applications.

Some of the resources acquired during the provisioning phase may be software applications and may need to be automatically started. This is done during the activation phase.

Once the previous phases are complete controller is able to provide the facilities required for the user to control device . Furthermore if device is able to generate unsolicited event notifications then the facilities required by controller to handle these are now in place.

At some point it may be necessary to break the association between device and controller for example if the device is an item of AV equipment and the owner decides to sell it to another party. During the disassociation phase the previously formed association between device and controller is forgotten.

With reference to the following paragraphs disclose an embodiment of the ADRC Protocol suitable for controlling software applications running on a desktop or laptop computer.

Computer supports one or more communications interfaces for example a wired network adapter or a wireless network adapter . These communications interfaces are typically managed by the network manager of the operating system installed on the computer which makes it convenient for software applications to access network functionality provided by several interfaces. The ADRC Protocol functionality in this embodiment is implemented both as integrated circuit chip and software service .

Integrated circuit chip has two main functions. Firstly it acts as a proxy device so that the power supply unit can be commanded to turn on by controller . This allows computer to be turned on just like any other appliance. Secondly it provides a PAN communications interface to network manager . This allows computer to become an embodiment of controller by implementing Soft Controller functionality thus allowing it to control other devices on a PAN.

Service acts a proxy device so that the software applications on computer can be managed by controller in the same way as any other device. Service accesses network communications facilities via network manager and in addition it provides an Application Programming Interface API so that software applications can be developed that use the API and as a result be remotely controlled by controller . When software application is installed on to computer the installation procedure additionally registers the application with service . This may be achieved for example by copying the application s RDF to the profile cache area of service . It is a function of service to make each registered software application appear to be a sub unit of computer .

In the preferred embodiment service will register itself with a LAN based service discovery protocol such as one of the implementations of ZeroConf for example Avahi for Linux systems or Bonjour for Apple systems. Using its LAN interface and a service discovery protocol controller can thus discover and associate with service on computer using conventional LAN based methods.

According to the teachings of the present invention controller will then request service to enumerate its sub units in this case the registered software applications . Using descriptive information returned by the enumeration process controller then determines if it has an RDF for each sub unit. If not the RDF and any resources specified therein are provided installed and activated as previously described. At this point an icon for each registered software application on computer is available on the user interface presented by controller .

In the usage phase device icons representing the software applications on the graphical user interface are able to indicate whether the software device is presently on running or off not running . When the user activates an icon of a device that is off controller sends an on command for the device to service which then sets the associated software application running. When the user activates the off button for a device controller sends an off command for the device to service which then kills stops the software application .

When the user activates a command button for a device controller sends the associated command sequence to service which then passes this on to the associated software application via API . Software application subsequently receives the command sequence via API and executes the associated command.

Software application may send data in response to commands to API and service will deliver this to controller . For example if the software is a slide show application and the user sends a command to change to the next slide software application may send the speaker notes for display to the user.

Software application may generate unsolicited event notifications to API and service will deliver these to controller . For example if the software is a media player application and a music track is playing then an event could be set to controller every second to update an elapsed time status display.

Service may also provide an interface to the operating system of computer . This interface may provide the ability for controller to turn off the computer hardware configure various settings of the operating system and query the state of the operating system and hardware.

With reference to the following paragraphs disclose an arrangement whereby the task of forming associations between M controllers and N devices is greatly simplified for the user.

In certain PAN based networking systems the user is required to form associations between each controller M and device N. This becomes inconvenient for the user relatively quickly because the number of associations is M N the product of M and N . For example if a home had 3 controllers and 5 devices e.g. TV DVD STB air conditioner and heating thermostat then 15 associations would have to be made. This number is bordering on the limit of acceptability. If however another home had 3 controllers and 20 devices AV equipment light switches blind controllers power points and etc then the number of associations would be 60 which is obviously inconvenient to setup and difficult to manage.

To alleviate this situation proxy device may be introduced to the remote control system. In this arrangement each device . . . N forms an association with proxy and each controller . . . M also forms an association with the proxy. Hence there are N M associations. Continuing the previous example in home there would now be 8 associations compared with 15 and for home there would be 23 associations compared with 60. Thus the introduction of proxy has greatly reduced the number of associations the user has to setup and maintain and hence the resulting system is more convenient and desirable.

Proxy may also behave in a similar way to service described earlier where each device becomes a subunit of proxy . Controller is thus able to use the ADRC Protocol to interact with proxy which will forward on requests from controller to device and responses from device to controller as required.

With reference to the following paragraphs disclose an alternate arrangement to that disclosed in whereby the task of forming associations between M controllers and N devices is achieved without the need for proxy .

In order to coordinate the association operation one controller RC is designated as the coordinator and the other controller RC the initiate. RC must first have associated with the devices AP AP AP in the normal way. When RC is to be associated with devices the user first associates RC with RC using the Proximity Gesture. Once this has been achieved the assisted association process continues by RC sending its own identifier RC.ID its own private key RC.KEY and association information for each of devices AP.ID AP.ID AP.ID to RC via a proximity communications link which by nature is secure. The process continues when RC connects with each of devices in turn and associates with them. In order to associate with Device RC establishes a wireless communications link with it and requests association. Before association is permitted trust must be established between Device and RC. To establish trust Device formulates random message MSG and sends it to RC. RC then uses RC.KEY to encrypt MSG using a symmetric encryption algorithm and sends its association information RC.ID the identity of the trusted coordinator RC.ID and the encrypted message ENCRYPT RC.KEY MSG to device . Device looks up its internal association information for RC and obtains RC.KEY and uses it to encrypt MSG and compares the result with ENCRYPT RC.KEY MSG sent by RC. If the values match then Device has established trust in RC and the association between RC and Device is established.

With reference to the following paragraphs disclose an arrangement whereby a controller can be securely introduced to a closed network of devices.

In certain situations it may be beneficial to configure a group of devices that participate on a closed PAN whereby it is not ordinarily possible for a controller to discover or make associations with devices in the PAN. An example of such an arrangement is a hotel. Each room in the hotel may have a number of devices that a guest may wish to use their controller to control such as a TV thermostat various lights and lamps clock radio and the like. It would not be a satisfactory situation if any controller could freely make associations with devices in the room. If this were the case then a guest in an adjacent room could take control of their devices but mores the point that any guest would be overwhelmed by the devices that their controller could potentially discover including devices in their own room and those in adjacent rooms and perhaps even devices in other buildings nearby. Further examples include offices and other buildings that use consumer equipment to interface with the public and need to exclude the public from interfering with that equipment.

To alleviate this situation sentinel is introduced to the remote control system. Sentinel is a trusted device. Using an arrangement based on that disclosed in the closed PAN in a room consists of a proxy and a number of devices that have been previously associated with the proxy. These form a closed PAN and will not permit association from any controller. The proxy may be a functional device in its own right such as the lock on the room door. Proxy is configured so that it will only allow association with a controller that sentinel has introduced to it. Sentinel may be located at the hotel reception desk. When a guest checks in hotel staff assign them a room and these details are passed on to sentinel then the guest s controller is presented to sentinel which authenticates it. If controller is successfully authenticated sentinel sends the identity of controller to proxy of the room the guest has been allocated and the association information of proxy may optionally be provided to controller . Now when the guest presents controller to proxy which may be the door lock and may have the Proximity Gesture capability the proxy will accept the association request from controller . Once controller has associated with proxy it can control the devices in the room s PAN in the same manner as previously described for . Finally when the guest checks out sentinel can send an instruction to proxy to disassociate with controller .

With reference to the following paragraphs disclose an arrangement where an access control device is introduced that coordinates access controls with controller and device .

In some remote control installations it may be advantageous to restrict various operations that can occur. For example a homeowner may wish to restrict which controllers can associate with the devices in the home to only those controllers belonging to members of the family or even perhaps to only one master controller. Furthermore it may also be beneficial to restrict the functionality available on specific controllers. For example a parent may choose to restrict the availability of Internet access on their child s controller to certain times of the day or to limit data bandwidth to a daily quota.

A user with appropriate privileges may create access control information on access control device . This may be accomplished using a software application specially designed for the purpose.

Once the desired access control information has been created or updated access control device sends out Access Control List ACL to any affected device and ACL to any affected controller . Now when controller sends command to device the device checks against the appropriate ACL to determine whether controller has permission to execute the requested operation.

If controller does not have permission then device does not action the request but instead informs the controller why the request was refused. Similarly when a user of controller requests access to a particular function controller checks against the appropriate ACL to determine whether the function should be provided or not.

With reference to the following paragraphs disclose an arrangement where device provides remote access to controller at another location that is out of range of the wireless communications link .

Some users may find it advantageous to be able to control and receive event notifications from devices in their home whilst at a remote location such as their place of work. For example if it was discovered that a user had left home without turning off the air conditioning then they could correct the situation when they got to work or in general from any location where they had access to the Internet.

In another example if a device generated an event then this could also be routed to a controller at a remote location so that the user could be alerted and consequently take some appropriate action.

Device is configured to be able to communicate with devices on one or more PANs. These PANs do not necessarily have to use the same technology for example PAN may be a Bluetooth 3 network and PAN may be an ultra wide band UWB network. Device is also configured to connect to the Internet via some LAN networking means for example via a Wi Fi access point or a DSL modem or the like. Computer is at a remote location and has a connection to the Internet.

A software application that embodies the ADRC Protocol is installed on computer . This SoftRemote may have been downloaded from a server on the Internet. Furthermore device implements one or more gateway means that enable it to reformat network packets and route them between one network and another.

For example computer may send a UDP IP packet to device which reformats it in to one or more Bluetooth packets and routes these to PAN. Finally as disclosed earlier hub also acts as a proxy device so that each device appears to be one of its subunits. Now SoftRemote is able to use the ADRC Protocol to interact with devices and via device as if they were local.

With reference to the following paragraphs disclose an arrangement where device uses the display of controller for the display of menus and status indications and the like.

Some devices can be made more cheaply because they provide only a very basic method of interacting with the user. For example a modern DVD player has only a very basic display with a few buttons thus it relies on a TV and remote control to provide a fully functional user interface. This technique is commonly referred to as On Screen Display OSD . However using OSD interferes with the viewing of the main program for any other viewers which under some circumstances may be most annoying. It would therefore be highly desirable if any OSD menus or other status information were displayed on controller instead of on the TV.

As disclosed earlier the RDF associated with device contains information that declares the functions that the device responds to which together with associated style sheets and transformation file may also be used to describe the setup and configuration screens similar to those currently presented on the TV for configuring certain settings such as picture sound and other setup parameters.

Due to the flexibility provided by the present invention highly appealing and easy to use menu control interfaces may be described that can be activated directly with simple gestures instead of navigating through a system of menus using cursor keys. These may also include program related information such as the title of the program its duration and other metadata that may be available. In addition status information such as mode e.g. play pause stop running time remaining time etc. may also be displayed and updated in real time where controller uses the API of the device as described in its RDF to query such information and device sends events to controller to update status as appropriate.

With reference to the following paragraphs disclose an arrangement where device receives information broadcast over free to air networks and generates corresponding events to controller .

There currently exist free to air broadcast media services that are able to transmit digital information along with the actual program content. For example the Digital Video Broadcast DVB system is able to transmit station name EPG and other data along with the television program content. Similarly the Radio Data Service RDS is able to transmit station name program name and other data along with the FM audio program content.

The operator of the free to air network is able to broadcast digital data over their network as they may choose and furthermore they are also in a position to time the delivery of such data to match the program content. This presents a beneficial arrangement when the receiving device is able to receive such data and subsequently send an unsolicited event to notify controller . Event may contain information such as a URL trigger condition text or any data. When controller receives event it may act on it accordingly.

For example if event contained a URL to a webpage controller may choose to render this page and display it to the user. The webpage may be a web application that allows the user to interact with server and in turn for server to make appropriate responses to the user. Furthermore if event contained a trigger condition then controller may choose to activate an appropriate handler resource informing it of the trigger condition. This handler may then use personalization information stored in controller to display highly targeted or personalized information to the user.

To put this arrangement in to context a TV station may be broadcasting a sports event such as a football match. The match enters quarter time and the TV station sends information containing a URL over the DVB. A sports fan is watching the match on a TV that implements the present invention. The TV receives the information from the DVB broadcast and reformats it as an event and sends it to the remote control.

The remote control receives the event and invokes the associated handler resource. The handler opens up a popup window on the remote control screen and directs it to the URL provided in the event. The URL is that of a web application that implements an on line ordering system for a pizza delivery company. The user is alerted to the event by an audible event tone. The user picks up the remote control and sees the pizza offer on the screen. The pizza company has a game special that seems to be good value so the user orders. Thirty minutes later the order is delivered and it is just in time for half time so the user is most satisfied with the service provided.

With reference to the following paragraphs disclose an arrangement whereby appliances that do not embody the present invention first second and third generation remote control technologies can still be controlled by controller .

The appliance has an existing control interface which may be infrared communications or some other radio frequency type. The appliance may also have one or more HDMI ports that can respond to CEC commands. In this embodiment gateway is also able to convert communications on wireless communications link from controller into a form compatible with the remote control technology of the appliance.

Gateway also behaves in a similar way to proxy described earlier in that it acts as a proxy device thus each appliance becomes a sub unit of gateway . Controller is thus able to use the ADRC Protocol to interact with gateway and gateway forwards on commands from controller to one or more appliances using the correct communications medium.

For example if an appliance has an infrared remote control gateway will receive commands from controller over the wireless communications link and then modulate an infrared signal to communicate the command to the appliance. In another example if an appliance has a HDMI port that supports control via the CEC command set then gateway will receive commands from controller over wireless communications link and then reformat the command to its corresponding CEC format and send it to the appliance via the CEC pin of the HDMI port.

In a further aspect of the present invention controller is able to execute one or more software applications in addition to those that provide remote control functionality.

In order to conduct effective advertising campaigns and for product design purposes it is important for Consumer Equipment CE manufacturers to understand how their appliances are used who uses them when they are used and so on. Such information is currently gathered by conducting time consuming public surveys.

However due to the nature of the present invention controller as part of its normal usage can gather usage information automatically. For example as the user commands devices via the user interface controller can keep a record of each interaction.

Controller can periodically pre process stored records and then forward these to a server on the Internet for aggregation analysis and reporting.

The broadcast industry routinely gathers information on viewer and listener behaviour through the use of surveys. However due to the nature of the present invention information can be gathered automatically by controller .

As the user commands devices via the user interface controller can query the device for program information and keep a record of each interaction. The information stored for an interaction may include 

Controller can periodically pre process stored records and then forward these to a server on the Internet for aggregation analysis and reporting.

With reference to the following paragraphs disclose the detailed logic flow of the ADRC Protocol through the full lifecycle of an association with a device.

At step the user brings controller into proximity range of device and at some point step device detects the presence of controller . The situation is depicted conceptually in .

At steps to the device and controller exchange detection tokens via a proximity communications channel established between them. The detection tokens may include information such as 

Steps and apply if device requires controller to authenticate. If authentication is required then an appropriate technique is employed here. In the preferred embodiment a PKI technique involving digital certificates and the exchange of randomly generated secrets would be employed. To facilitate this both the controller and the controllable device will have at least digital certificates and asymmetric encryption keys. If lesser levels of trust are acceptable for an application then other techniques may be substituted which may require symmetric encryption keys.

Steps and apply if controller requires device to authenticate. If authentication is required then an appropriate technique is employed here. In the most exemplary embodiment a PKI technique involving digital certificates and the exchange of randomly generated secrets would be employed. If lesser levels of trust are acceptable for an application then other techniques may be substituted.

At step device decides whether it will allow association with controller . This decision may be based on various criteria such as whether an association has already been formed with another controller or perhaps an access control list scheme is in use whereby only nominated controllers are allowed to associate with the device.

If the device failed authentication at step the user may still be given the opportunity to allow association to continue. This may be appropriate when the user is in a position to know something about the device that enables them to trust it.

At steps to the device and controller exchange association tokens via a proximity communications channel established between them. The association tokens may include information such as 

At steps to it is determined whether association tokens were exchanged successfully. If so association can be initiated. If association is not possible the user is informed at step .

At steps to device and controller form an association with each other whereby they can now open a communications channel and freely communicate information. For example if the network is a wireless LAN then the association can be described by SSID security method and key IP address protocol and port number.

At step controller determines whether it already has an RDF to match with the descriptive information for each sub unit returned by device at step . For those RDFs that it does not have controller uses steps to to attempt to retrieve the RDF directly from device . For those RDFs that cannot be retrieved from device controller uses step to attempt to retrieve the RDF from the indicated link. If no link was indicated controller uses step to attempt to retrieve the RDF from a default URL. The indicated link and default URL may be on server and accessed via network . If at step the RDF has not been obtained this is indicated to the user at step .

At step controller uses information contained in the RDF to determine whether any further resources are required to control the associated sub unit of device . In the present invention resources refer to items that may be required by the controller to perform its control function such as data software applications and plug ins style sheets and the like.

If resources are indicated in the RDF and controller does not already have these then using steps to it attempts to retrieve and install each of these using the sequence previously described for retrieving the RDF. Once the RDF and any other required resources have been acquired at step controller uses information contained in the RDF to generate a graphical user interface that is necessary and sufficient for controlling device .

A further purpose of the RDF is to specify how events generated by device are to be handled. The RDF provides a means for associating device events with handling resources on controller such that when an event is received it is forwarded on to the associated handler resource.

Yet a further purpose of the RDF is to provide a means for describing the input and output facilities provided by device . For example a TV device may have two inputs AV and HDMI and one output MONITOR. This information is especially useful for applications that may be developed to help the user to setup and configure their system.

At steps to controller sets running any resources that are marked in the RDF for automatic invocation.

At step controller uses wireless communications link to device and requests the device to enumerate its sub units. For hardware devices such as Audio Visual AV equipment a sub unit is a unit of equipment that performs a well defined function for example a TV would have just one sub unit itself whilst a combined TV DVD would have two sub units TV and DVD . For computers such as PCs or servers a sub unit is a software application or service. For example a PC may have a music player application and a game application installed whereas a server may offer services such as a location service and a payment service amongst others. Each subunit will require its own unique set of information in order to be controlled.

At steps device enumerates though its sub units gathers descriptive information for each one and sends this to controller . The descriptive information for a sub unit may contain 

Steps to show how the user is now able to use the graphical user interface generated at step to control the associated device. Furthermore steps to show how devices that are able to generate unsolicited event notifications to controller can be handled by redirecting them to the associated handler resource specified in the RDF or if none was specified then simply displaying the notification to the user via the GUI.

Disassociation is the process whereby the association previously formed between device and controller is forgotten. Thus any restrictions or access controls that came into effect during the association are removed. This is important for certain classes of device such as AV equipment that could possibly be sold to a new owner.

At step controller sends a request to device to disassociate. At step the device may choose to refuse the request for example if an associated controller sent the request but that controller was not privileged for this operation. If the request is refused the user is notified by steps and and the association remains intact. If the disassociation request is accepted steps to show how both device and controller remove the association each has with the other and in addition controller removes the device s icon from the graphical user interface along with the RDF and any resources associated with it. Once the association is removed device and controller are no longer able to communicate with each other.

The descriptive information that device provides to controller during the enumeration phase is contained in tag .

The information that defines the functions provided by device is contained in tag . For example tag represents the command required to toggle the power to device . When the user interface is generated tag will be rendered using a default widget allocated for tags which might be a push button unless this is overridden using a style sheet. When this widget is activated by the user controller will send the code 807F to device . If voice activated commands are supported then the words contained in the tag will activate this command. As another example tag represents the command required to set the volume to a nominated level. In this case tag contains a tag that indicates that this widget can generate a range of values from 0 to 100 in steps of 2. Thus when the user interface is generated tag will be rendered using a widget that can show a range such as a slider or using some other widget as may be specified in a style sheet. Other such widget input specifiers are also possible for example another useful one would be a list or enumeration where a fixed set of values can be chosen and etc.

Device functions may be grouped together using the tag . For example it is advantageous to be able to keep certain functions together because they are logically related such as the numeric keys 0 9 or the menu navigation keys. Furthermore most current generation remote controls have 20 to 30 buttons and if these were all presented on the same screen of controller the resulting interface would be difficult if not impossible to use. However most users only use a small number of functions regularly such as power mute volume channel back etc so then it is advantageous to be able to group commonly used functions on the first screen and have the other less used functions allocated to second and third and perhaps other screens as desired by the user. Those skilled in the art will also realise that the positioning of controls and groups of controls can also be specified via a style sheet.

As disclosed earlier some devices may benefit by providing one or more handler resources to support and or enhance their operation. In addition some applications may require an element of automated control where actions can be taken by controller without user input. The resources and interfaces required to support these capabilities are defined in tag . Resources may include software applications embedded scripts interfaces objects data and any other item that may be required. For example tag defines a handler that is implemented using an embedded scripting language whilst tag specifies a separately loaded plug in application. If software is to be developed to control device then the interface or API of the device must be known. Device manufacturers may define the API of their device using one or more tags. For example tag defines an interface named xert that contains one event that may be sent to the controller whereas tag defines a second interface named epg that contains a document event and two methods. Handler resources are developed to implement one or more interfaces. The tag specifies which interfaces a handler resource implements. For example tag specifies that its associated handler resource implements the xert interface.

As disclosed earlier it may be advantageous for controller to know what the input output capabilities of device are. The tag is provided for this purpose. From the information described in tag controller is in a position to know about the technology that implements an input or output for example HDMI or analog composite video the connectors used including their naming and colour coding and any special features such as supported digital protocols and the like. The ability to create a PAN add and remove devices to and from the PAN through the proximity mechanism.

