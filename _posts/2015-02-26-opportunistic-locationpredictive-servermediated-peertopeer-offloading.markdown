---

title: Opportunistic, location-predictive, server-mediated peer-to-peer offloading
abstract: Systems and methods are disclosed for optimizing data transfers. The method may include receiving a request to transfer data between a wireless device and a data transfer target, wherein the requested data transfer is associated with a time sensitivity window (TSW), determining whether an opportunity for a peer-to-peer (P2P) data transfer will arise during the TSW, targeting a transfer time from within the TSW for performing the requested data transfer based on the opportunity determination, and transmitting transfer notification data to the wireless device, wherein the transfer notification data includes the targeted transfer time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09510257&OS=09510257&RS=09510257
owner: QUALCOMM INCORPORATED
number: 09510257
owner_city: San Diego
owner_country: US
publication_date: 20150226
---
Aspects of this disclosure relate to wireless communications systems. In particular aspects of this disclosure relate to offloading network infrastructure communication to peer to peer P2P communication between endpoints in a server mediated manner.

Wireless communication systems have developed through various generations including a first generation analog wireless phone service 1G a second generation 2G digital wireless phone service including interim 2.5G and 2.75G networks and third generation 3G and fourth generation 4G high speed data Internet capable wireless services. There are presently many different types of wireless communication systems in use including Cellular and Personal Communications Service PCS systems. Exemplary cellular systems include the cellular Analog Advanced Mobile Phone System AMPS digital cellular systems based on Code Division Multiple Access CDMA Frequency Division Multiple Access FDMA Time Division Multiple Access TDMA the Global System for Mobile access GSM variation of TDMA and newer hybrid digital communication systems using both TDMA and CDMA technologies. More recently Long Term Evolution LTE has been developed as a wireless communications protocol for mobile phones and other terminals to communicate data at high speeds. LTE is based on GSM and includes contributions from various GSM related protocols such as Enhanced Data rates for GSM Evolution EDGE and Universal Mobile Telecommunications System UMTS protocols such as High Speed Packet Access HSPA .

Accordingly communications systems and devices are becoming increasingly diverse with new technological advancements. Communications devices are now able to support various different communications technologies and protocols. Indeed not only can various communications devices operate in a communications system e.g. over a network infrastructure many communications device may communicate with one another using direct peer to peer P2P communications and or using infrastructure elements where devices communicate through signals communicated via one or more base stations access points or other network infrastructure entities. For example communications devices that support the Wi Fi Direct standard or Bluetooth Low Energy BTLE standard may connect to each other via direct P2P connections. Furthermore the LTE Direct LTE D standard uses licensed spectrum and the LTE physical layer to provide a scalable and universal framework through which equipped communications devices can discover and connect to proximate peers and thereby establish direct P2P connections within ranges up to one mile. Wi Fi direct tends to require the devices to be in closer proximity approximately 200 meters and BTLE even closer proximity approximately 30 feet .

LTE D operates on licensed spectrum as a service to mobile applications. LTE D enables service layer discovery. Mobile applications on LTE D devices can instruct LTE D to set a monitor for mobile application services on other devices. Moreover mobile applications on LTE D devices can announce their own services for detection by other LTE D devices at the physical layer. The applications can be closed while LTE D works continuously and notifies the client application when it detects a match to the set monitor.

LTE D is thus an attractive alternative to mobile developers seeking to deploy proximate discovery solutions as extensions of their existing cloud services. LTE D is a distributed discovery solution versus the centralized discovery that exists today whereby mobile applications forego centralized database processing in identifying relevancy matches instead autonomously determining relevance at the device level by transmitting and monitoring for relevant attributes. LTE D offers certain benefits in terms of privacy as well as power consumption in that LTE D does not utilize perpetual location tracking to determine proximity. By keeping discovery on the device rather than in the cloud the user has more control of what information is shared with external devices.

As noted above one or more intermediate base stations access points or other infrastructure elements typically facilitate communication between two or more wireless devices or other endpoints over a network infrastructure e.g. through uplink and downlink channels between the endpoints and the infrastructure elements . However at times the loading conditions on the infrastructure elements e.g. at a base station serving one or more wireless devices may become excessive and thereby degrade communications quality. Furthermore in certain cases direct P2P communication may be faster more efficient more private or otherwise advantageous to end users. Accordingly in view of the above discussion it should be appreciated that a need exists for systems that can determine appropriate conditions where traffic between two or more wireless devices seeking to communicate can be offloaded from a network infrastructure to direct P2P communications.

In one aspect the present disclosure provides a method for a server to optimize data transfers. The method may comprise for example receiving a request to transfer data between a wireless device and a data transfer target wherein the requested data transfer is associated with a time sensitivity window TSW determining whether an opportunity for a peer to peer P2P data transfer will arise during the TSW targeting a transfer time from within the TSW for performing the requested data transfer based on the opportunity determination and transmitting transfer notification data to the wireless device wherein the transfer notification data includes the targeted transfer time.

In another aspect the present disclosure provides an apparatus for optimizing data transfers. The apparatus may comprise a memory and a processor. The processor may for example receive a request to transfer data between a wireless device and a data transfer target wherein the requested data transfer is associated with a TSW determine whether an opportunity for a P2P data transfer will arise during the TSW target a transfer time from within the TSW for performing the requested data transfer based on the opportunity determination and transmit transfer notification data to the wireless device wherein the transfer notification data includes the targeted transfer time.

In another aspect the present disclosure provides another apparatus for optimizing data transfers. The apparatus may comprise for example means for receiving a request to transfer data between a wireless device and a data transfer target wherein the requested data transfer is associated with a TSW means for determining whether an opportunity for a P2P data transfer will arise during the TSW means for targeting a transfer time from within the TSW for performing the requested data transfer based on the opportunity determination and means for transmitting transfer notification data to the wireless device wherein the transfer notification data includes the targeted transfer time.

In another aspect the present disclosure provides a computer readable medium comprising code which when executed by a processor causes the processor to perform operations for optimizing data transfers. The computer readable medium may comprise for example code for receiving a request to transfer data between a wireless device and a data transfer target wherein the requested data transfer is associated with a TSW code for determining whether an opportunity for a P2P data transfer will arise during the TSW code for targeting a transfer time from within the TSW for performing the requested data transfer based on the opportunity determination and code for transmitting transfer notification data to the wireless device wherein the transfer notification data includes the targeted transfer time.

Various aspects are disclosed in the following description and related drawings to show specific examples relating to exemplary embodiments. Alternate embodiments will be apparent to those skilled in the pertinent art upon reading this disclosure and may be constructed and practiced without departing from the scope or spirit of the disclosure. Additionally well known elements will not be described in detail or may be omitted so as to not obscure the relevant details of the aspects and embodiments disclosed herein.

The word exemplary is used herein to mean serving as an example instance or illustration. Any embodiment described herein as exemplary is not necessarily to be construed as preferred or advantageous over other embodiments. Likewise the term embodiments does not require that all embodiments include the discussed feature advantage or mode of operation.

The terminology used herein describes particular embodiments only and should be construed to limit any embodiments disclosed herein. As used herein the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will be further understood that the terms comprises comprising includes and or including when used herein specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

Further many aspects are described in terms of sequences of actions to be performed by for example elements of a computing device. It will be recognized that various actions described herein can be performed by specific circuits e.g. an application specific integrated circuit ASIC by program instructions being executed by one or more processors or by a combination of both. Additionally these sequence of actions described herein can be considered to be embodied entirely within any form of computer readable storage medium having stored therein a corresponding set of computer instructions that upon execution would cause an associated processor to perform the functionality described herein. Thus the various aspects of the disclosure may be embodied in a number of different forms all of which have been contemplated to be within the scope of the claimed subject matter. In addition for each of the aspects described herein the corresponding form of any such aspects may be described herein as for example logic configured to perform the described action.

A client device referred to herein as a user equipment UE may be mobile or stationary and may communicate with a radio access network RAN . As used herein the term UE may be referred to interchangeably as an access terminal or AT a wireless device a subscriber device a subscriber terminal a subscriber station a user terminal or UT a mobile terminal a mobile station and variations thereof. Generally UEs can communicate with a core network via the RAN and through the core network the UEs can be connected with external networks such as the Internet. Of course other mechanisms of connecting to the core network and or the Internet are also possible for the UEs such as over wired access networks Wi Fi networks e.g. based on IEEE 802.11 etc. and so on. UEs can be embodied by any of a number of types of devices including but not limited to PC cards compact flash devices external or internal modems wireless or wireline phones and so on. A communication link through which UEs can send signals to the RAN is called an uplink channel e.g. a reverse traffic channel a reverse control channel an access channel etc. . A communication link through which the RAN can send signals to UEs is called a downlink or forward link channel e.g. a paging channel a control channel a broadcast channel a forward traffic channel etc. . As used herein the term traffic channel TCH can refer to either an uplink reverse traffic channel or a downlink forward traffic channel.

Referring to UEs . . . N are configured to communicate with an access network e.g. the RAN an access point etc. over a physical communications interface or layer shown in as air interfaces and or a direct wired connection. The air interfaces and can comply with a given cellular communications protocol e.g. CDMA EV DO eHRPD GSM EDGE W CDMA LTE etc. while the air interface can comply with a wireless IP protocol e.g. IEEE 802.11 . The RAN includes a plurality of access points that serve UEs over air interfaces such as the air interfaces and . The access points in the RAN can be referred to as access nodes or ANs access points or APs base stations or BSs Node Bs Evolved Node Bs eNodeBs or eNBs and so on. These access points can be terrestrial access points or ground stations or satellite access points. The RAN is configured to connect to a core network that can perform a variety of functions including bridging circuit switched CS calls between UEs served by the RAN and other UEs served by the RAN or a different RAN altogether and can also mediate an exchange of packet switched PS data with external networks such as Internet . The Internet includes a number of routing agents and processing agents not shown in for the sake of convenience . In UE N is shown as connecting to the Internet directly i.e. separate from the core network such as over an Ethernet connection of Wi Fi or 802.11 based network . The Internet can thereby function to bridge packet switched data communications between UE N and UEs . . . N via the core network . Also shown in is the access point that is separate from the RAN . The access point may be connected to the Internet independent of the core network e.g. via an optical communication system such as FiOS a cable modem etc. . The air interface may serve UE or UE over a local wireless connection such as IEEE 802.11 in an example. UE N is shown as a desktop computer with a wired connection to the Internet such as a direct connection to a modem or router which can correspond to the access point itself in an example e.g. a Wi Fi router with wired and or wireless connectivity may correspond to the access point .

Referring to an application server is shown as connected to the Internet the core network or both. The application server can be implemented as a plurality of structurally separate servers or alternately may correspond to a single server. As will be described below in more detail the application server is configured to support one or more communication services for UEs that can connect to the application server via the core network and or the Internet e.g. Voice over Internet Protocol VoIP sessions Voice over LTE VoLTE sessions Push to Talk PTT sessions group communication sessions sessions that involve Rich Communication Services RCS sessions social networking services etc. .

Examples of protocol specific implementations for the RAN and the core network are provided below with respect to to help explain the wireless communications system in more detail. In particular the components of the RAN and the core network corresponds to components associated with supporting packet switched PS communications whereby legacy circuit switched CS components may also be present in these networks but any legacy CS specific components are not shown explicitly in .

In the core network includes a plurality of Mobility Management Entities MMEs D and D a Home Subscriber Server HSS D a Serving Gateway S GW D a Packet Data Network Gateway P GW D and a Policy and Charging Rules Function PCRF D. Network interfaces between these components the RAN and the Internet are illustrated in and are defined in Table 1 below as follows 

A high level description of the components shown in the RAN and core network of will now be described. However these components are each well known in the art from various 3GPP TS standards and the description contained herein is not intended to be an exhaustive description of all functionalities performed by these components.

Referring to the MMEs D and D are configured to manage the control plane signaling for the EPS bearers. MME functions include Non Access Stratum NAS signaling NAS signaling security Mobility management for inter and intra technology handovers P GW and S GW selection and MME selection for handovers with MME change.

Referring to the S GW D is the gateway that terminates the interface toward the RAN . For each UE associated with the core network for an EPS based system at a given point of time there is a single S GW. The functions of the S GW D for both the GTP based and the Proxy Mobile IPv6 PMIP based S5 S8 include Mobility anchor point Packet routing and forwarding and setting the DiffServ Code Point DSCP based on a QoS Class Identifier QCI of the associated EPS bearer.

Referring to the P GW D is the gateway that terminates the SGi interface toward the Packet Data Network PDN e.g. the Internet . If a UE is accessing multiple PDNs there may be more than one P GW for that UE however a mix of S5 S8 connectivity and Gn Gp connectivity is not typically supported for that UE simultaneously. P GW functions include for both the GTP based S5 S8 Packet filtering by deep packet inspection UE IP address allocation setting the DSCP based on the QCI of the associated EPS bearer accounting for inter operator charging uplink UL and downlink DL bearer binding as defined in 3GPP TS 23.203 UL bearer binding verification as defined in 3GPP TS 23.203. The P GW D provides PDN connectivity to both GSM EDGE Radio Access Network GERAN UTRAN only UEs and E UTRAN capable UEs using any of E UTRAN GERAN or UTRAN. The P GW D provides PDN connectivity to E UTRAN capable UEs using E UTRAN only over the S5 S8 interface.

Referring to the PCRF D is the policy and charging control element of the EPS based core network . In a non roaming scenario there is a single PCRF in the HPLMN associated with a UE s Internet Protocol Connectivity Access Network IP CAN session. The PCRF terminates the Rx interface and the Gx interface. In a roaming scenario with local breakout of traffic there may be two PCRFs associated with a UE s IP CAN session A Home PCRF H PCRF is a PCRF that resides within a HPLMN and a Visited PCRF V PCRF is a PCRF that resides within a visited VPLMN. PCRF is described in more detail in 3GPP TS 23.203 and as such will not be described further for the sake of brevity. In the application server e.g. which can be referred to as the AF in 3GPP terminology is shown as connected to the core network via the Internet or alternatively to the PCRF D directly via an Rx interface. Generally the application server or AF is an element offering applications that use IP bearer resources with the core network e.g. UMTS PS domain GPRS domain resources LTE PS data services . One example of an application function is the Proxy Call Session Control Function P CSCF of the IP Multimedia Subsystem IMS Core Network subsystem. The AF uses the Rx reference point to provide session information to the PCRF D. Any other application server offering IP data services over cellular network can also be connected to the PCRF D via the Rx reference point.

While internal components of UEs such as the UEs A and B can be embodied with different hardware configurations a basic high level UE configuration for internal hardware components is shown as platform in . The platform can receive and execute software applications data and or commands transmitted from the RAN that may ultimately come from the core network the Internet and or other remote servers and networks e.g. application server web URLs etc. . The platform can also independently execute locally stored applications without RAN interaction. The platform can include a transceiver operably coupled to an application specific integrated circuit ASIC or other processor microprocessor logic circuit or other data processing device. The ASIC or other processor executes the application programming interface API layer that interfaces with any resident programs in the memory of the wireless device. The memory can be comprised of read only or random access memory RAM and ROM EEPROM flash cards or any memory common to computer platforms. The platform also can include a local database that can store applications not actively used in memory as well as other data. The local database is typically a flash memory cell but can be any secondary storage device as known in the art such as magnetic media EEPROM optical media tape soft or hard disk or the like.

Accordingly an embodiment of the invention can include a UE e.g. UE A B etc. including the ability to perform the functions described herein. As will be appreciated by those skilled in the art the various logic elements can be embodied in discrete elements software modules executed on a processor or any combination of software and hardware to achieve the functionality disclosed herein. For example ASIC memory API and local database may all be used cooperatively to load store and execute the various functions disclosed herein and thus the logic to perform these functions may be distributed over various elements. Alternatively the functionality could be incorporated into one discrete component. Therefore the features of the UEs A and B in are to be considered merely illustrative and the invention is not limited to the illustrated features or arrangement.

The wireless communication between the UEs A and or B and the RAN can be based on different technologies such as CDMA W CDMA time division multiple access TDMA frequency division multiple access FDMA Orthogonal Frequency Division Multiplexing OFDM GSM or other protocols that may be used in a wireless communications network or a data communications network. As discussed in the foregoing and known in the art voice transmission and or data can be transmitted to the UEs from the RAN using a variety of networks and configurations. Accordingly the illustrations provided herein are not intended to limit the embodiments of the invention and are merely to aid in the description of aspects of embodiments of the invention.

Referring to the communication device includes logic configured to receive and or transmit information . In an example if the communication device corresponds to a wireless communications device e.g. UE A or B one of eNodeBs through etc. the logic configured to receive and or transmit information can include a wireless communications interface e.g. Bluetooth WiFi 2G CDMA W CDMA 3G 4G LTE etc. such as a wireless transceiver and associated hardware e.g. an RF antenna a MODEM a modulator and or demodulator etc. . In another example the logic configured to receive and or transmit information can correspond to a wired communications interface e.g. a serial connection a USB or Firewire connection an Ethernet connection through which the Internet can be accessed etc. . Thus if the communication device corresponds to some type of network based server e.g. PDSN SGSN GGSN S GW P GW MME HSS PCRF the application etc. the logic configured to receive and or transmit information can correspond to an Ethernet card in an example that connects the network based server to other communication entities via an Ethernet protocol. In a further example the logic configured to receive and or transmit information can include sensory or measurement hardware by which the communication device can monitor its local environment e.g. an accelerometer a temperature sensor a light sensor an antenna for monitoring local RF signals etc. . The logic configured to receive and or transmit information can also include software that when executed permits the associated hardware of the logic configured to receive and or transmit information to perform its reception and or transmission function s . However the logic configured to receive and or transmit information does not correspond to software alone and the logic configured to receive and or transmit information relies at least in part upon hardware to achieve its functionality.

Referring to the communication device further includes logic configured to process information . In an example the logic configured to process information can include at least a processor. Example implementations of the type of processing that can be performed by the logic configured to process information includes but is not limited to performing determinations establishing connections making selections between different information options performing evaluations related to data interacting with sensors coupled to the communication device to perform measurement operations converting information from one format to another e.g. between different protocols such as .wmv to .avi etc. and so on. For example the processor included in the logic configured to process information can correspond to a general purpose processor a digital signal processor DSP an ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration. The logic configured to process information can also include software that when executed permits the associated hardware of the logic configured to process information to perform its processing function s . However the logic configured to process information does not correspond to software alone and the logic configured to process information relies at least in part upon hardware to achieve its functionality.

Referring to the communication device further includes logic configured to store information . In an example the logic configured to store information can include at least a non transitory memory and associated hardware e.g. a memory controller etc. . For example the non transitory memory included in the logic configured to store information can correspond to RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. The logic configured to store information can also include software that when executed permits the associated hardware of the logic configured to store information to perform its storage function s . However the logic configured to store information does not correspond to software alone and the logic configured to store information relies at least in part upon hardware to achieve its functionality.

Referring to the communication device further optionally includes logic configured to present information . In an example the logic configured to present information can include at least an output device and associated hardware. For example the output device can include a video output device e.g. a display screen a port that can carry video information such as USB HDMI etc. an audio output device e.g. speakers a port that can carry audio information such as a microphone jack USB HDMI etc. a vibration device and or any other device by which information can be formatted for output or actually outputted by a user or operator of the communication device . For example if the communication device corresponds to UE A or UE B as shown in the logic configured to present information can include the display A of UE A or the touchscreen display B of UE B. In a further example the logic configured to present information can be omitted for certain communication devices such as network communication devices that do not have a local user e.g. network switches or routers remote servers etc. . The logic configured to present information can also include software that when executed permits the associated hardware of the logic configured to present information to perform its presentation function s . However the logic configured to present information does not correspond to software alone and the logic configured to present information relies at least in part upon hardware to achieve its functionality.

Referring to the communication device further optionally includes logic configured to receive local user input . In an example the logic configured to receive local user input can include at least a user input device and associated hardware. For example the user input device can include buttons a touchscreen display a keyboard a camera an audio input device e.g. a microphone or a port that can carry audio information such as a microphone jack etc. and or any other device by which information can be received from a user or operator of the communication device . For example if the communication device corresponds to UE A or UE B as shown in the logic configured to receive local user input can include the keypad A any of the buttons A or B through B the touchscreen display B etc. In a further example the logic configured to receive local user input can be omitted for certain communication devices such as network communication devices that do not have a local user e.g. network switches or routers remote servers etc. . The logic configured to receive local user input can also include software that when executed permits the associated hardware of the logic configured to receive local user input to perform its input reception function s . However the logic configured to receive local user input does not correspond to software alone and the logic configured to receive local user input relies at least in part upon hardware to achieve its functionality.

Referring to while the configured logics of through are shown as separate or distinct blocks in it will be appreciated that the hardware and or software by which the respective configured logic performs its functionality can overlap in part. For example any software used to facilitate the functionality of the configured logics of through can be stored in the non transitory memory associated with the logic configured to store information such that the configured logics of through each performs their functionality i.e. in this case software execution based in part upon the operation of software stored by the logic configured to store information . Likewise hardware that is directly associated with one of the configured logics can be borrowed or used by other configured logics from time to time. For example the processor of the logic configured to process information can format data into an appropriate format before being transmitted by the logic configured to receive and or transmit information such that the logic configured to receive and or transmit information performs its functionality i.e. in this case transmission of data based in part upon the operation of hardware i.e. the processor associated with the logic configured to process information .

Generally unless stated otherwise explicitly the phrase logic configured to as used throughout this disclosure is intended to invoke an embodiment that is at least partially implemented with hardware and is not intended to map to software only implementations that are independent of hardware. Also it will be appreciated that the configured logic or logic configured to in the various blocks are not limited to specific logic gates or elements but generally refer to the ability to perform the functionality described herein either via hardware or a combination of hardware and software . Thus the configured logics or logic configured to as illustrated in the various blocks are not necessarily implemented as logic gates or logic elements despite sharing the word logic. Other interactions or cooperation between the logic in the various blocks will become clear to one of ordinary skill in the art from a review of the embodiments described below in more detail.

The various embodiments may be implemented on any of a variety of commercially available server devices such as server illustrated in . In an example the server may correspond to one example configuration of the application server described above. In the server includes a processor coupled to volatile memory and a large capacity nonvolatile memory such as a disk drive . The server may also include a floppy disc drive compact disc CD or DVD disc drive coupled to the processor . The server may also include network access ports coupled to the processor for establishing data connections with a network such as a local area network coupled to other broadcast system computers and servers or to the Internet. In context with it will be appreciated that the server of illustrates one example implementation of the communication device whereby the logic configured to transmit and or receive information corresponds to the network access ports used by the server to communicate with the network the logic configured to process information corresponds to the processor and the logic configuration to store information corresponds to any combination of the volatile memory the disk drive and or the disc drive . The optional logic configured to present information and the optional logic configured to receive local user input are not shown explicitly in and may or may not be included therein. Thus helps to demonstrate that the communication device may be implemented as a server in addition to a UE implementation as in A or B as in .

In accordance with various exemplary embodiments described herein one or more of UE UE UE UE UE and UE may support direct P2P communications e.g. D2D communications whereby such UEs may support communicating with one another directly without having to communicate through another device or a network infrastructure element such as the first base station and the second base station and also support communications through the network infrastructure elements such as the first base station and or the second base station . In communications that involve network infrastructure signals may generally be transmitted and received through uplink and downlink connections between various UEs and the base stations such as link in the first cell and link in the second cell . Each of the base stations generally serve as the attachment point for the UEs in the corresponding cells and facilitate communications between the UEs served therein. In accordance with one aspect when two or more UEs such as UE and UE wish to communicate with one another and are located in sufficient proximity to each other then a direct P2P link can be established there between which may offload traffic from the base station serving the UEs allow UEs to communicate more efficiently or provide other advantages that will be apparent to those skilled in the art.

As shown in the UE can communicate with UE through intermediate base station via link and UEs may further communicate via a P2P link . Similarly UEs may communicate through intermediate base station via link and further communicate via a P2P link . Furthermore for inter cell communications where the participating UEs are in different nearby cells a direct P2P communications link is still a possibility which is illustrated in where UE and UE may communicate using direct P2P communications illustrated by P2P link .

In one possible scenario P2P link and P2P link are D2D links utilizing LTE D technology. LTE D is a proposed 3GPP Release 12 D2D solution for proximate discovery. LTE D dispenses with location tracking and network calls by directly monitoring for services on other LTE D devices within a large range for example 500 m line of sight . It does so continuously in a synchronous system that is battery efficient and can concurrently detect thousands of services in proximity. LTE D has a wider range than other D2D P2P technologies such as Wi Fi Direct or BTLE.

Under certain circumstances a transfer of data from UE to UE at time t T using P2P link as depicted in may be preferable to transfer of data at time t 0 using link link and additional necessary network links as depicted in . As a result the possibility of opportunistic P2P data offloading arises.

At the server receives a request to transfer data between a wireless device and a data transfer target. The wireless device and data transfer target may be analogous to for example UE and UE respectively as shown in and . However it will be understood that the wireless device need not be a UE or a mobile device and may in fact be a static entity. Moreover the data transfer target need not be a UE or a mobile device and may in fact be a static entity. However for the purposes of illustration the wireless device and data transfer target may be referred to as UE and UE respectively. The data transfer requested at is associated with a time sensitivity window hereinafter TSW . The TSW may be defined as a duration of time within which the requested data transfer must be completed. For example the TSW may begin at a present time t 0 and extend to an end time t T wherein end time Tis a time before which the requested data transfer must be completed.

At the server determines whether an opportunity for a P2P data transfer will arise during the TSW. For example the application server may estimate that at time Ta P2P link will be available for the transfer of data between UE and UE as depicted in . The server may further determine that T

At the server targets a transfer time from within the TSW for performing the requested data transfer based on the opportunity determination. For example the application server may target Tas a target time for performing the requested data transfer. The targeting may be based on for example the certainty of the estimate that P2P link will be available at time T the power savings or network load reduction associated with the P2P link or other consideration set forth in the present disclosure.

At the server transmits transfer notification data that includes the targeted transfer time. For example the transfer notification data may comprise an instruction for the UE to delay transmission of data until the target time T. Alternatively the transfer notification data may comprise a request for permission to delay the transmission of data until the target time T. In either case the transfer notification data may further identify the target time T the data to be transferred or any other data relating to the estimates or assumptions described above in relation to the method . The transfer notification data may be sent to the same wireless device from which the data transfer request was received at for example UE . Additionally or alternatively the transfer notification data may be sent to the target of the requested data transfer for example UE .

At the UE requests a data transfer to UE . The data transfer request is transmitted to and received by the application server . The data transfer request may be precipitated by one or more events for example a user input received at UE comprising an explicit command to transfer data an application that performs intermittent e.g. periodic updating or synchronizing etc.

The data transfer request may include any of the data set forth in the present disclosure that may be useful for performing the method . In one possible scenario not shown in an initial data transfer request omits useful data which is subsequently requested by the application server and supplied if possible by the UE . In this scenario the data transfer request comprises an initial data transfer request and one or more successive data transfer requests.

Upon receipt of the data transfer request the application server performs one or more of and which may be initiated performed and or completed in any order.

At the application server determines a TSW associated with the data to be transferred. The TSW may be a time to live TTL of the data transfer request . As noted above the TSW may begin at the time that the UE requests the data transfer designated as a present time where t 0. Alternatively present time t 0 may represent the time that the data transfer request is sent or the time that the data transfer request is received. The determined TSW extends to a future end time T. Accordingly the TSW may be a continuous interval having a length equal to T.

In one possible example the UE explicitly identifies the duration of the TSW or the end time T. The data transfer request sent by the UE may include a TSW indicator or the TSW indicator may be sent separately. According to one implementation the end time Tmay be specified by the user and received at a user input of the UE . Additionally or alternatively the end time Tmay be specified or derived by an application installed on the UE . The application may be associated with the data to be transferred or may be an application specially configured to coordinate data transfers. Additionally or alternatively the end time Tmay be specified by the operating system installed on the UE .

The application server may determine the TSW at based on the TSW indicator sent by the UE . The application server may also modify the TSW indicated by UE based on other factors set forth in the present disclosure. If there is no TSW indicator supplied by the UE then the application server may determine for itself the duration of the TSW or the end time Tbased on for example a data type associated with the requested data transfer or an application associated with the requested data transfer. Additionally or alternatively the application server may rely on historical indicators for example previous TSW indicators received from UE previous TSW indicators received from similar UEs or similarly situated UEs previous TSWs determined for the specific data types or application associated with the requested data transfer previous feedback from UE or similar UEs responsive to previous TSW determinations etc. The application server may also determine a probabilistic model of the TSW in which a number of successive potential end times T T . . . Tare determined wherein each potential end time is associated with a decreasing certainty that the data transfer can still be satisfactorily performed.

At the application server determines one or more intervals within the TSW for potential P2P data transfer opportunities. According to one possible scenario the entirety of the TSW is divided into non overlapping intervals such that each interval is distinguished from the preceding interval and the subsequent interval on the basis of the set of P2P data transfer opportunities determined to be available during that interval.

In one possible example the UE may be determined to have access to UE via link as depicted in during a first interval beginning at time t 0 and extending to T . In a second interval beginning at time t Tand extending to T the UE may be determined to have access to UE via both of link and P2P link as depicted in . In this example the application server may rely on location prediction using any suitable location predicting methods. To return to the example of the application server may determine that during a first interval the UE is at a first specific location and that the UE is at a second specific location wherein the first and second specific locations are not proximate to one another. The determination by the application server that the two specific locations are not proximate may be based on the range of a particular P2P technology for example BTLE Wi Fi Direct LTE D etc. . The application server may also determine that at time t T the UE will have relocated such that UE and UE are proximate as shown in . Again the determination by the application server that the two specific locations are proximate may be based on the range of a particular P2P technology. In this example the application server determines two intervals within the TSW a first interval in which the UE and UE are not proximate and a second interval in which they are proximate.

At the application server estimates the probability that a P2P data transfer opportunity will occur. To return to the foregoing example the application server may estimate the probability of the prediction that UE and UE will be proximate beginning at time t T. The probability estimate may be a simple binary determination for example a determination based on the available data that the UE and UE will or will not be proximate. Table 2 shows an example of binary determinations made by application server .

There are multiple ways in which the application server can estimate the probability that a P2P data transfer opportunity will occur. As shown in Table 2 the application server may determine based on for example data gathered from one or more exchange servers or calendaring applications that the UE and UE are both scheduled to be at the same place at the same time beginning at time t T.

In one possible implementation the UE requests a meeting with UE to discuss a proposal. The requested meeting is set for 2 00 3 00 PM at a selected conference room. The meeting request is associated with a video presentation containing a large quantity of data. The video presentation is intended to be viewed by the user of UE during and or after the meeting. The UE uses one or more exchange servers or calendaring applications to set up the meeting which is accepted by UE . In this implementation the application server will be able to generate a data table similar to the table depicted in Table 2. The data table is based on the information generated by the one or more exchange servers or calendaring applications without any additional input by either UE or UE . Time Tmay be 2 00 PM since a P2P data transfer opportunity is likely to occur at that time given the close proximity of a conference room . Time T which defines the end of the TSW may be 3 00 PM since UE may wish to leave the meeting with a copy of the video presentation.

In this implementation the application server may determine that by default large data transfers associated with meetings set up using a specific exchange server or calendaring application can be delayed until the meeting begins and that the TSW can extend until the end of the scheduled meeting. These default setting may be modified in accordance with feedback from UE or UE or in view of other considerations set forth in the present disclosure.

In the foregoing conference room example the application server makes a simple distinction between a first interval 0 T in which P2P offloading is not possible and a second interval T T in which an opportunity for P2P offloading arises. However it will be understood that more complex distinctions can be made. For example different P2P technologies may be available across different time intervals. In another implementation of the foregoing conference room example the application server distinguishes between a direct LTE D link and a direct BTLE link which tends to have a shorter range relative to LTE D . Table 3 shows an example where application server distinguishes between multiple P2P technologies.

In this implementation the application server determines that because BTLE has a range that is approximately limited to the conference room BTLE will be available at the time that the meeting begins 2 00 PM . On the other hand since LTE D has a longer range the application server may determine that LTE D will be available beginning fifteen minutes prior to the actual arrival of UE and UE in the selected conference room for example when the user of UE predictably arrives on the campus that includes the conference room. As a result the application server will set T 1 45 PM and T 2 00 PM. Accordingly three intervals will be determined by the application server at each interval being characterized by a different set of available links between UE and UE as shown in Table 3.

One consideration affecting the determinations made by application server is whether UE and UE are equipped to transfer data via direct P2P links. If either of UE or UE is incapable of P2P data transfers then the application server may forego a number of the operations described herein. Another consideration is whether UE and UE share a single network operator. If UE and UE have different network operators then it may not be possible to transfer data over for example a direct LTE D link. Information relating to the respective network operators may be stored at the application server or obtained from the devices themselves. For example the UE and or the UE may include information relating to a network operator in the data transfer request . If the UE and UE do not share a network operator a direct LTE D link may still be possible if the network operators have an agreement to enable direct LTE D links between their respective customers. The application server may in the same manner as described above store or obtain information relating to such agreements.

It will be understood that the interval determinations of and probability estimates of may vary as best suited to the circumstances. Consider an implementation in which UE is a smartphone belonging to a particular user and UE is a tablet that this particular user keeps at his or her home. When data is acquired by either of UE or UE it is automatically synchronized to the other in accordance with a data synchronizing operation of a particular application. The application assigns an arbitrary synchronization cycle for the data for example twelve hours. The synchronization cycle may be considered a TSW by the application server . If data is obtained by the UE the smartphone while the user is at work the UE may attempt to synchronize the obtained data with the UE the home tablet . The application server may determine that at the time of the requested synchronization t 0 the UE and UE are not proximate but that at some future time an opportunity for P2P offloading will arise. The determination that UE and UE are not proximate at time t 0 may be based on for example GPS signals or Wi Fi connection statuses of the respective UEs. The determination may also be made on the basis of historical behavior for example a record of past GPS signals or Wi Fi connection statuses indicating that the UE is always at the user s home or a record of past GPS signals or Wi Fi connection statuses indicating that the UE is usually at the user s workplace between approximately 9 00 AM and 5 00 PM on weekdays. According to this implementation the application server may determine the probability that a Wi Fi Direct link will arise. For example the application server may set an arbitrary threshold probability e.g. 80 and determine that a direct P2P link will be available if it can be predicted with a certainty that exceeds the threshold. Table 4 shows an example where application server determines intervals based on the arbitrary threshold probability that a P2P offloading opportunity will occur.

According to the example of Table 4 the application server may determine the time Tas the time beyond which there is an 80 probability that UE and UE will be proximate. For example the application server may predict based on past behavior associated with UE or predictions from the past that turned out to be accurate that the probability that a Wi Fi Direct link will be available before 6 00 PM is less than 80 and the probability is greater than 80 after 6 00 PM. As a result of this prediction the application server can set Tequal to 6 00 PM thereby determining a first interval in which the Wi Fi Direct link is not available ending at 6 00 PM and a second interval in which the Wi Fi Direct link is available beginning at 6 00 PM .

In another possible scenario the application server may divide at the TSW into equal intervals for example minutes or hours and predict the respective locations of UE and UE at every interval. For example the application server may set thirty minute intervals and estimate the probability that the Wi Fi Direct link will be available for each interval. Table 5 shows an example of this type of prediction.

These estimated values may be derived from past behavior navigational applications Wi Fi connection statuses or any other relevant data set forth in the present disclosure. The estimated probabilities shown in Table 5 may be based on the start time of the interval for example the application server may estimate that the probability of a Wi Fi Direct link being available at 5 00 PM is equal to 15 . Alternatively the application server may compute the probability that a given link will be available for the entire duration of the interval for example the application server may estimate that the probability of a Wi Fi Direct link being available from 5 00 PM to 5 30 PM is equal to 15 .

As noted above the 30 minute interval length is exemplary and may be adjusted arbitrarily. According to one possible example the interval length is selected based on the estimated amount of time necessary to complete the requested data transfer. This estimating may be based on factors such as the quantity of data to be transferred the transfer technologies available past measurements of data transfer durations etc. In a specific implementation the application server may determine that P2P discovery takes a certain fixed amount of time and that transfer using the P2P technology requires a variable amount of time based on the quantity of data to be transferred. The application server can then compute the likely duration of time within which the requested transfer can be completed. This computed value can replace the arbitrary interval 30 minutes from the example of Table 5.

Returning to at the application server estimates the benefit associated with each P2P data transfer opportunity. At the application server targets a transfer time within the TSW. At the application server transmits transfer notification data to the UE .

According to one particular implementation the application server simply assumes at that it is beneficial to delay the requested data transfer until a P2P data transfer opportunity arises. According to this implementation the transfer time targeted at would the time at which the P2P data transfer opportunity is predicted to arise. The transfer notification data includes the transfer time targeted at . Table 6 is similar to Table 2 except that the application server has indicated a target transfer time in accordance with this implementation.

As shown in Table 6 the targeted transfer time is associated with the second interval T T . This time is targeted because the P2P link is available during the second interval. The transfer notification data may identify the start time of the interval associated with the target transfer time the end time of the interval associated with the target transfer time or both.

More complex implementations are possible. Table 7 is similar to Table 3 except that each interval is rank ordered in accordance with for example the benefits estimated at .

As shown in Table 7 the third interval T T ranked as 1 is preferred to the second interval T T and first interval 0 T ranked 2 and 3 respectively. Accordingly the application server targets a transfer time from the highest ranked interval. The application server may use the benefit estimated at to determine which transfer time will be targeted. Because direct P2P links such as LTE D and BTLE are beneficial under some circumstances the second and third intervals associated with availability of direct P2P links may be preferred to the first interval in which no direct P2P links are available . Moreover the application server may also estimate that the benefits of BTLE are high under some circumstances relative to LTE D. As a result the third interval associated with availability of BTLE is preferred to the second interval associated with availability of LTE D . The application server may also prefer the third interval because multiple direct P2P link are possible both LTE D and BTLE whereas during the second interval only one direct P2P link is possible LTE D alone . These considerations may outweigh other factors for example a general preference for earlier performance of the data transfer. The transfer notification data may include all of the data in Table 7 any portion thereof and or any data used to generate Table 7.

The application server may determine which transfer time will be targeted in any suitable manner. According to one possible implementation the application server assigns each interval a preference score and the target transfer time is determined based on the interval that has the highest preference score. The preference score may depend on a number of factors. The number of factors may be weighted arbitrarily.

According to one possible implementation the preference score P for each interval may depend on three factors a time preference factor a network offloading factor and a power savings factor.

The first interval may rate highly based on the time preference factor since immediacy is generally preferred to delay. Accordingly the second interval and third interval would each rate lower based on the time preference factor. For the purposes of illustration the preference score for the first interval P may be increased by a value of 1 based on the time preference factor whereas the preference scores for the second and third intervals P and P respectively would not be increased.

The second and third intervals may rate highly based on the network offloading factor since direct P2P links are predicted to be available during the second and third intervals. Accordingly the first interval would rate lower since a data transfer performed during the first interval will increase network loading. For the purposes of illustration the preference score for the second and third intervals P and P respectively may each be increased by a value of 1 whereas the preference score for the first interval P would not be increased.

The third interval may rate highly based on the power savings factor because direct BTLE links consume less power than network links used during the first interval and direct LTE D links used during the second interval . For the purposes of illustration the preference score for the third interval P may be increased by a value of 1 whereas the preference score for the first and second intervals P and P respectively would not be increased.

Based on each of these three factors the application server may generate a preference score for the first interval P a preference score for the second intervals P and a preference score for the third intervals P . The total preference score may include the sum of the value increases associated with each factor. According to the foregoing illustrations the preference score for the first interval P would equal 1 the sum of 1 for the time preference factor 0 for the network offloading factor and 0 for the power savings factor . The preference score for the second interval P would equal 1 the sum of 0 for the time preference factor 1 for the network offloading factor and 0 for the power savings factor . The preference score for the third interval P would equal 2 the sum of 0 for the time preference factor 1 for the network offloading factor and 1 for the power savings factor . In this illustration the third interval would be targeted because the preference score for the third interval P is greater than the preference scores for the first and second intervals P and P respectively .

The application server may use proportional scores as well. For example the time preference factor may be inversely proportion to the delay associated with performing a data transfer at a given interval. In other words the greater the delay associated with a particular interval the more the time preference factor decreases in value. For example if the second interval is associated with a delay of 9 hours relative to the first interval and the third interval is associated with a delay of 10 hours relative to the first interval then the time preference factor for each interval may be 1 0.1 and 0.0 respectively.

The power savings factor may be inversely proportional to a typical or estimated power cost associated with a particular interval. For example if a data transfer performed during the first interval will consume twice as much power as a data transfer performed during the third interval then the power savings factor for the first and third intervals may be 0.5 and 1 respectively. In order to perform a power savings estimate the application server may use data such as transfer power measurements performed by UE or UE the quantity of data to be transferred during the interval the technology available during the interval the proximity of the UE to the UE during the interval historical data relating to any of the above or any other available data that relates to an estimation of the power cost of completing the requested data transfer.

Finally the application server may weight each factor. For example the application server may be configured to give greater weight to the network offloading factor. Additionally or alternatively the user of UE may give greater weight to the time preference factor. The weight for each factor may be a simple coefficient such that the preference score P for a given time interval is equal to wf wf wf wherein f f and fare the three factors described in the foregoing example and w w and ware the weights given to each factor. Consider a previous example in which UE a smartphone associated with a particular person synchronizes data with UE a tablet typically kept in the person s home. In this instance the data transfer may have relatively little urgency since the data need not be synchronized immediately. In this example the home tablet will not be used while the user is at work and therefore there is no need for immediate synchronization of the data. Accordingly the weight wassociated with time preference factor fwill be low.

The weights may be static or dynamic. For example the weight wassociated with the power savings factor fmay be low when a battery life associated with the UE is high and or increasing and high when the battery life is low and or decreasing.

A performance score may be based on any number of factors. Each of the factors may be weighted un weighted adjustably weighted etc. One additional factor may be a processing power factor similar to the power savings factor described above. Generally if the application server determines that a specific data transfer technology is associated with low processor usage rates then an interval associated with that specific data transfer technology may have a high value for the processing power factor and the preference score P for the interval will rise. On the other hand data transfer technologies associated with high processor usage rates will have a low value for the processing power factor and the preference score P will not rise appreciably. Like the power savings factor the processing power factor may be associated with a weight that changes based on circumstances experienced at one or more of the UE or the UE . For example if processor usage at the UE is critically high or increasing then the weight associated with the processing power factor may be increased to reflect the fact that reducing processor usage is a high priority. On the other hand if processor usage is low then the weight may be decreased to reflect that there is no shortage of processing power available to perform the data transfer.

As noted above P2P offloading can be beneficial to network providers since P2P offloading reduces the network load experienced by the network. Moreover there may be costs borne by the user of the UE or the UE that directly relate to network usage. The weight for the network offloading factor described above may be high if the immediately available network links were scarce or costly and the weight may be low if network resources are readily available. The availability of network resources may be determined based on data obtained from UE UE or the network infrastructure associated with either.

Another factor may be a performance probability factor. As noted above the application server may rely on predictions of future locations in order to identify P2P offloading opportunities. In many cases present location may be associated with a high level of certainty relative to future locations. Accordingly the performance probability factor is likely to be high for the first interval and relatively lower for future intervals depending on the degree of certainty with which the P2P offloading opportunity is predicted. If there is significant uncertainty about the probability that a P2P offloading opportunity will arise during a future interval then the preference score for the future interval may not increase as much as it might if the P2P offloading opportunity were more certain.

Another consideration that relates to the performance probability factor is a probability of fully completing the data transfer. For example the application server may determine intervals for P2P data transfer opportunities using data obtained from navigational applications operating on each of UE and UE . The data may indicate that the UE and UE will be on the same road traveling at high speeds in opposite directions. In this scenario the application server may be able to predict with high certainty for example 90 that UE and UE will be close enough to one another for a direct P2P link for example an LTE D connection for a certain future interval. However the application server may also determine that the length of time it will take to transfer the data is likely to exceed the duration of the future interval. The application server makes this determination by comparing the estimated amount of transfer time to the estimated length of the future transfer interval. In other words the application server may compare the two values and determine that the amount of time that UE and UE will be able to maintain the direct P2P link will not be long enough to complete the requested data transfer. The performance probability factor may therefore be lowered to reflect the fact that the duration of the interval is insufficient for complete performance of the data transfer because the direct P2P link will not be maintained long enough . This comparison may be of special importance if the interval under consideration is the last interval in the TSW or close to the last interval .

For example a direct Wi Fi link which include for example a handshake can take a significant amount of time to set up. As a result there may not be enough time to complete a data transfer within the interval associated with the direct Wi Fi link. Accordingly the performance probability factor may be relatively lower for direct Wi Fi links than for other P2P technologies. Additionally or alternatively the application server may at determine interval lengths differently for each P2P technology based on set up time. According to this alternative the time that a P2P data transfer opportunity is determined to be available i.e. the beginning of a given interval is not the time that UE and UE are within a given proximity to one another but more practically the time that UE and UE are within a given proximity plus the time that will elapse while the direct P2P link is established.

At as noted above the application server will transmit transfer notification data . As noted above the transfer notification data may include for example a command to transmit the data at the transfer time targeted at .

According to one implementation shown in the target transfer time is a future time and the data transfer is performed using a direct P2P link. At the UE waits until the targeted transfer time. At the data transfer is performed using a P2P link at . The targeted transfer time may be identified in relative or absolute terms. In other implementations the target transfer time may be a present time and the transfer may begin immediately using whatever data transfer resources are available.

In other implementations the transfer notification data includes not only an identification of the targeted transfer time but also an identification of the transfer technology to be used. For example the transfer notification data may command the UE to begin the data transfer in one hour using a direct LTE D link. The transfer notification data may further include information relating to establishment of the direct LTE D link discovery of the data transfer target for example UE etc.

In other implementations the transfer notification data includes instructions to prompt the user to delay the data transfer until the targeted transfer time or to notify the user of the targeted transfer time. In other words the application server will obtain the user s permission before delaying the data transfer or notify the user of the targeted transfer time giving the user an opportunity to override the delay or make a new request.

In other implementations the transfer notification data includes other data generated by application server in accordance the present disclosure. For example if the application server has estimated a power savings value for associated with a future transfer time then the power savings value may be included in the transfer notification data . In this example the user of UE is alerted to the power savings associated with the data transfer delay.

In other implementations the transfer notification data may include content indicators. Content indicators may describe the data to the user for example a file name a thumbnail image a snippet of video a front page or title of a document or any other indicator of the content of the data to be transferred. Additionally or alternatively the transfer notification data merely identifies the data to be transferred and the UE generates the content indicators locally.

In other implementations the transfer notification data may include conditional transfer times and associated conditions. For example the application server may instruct the UE to perform periodic location updates using for example a navigational application and to begin a data transfer when the coordinates of the UE meet certain conditions.

The application server may also treat data which can be segmented differently from data that can not be segmented. For example some video data files must be transferred in their entirety before they can be used. Others can be segmented for example streamed such that the beginning of the video can be viewed by a transferee for example UE before the data associated with the end of the video is even received. Consider a scenario in which UE requests immediate transfer of a two hour video to UE and the application server upon receiving the request determines that a P2P offloading opportunity is likely to arise within 40 minutes. If the two hour video can not be segmented then the application server may grant the request for immediate transfer. On the other hand if the two hour video can be segmented then the application server may instruct the UE to immediately transfer an amount of data that equates to approximately the first 40 minutes of the two hour video. Then the application server may target a future interval in which the P2P offloading opportunity is available for transfer of the remaining data. As a result the remaining one hour and twenty minutes can be transferred while realizing power savings network load reduction etc. without limiting usage of the data on the part of the UE . According to some implementations the application server may determine whether the data that is subject to the data transfer request can be segmented in this manner. This determination may be made based on for example data received from the UE which is included in the data transfer request .

According to this example the wireless device traveling on the first trajectory is shown in four different positions along the first trajectory . Each position corresponds to a different time. At time t 0 the wireless device is shown at position . At time t 100 the wireless device is shown at position . At time t 115 the wireless device is shown at position . And at time t 130 the wireless device is shown at position . The data transfer target traveling on the second trajectory is also shown in four different positions at four different times along the second trajectory . At time t 0 the data transfer target is shown at position . At time t 100 the data transfer target is shown at position . At time t 115 the data transfer target is shown at position . And at time t 130 the data transfer target is shown at position . The unit of time may be for example minutes.

In the example of the wireless device determines to transfer data to the data transfer target. Accordingly the wireless device sends a data transfer request to for example application server . The application server then determines the TSW associated with the data transfer request in any manner set forth in the present disclosure. For the purposes of this example the data request has a TTL of 130 minutes. Therefore the length of the TSW is set equal to 130 minutes starting at time t 0.

Next the application server determines intervals for potential P2P data transfer opportunities between the wireless device and the data transfer target. The application server determines the intervals on the basis of relevant factors such as the length of the TSW the predicted locations of the wireless device and data transfer target the P2P technologies that will be available at the predicted locations and the amount of data to be transferred for example the file size .

In this illustration the application server initially determines the TSW. Then the application server will predict the respective locations of the wireless device and the data transfer target at various times during the TSW. As shown in the application server predicts based on for example data acquired from a navigational application that the wireless device will be traveling along the first trajectory during the 130 minute TSW and that the data transfer target will be traveling along the second trajectory during the 130 minute TSW.

Next the application server determines what P2P technologies will be available for the requested data transfer. For the purposes of this example the application server determines that LTE D P2P technology is available to both the wireless device and the data transfer target for the entire duration of the 130 minute TSW. The application server also determines the range of the P2P technology i.e. the maximum distance over which a direct P2P link can be established. The determined range may be a baseline or default range associated with a particular technology for example one mile in the case of LTE D or may be adjusted based on conditions past behavior etc.

Based on the predicted first trajectory the predicted second trajectory and the known or estimated range associated with the available P2P technologies the application server can determine an available interval for P2P data offloading. In FIG. this interval is depicted as a P2P data transfer zone . The P2P data transfer zone may be defined as a time interval or geographic area in which a P2P data transfer can be performed.

In the example of the application server determines that at time t 100 the wireless device traveling along the first trajectory will be at position and the data transfer target traveling along the second trajectory will be at position . Moreover the distance between position of the wireless device and position of the data transfer target is equal to the maximum distance over which a direct P2P link can be established one mile for LTE D in this illustration . Therefore the application server predicts based on the predicted first trajectory the predicted second trajectory and the predicted availability of LTE D P2P technology having a known or estimated range that a direct LTE D link can be established between the wireless device and the data transfer target at time t 100.

Using the same techniques the application server further predicts that P2P data transfer will remain available until time t 115 at which point the direct LTE D link is once again at the limit of its range. Finally the application server predicts that between time t 115 and t 130 the end of the TSW the distance between the wireless device and the data transfer target will be too great for establishment or maintenance of a direct LTE D link.

Accordingly it will be understood that the application server is able to determine an interval for P2P offloading as a function of the predicted locations of the wireless device and data transfer target respectively as well as the known or estimated range of the available P2P technologies. The application server may therefore target a transfer time of t 100.

However the application server may also determine the amount of time necessary to complete the requested data transfer. The application server will be able to make this determination as a function of the amount of data to be transferred and a data transfer rate. The data transfer rate may be a baseline or default data transfer rate that is assumed based on the available P2P technology. Additionally or alternatively the application server may estimate a data rate based on conditions past behavior etc. The application server may assume a constant data rate throughout the P2P offloading interval or may estimate a changing data rate based on the predicted locations and distance therebetween of the wireless device and data transfer target respectively.

In this scenario the ultimate decision to target a transfer time of t 100 may be contingent upon a determination by for example the application server that the requested data transfer can be completed in less than 15 minutes. In particular because the interval for P2P offloading has been predicted to begin at time t 100 and end at time t 115 the application server predicts that the P2P offloading interval lasts 15 minutes. Accordingly if the application server determines that the data transfer can be completed within 15 minutes then the application server will target a transfer time of t 100. If on the other hand the data transfer can not be completed within the 15 minute P2P offloading interval then the application server may target a different transfer time for example time t 0 .

Those of skill in the art will appreciate that information and signals may be represented using any of a variety of different technologies and techniques. For example data instructions commands information signals bits symbols and chips that may be referenced throughout the above description may be represented by voltages currents electromagnetic waves magnetic fields or particles optical fields or particles or any combination thereof.

Further those of skill in the art will appreciate that the various illustrative logical blocks modules circuits and algorithm steps described in connection with the embodiments disclosed herein may be implemented as electronic hardware computer software or combinations of both. To clearly illustrate this interchangeability of hardware and software various illustrative components blocks modules circuits and steps have been described above generally in terms of their functionality. Whether such functionality is implemented as hardware or software depends upon the particular application and design constraints imposed on the overall system. Skilled artisans may implement the described functionality in varying ways for each particular application but such implementation decisions should not be interpreted as causing a departure from the scope of the present invention.

The various illustrative logical blocks modules and circuits described in connection with the embodiments disclosed herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

The methods sequences and or algorithms described in connection with the embodiments disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal e.g. UE . In the alternative the processor and the storage medium may reside as discrete components in a user terminal.

In one or more exemplary embodiments the functions described may be implemented in hardware software firmware or any combination thereof. If implemented in software the functions may be stored on or transmitted over as one or more instructions or code on a computer readable medium. Computer readable media includes both computer storage media and communication media including any medium that facilitates transfer of a computer program from one place to another. A storage media may be any available media that can be accessed by a computer. By way of example and not limitation such computer readable media can comprise RAM ROM EEPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium that can be used to carry or store desired program code in the form of instructions or data structures and that can be accessed by a computer. Also any connection is properly termed a computer readable medium. For example if the software is transmitted from a website server or other remote source using a coaxial cable fiber optic cable twisted pair digital subscriber line DSL or wireless technologies such as infrared radio and microwave then the coaxial cable fiber optic cable twisted pair DSL or wireless technologies such as infrared radio and microwave are included in the definition of medium. Disk and disc as used herein includes compact disc CD laser disc optical disc digital versatile disc DVD floppy disk and blu ray disc where disks usually reproduce data magnetically while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of computer readable media.

While the foregoing disclosure shows illustrative embodiments of the invention it should be noted that various changes and modifications could be made herein without departing from the scope of the invention as defined by the appended claims. The functions steps and or actions of the method claims in accordance with the embodiments of the invention described herein need not be performed in any particular order. Furthermore although elements of the invention may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

