---

title: Systems and methods for adaptive frequency synchronization
abstract: In one embodiment, a method includes receiving transmission segments from at least one device over a plurality of channels pursuant to a channel-switching schedule, the channel-switching schedule comprising an iteratively-repeated channel sequence. The iteratively-repeated channel sequence comprises a plurality of channels, the channel-switching schedule specifying an assigned transmission duration for each channel. In addition, the method includes, for at least one channel of the plurality of channels, detecting interference during a time segment of the assigned transmission duration, the time segment comprising at least one of a beginning portion and an ending portion of the assigned transmission duration. Further, the method includes responsive to the detected interference, determining to shift, by a specified quantity of time, a future channel switch indicated by the iteratively-repeated channel sequence.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09660744&OS=09660744&RS=09660744
owner: Enforcement Video, LLC
number: 09660744
owner_city: Allen
owner_country: US
publication_date: 20150113
---
The present disclosure relates generally to wireless devices and more particularly but not by way of limitation to systems and methods for adaptive frequency synchronization.

It is common for police officers to patrol together respond to a same event or otherwise work in close proximity to each other. In many cases each officer may be wearing a wireless microphone. This may cause multiple transmitter receiver pairs to be transmitting in the same physical area such that each receiver can detect the wireless signal of each transmitter and vice versa. The transmitter receiver pairs may interfere with each other and cause audio to be lost.

In one embodiment a method includes receiving transmission segments from at least one device over a plurality of channels pursuant to a channel switching schedule the channel switching schedule comprising an iteratively repeated channel sequence. The iteratively repeated channel sequence comprises a plurality of channels the channel switching schedule specifying an assigned transmission duration for each channel. In addition the method includes for at least one channel of the plurality of channels detecting interference during a time segment of the assigned transmission duration the time segment comprising at least one of a beginning portion and an ending portion of the assigned transmission duration. Further the method includes responsive to the detected interference determining to shift by a specified quantity of time a future channel switch indicated by the iteratively repeated channel sequence.

In one embodiment a system includes at least one processor wherein the at least one processor is operable to implement a method. The method includes receiving transmission segments from at least one device over a plurality of channels pursuant to a channel switching schedule the channel switching schedule comprising an iteratively repeated channel sequence. The iteratively repeated channel sequence comprises a plurality of channels the channel switching schedule specifying an assigned transmission duration for each channel. In addition the method includes for at least one channel of the plurality of channels detecting interference during a time segment of the assigned transmission duration the time segment comprising at least one of a beginning portion and an ending portion of the assigned transmission duration. Further the method includes responsive to the detected interference determining to shift by a specified quantity of time a future channel switch indicated by the iteratively repeated channel sequence.

In one embodiment a computer program product includes a non transitory computer usable medium having computer readable program code embodied therein. The computer readable program code is adapted to be executed to implement a method. The method includes receiving transmission segments from at least one device over a plurality of channels pursuant to a channel switching schedule the channel switching schedule comprising an iteratively repeated channel sequence. The iteratively repeated channel sequence comprises a plurality of channels the channel switching schedule specifying an assigned transmission duration for each channel. In addition the method includes for at least one channel of the plurality of channels detecting interference during a time segment of the assigned transmission duration the time segment comprising at least one of a beginning portion and an ending portion of the assigned transmission duration. Further the method includes responsive to the detected interference determining to shift by a specified quantity of time a future channel switch indicated by the iteratively repeated channel sequence.

An in car video system for law enforcement can include a wireless microphone system. The wireless microphone system typically includes a transmitter and a receiver. A police officer for example can wear a wireless microphone transmitter so that the officer s voice and the voice of anyone conversing with the officer can be captured when the officer is outside a patrol vehicle. A wireless microphone receiver can be mounted in the patrol vehicle and connected e.g. wired to the in car video system. Audio can be captured by the wireless microphone transmitter and transmitted wirelessly to the wireless microphone receiver. The wireless microphone receiver can send the audio through an interface e.g. a wired interface to the in car video system. In various cases the in car video system may combine this audio with video from one or more cameras and audio from one or more audio sources into one or more audio video streams that are stored in the vehicle. The streams can be reviewed in the vehicle or transmitted to another storage location for archival and or retrieval.

One way to minimize interference during wireless transmissions is to use a frequency hopping spread spectrum FHSS . The FHSS can be used to transmit radio signals by rapidly switching a carrier among many frequency channels according to a channel switching schedule known to both the transmitter and the receiver. The channel switching schedule can be for example an iteratively repeated channel sequence or hopping pattern that specifies an assigned transmission duration for each channel. In some cases the iteratively repeated channel sequence can be a pseudorandom sequence of channels.

The FHSS approach described above however can still permit interference in many circumstances. For example when two officers patrol together in the same patrol vehicle each wearing a wireless microphone two transmitter receiver pairs may be transmitting in the same physical area. The transmitter receiver pairs may periodically interfere with each other and cause audio to be lost on one or both officers wireless microphones. The problem is potentially made worse when multiple patrol vehicles arrive at a scene at the same time each patrol vehicle potentially having two transmitter receiver pairs. As more pairs enter the same physical area the chances for interference and therefore lost audio increases.

The present disclosure describes examples of adapting a channel switching schedule in response to detected interference. In certain embodiments interference can be detected for individual segments of an assigned transmission duration for each channel of the channel switching schedule. In certain embodiments when interference is detected during a particular time segment of the assigned transmission duration a future channel switch can be shifted by a specified quantity of time. Advantageously in various cases this shift can result in an automatically adapted channel switching schedule that results in reduced interference during wireless transmission.

In the illustrated embodiment the receiver can form a transmitter receiver pair with each of the transmitter and the transmitter . Accordingly a channel switching schedule can be established for each transmitter receiver pair. A transmitter receiver pair typically determines the channel switching schedule during a synchronization phase of initialization. In some embodiments receivers such as the receiver may only form a transmitter receiver pair with a single transmitter so that each transmitter has its own receiver. In other embodiments as illustrated receivers such as the receiver may be able to form a transmitter receiver pair with two or more transmitters.

For example in the embodiment illustrated the receiver can send a synchronization packet to each of the transmitter and the transmitter . This synchronization packet can inform the transmitter and the transmitter when the receiver will be switching channels and what the pseudorandom frequency hopping pattern will be. The synchronization phase can establish the paired nature of each transmitter receiver pair. In certain embodiments each channel switching schedule can be based on a same pseudo random frequency hopping pattern so that at least initially each channel switching schedule uses a same sequence of channels although channel switch timing may vary .

In certain embodiments the receiver can detect interference in transmissions received from the transmitter and the transmitter based at least in part on an assessment of reception quality. The receiver can record information regarding cumulative health of each transmission segment in the storage or other memory. Example operation of the receiver and the transmitters and will be described with respect to .

The transmitter transmitter and receiver may each include one or more portions of one or more computer systems. In particular embodiments one or more of these computer systems may perform one or more steps of one or more methods described or illustrated herein. In particular embodiments one or more computer systems may provide functionality described or illustrated herein. In particular embodiments encoded software running on one or more computer systems may perform one or more steps of one or more methods described or illustrated herein or provide functionality described or illustrated herein.

The components of transmitter transmitter and receiver may comprise any suitable physical form configuration number type and or layout. As an example and not by way of limitation transmitter transmitter and or receiver may comprise an embedded computer system a system on chip SOC a single board computer system SBC such as for example a computer on module COM or system on module SOM a desktop computer system a laptop or notebook computer system an interactive kiosk a mainframe a mesh of computer systems a mobile telephone a personal digital assistant PDA a server or a combination of two or more of these. Where appropriate transmitter transmitter and or receiver may include one or more computer systems be unitary or distributed span multiple locations or span multiple machines.

In the depicted embodiment transmitter transmitter and receiver each include their own respective processors and memory and storage and interfaces and and buses and . Although a particular system is depicted having a particular number of particular components in a particular arrangement this disclosure contemplates any suitable system having any suitable number of any suitable components in any suitable arrangement. For simplicity similar components of transmitter transmitter and receiver will be discussed together while referring to the components of transmitter . However it is not necessary for these devices to have the same components or the same type of components. For example processor may be a general purpose microprocessor and processor may be an application specific integrated circuit ASIC .

Processor may be a microprocessor controller or any other suitable computing device resource or combination of hardware software and or encoded logic operable to provide either alone or in conjunction with other components e.g. memory wireless networking functionality. Such functionality may include providing various features discussed herein. In particular embodiments processor may include hardware for executing instructions such as those making up a computer program. As an example and not by way of limitation to execute instructions processor may retrieve or fetch instructions from an internal register an internal cache memory or storage decode and execute them and then write one or more results to an internal register an internal cache memory or storage .

In particular embodiments processor may include one or more internal caches for data instructions or addresses. This disclosure contemplates processor including any suitable number of any suitable internal caches where appropriate. As an example and not by way of limitation processor may include one or more instruction caches one or more data caches and one or more translation lookaside buffers TLBs . Instructions in the instruction caches may be copies of instructions in memory or storage and the instruction caches may speed up retrieval of those instructions by processor . Data in the data caches may be copies of data in memory or storage for instructions executing at processor to operate on the results of previous instructions executed at processor for access by subsequent instructions executing at processor or for writing to memory or storage or other suitable data. The data caches may speed up read or write operations by processor . The TLBs may speed up virtual address translations for processor . In particular embodiments processor may include one or more internal registers for data instructions or addresses. Depending on the embodiment processor may include any suitable number of any suitable internal registers where appropriate. Where appropriate processor may include one or more arithmetic logic units ALUs be a multi core processor include one or more processors or any other suitable processor.

Memory may be any form of volatile or non volatile memory including without limitation magnetic media optical media random access memory RAM read only memory ROM flash memory removable media or any other suitable local or remote memory component or components. In particular embodiments memory may include random access memory RAM . This RAM may be volatile memory where appropriate. Where appropriate this RAM may be dynamic RAM DRAM or static RAM SRAM . Moreover where appropriate this RAM may be single ported or multi ported RAM or any other suitable type of RAM or memory. Memory may include one or more memories where appropriate. Memory may store any suitable data or information utilized by transmitter including software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware . In particular embodiments memory may include main memory for storing instructions for processor to execute or data for processor to operate on. In particular embodiments one or more memory management units MMUs may reside between processor and memory and facilitate accesses to memory requested by processor .

As an example and not by way of limitation transmitter may load instructions from storage or another source such as for example another computer system to memory . Processor may then load the instructions from memory to an internal register or internal cache. To execute the instructions processor may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions processor may write one or more results which may be intermediate or final results to the internal register or internal cache. Processor may then write one or more of those results to memory . In particular embodiments processor may execute only instructions in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere and may operate only on data in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere .

In particular embodiments storage may include mass storage for data or instructions. As an example and not by way of limitation storage may include a hard disk drive HDD a floppy disk drive flash memory an optical disc a magneto optical disc magnetic tape or a Universal Serial Bus USB drive or a combination of two or more of these. Storage may include removable or non removable or fixed media where appropriate. Storage may be internal or external to transmitter where appropriate. In particular embodiments storage may be non volatile solid state memory. In particular embodiments storage may include read only memory ROM . Where appropriate this ROM may be mask programmed ROM programmable ROM PROM erasable PROM EPROM electrically erasable PROM EEPROM electrically alterable ROM EAROM or flash memory or a combination of two or more of these. Storage may take any suitable physical form and may comprise any suitable number or type of storage. Storage may include one or more storage control units facilitating communication between processor and storage where appropriate.

In particular embodiments interface may include hardware encoded software or both providing one or more interfaces for communication such as for example packet based communication among transmitter transmitter receiver any networks any network devices and or any other computer systems. As an example and not by way of limitation communication interface may include a network interface controller NIC or network adapter for communicating with an Ethernet or other wire based network and or a wireless NIC WNIC or wireless adapter for communicating with a wireless network.

In some embodiments interface comprises one or more radios coupled to one or more physical antenna ports . Depending on the embodiment interface may be any type of interface suitable for any type of network for which wireless network is used. As an example and not by way of limitation wireless network can include or communicate with an ad hoc network a personal area network PAN a local area network LAN a wide area network WAN a metropolitan area network MAN or one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example wireless network can include or communicate with a wireless PAN WPAN such as for example a BLUETOOTH WPAN a WI FI network a WI MAX network an LTE network an LTE A network a cellular telephone network such as for example a Global System for Mobile Communications GSM network or any other suitable wireless network or a combination of two or more of these. transmitter may include any suitable interface for any one or more of these networks where appropriate.

In some embodiments interface may include one or more interfaces for one or more I O devices. One or more of these I O devices may enable communication between a person and transmitter . As an example and not by way of limitation an I O device may include a keyboard keypad microphone monitor mouse printer scanner speaker still camera stylus tablet touchscreen trackball video camera another suitable I O device or a combination of two or more of these. An I O device may include one or more sensors. Particular embodiments may include any suitable type and or number of I O devices and any suitable type and or number of interfaces for them. Where appropriate interface may include one or more drivers enabling processor to drive one or more of these I O devices. Interface may include one or more interfaces where appropriate.

Bus may include any combination of hardware software embedded in a computer readable medium and or encoded logic incorporated in hardware or otherwise stored e.g. firmware to couple components of transmitter to each other. As an example and not by way of limitation bus may include an Accelerated Graphics Port AGP or other graphics bus an Enhanced Industry Standard Architecture EISA bus a front side bus FSB a HYPERTRANSPORT HT interconnect an Industry Standard Architecture ISA bus an INFINIBAND interconnect a low pin count LPC bus a memory bus a Micro Channel Architecture MCA bus a Peripheral Component Interconnect PCI bus a PCI Express PCI X bus a serial advanced technology attachment SATA bus a Video Electronics Standards Association local VLB bus or any other suitable bus or a combination of two or more of these. Bus may include any number type and or configuration of buses where appropriate. In particular embodiments one or more buses which may each include an address bus and a data bus may couple processor to memory . Bus may include one or more memory buses.

Herein reference to a computer readable storage medium encompasses one or more tangible computer readable storage media possessing structures. As an example and not by way of limitation a computer readable storage medium may include a semiconductor based or other integrated circuit IC such as for example a field programmable gate array FPGA or an application specific IC ASIC a hard disk an HDD a hybrid hard drive HHD an optical disc an optical disc drive ODD a magneto optical disc a magneto optical drive a floppy disk a floppy disk drive FDD magnetic tape a holographic storage medium a solid state drive SSD a RAM drive a SECURE DIGITAL card a SECURE DIGITAL drive a flash memory card a flash memory drive or any other suitable tangible computer readable storage medium or a combination of two or more of these where appropriate.

Particular embodiments may include one or more computer readable storage media implementing any suitable storage. In particular embodiments a computer readable storage medium implements one or more portions of processor such as for example one or more internal registers or caches one or more portions of memory one or more portions of storage or a combination of these where appropriate. In particular embodiments a computer readable storage medium implements RAM or ROM. In particular embodiments a computer readable storage medium implements volatile or persistent memory. In particular embodiments one or more computer readable storage media embody encoded software.

Herein reference to encoded software may encompass one or more applications bytecode one or more computer programs one or more executables one or more instructions logic machine code one or more scripts or source code and vice versa where appropriate that have been stored or encoded in a computer readable storage medium. In particular embodiments encoded software includes one or more application programming interfaces APIs stored or encoded in a computer readable storage medium. Particular embodiments may use any suitable encoded software written or otherwise expressed in any suitable programming language or combination of programming languages stored or encoded in any suitable type or number of computer readable storage media. In particular embodiments encoded software may be expressed as source code or object code. In particular embodiments encoded software is expressed in a higher level programming language such as for example C Perl or a suitable extension thereof. In particular embodiments encoded software is expressed in a lower level programming language such as assembly language or machine code . In particular embodiments encoded software is expressed in JAVA. In particular embodiments encoded software is expressed in Hyper Text Markup Language HTML Extensible Markup Language XML or other suitable markup language.

At block the transmitter sends a transmission segment to the receiver . From block the process can proceed to blocks and in parallel or substantially in parallel. At block the receiver receives the transmission segment. At block the receiver evaluates a reception quality of the transmission segment. As described with respect to the transmission on a particular channel or a transmission duration can be divided into transmissions segments. The evaluation can include applying a checksum cyclic redundancy check CRC and or another data integrity algorithm to the transmission segment. Each segment also typically contains a segment sequence identifier to specify the segment s location within the transmission e.g. k k etc. .

At block the receiver records information related to the reception quality in memory. For example the information can include an indication of whether the transmission segment failed any of the data integrity algorithms described above. Such information can be stored in relation to the segment sequence identifier of the segment. In addition or alternatively the recorded information can include an update to statistics maintained for the segment sequence identifier. In some cases the block can include generating or determining statistical data.

In an example the receiver can determine and or maintain for a particular channel a number of times a percentage of times combinations of same and or the like that the segments corresponding to the segment sequence identifier have failed one or more data integrity algorithms. According to this example the receiver could determine that segment kon the particular channel has failed an applicable data integrity algorithm nine times ninety percent of the time combinations of same and or the like.

In another example the receiver can determine and or maintain a number of times or percentage of times across all channels that a given segment sequence identifier fails one or more data integrity algorithms. According to this example the receiver could determine that a segment kfails an applicable data integrity algorithm eighty times sixty percent of the time combinations of same and or the like. It should be appreciated that the foregoing statistics are presented herein only as illustrative examples. In certain embodiments the receiver can determine and or maintain any of the foregoing example statistics and or other statistics. In particular other statistics of a desired granularity can also be used and will be apparent to one skilled in the art after reviewing the present disclosure.

At decision block the transmitter determines whether an assigned transmission duration has been reached. As mentioned above in certain embodiments the assigned transmission duration can be defined in terms of a number of transmission segments. In other cases the assigned transmission duration can be defined in other ways such as for example in terms of units of time. If it is determined at the decision block that the assigned transmission duration has not been reached the process returns to block and proceeds as described above. Otherwise if it is determined at the decision block that the assigned transmission duration has been reached the process proceeds to block .

At block the transmitter switches to a next channel specified by the channel switching schedule. For example with respect to if the transmitter is currently transmitting on the channel the transmitter can begin transmitting on the channel . According to this example the receiver can similarly begin listening for transmissions by the transmitter on the channel . After block the process returns to block and proceeds as described above. In general the process can continue indefinitely until terminated e.g. by a user or other suitable stop criteria is satisfied.

At decision block the receiver determines whether an interference pattern is detected based on configurable criteria. In an example an interference threshold can be established in terms of a number of times or a percentage of times that a data integrity algorithm fails. According to this example an interference pattern could be detected from the fact that the interference threshold is satisfied for a same relative time segment of each channel of the channel switching schedule e.g. segment ksatisfies the interference threshold for all channels in the channel switching schedule . The same relative time segment can correspond for example to a particular transmission segment as identified by a segment sequence identifier e.g. k two or more such segments that are contiguous e.g. k kand k combinations of same and or the like. If the decision block results in a negative determination the process proceeds to block and ends. Otherwise if it is determined at the decision block that an interference pattern is detected the process proceeds to block .

At block the receiver determines to shift by a specified quantity of time a future channel switch specified by the channel switching schedule. In an example if the detected interference pattern relates to one or more segments at the end of each assigned transmission duration the receiver can determine to advance or accelerate the next channel switch by the specified quantity of time. In another example if the detected interference pattern relates to one or more segments at the beginning of each assigned transmission duration the receiver can determine to delay the next channel switch by the specified quantity of time.

In certain embodiments the advancement or delay of the future channel switch does not modify a channel sequence of the channel switching schedule but only time shifts its execution. For example the advancement or delay of the future channel switching schedule can have the effect of shifting an entirety of the channel switching schedule by the specified quantity of time. The specified quantity of time can be for example a predetermined unit e.g. one transmission segment a fractional portion of the duration of the segment s over which interference was detected etc.

At block the receiver resynchronizes with the transmitter so as to enact the determined shift. For example the receiver can send a resynchronization packet with information similar to the initial synchronization packet and adjust its own channel switching time. The transmitter can receive the resynchronization packet and adjust its channel switching time to match the new channel switching time of the receiver . At block the process ends.

In the illustrated embodiment periods of interference between the channel switching schedules and are shown via shading. The transmitter receiver pairs P and P can each independently use a process such as the process of to detect the interference and adapt the channel switching schedules and respectively.

According to this example the transmitter receiver pair P can detect a pattern of interference at a beginning of an assigned transmission duration of each channel e.g. interference during transmission segments kand k . The transmitter receiver pair P can adapt the channel switching schedule by delaying a future channel switch by a specified quantity of time. As described above in certain embodiments the specified quantity of time can be expressed in terms of a number of transmission segments. For example the transmitter receiver pair P can delay a next channel switch by the number of transmission segments for which interference has been detected to occur i.e. interference segments a fractional portion of the interference segments a predefined number of transmission segments e.g. one transmission segment so as to enable gradual or incremental adaptation combinations of same and or the like. In a typical embodiment delaying the future channel switch by the specified quantity of time has the effect of delaying an entirety of the channel switching schedule by the specified quantity of time thereby reducing the likelihood of future interference.

In similar fashion the transmitter receiver pair P can detect a pattern of interference at an end of an assigned transmission duration of each channel e.g. interference during transmission segments kand k . The transmitter receiver pair P can adapt the channel switching schedule by accelerating a future channel switch by a specified quantity of time. As described above the specified quantity of time can in some cases be expressed in terms of a number of transmission segments. For example the transmitter receiver pair P can accelerate or advance a next channel switch by the number of transmission segments for which interference is has been detected to occur i.e. interference segments a fractional portion of the interference segments a predefined number of transmission segments e.g. one transmission segment so as to enable gradual or incremental adaptation combinations of same and or the like.

The transmitter receiver pair P and the transmitter receiver P can each perform the above described adaptations in parallel. Advantageously in certain embodiments numerous transmitter receiver pairs can be configured to execute a same adaptation algorithm such as one or more of the algorithms detailed above. Further in certain embodiments each transmitter receiver pair can use a same pseudorandom sequence to initially set a channel switching schedule. In this fashion the channel switching schedule for each transmitter receiver pair can include a same sequence of channels. When some of the transmitter receiver pairs are located in a same physical area each pair can independently adapt a corresponding channel switching schedule. In that way the independent and parallel execution of the same adaptation algorithm can achieve a synergy that in many cases results in interference between the pairs being reduced or eliminated.

For simplicity of description and illustration various examples are described above in which channel switching schedules include a particular number of channels e.g. four . It should be appreciated that in various embodiments much larger numbers of channels may be utilized. In an example in implementations using IEEE 802.11n in the 2.4 GHz range fourteen channels can be used. In another example an implementation in the industrial scientific and medical ISM band e.g. 902 to 928 MHz may use 50 channels or more.

Depending on the embodiment certain acts events or functions of any of the algorithms described herein can be performed in a different sequence can be added merged or left out altogether e.g. not all described acts or events are necessary for the practice of the algorithms . Moreover in certain embodiments acts or events can be performed concurrently e.g. through multi threaded processing interrupt processing or multiple processors or processor cores or on other parallel architectures rather than sequentially. Although certain computer implemented tasks are described as being performed by a particular entity other embodiments are possible in which these tasks are performed by a different entity.

Conditional language used herein such as among others can might may e.g. and the like unless specifically stated otherwise or otherwise understood within the context as used is generally intended to convey that certain embodiments include while other embodiments do not include certain features elements and or states. Thus such conditional language is not generally intended to imply that features elements and or states are in any way required for one or more embodiments or that one or more embodiments necessarily include logic for deciding with or without author input or prompting whether these features elements and or states are included or are to be performed in any particular embodiment.

While the above detailed description has shown described and pointed out novel features as applied to various embodiments it will be understood that various omissions substitutions and changes in the form and details of the devices or algorithms illustrated can be made without departing from the spirit of the disclosure. As will be recognized the processes described herein can be embodied within a form that does not provide all of the features and benefits set forth herein as some features can be used or practiced separately from others. The scope of protection is defined by the appended claims rather than by the foregoing description. All changes which come within the meaning and range of equivalency of the claims are to be embraced within their scope.

