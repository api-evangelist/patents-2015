---

title: Information processing apparatus, recording system, printing program and external program
abstract: An information processing apparatus includes: a storage configured to store an external program for determining print data; a network interface performing wireless communication with an image recording apparatus, and a controller configured to execute: acquisition processing of acquiring the determined print data and program identifying information of the external program from the external program; readout processing of, when the first setting value associated with the acquired program identifying information is stored in the storage, reading out the first setting value; preview display processing of generating a preview image according to the first setting value and displaying the preview image; first reception processing of receiving a first touch operation of instructing execution of the recording processing; and output processing of, when the first touch operation is received, transmitting, to the image recording apparatus through the network interface, recording instruction information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09485371&OS=09485371&RS=09485371
owner: Brother Kogyo Kabushiki Kaisha
number: 09485371
owner_city: Nagoya-shi, Aichi-ken
owner_country: JP
publication_date: 20151211
---
This application is based upon and claims the benefit of priority of Japanese Patent Application No. 2014 250926 filed on Dec. 11 2014 the contents of which are incorporated herein by reference in its entirety.

The disclosure relates to a printing program capable of enabling an image recording apparatus to execute recording processing of print data.

In the related art a program configured to enable an image recording apparatus to record an image which is represented by data acquired from a service provision apparatus on a sheet has been known. A program is known which is capable of enabling an image recording apparatus to execute recording processing of recording an image which is represented by print data acquired from a service provision apparatus on a sheet. A program in which processing of selecting a setting value to be used in the recording processing according to a data format of the print data is implemented has been also known.

In the above program when a setting value to be used in the recording processing of the print data is determined according to only the data format of the print data a following problem may occur.

For example it is assumed that a PNG format is photograph data and a setting value appropriate to printing on a glossy sheet having an L size is associated. However when the print data having a PNG format selected through an external program is map data the sheet having an L size may be too small or the cost may increase when the map data is printed on the glossy sheet. This problem is particularly conspicuous when executing the recording processing of the print data selected by the user through the external program.

It is therefore an object of the disclosure to provide a printing program capable of enabling an image recording apparatus to execute recording processing of print data which is selected by a user through an external program according to an appropriate setting value.

A non transitory computer readable recording medium stores a printing program configured to be executed by a computer comprising a display an user interface a storage configured to store an external program for determining print data based on a user s operation and a network interface configured to perform wireless communication with an image recording apparatus configured to execute recording processing of recording an image to be represented by the print data on a sheet according to a setting value through the network interface the printing program causing the computer to execute acquisition processing of acquiring the print data determined based on the user s operation and program identifying information of the external program from the external program executed by the computer the program identifying information identifying the external program determination processing of determining whether a first setting value associated with the acquired program identifying information is stored in the storage readout processing of when it is determined in the determination processing that the first setting value associated with the acquired program identifying information is stored in the storage reading out the first setting value from the storage as the setting value preview display processing of generating a preview image representing a state where a print image represented by the print data is recorded on the sheet according to the first setting value read out as the setting value in the readout processing and displaying the preview image on the display first reception processing of receiving a first touch operation of instructing execution of the recording processing of the print data through the user interface at a state where the preview image is displayed on the display and output processing of when the first touch operation is received in the first reception processing transmitting to the image recording apparatus through the network interface recording instruction information for executing the recording processing of the print data according to the setting value used for generation of the preview image.

An information processing apparatus comprises a display an user interface a storage configured to store an external program for determining print data based on a user s operation a network interface configured to perform wireless communication with an image recording apparatus configured to executing recording processing of recording an image which is represented by the print data on a sheet according to a setting value and a control unit configured to execute acquisition processing of acquiring the print data determined based on the user s operation and program identifying information of the external program from the external program executed by the information processing apparatus the program identifying information identifying the external program determination processing of determining whether a first setting value associated with the acquired program identifying information is stored in the storage readout processing of when it is determined in the determination processing that the first setting value associated with the acquired program identifying information is stored in the storage reading out the first setting value from the storage as the setting value preview display processing of generating a preview image representing a state where a print image represented by the print data is recorded on the sheet according to the first setting value read out as the setting value in the readout processing and displaying the preview image on the display first reception processing of receiving a first touch operation of instructing execution of the recording processing of the print data through the user interface at a state where the preview image is displayed on the display and output processing of when the first touch operation is received in the first reception processing transmitting to the image recording apparatus through the network interface recording instruction information for executing the recording processing of the print data according to the setting value used for generation of the preview image.

A recording system comprises an information processing apparatus comprising a display an user interface a storage configured to store an external program for determining the print data based on a user s operation a first network interface and a first control unit and an image recording apparatus comprising a recording unit configured to execute recording processing of recording an image which is to be represented by print data on a sheet according to a setting value a second network interface and a second control unit. The first control unit is configured to execute acquisition processing of acquiring the print data determined based on the user s operation and program identifying information of the external program from the external program executed by the information processing apparatus the program identifying information identifying the external program determination processing of determining whether a first setting value associated with the acquired program identifying information is stored in the storage readout processing of when it is determined in the determination processing that the first setting value associated with the acquired program identifying information is stored in the storage reading out the first setting value from the storage as the setting value preview display processing of generating a preview image representing a state where a print image represented by the print data is recorded on the sheet according to the first setting value read out as the setting value in the readout processing and displaying the preview image on the display first reception processing of receiving a first touch operation of instructing execution of the recording processing of the print data through the user interface at a state where the preview image is displayed on the display and output processing of when the first touch operation is received in the first reception processing transmitting to the image recording apparatus through the first network interface recording instruction information for executing the recording processing of the print data according to the setting value used for generation of the preview image. The second control unit is configured to cause the recording unit to execute the recording processing represented by the recording instruction information when the recording instruction information is received from the information processing apparatus through the second communication

Hereinafter illustrative embodiments of the disclosure will be described with reference to the drawings. Meanwhile the illustrative embodiments which will be described later are just examples of the disclosure and the illustrative embodiments of the disclosure can be appropriately changed without changing the gist of the disclosure.

As shown in the complex machine mainly has a printer unit a scanner unit a display an user interface a network interface a CPU a storage and a communication bus . The respective constitutional elements configuring the complex machine are connected each other through a communication bus . The complex machine is an example of the image recording apparatus or the reading apparatus.

The printer unit is configured to execute recording processing of recording an image which is represented by image data onto a recording sheet that is an example of the sheet. Although a recording method of the printer unit is not particularly limited a well known method such as an inkjet method and an electrophotographic method may be adopted. The scanner unit is configured to execute scan processing of reading an image recorded on a recording sheet to generate image data. The complex machine may further have a FAX function of transmitting and receiving facsimile data a copy function of reading an image recorded on a recording sheet and recording the same onto another recording sheet and the like.

The display has a display screen for displaying a variety of information. Although a specific configuration of the display is not particularly limited an LCD abbreviation of Liquid Crystal Display an OLED abbreviation of Organic Electro Luminescence Display and the like may be adopted for example.

The user interface is configured to receive a user s operation of selecting an object displayed on the display screen of the display . Specifically the user interface has push buttons for example and is configured to output a variety of operation signals associated with the pressed push buttons to the CPU . The user interface may have a film shaped touch sensor superimposed on the display screen of the display . That is the display may be configured as a touch panel display. As the touch sensor a well known sensor such as an electrostatic capacitance type a resistance film type and the like may be adopted.

In the meantime the term object indicates an image that can be selected by a user s operation on the user interface . For example the object may be a character string displayed on the display . When a direction key of the user interface is pressed one of the objects may be highlighted and when an enter button of the user interface is pressed the highlighted object may be selected. In another example when the user interface may be configured as a touch panel the object may be an icon a button a link and the like displayed on the display and the object displayed at a touched position may be selected.

The network interface includes an interface for performing communication with an external apparatus through the communication network . That is the complex machine is configured to output a variety of information to the mobile terminal or the service provision apparatus through the network interface and to receive a variety of data or information from the mobile terminal or the service provision apparatus through the network interface . Although the specific communication protocol of the network interface is not particularly limited Wi Fi registered trademark of the Wi Fi Alliance may be adopted for example.

The CPU abbreviation of Central Processing Unit is configured to control the entire operations of the complex machine . The CPU is configured to acquire and execute a variety of programs which will be described later from the storage based on the variety of information output from the user interface and the variety of information acquired from the external apparatus through the network interface . That is the CPU and the storage configure an example of the control unit.

The storage has a program storage area A and a data storage area B. In the program storage area A an OS abbreviation of Operating System and a control program are stored. In the meantime the control program may be a single program or a combination of a plurality of programs. In the data storage area B data or information necessary to execute the control program is stored.

In the meantime data and information in the specification have a common feature that data and information are bits or bit string which can be handled by a computer. The term data indicates that a semantic content represented by each bit can be handled by a computer without considering the semantic content. In contrast the term information indicates that an operation of the computer is branched by a semantic content represented by each bit. Further the term instruction indicates a control signal for urging an apparatus of a transmission destination to perform a next operation and may include the information or may have a property as the information.

 Data and information are handled as the same data and information even though the formats for example a text format a binary format a flag format and the like are changed for each computer inasmuch as they are recognized as the same semantic content. For example the information representing two may be kept as information of a text format 0x32 which is the ASCII code in one computer and may be kept as information of a binary format 10 which is the binary representation in another computer.

However the distinction of data and information is not strict and an exceptional handling is also allowed. For example the data may be temporarily handled as the information and the information may be temporarily handled as the data. One that is handled as the data in an apparatus may be handed as the information in another apparatus. Further the information may be extracted from the data and the data may be extracted from the information.

The storage is configured by a RAM abbreviation of Random Access Memory a ROM abbreviation of Read Only Memory an EEPROM abbreviation of Electrically Erasable Programmable Read Only Memory an HDD abbreviation of Hard Disk Drive a buffer provided for the CPU or a combination thereof.

In the meantime the storage may be a computer readable storage medium. The computer readable storage medium is a non transitory medium. The non transitory medium includes a recording medium such as a CD ROM and a DVD ROM too. The non transitory medium is a tangible medium. In the meantime an electric signal for carrying a program to be downloaded from a server and the like on the Internet is a computer readable signal medium which is one kind of the computer readable medium but is not included in the non transitory computer readable storage medium.

The program stored in the program storage area A is configured to be executed by the CPU . However in the specification the operations of each program may be described while omitting the CPU . That is in below descriptions the description program A is configured to execute processing A may indicate that CPU is configured to execute processing A described in the program A . This is also the same for the mobile terminal which will be described later.

The OS is a basic program for providing an API abbreviation of Application Programming Interface configured to control the printer unit the scanner unit the display the user interface the network interface and the like which are the hardware configuring the complex machine . That is each program described above is configured to call the API provided by the OS thereby controlling the respective hardware. However in the specification the operations of each program may be described while omitting the OS . That is in below descriptions the description program B is configured to control hardware C may indicate that program B is configured to control hardware C through the API of the OS . This is also the same for the mobile terminal which will be described later.

As shown in the mobile terminal mainly has a display an user interface a network interface a CPU a storage and a communication bus . Since the display the user interface the network interface the CPU the storage and the communication bus which are included in the mobile terminal are common to the display the user interface the network interface the CPU the storage and the communication bus which are included in the complex machine the overlapping descriptions are omitted. The CPU and the storage configure an example of the control unit. The mobile terminal is an example of the information processing apparatus. However the specific example of the information processing apparatus is not limited to the mobile terminal such as a smart phone a mobile phone and a tablet terminal and may be a PC abbreviation of Personal Computer and the like.

The user interface of the mobile terminal includes a film shaped touch sensor superimposed on a display screen of the display . The user interface is configured to receive a user s operation of touching the display screen of the display . The user interface is configured to output position information indicating a position on the display screen touched by the user. The position information can be expressed by coordinates x y on an x y plane in which a left and upper end of the display screen is defined as an origin a right direction is defined as a positive direction of an X axis and a down direction is defined as a positive direction of a y axis.

In the specification the term touch includes a variety of operations of contacting an input medium to the display screen. That is a tap operation of separating a touched input medium from the display screen within a predetermined time period a long touch operation of immobilizing a touched input medium on the display screen a slide operation of sliding a touched input medium on the display screen a flick operation where an acceleration of an input medium sliding on the display screen is equal to or greater than a threshold a pinch in operation of sliding two input media touched at different positions on the display screen in a direction of bringing the same into close to each other a pinch out operation of sliding two input media touched at different positions on the display screen in a direction of separating the same from each other and the like are examples of the touch.

An operation of bringing an input medium close to a position spaced from the display screen by an extremely slight gap even though the input medium is not contacted to the display screen may be included to the concept of the touch . The input medium may be a user s finger a touch pen and the like.

The network interface is configured to perform wireless communication with the complex machine or the service provision apparatus through the mobile communication network or wireless LAN. In the meantime the description the mobile terminal performs wireless communication with the external apparatus is not limited to a configuration where the wireless communication is performed over the entire communication zone between the mobile terminal and the external apparatus. That is a zone between the mobile terminal and a relay apparatus for example an access point a base station and the like just adjacent to the mobile terminal may be at least a wireless zone.

In the program storage area A of the storage an OS a printing program and a map program are stored. In the data storage area B of the storage a variety of information shown in is stored. The data storage area B may be provided therein with a photograph data folder in which photograph data is to be stored.

The printing program is a program for causing the complex machine to execute the recording processing of the acquired print data. The map program is a program for enabling a user to designate any area of a map image and transferring print data which represents a map image of the designated area to the printing program . The map program is an example of the external program for determining print data which is a target of the recording processing based on a user s operation. In the meantime the specific example of the external program is not limited to the map program and may be a paint program for editing an image according to a user s operation and transferring print data which represents the edited image to the printing program for example.

As shown in the data storage area B is configured to associate and store therein a program ID an application name install information a first icon data a second icon data and a third icon data. The image data which represents the first icon data may be acquired from a corresponding external program for example. The other information or data shown in may be acquired from a server apparatus not shown upon install or update of the printing program for example.

The program ID is an example of the program identifying information for uniquely identifying the external program. The application name indicates a name of an application that is to be implemented by a corresponding program. The install information is information indicative of whether a corresponding program is installed in the mobile terminal . The install means that a state in which the CPU of the mobile terminal can execute the program is made. In the example of the map program identified by a program ID has been already installed and the paint program identified by a program ID has not been installed yet.

A first icon of the first icon data is an icon for identifying a corresponding external program and is acquired from the external program. A second icon of the second icon data is an icon for identifying a corresponding external program from the other external programs. A third icon of the third icon data is an icon for distinction from a basic icon which will be described later. The third icon is commonly used for all the external programs. The first icon the second icon and the third icon are examples of the external object indicative of the external program. In the data storage area B the image data representing the respective icons shown in is stored.

As shown in the data storage area B is configured to associate and store therein a printer ID and a setting value list. The printer ID is an example of the apparatus identifying information for uniquely identifying the complex machine capable of performing communication through the communication network . The printer ID printer A indicates the complex machine shown in for example. The setting value list can be acquired from the complex machine for example. Meanwhile in the data storage area B a plurality of printer IDs and a plurality of setting values lists each of which corresponds to each printer ID may be stored. In this case one of the plurality of printer IDs may be designated as a default printer and each printer ID and the program ID may be associated.

The setting value list is a list of setting values that can be used in the recording processing by the printer unit of the complex machine . The setting value is a value indicating an execution condition when the complex machine is caused to execute the recording processing. In the example of the setting value includes a value indicating sheet size for example A4 B4 L size and the like a value indicative of sheet type for example glossy sheet normal sheet and the like and a value indicating number of colors for example full color 256 colors monochrome and the like . The specific example of the setting value is not limited thereto and may include values indicative of a sheet direction a resolution a magnification the number of sheets to be printed and the like. That is the printer unit of the complex machine can execute the recording processing by using the setting values selected from the setting value list shown in .

As shown in in the data storage area B the plurality of setting values is stored. depicts a first setting value associated with the program ID. depicts a second setting value associated with format information. depicts a designated setting value associated with a setting value ID.

The format information is information indicative of a data format of the print data. In the example of the format information indicates PNCC which is an example of the data format of image data PDF which is an example of the data format of document data and TXT which is an example of the data format of text data. However the specific example of the format information is not limited thereto.

The setting value ID is an example of the setting value identifying information for uniquely identifying a designated setting value. In the example of the setting value ID is configured by combining the program ID and a sub ID A B for uniquely identifying the designated setting value of each program ID. The sub ID is an example of the sub identifying information. The specific example of the setting value ID is not particularly limited and may not include the program ID if the designated setting value stored in the data storage area B can be uniquely identified. The setting value ID including the program ID may also be designated only by the external program that is to be identified by the program ID. In the meantime the setting value ID which does not include the program ID may also be designated by all the external programs.

All of the first setting value the second setting value and the designated setting value are examples of the setting value. However the information to be associated is different. In the same setting value may also exist. The respective setting values shown in may be programmed in advance in the printing program may be acquired from the server apparatus upon the install or update of the printing program or may be acquired from the server apparatus at any timing such as upon activation of the printing program .

In the meantime the respective setting values shown in may be acquired from the server apparatus by the printing program or from the server apparatus by a program configured to install or update the printing program . Each setting value may be set or changed at any timing by the user. Further each setting value may be stored in an area of the data storage area B allotted to the printing program from the OS upon the install or update of the printing program .

The service provision apparatus is an apparatus configured to provide a service that is to be used by the mobile terminal . The service provision apparatus is provided on the Internet and is configured to provide a variety of services according to requests from the mobile terminal . The service provision apparatus is an apparatus configured to provide a storage service such as Evernote registered trademark of Evernote Corporation Dropbox registered trademark of DropBox Inc. Google Drive Google is a registered trademark of Google Inc. and the like for example.

Image recording processing according to the first illustrative embodiment is described with reference to . The image recording processing is processing where the complex machine is caused to execute the recording processing of the print data determined at the mobile terminal based on the user s operation.

First the printing program of the mobile terminal executes menu screen display processing S . The menu screen display processing is processing of displaying a menu screen shown in on the display for example. The menu screen display processing is described in detail with reference to .

The printing program acquires the program ID of the external program from the data storage area B shown in S . The processing of step S is an example of the identification information acquisition processing. The printing program of the first illustrative embodiment reads out the program IDs shown in from the data storage area B in step S. Meanwhile the acquisition destination of the program ID in step S is not limited to the data storage area B and may be the server apparatus not shown for example.

Then the printing program determines whether the external program identified by the program ID acquired in step S is stored in the program storage area A more specifically whether the external program is installed S . Specifically the printing program may inquire of the OS whether the external program identified by the program ID acquired in step S is installed and may receive reply information from the OS . The printing program may compare whether the program ID which is read out from each external program stored in the program storage area A coincides with the program ID acquired in step S. The processing of step S is an example of the determination processing.

When it is determined that the external program identified by the acquired program ID is stored in the program storage area A S Yes the printing program determines an external icon that is to be included in the menu screen S to S . On the other hand when it is determined that the external program identified by the acquired program ID is not stored in the program storage area A S No the printing program includes a notification icon in the menu screen S . The notification icon is an example of the notification object for notifying that there is an external program capable of being installed in the mobile terminal .

Specifically when it is possible to acquire the first icon data from the external program S Yes the printing program adopts the first icon data S . The first icon data may be acquired upon the install of the external program or may be acquired in step S. For example the printing program may read out the first icon data from the area of the data storage area B allotted to the external program from the OS . The printing program may request the first icon data from the external program and receive the first icon data from the external program. Further the printing program may request the first icon data of the external program from the OS and receive the first icon data from the external program via the OS .

When it is not possible to acquire the first icon data and the second icon data corresponding to the external program is stored in the data storage area B S No S Yes the printing program adopts the second icon data S . In the meantime the second icon data may be stored in the area of the data storage area B allotted to the printing program from the OS at the same timing or with the same method as each setting value shown in for example. Further when the second icon data corresponding to the external program is not stored in the data storage area B S No the printing program adopts the third icon data S . The third icon data can be commonly used for all the external programs without being associated with a specific program ID.

The printing program executes the processing of steps S to S for the external programs identified by all the program IDs acquired in step S S No . The printing program of the first illustrative embodiment determines that the map program identified by the program ID is stored in the program storage area A and adopts the first icon data acquired from the map program . The printing program determines that the paint icon data identified by the program ID is not stored in the program storage area A and includes the notification icon in the menu screen.

Then the printing program displays the menu screen on the display S . depicts an example of the menu screen. The menu screen shown in includes a plurality of acquisition source icons and a notification icon . The menu screen shown in includes a plurality of acquisition source icons to . The acquisition source icons to are icons indicative of methods of acquiring the print data. On the menu screen a list of the acquisition source icons to is displayed and the notification icon is displayed at a position deviating from the area in which the list of the acquisition source icons to is displayed. The processing of step S is an example of the list display processing.

The acquisition source icon is associated with processing of acquiring the photograph data stored in the photograph data folder of the data storage area B as the print data. The acquisition source icon is configured by combining an icon representing the photograph data folder and a character string photograph album. The acquisition source icon is associated with processing of acquiring the data stored in the service provision apparatus as the print data. The acquisition source icon is configured by combining an icon representing the service provision apparatus and a character string cloud service. 

In the meantime the correspondence relation between the acquisition source icons and the processing of acquiring the print data may be defined in the printing program or a definition file in which the correspondence relation is defined may be read by the printing program . The definition file may be stored in the area of the data storage area B allotted to the printing program from the OS at the same timing or with the same method as each setting value shown in for example.

The processing of acquiring the print data associated with the acquisition source icon is not limited to the above example. For instance the printing program may activate a camera not shown mounted to the mobile terminal and acquire photograph data captured by the camera as the print data. In another example the printing program may operate as a Web browser and acquire Web data provided by a Web server as the print data. In another example the printing program may operate as an email client and acquire email data accumulated in an email server as the print data. In another example the printing program may acquire hysteresis data registered in a clipboard of the mobile terminal as the print data.

The acquisition source icon is associated with processing of operating the map program and acquiring the print data determined with the map program . The acquisition source icon is configured by combining the first icon acquired from the map program and an application name map application of the map program shown in . The acquisition source icon is associated with processing of operating the paint program and acquiring the print data determined with the paint program. The acquisition source icon is configured by combining the second icon of the paint program shown in and an application name image editing application of the paint program.

The processing of acquiring the print data from the photograph data folder and the service provision apparatus is implemented in advance in the printing program . That is the menu screen always includes the acquisition source icons . The acquisition source icons are examples of the basic icon. When the processing of acquiring the photograph data captured with the camera as the print data the processing of acquiring the Web data provided by the Web server as the print data or the processing of acquiring the email data accumulated in the email server as the print data is implemented in the printing program the acquisition source icon corresponding to the processing is included in the menu screen. The corresponding processing can be executed without calling the external program.

In the meantime the processing of acquiring the print data determined with the map program and the paint program can be used by the printing program as the corresponding program is installed in the mobile terminal . That is the menu screen that is displayed at a state where the map program is installed and the paint program is not installed includes only the acquisition source icon corresponding to the map program installed in the mobile terminal as shown in . The acquisition source icons are examples of the external icon. The processing associated with the acquisition source icons is implemented in the external program not the printing program . In other words processing of handing over an activation argument to activate the external program and processing of acquiring a return value from the external program only have to be implemented in the printing program .

The printing program stands by a state where the user s operation of selecting the acquisition source icons to or the notification icon can be received through the user interface with displaying the menu screen on the display S . Then when the user s operation of tapping a position of one of the icons to is received through the user interface S Yes the printing program ends the menu screen display processing. The processing of step S is an example of the second reception processing. The user s operation of tapping one of the icons to is an example of the second touch operation.

The printing program stands by a state where a deletion notification can be received from the OS while displaying the menu screen on the display . The deletion notification is a notification indicating that the external program has been deleted from the program storage area A i.e. the external program has been uninstalled. The deletion notification includes the program ID of the uninstalled external program for example. When the deletion notification is acquired from the OS S Yes the printing program sets the acquisition source icon to a non display state which corresponds to the external program identified by the program ID of the acquisition source icons to included in the menu screen S .

Returning to when the user s operation of tapping one position of the acquisition source icons included in the menu screen S the basic icon the printing program executes basic acquisition processing S . The basic acquisition processing is processing of enabling the user to designate one of the data acquirable from the acquisition source corresponding to the selected basic icon and acquiring the designated data as the print data. The basic acquisition processing is implemented in the printing program .

In the basic acquisition processing that is executed as the acquisition source icon is selected the printing program displays a photograph data selection screen on the display . depicts an example of the photograph data selection screen. The photograph data selection screen shown in includes a plurality of photograph icons . The photograph icons to correspond to the photograph data stored in the photograph data folder. The photograph icons to may be thumbnail images obtained by reducing sizes or resolutions of corresponding photograph images.

The printing program stands by a state where the user s operation of selecting one of the photograph icons to can be received through the user interface with displaying the photograph data selection screen on the display . For example when the user s operation of tapping a position of the photograph icon is received through the user interface the printing program acquires the photograph data corresponding to the photograph icon from the photograph data folder as the print data. Meanwhile in the first illustrative embodiment it is assumed that the format information of the photograph data is PNG. 

In the basic acquisition processing that is executed as the acquisition source icon is selected the printing program displays a data selection screen on the display so that the user is enabled to select the data stored in the service provision apparatus . Although the specific example of the data stored in the service provision apparatus is not particularly limited the document data the image data the text data and the like may be exemplified. depicts an example of the data selection screen. The data selection screen shown in includes a plurality of data icons . The data icons to correspond to the data stored in the service provision apparatus .

The printing program stands by a state where the user s operation of selecting one of the data icons to can be received through the user interface with displaying the data selection screen on the display . For example when the user s operation of tapping a position of the data icon is received through the user interface the printing program receives the PDF data recipe.pdf corresponding to the data icon from the service provision apparatus through the network interface as the print data.

In the meantime when print data of a data format that is not supported is received the printing program may cause the server apparatus not shown to convert the data format of the print data. For example the printing program transmits conversion instruction information which includes print data of a first format to the server apparatus through the network interface and receives print data converted into a second format different from the first format from the server apparatus through the network interface . The first format indicates format information of print data with which the printing program cannot generate a preview image. The second format indicates format information of print data with which the printing program can generate a preview image.

When the user s operation of tapping a position of the acquisition source icon is received through the user interface S the external icon the printing program executes external acquisition processing S . The external acquisition processing is processing of acquiring the print data determined with the external program. That is the printing program operates the map program corresponding to the acquisition source icon and acquires the print data determined with the map program . In the meantime the printing program may operate the map program through a plug in manner or the OS .

In the meantime the printing program may hand over the map program by using the setting value list shown in as an activation argument for example. In the meantime when a plurality of setting value lists is stored in the data storage area B of the printing program may set a setting value list of the default printer as an activation argument or may set a setting value list associated with the program ID of the map program as an activation argument. However the specific example of the activation argument is not limited thereto and may be the list of the setting value IDs shown in for example. While the map program is being executed the printing program may be retreated to the background or may be over.

The map program executed by the printing program displays a printing area determination screen on the display . depicts an example of the printing area determination screen. The printing area determination screen shown in includes a map display area and a preview icon. The map program stands by at a state where the user s operation on the map display area and the preview icon can be received through the user interface .

In the map display area a part of a map image capable of displaying the map program is displayed. In the map display area upon the activation of the map program a map image including a current position of the mobile terminal acquired from a GPS abbreviation of Global Positioning System is displayed. The map program acquires map image data which represents the map image of a display target from the server apparatus not shown through the network interface .

When the user s operation on a position of the map display area is received through the user interface the map program changes the map image that is to be displayed in the map display area . The map image that is to be displayed in the map display area is slid according to a slide operation is reduced according to a pinch in operation and is expanded according to a pinch out operation for example. In addition the map program may receive the user s operation of instructing rotation of the map image or setting of a landmark icon and reflect the same on the map image included in the map display area .

When the user s operation of tapping a position of the preview icon is received through the user interface the map program stores the map image data which represents the map image displayed in the map display area in the data storage area B as the print data. Meanwhile in the first illustrative embodiment it is assumed that the format information of the map image data is PNG . The map program notifies the printing program of the program ID of the map program and the file name of the print data stored in the data storage area B as the return value and is over. The file name of the print data is an example of the data identifying information. The processing of notifying the program ID and the like is an example of the notification processing.

In the meantime the information to be handed over to the printing program as the return value is not limited to the above example. For instance the map program may include the designated setting value which is a setting value to be used in the recording processing of the print data in the return value. The designated setting value may be selected from the setting value list acquired as the activation argument by the map program or the user for example. In another example the map program may include a setting value ID of the designated setting value to be used in the recording processing of the print data in the return value. The setting value ID may be selected from the setting value IDs acquired as the activation argument by the map program or the user for example.

Although not shown when the user s operation of tapping a position of the notification icon is received through the user interface the printing program displays a screen which urges the user to install an external program not installed yet on the display . For example when the user s operation of instructing an install of a paint program is received through the user interface the printing program installs the paint program into the mobile terminal and displays a menu screen shown in on the display . The menu screen shown in is different from the menu screen shown in in that the acquisition source icon corresponding to the paint program is displayed and the notification icon is set to a non display state.

Then the printing program specifies the setting value that is to be used in the recording processing of the acquired print data S S . The printing program generates a preview image of the print data according to the specified setting value and displays the preview screen on the display S S S . Then the printing program stands by at a state where the user s operation of tapping a position of a print icon included in the preview screen can be received through the user interface with displaying the preview screen on the display S .

The preview image included in the preview screen is an image representing a state where a print image represented by the print data is recorded on the sheet. The user s operation of tapping a position of the print icon included in the preview screen is an example of the first touch operation of instructing execution of the recording processing of the print data. The processing of steps S to S is an example of the preview display processing and the processing of step S is an example of the first reception processing.

In the first illustrative embodiment after the basic acquisition processing pis performed in S in S the printing program generates the preview image of the print data according to the second setting value and displays the preview screen on the display in the same manner as in S. For example when the photograph data corresponding to the photograph icon is acquired as the print data the printing program generates a preview image of the photograph data according to the second setting value corresponding to the format information PNG . In another example when the PDF data corresponding to the data icon is acquired as the print data the printing program generates a preview image of the PDF data according to the second setting value corresponding to the format information PDF .

Here when the print data consists of a plurality of pages the printing program generates preview images corresponding to the plurality of pages respectively and displays a list of the preview images as shown in . In the meantime when page break information which represents a border position of a first page and a second page is included in the print data the printing program may generate the preview images according to the page break information. On the other hand when the page break information is not included in the print data the printing program may determine a border position of the pages based on a corresponding sheet size or a number of lines to be included in one page.

When the external acquisition processing is executed the printing program acquires at least the file name of the print data and the program ID of the external program as the return value. The printing program may further acquire the designated setting value or the setting value ID as the return value. Then the printing program acquires the print data specified by the acquired file name from the data storage area B. The printing program of the first illustrative embodiment acquires the map image data generated by the map program .

Then when the designated setting value is included in the return value S Yes the printing program generates a preview image of the map image data according to the designated setting value. When the setting value ID is included in the return value S Yes the printing program reads out the designated setting value corresponding to the setting value ID from the data storage area B and generates a preview image of the map image data according to the read designated setting value. The processing of reading out the designated setting value is an example of the readout processing.

On the other hand when the designated setting value or the setting value ID is not included in the return value and the first setting value of the map program is stored in the data storage area B shown in S No S Yes the printing program reads out the first setting value from the data storage area B and generates a preview image of the map image data according to the read first setting value. On the other hand when the first setting value of the map program is not stored in the data storage area B S No the printing program reads out the second setting value corresponding to the format information PNG from the data storage area B and generates a preview image of the map image data according to the read second setting value. The processing of reading out the first setting value or the second setting value is another example of the readout processing.

Then when the user s operation of tapping a position of the print icon is received through the user interface S Yes the printing program transmits recording instruction information to the complex machine through the network interface S . The recording instruction information is information for causing the complex machine to execute the recording processing of the print data according to the setting value used for generation of the preview image. The recording instruction information includes the print data acquired in steps S S and the setting value used for generation of the preview image for example. The processing of step S is an example of the output processing.

When the recording instruction information is received from the mobile terminal through the network interface the control program of the complex machine causes the printer unit to execute the recording processing represented by the recording instruction information. That is the printer unit executes the recording processing of the print data included in the recording instruction information according to the setting value included in the recording instruction information.

When the print data is acquired from the photograph data folder or the service provision apparatus the user may be enabled to select one of the icons in the list as described in . In the meantime when the map image data representing a desired map image is acquired as the print data a variety of user s operations on the map display area may be received as described in . That is the interface appropriate to the selection of the print data is largely different depending on the type of the data.

Therefore like the first illustrative embodiment it is possible to provide the interface appropriate to the selection of the print data without largely modifying the printing program by calling the external program from the printing program even though the types of the print data to be supported increase. In particular when the activation argument to be handed over to the external program the return value to be acquired from the external program and the like are published in advance it is possible to promote the development of the external program having an interface appropriate to selection of a new type of print data.

In the menu screen of the first illustrative embodiment only the external icon indicating the external program already installed is shown and the external icon indicating the external program not installed yet is not shown. The external icon indicating the external program uninstalled during the display of the menu screen is set to a non display state. As a result the user can easily find out a desired acquisition source icon from the acquisition source icons listed in the menu screen.

The menu screen of the first illustrative embodiment can enable the user to recognize that there is the installable external program by the notification icon . As a result it is possible to provide the interface appropriate to the selection of the print data. Further the notification icon is arranged at the position deviating from the area in which the acquisition source icons to are listed in the menu screen. Therefore the effect that the user can easily find out the desired acquisition source icon is not deteriorated.

According to the first illustrative embodiment it is possible to execute the recording processing of the print data which is selected by the user through the external program according to the designated setting value designated by the user through the external program or the first setting value optimized for each external program. Further even when the designated setting value is not designated and the first setting value is not stored it is possible to execute the recording processing according to the setting value optimized for each data format of the print data. For example although both the photograph data described in and the map image data described in have the PNG format the setting value appropriate to each data is applied.

The setting value that is to be stored in the data storage area B is not limited to the example of . For example the first setting value that is to be used in the recording processing of recording an image only on one page and the second setting value that is to be used in the recording processing of recording images on a plurality of pages may be stored in the data storage area B. When the print data includes only an image that is to be recorded on one page the printing program may display the preview image generated according to the first setting value on the display . On the other hand when the print data includes images that are to be recorded on a plurality of pages the printing program may display the preview image generated according to the second setting value on the display .

The external program of the first illustrative embodiment can customize the interface for selecting the print data according to the functions of the complex machine based on the setting value list acquired from the printing program . As a result it is possible to provide the interface more appropriate to the selection of the print data.

In the first illustrative embodiment the example where the printing program activates the map program in the plug in manner has been described. However the method of calling the map program from the printing program is not limited to the above example. For example as shown in it is possible to call the map program from the printing program by a sharing function that is to be implemented by an API provided by the OS of the mobile terminal .

First an application of a sharing source executes an API of the OS hereinafter referred to as sharing API for implementing the sharing function S . When executing the sharing API a URI abbreviation of Uniform Resource Identifier a type and an action are required as an input argument. The URI is information indicating a location of sharing data. The type is information indicating a data format of sharing data. The action is information indicating a type of processing for example browsing editing transmitting printing and the like of sharing data that is to be executed by an application of a sharing destination.

In the meantime applications . . . which are candidates of the application of a sharing destination declare in advance a data format of sharing data that can be processed and a type of processing that can be executed for the OS . Therefore the OS specifies applications which can execute processing represented by the action for sharing data of a data format represented by the type from the applications . . . S and displays a list of the specified applications on the display S . Then the OS stands by at a state where the user s operation of selecting one of the listed applications can be received through the user interface S .

Then when the user s operation of selecting one of the listed applications is received through the user interface S the OS activates the corresponding application by using the URI the type and the action as the activation argument . Meanwhile in the example of the application corresponds to the printing program and the applications to correspond to the external program. The information handed over between the printing program and the map program may be described in the URI.

The external program not only may be called and activated from the printing program but also may be independently activated according to a user s instruction to the OS . The image recording processing of a second illustrative embodiment is described with reference to . In the meantime the descriptions of the common points to the first illustrative embodiment are omitted and the differences are mainly described. The image recording processing of the second illustrative embodiment is different from the first illustrative embodiment in that the map program independently executed calls the printing program as the plug in.

When the map program of the second illustrative embodiment is activated by the user the map program displays the printing area determination screen shown in on the display . Then when the user s operation of tapping a position of the preview icon is received through the user interface the map program activates the printing program of the second illustrative embodiment as the plug in. In the meantime the map program hands over the program ID of the map program and the file name of the print data stored in the data storage area B to the printing program as the activation argument. The activation argument may include the designated setting value or the setting value ID too.

The printing program activated by the map program executes the image recording processing shown in . In the meantime processing of steps S to S is described later. First the printing program acquires the print data based on the activation argument acquired from the map program S . Then the printing program generates a preview image of the print data according to the designated setting value the first setting value or the second setting value and displays a preview screen including the preview image on the display S to S . Since the processing of steps S to S is common to the processing of steps S S and S to S of the overlapping descriptions are omitted.

The printing program of the second illustrative embodiment stores the designated setting value used for generation of the preview image in step S in the data storage area B shown in as the first setting value of the map program S . That is when the designated setting value or the setting value ID is acquired from the external program as the return value the printing program overwrites the first setting value of the external program with the designated setting value. At this time like the first illustrative embodiment the processing of step S may be omitted.

Then when the user s operation of tapping a position of the print icon included in the preview screen is received through the user interface S Yes the printing program transmits the recording instruction information to the complex machine through the network interface S . Since the processing of steps S and S is common to steps S and S of the overlapping descriptions are omitted. Since the processing of the complex machine having received the recording instruction information is also common to the first illustrative embodiment the overlapping descriptions are omitted.

In the meantime when the OS of the mobile terminal has a multitask function the processing of steps S to S may be executed. For example the user of the mobile terminal can retreat the printing program of displaying the preview screen on the display into the background activate the map program and tap a position of the preview icon. At this time the printing program called as the plug in of the map program executes the image recording processing shown in .

The preview image included in the preview screen which is displayed before the printing program is retreated to the background is an example of the first preview image. The print data used for generation of the first preview image is an example of the first print data. The print data which is called and acquired from the map program during the display of the first preview image is an example of the second print data.

In this case the printing program determines that the first print data is not saved yet S Yes and displays a temporary saving inquiry screen on the display S . is an example of the temporary saving inquiry screen. The temporary saving inquiry screen shown in includes a message Not saved print data is temporarily saved a save icon and a cancel icon. Then the printing program stands by at a state where the user s operation on the temporary saving inquiry screen can be received through the user interface .

When the user s operation of tapping a position of the save icon is received through the user interface S Yes the printing program temporarily stores the first print data in a predetermined area of the data storage area B S . On the other hand when the user s operation of tapping a position of the cancel icon is received through the user interface S No the printing program skips over the processing of step S. That is the first print data is deleted. The processing of step S is an example of the inquiry processing and the processing of step S is an example of the storage control processing.

Then the printing program executes the processing of step S and thereafter. That is the printing program displays the preview screen which includes the second preview image generated based on the second print data on the display S to S and instructs the complex machine to execute the recording processing of the second print data S S . Although not shown after the recording processing of the second print data is over the printing program may generate a first preview image based on the temporarily stored first print data and display a first preview screen including the first preview image on the display .

According to the second illustrative embodiment it is possible to the not saved first print data from being erroneously deleted even though the map program is called during the execution of the preview display processing in addition to the operational effect that the preview display processing and the recording processing can be executed according to the appropriate setting value. The user is inquired whether or not to temporarily store the first print data. Thereby it is possible to suppress the unnecessary first print data from being temporarily stored.

In the meantime when the first print data is acquired from the service provision apparatus through the network interface when the first print data is edited by the external program or when the first print data is converted by the server apparatus not shown for example the printing program may execute the processing of steps S to S. In the meantime the printing program may skip over the processing of steps S to S when the first print data does not meet the above conditions.

According to the above configuration it is not necessary to again execute the processing of receiving the first print data from the service provision apparatus the processing of causing the external program to edit the first print data or the processing of causing the server apparatus not shown to convert the first print data. In step S the data to be temporarily stored is not limited to the first print data. That is the setting value used for generation of the first preview image may be further temporarily stored and the image data representing the first preview image may be temporarily stored instead of the first print data.

In the meantime the processing of steps S to S may also be applied to processing in addition to the processing of temporarily storing the not saved print data. For example as described in detail later the printing program may further have functions of acquiring scan data generated with the scanner unit of the complex machine from the complex machine and storing the scan data in a location designated by the user. The printing program may temporarily store the not saved scan data in the processing of steps S to S.

First the printing program displays a scan execution screen on the display . depicts an example of the scan execution screen. The scan execution screen shown in includes a pull down menu for receiving a selection of the complex machine to execute the scan processing a message Please set a document on selected MFC and a scan icon. Then the printing program stands by at a state where the user s operation on the scan execution screen can be received through the user interface .

Then when the user s operation of tapping a position of the scan icon is received through the user interface the printing program transmits scan instruction information which instructs execution of the scan processing to the complex machine selected through the pull down menu through the network interface . Then the printing program stands by at a state where the scan data generated by the complex machine can be received through the network interface . The corresponding processing is an example of the reception processing.

When the scan instruction information is received from the mobile terminal through the network interface the control program of the complex machine causes the scanner unit to read a document set on a contact glass or ADF abbreviation of Auto Document Feeder and transmits the scan data generated by the scanner unit to the mobile terminal through the network interface . The corresponding processing is an example of the reading processing.

Then when the scan data is received from the complex machine through the network interface the printing program displays a saving destination selection screen on the display . depicts an example of the saving destination selection screen. The saving destination selection screen shown in includes one or more saving destination icons . The saving destination icons to correspond to saving destinations of the scan data. For example the saving destination icon corresponds to the data folder provided for the data storage area B. Also the saving destination icons correspond to the storage servers such as the service provision apparatus . Then the printing program stands by at a state where the user s operation on the saving destination selection screen can be received through the user interface . The corresponding processing is an example of the reception processing.

Then when the user s operation of tapping a position of one of the saving destination icons to is received through the user interface the printing program stores the scan data in the saving destination corresponding to the saving destination icon. In the meantime when the printing program displaying the scan execution screen or the saving destination selection screen is retreated to the background and is called as the plug in of the map program the printing program executes the image recording processing shown in .

In this case the printing program determines that the scan data is not saved yet S Yes and displays a temporary saving inquiry screen shown in on the display S . When the user s operation of tapping a position of the save icon is received through the user interface S Yes the printing program temporarily stores the scan data in the data storage area B S . On the other hand when the user s operation of tapping a position of the cancel icon is received through the user interface S No the printing program skips over the processing of step S. Thereby it is not necessary to cause the complex machine to again execute the scan processing.

In the meantime in the complex machine and the mobile terminal of the respective illustrative embodiments the various programs stored in the program storage areas A A of the storages are executed by the CPUs so that the respective processing which is to be executed by the control unit of the disclosure is implemented. However the configuration of the control unit is not limited thereto and a part or all of the control unit may be implemented by the hardware such as an IC abbreviation of Integrated Circuit .

Further the disclosure can be implemented as not only the complex machine or the mobile terminal but also a program for causing the complex machine or the mobile terminal to execute the processing. The program may be recorded and provided in a non transitory recording medium. The non transitory may include a CD ROM a DVD ROM and a storage mounted on a server apparatus that can be connected to the complex machine or the mobile terminal through the communication network . The program stored in the storage of the server apparatus may be delivered through the communication network such as the Internet as the information or signals representing the program.

Incidentally in the above description a term icon represents an image to be displayed and a term icon data is data representing the icon and is an example of object data. As a matter of convenience icon and icon data may be used without distinction in the embodiment.

