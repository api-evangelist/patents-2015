---

title: RFID loss-prevention using angle-of-arrival
abstract: An RFID loss-prevention system (LPS) permits authorized items to leave a facility and may perform a security action if an unauthorized item leaves the facility. A checkout reader first authorizes an item tagged with an RFID tag to exit a facility by reading an identifier from the tag, obtaining an exit authorization, and sending the identifier to a database. A reader system configured to direct at least two beams along a facility exit path reads tagged items exiting the facility, determines at least one of a travel direction and a tag location, and uses the determination to indicate that a tag is exiting or has exited the facility. The LPS then uses the database to determine if the exiting/exited tag is authorized to leave the facility.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09349032&OS=09349032&RS=09349032
owner: IMPINJ, INC
number: 09349032
owner_city: Seattle
owner_country: US
publication_date: 20151029
---
This application is a continuation in part of U.S. patent application Ser. No. 14 285 534 filed on May 22 2014. The disclosures of the above application are hereby incorporated by reference for all purposes.

Radio Frequency Identification RFID systems typically include RFID readers also known as RFID reader writers or RFID interrogators and RFID tags. RFID systems can be used in many ways for locating and identifying objects to which the tags are attached. RFID systems are useful in product related and service related industries for tracking objects being processed inventoried or handled. In such cases an RFID tag is usually attached to an individual item or to its package.

In principle RFID techniques entail using an RFID reader to inventory one or more RFID tags where inventorying involves at least singulating a tag and receiving an identifier from the singulated tag. Singulated is defined as a reader singling out one tag potentially from among multiple tags for a reader tag dialog. Identifier is defined as a number identifying the tag or the item to which the tag is attached such as a tag identifier TID electronic product code EPC etc. The reader transmitting a Radio Frequency RF wave performs the interrogation. The RF wave is typically electromagnetic at least in the far field. The RF wave can also be predominantly electric or magnetic in the near or transitional near field. The RF wave may encode one or more commands that instruct the tags to perform one or more actions.

In typical RFID systems an RFID reader transmits a modulated RF inventory signal a command receives a tag reply and transmits an RF acknowledgement signal responsive to the tag reply. A tag that senses the interrogating RF wave may respond by transmitting back another RF wave. The tag either generates the transmitted back RF wave originally or by reflecting back a portion of the interrogating RF wave in a process known as backscatter. Backscatter may take place in a number of ways.

The reflected back RF wave may encode data stored in the tag such as a number. The response is demodulated and decoded by the reader which thereby identifies counts or otherwise interacts with the associated item. The decoded data can denote a serial number a price a date a destination other attribute s any combination of attributes and so on. Accordingly when a reader receives tag data it can learn about the item that hosts the tag and or about the tag itself.

An RFID tag typically includes an antenna section a radio section a power management section and frequently a logical section a memory or both. In some RFID tags the power management section included an energy storage device such as a battery. RFID tags with an energy storage device are known as battery assisted semi active or active tags. Other RFID tags can be powered solely by the RF signal they receive. Such RFID tags do not include an energy storage device and are called passive tags. Of course even passive tags typically include temporary energy and data flag storage elements such as capacitors or inductors.

This summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended as an aid in determining the scope of the claimed subject matter.

RFID technology may be employed in loss prevention systems used for example by retailers. In one approach a database maintains information about items in the store. Checkout readers authorize an item to leave the store after a consumer pays for the item and they provide this authorization information to the database. Synthesized beam exit readers read tagged items exiting the store and check the database to determine if the item is authorized to leave.

Embodiments are directed to an RFID loss prevention system LPS . A checkout reader authorizes an item tagged with an RFID tag to exit a facility by reading an identifier from the RFID tag and sending the identifier to a database. A reader system configured to direct at least two RF beams along a facility exit path reads a tagged item at an exit of the facility determines an identifier from the tag and determines a travel parameter for the tag. The reader system uses the travel direction to determine whether the tag and its associated item is exiting the facility. The LPS accesses the database to determine if the item is authorized to exit the facility. The LPS permits the item to exit the facility if the item is authorized or performs a security action if the item is not authorized.

These and other features and advantages will be apparent from a reading of the following detailed description and a review of the associated drawings. It is to be understood that both the foregoing general description and the following detailed description are explanatory only and are not restrictive of aspects as claimed.

In the following detailed description references are made to the accompanying drawings that form a part hereof and in which are shown by way of illustration specific embodiments or examples. These embodiments or examples may be combined other aspects may be utilized and structural changes may be made without departing from the spirit or scope of the present disclosure. The following detailed description is therefore not to be taken in a limiting sense and the scope of the present invention is defined by the appended claims and their equivalents.

As used herein memory is one of ROM RAM SRAM DRAM NVM EEPROM FLASH Fuse MRAM FRAM and other similar information storage technologies as will be known to those skilled in the art. Some portions of memory may be writeable and some not. Command refers to a reader request for one or more tags to perform one or more actions and includes one or more tag instructions preceded by a command identifier or command code that identifies the command and or the tag instructions. Instruction refers to a request to a tag to perform a single explicit action e.g. write data into memory . Program refers to a request to a tag to perform a set or sequence of instructions e.g. read a value from memory and if the read value is less than a threshold then lock a memory word . Protocol refers to an industry standard for communications between a reader and a tag and vice versa such as the Class 1 Generation 2 UHF RFID Protocol for Communications at 860 MHz 960 MHz by GS1 EPCglobal Inc. Gen2 Specification versions 1.2.0 and 2.0 of which are hereby incorporated by reference.

Reader and tag communicate via signals and which are amplitude and or phase modulated waves. When communicating each encodes modulates and transmits data to the other and each receives demodulates and decodes data from the other. The data can be modulated onto and demodulated from RF waves such as for signals and . The RF waves are typically in a suitable range of frequencies such as those near 900 MHz 13.56 MHz and so on.

The communication between reader and tag uses symbols also called RFID symbols. A symbol can be a delimiter a calibration value and so on. Symbols can be implemented for exchanging binary data such as 0 and 1 if that is desired. When symbols are processed by reader and tag they can be treated as values numbers and so on.

Tag can be a passive tag or an active or battery assisted tag i.e. a tag having its own power source . When tag is a passive tag it is powered from signal .

Tag is typically although not necessarily formed on a substantially planar inlay which can be made in many ways known in the art. Tag includes a circuit which may be implemented as an IC . In some embodiments IC is implemented in complementary metal oxide semiconductor CMOS technology. In other embodiments IC may be implemented in other technologies such as bipolar junction transistor BJT technology metal semiconductor field effect transistor MESFET technology and others as will be well known to those skilled in the art. IC is arranged on inlay .

Tag also includes an antenna for exchanging wireless signals with its environment. The antenna is often flat and attached to inlay . IC is electrically coupled to the antenna via suitable IC contacts not shown in . The term electrically coupled as used herein means that a low impedance path exists between the electrically coupled components and may mean the presence of a direct electrical connection or a connection that includes one or more intervening circuit blocks elements or devices. The electrical part of the term electrically coupled as used in this document shall mean a coupling that is one or more of ohmic galvanic capacitive and or inductive. Similarly the term electrically isolated as used herein means that electrical coupling of one or more types e.g. galvanic capacitive and or inductive is not present at least to the extent possible. For example elements that are electrically isolated from each other are galvanically isolated from each other capacitively isolated from each other and or inductively isolated from each other. Of course electrically isolated components will generally have some unavoidable stray capacitive or inductive coupling between them but the intent of the isolation is to minimize this stray coupling to a negligible level when compared with an electrically coupled path.

IC is shown with a single antenna port comprising two IC contacts electrically coupled to two antenna segments and which are shown here forming a dipole. Many other embodiments are possible using any number of ports contacts antennas and or antenna segments.

Diagram depicts top and side views of tag formed using a strap. Tag differs from tag in that it includes a substantially planar strap substrate having strap contacts and . IC is mounted on strap substrate such that the IC contacts on IC electrically couple to strap contacts and via suitable connections not shown . Strap substrate is then placed on inlay such that strap contacts and electrically couple to antenna segments and . Strap substrate may be affixed to inlay via pressing an interface layer one or more adhesives or any other suitable means.

Diagram depicts a side view of an alternative way to place strap substrate onto inlay . Instead of strap substrate s surface including strap contacts facing the surface of inlay strap substrate is placed with its strap contacts facing away from the surface of inlay . Strap contacts can then be either capacitively coupled to antenna segments through strap substrate or conductively coupled using a through via which may be formed by crimping strap contacts to antenna segments . In some embodiments the positions of strap substrate and inlay may be reversed with strap substrate mounted beneath strap substrate and strap contacts electrically coupled to antenna segments through inlay . Of course in yet other embodiments strap contacts may electrically couple to antenna segments through both inlay and strap substrate .

In operation the antenna receives a signal and communicates it to IC which both harvests power and responds if appropriate based on the incoming signal and the IC s internal state. If IC uses backscatter modulation then it responds by modulating the antenna s reflectance which generates response signal from signal transmitted by the reader. Electrically coupling and uncoupling the antenna contacts of IC can modulate the antenna s reflectance as can varying the admittance of a shunt connected circuit element which is coupled to the antenna contacts. Varying the impedance of a series connected circuit element is another means of modulating the antenna s reflectance.

In the embodiments of antenna segments and are separate from IC . In other embodiments the antenna segments may alternatively be formed on IC . Tag antennas according to embodiments may be designed in any form and are not limited to dipoles. For example the tag antenna may be a patch a slot a loop a coil a horn a spiral a monopole microstrip stripline or any other suitable antenna.

The components of the RFID system of may communicate with each other in any number of modes. One such mode is called full duplex. Another such mode is called half duplex and is described below.

RFID reader and RFID tag talk and listen to each other by taking turns. As seen on axis TIME when reader talks to tag the communication session is designated as R T and when tag talks to reader the communication session is designated as T R . Along the TIME axis a sample R T communication session occurs during a time interval and a following sample T R communication session occurs during a time interval . Of course interval is typically of a different duration than interval here the durations are shown approximately equal only for purposes of illustration.

According to blocks and RFID reader talks during interval and listens during interval . According to blocks and RFID tag listens while reader talks during interval and talks while reader listens during interval .

In terms of actual behavior during interval reader talks to tag as follows. According to block reader transmits signal which is a modulated RF signal as described in . At the same time according to block tag receives signal and processes it to extract data and so on. Meanwhile according to block tag does not backscatter with its antenna and according to block reader has no signal to receive from tag .

During interval tag talks to reader as follows. According to block reader transmits a Continuous Wave CW signal which can be thought of as a carrier RF signal that is typically not amplitude modulated or phase modulated and therefore encodes no information. This CW signal serves both to transfer energy to tag for its own internal power needs and also as a carrier that tag can modulate with its backscatter. Indeed during interval according to block tag does not receive a signal for processing. Instead according to block tag modulates the CW emitted according to block so as to generate backscatter signal . Concurrently according to block reader receives backscatter signal and processes it.

Circuit shows two IC contacts and suitable for coupling to antenna segments such as segments of RFID tag of . When two IC contacts form the signal input from and signal return to an antenna they are often referred to as an antenna port. IC contacts and may be made in any suitable way such as with metallic pads and so on. In some embodiments circuit uses more than two contacts especially when tag has more than one antenna port and or more than one antenna.

Circuit includes signal routing section which may include signal wiring signal routing busses receive transmit switches and so on that can route a signal to the components of circuit . In some embodiments IC contacts couple galvanically and or inductively to signal routing section . In other embodiments such as is shown in circuit includes optional capacitors and or which if present capacitively couple IC contacts to signal routing section . This capacitive coupling causes IC contacts to be galvanically decoupled from signal routing section and other circuit components.

Capacitive coupling and resultant galvanic decoupling between IC contacts and or and components of circuit is desirable in certain situations. For example in some RFID tag embodiments IC contacts and may galvanically connect to terminals of a tuning loop on the tag. In this situation capacitors and or galvanically decouple IC contact from IC contact thereby preventing the formation of a short circuit between the IC contacts through the tuning loop.

Capacitors may be implemented within circuit and or partly or completely external to circuit . For example a dielectric or insulating layer on the surface of the IC containing circuit may serve as the dielectric in capacitor and or capacitor . As another example a dielectric or insulating layer on the surface of a tag substrate e.g. inlay or strap substrate may serve as the dielectric in capacitors . Metallic or conductive layers positioned on both sides of the dielectric layer i.e. between the dielectric layer and the IC and between the dielectric layer and the tag substrate may then serve as terminals of the capacitors . The conductive layers may include IC contacts e.g. IC contacts antenna segments e.g. antenna segments or any other suitable conductive layers.

Circuit also includes a rectifier and PMU Power Management Unit that harvests energy from the RF signal received by the antenna to power the circuits of IC during either or both reader to tag R T and tag to reader T R sessions. Rectifier and PMU may be implemented in any way known in the art.

Circuit additionally includes a demodulator that demodulates the RF signal received via IC contacts . Demodulator may be implemented in any way known in the art for example including a slicer an amplifier and so on.

Circuit further includes a processing block that receives the output from demodulator and performs operations such as command decoding memory interfacing and so on. In addition processing block may generate an output signal for transmission. Processing block may be implemented in any way known in the art for example by combinations of one or more of a processor memory decoder encoder and so on.

Circuit additionally includes a modulator that modulates an output signal generated by processing block . The modulated signal is transmitted by driving IC contacts and therefore driving the load presented by the coupled antenna segment or segments. Modulator may be implemented in any way known in the art for example including a switch driver amplifier and so on.

In one embodiment demodulator and modulator may be combined in a single transceiver circuit. In another embodiment modulator may modulate a signal using backscatter. In another embodiment modulator may include an active transmitter. In yet other embodiments demodulator and modulator may be part of processing block .

Circuit additionally includes a memory to store data . At least a portion of memory is preferably implemented as a Nonvolatile Memory NVM which means that data is retained even when circuit does not have power as is frequently the case for a passive RFID tag.

In some embodiments particularly in those with more than one antenna port circuit may contain multiple demodulators rectifiers PMUs modulators processing blocks and or memories.

In terms of processing a signal circuit operates differently during a R T session and a T R session. The different operations are described below in this case with circuit representing an IC of an RFID tag.

Version A shows as relatively obscured those components that do not play a part in processing a signal during a R T session. Rectifier and PMU may be active such as for converting RF power. Modulator generally does not transmit during a R T session and typically does not interact with the received RF signal significantly either because switching action in section of decouples modulator from the RF signal or by designing modulator to have a suitable impedance and so on.

Although modulator is typically inactive during a R T session it need not be so. For example during a R T session modulator could be adjusting its own parameters for operation in a future session and so on.

Version B shows as relatively obscured those components that do not play a part in processing a signal during a T R session. Rectifier and PMU may be active such as for converting RF power. Demodulator generally does not receive during a T R session and typically does not interact with the transmitted RF signal significantly either because switching action in section of decouples demodulator from the RF signal or by designing demodulator to have a suitable impedance and so on.

Although demodulator is typically inactive during a T R session it need not be so. For example during a T R session demodulator could be adjusting its own parameters for operation in a future session and so on.

In typical embodiments demodulator and modulator are operable to demodulate and modulate signals according to a protocol. A protocol is a specification or industry standard such as the Gen2 Specification described above that calls for specific manners of signaling between the reader and the tags. A protocol specifies in part symbol encodings and may include a set of modulations rates timings or any other parameter associated with data communications.

In addition a protocol can be a variant of a stated specification such as the Gen2 Specification for example including fewer or additional commands than the stated specification calls for and so on. In such instances additional commands are sometimes called custom commands. In embodiments where circuit includes multiple demodulators and or modulators each may be configured to support different protocols or different sets of protocols.

Local block is responsible for communicating with tags. Local block includes a block of an antenna and a driver of the antenna for communicating with the tags. Some readers like that shown in local block contain a single antenna and driver. Some readers contain multiple antennas and drivers and a method to switch signals among them including sometimes using different antennas for transmitting and for receiving. And some readers contain multiple antennas and drivers that can operate simultaneously. A demodulator decoder block demodulates and decodes backscattered waves received from the tags via antenna block . Modulator encoder block encodes and modulates RF waves that are to be transmitted to the tags via antenna driver block .

Local block additionally includes an optional local processor . Local processor may be implemented in any number of ways known in the art. Such ways include by way of examples and not of limitation digital and or analog processors such as microprocessors and digital signal processors DSPs controllers such as microcontrollers software running in a machine such as a general purpose computer programmable circuits such as Field Programmable Gate Arrays FPGAs Field Programmable Analog Arrays FPAAs Programmable Logic Devices PLDs Application Specific Integrated Circuits ASIC any combination of one or more of these and so on. In some cases some or all of the decoding function in block the encoding function in block or both may be performed instead by local processor . In some cases local processor may implement an encryption or authorization function in some cases one or more of these functions can be distributed among other blocks such as encoding block or may be entirely incorporated in another block.

Local block additionally includes an optional local memory . Local memory may be implemented in any number of ways known in the art including by way of example and not of limitation any of the memory types described above as well as any combination thereof. Local memory can be implemented separately from local processor or in an IC with local processor with or without other components. Local memory if provided can store programs for local processor to run if needed.

In some embodiments local memory stores data read from tags or data to be written to tags such as Electronic Product Codes EPCs Tag Identifiers TIDs keys hashes and other data. Local memory can also include reference data that is to be compared to the EPC instructions and or rules for how to encode commands for the tags modes for controlling antenna secret keys key pairs and so on. In some of these embodiments local memory is provided as a database.

Some components of local block typically treat the data as analog such as the antenna driver block . Other components such as local memory typically treat the data as digital. At some point there is a conversion between analog and digital. Based on where this conversion occurs a whole reader may be characterized as analog or digital but most readers contain a mix of analog and digital functionality.

If remote components are indeed provided they are coupled to local block via an electronic communications network . Network can be a Local Area Network LAN a Metropolitan Area Network MAN a Wide Area Network WAN a network of networks such as the internet or a mere local communication link such as a USB PCI and so on. Local block may include a local network connection for communicating with network . Communications on the network can be secure such as if they are encrypted or physically protected or insecure if they are not encrypted or otherwise protected.

There can be one or more remote component s . If more than one they can be located at the same location or in different locations. They can access each other and local block via communications network or via other similar networks and so on. Accordingly remote component s can use respective remote network connections. Only one such remote network connection is shown which is similar to local network connection etc.

Remote component s can also include a remote processor . Remote processor can be made in any way known in the art such as was described with reference to local processor . Remote processor may also implement an encryption function similar to local processor .

Remote component s can also include a remote memory . Remote memory can be made in any way known in the art such as was described with reference to local memory . Remote memory may include a local database and a different database of a Standards Organization such as one that can reference EPCs. Remote memory may also contain information associated with commands tag profiles keys or the like similar to local memory

Of the above described elements it is advantageous to consider a combination of these components designated as operational processing block . Operational processing block includes those components that are provided of the following local processor remote processor local network connection remote network connection and by extension an applicable portion of communications network that links remote network connection with local network connection . The portion can be dynamically changeable etc. In addition operational processing block can receive and decode RF waves received via antenna driver and cause antenna driver to transmit RF waves according to what it has processed.

Operational processing block includes either local processor or remote processor or both. If both are provided remote processor can be made such that it operates in a way complementary with that of local processor . In fact the two can cooperate. It will be appreciated that operational processing block as defined this way is in communication with both local memory and remote memory if both are present.

Accordingly operational processing block is location agnostic in that its functions can be implemented either by local processor by remote processor or by a combination of both. Some of these functions are preferably implemented by local processor and some by remote processor . Operational processing block accesses local memory or remote memory or both for storing and or retrieving data.

RFID reader system operates by operational processing block generating communications for RFID tags. These communications are ultimately transmitted by antenna driver block with modulator encoder block encoding and modulating the information on an RF wave. Then data is received from the tags via antenna driver block demodulated and decoded by demodulator decoder block and processed by operational processing block .

Embodiments of an RFID reader system can be implemented as hardware software firmware or any combination. It is advantageous to consider such a system as subdivided into components or modules. A person skilled in the art will recognize that some of these components or modules can be implemented as hardware some as software some as firmware and some as a combination. An example of such a subdivision is now described together with the RFID tag as an additional module.

RFID tag is considered here as a module by itself. RFID tag conducts a wireless communication with the remainder via the air interface . Air interface is really a boundary in that signals or data that pass through it are not intended to be transformed from one thing to another. Specifications as to how readers and tags are to communicate with each other for example the Gen2 Specification also properly characterize that interface as a boundary.

RFID system includes one or more reader antennas and an RF front end module for interfacing with reader antenna s . These can be made as described above.

RFID system also includes a signal processing module . In one embodiment signal processing module exchanges waveforms with RF front end module such as I and Q waveform pairs.

RFID system also includes a physical driver module which is also known as data link module. In some embodiments physical driver module exchanges bits with signal processing module . Physical driver module can be the stage associated with the framing of data.

RFID system additionally includes a media access control module which is also known as MAC layer module. In one embodiment MAC layer module exchanges packets of bits with physical driver module . MAC layer module can make decisions for sharing the medium of wireless communication which in this case is the air interface but in other embodiments could be a wired interface.

RFID system moreover includes an application programming library module which can include application programming interfaces APIs other objects etc.

All of these RFID system functionalities can be supported by one or more processors. One of these processors can be considered a host processor. Such a host processor might include a host operating system OS and or central processing unit CPU as in module . In some embodiments the processor is not considered as a separate module but one that includes some of the above mentioned modules of RFID system .

User interface module may be coupled to application programming library module for accessing the APIs. User interface module can be manual automatic or both. It can be supported by the host OS CPU module mentioned above or by a separate processor etc.

It will be observed that the modules of RFID system form a chain. Adjacent modules in the chain can be coupled by appropriate instrumentalities for exchanging signals. These instrumentalities include conductors buses interfaces and so on. These instrumentalities can be local e.g. to connect modules that are physically close to each other or over a network for remote communication.

The chain is used in one direction for receiving RFID waveforms and in the other for transmitting RFID waveforms. In receiving mode reader antenna s receives wireless waves which are in turn processed successively by the various modules in the chain. Processing can terminate in any one of the modules. In transmitting mode waveform initiation can be in any one of the modules. Ultimately signals are routed to reader antenna s to be transmitted as wireless waves.

The architecture of RFID system is presented for purposes of explanation and not of limitation. Its particular subdivision into modules need not be followed for creating embodiments. Furthermore the features of the present disclosure can be performed either within a single one of the modules or by a combination of them. In some embodiments RFID system can be incorporated into another electronic device such as a checkout terminal in a store or a consumer device such as a mobile phone.

Everything described above in terms of readers and reader components finds some correspondence with tags and tag ICs and vice versa. Numerous details have been set forth in this description which is to be taken as a whole to provide a more thorough understanding of the invention. In other instances well known features have not been described in detail so as to not obscure unnecessarily the invention.

In some embodiments synthesized beam RFID readers SBRs may be used for loss prevention. An SBR is capable of generating multiple radio frequency RF beams and may be formed by coupling one or more RFID readers or distributed portions of one or more readers to an antenna array. depicts a perspective view of an antenna array with discrete radiating elements suitable for an SBR according to embodiments. Antenna array includes an array of antenna elements and and a ground plane behind elements and . Each element has a radiating direction vector only shown for one element that is typically but not necessarily perpendicular to the ground plane. An RF radiation pattern or beam for receiving or transmitting an RF signal may be synthesized by adjusting the amplitude and or phase of the signals coupled from to each antenna element and . The direction of the synthesized beam typically represented by the direction of the beam s primary lobe the lobe having the highest radiated power is controlled by these various amplitude and or phase adjustments. The adjustments may be analog digital or a mix of analog and digital. For example during transmission an SBR may generate the analog signal to be transmitted split the signal and then direct the split signals to elements and with different amplitudes and phases. Alternatively the SBR may synthesize different signals for each antenna element digitally and then convert the digital signals to analog. In other embodiments the SBR may use a mix of these approaches. Similarly during a receive operation the SBR may combine analog signals after appropriate phase shifting and amplitude adjustment of each or it may digitize the signals from each element and combine them digitally or a mix thereof.

The antenna elements of SBA may be one or more of patch slot wire horn helical distributed or any other type as will be known to those skilled in the art. Whereas only shows nine antenna elements antenna arrays with any number of antenna elements may be used including a single distributed element or an element made from metamaterials. In some embodiments ground plane may be nonplanar e.g. curved concave convex etc. and in other embodiments need not exist.

Diagrams and depict coverage areas shown as shaded circles of the beam patterns generated by SBR . A beam generated by an SBR has a coverage volume also known as the beam s field of view FoV which is a volume in three dimensional space where during transmission the transmitted energy density exceeds a threshold and where during receiving the received energy density exceeds a threshold. A beam s coverage area is a projection of the beam s FoV on a surface. The FoV and coverage area may be different during transmit and receive and may vary with reader or tag power the thresholds the distance between the SBR and the surface and other parameters.

Diagram depicts the coverage area of central beam . Diagram depicts the coverage areas of the inner beams such as and . Diagram depicts the coverage areas of the outer beams such as and . Finally diagram depicts the total coverage area of all the beams formed by SBR . As shown in diagrams beam coverage areas may overlap. For example inner beam may overlap with the central beam with one or more other inner beams and with one or more other outer beams.

Whereas SBR is depicted as being able to generate and switch between five beams on an axis e.g. axis in other embodiments an SBR may generate and switch between more or fewer beams on any given axis. Similarly whereas SBR is depicted as being able to generate beams on four different axes e.g. axes and in in other embodiments an SBR may be configured to generate beams on more or fewer axes. An individual beam s coverage area in and subsequent figures is depicted as circular for simplicity and in actuality may be of any suitable shape and may vary based on interactions between the different elements that form the beam as well as the orientation and topology of the surface on which the coverage area is projected. For example a beam may have a non circular coverage area. As another example a circular beam that illuminates a surface with a non perpendicular angle may project an elliptical coverage area on the surface.

When used to detect and inventory RFID tags SBR may be configured to switch between different individual beams based on a desired beam scanning timing or pattern. For example SBR may generate a first beam at a first time for a first time duration then may switch to generating a second different beam at a second time for a second time duration and so on. The order timing and time durations with which SBR switches between generating different beams may be predefined or dynamic. In one embodiment SBR may switch between different beams based on a predefined schedule and scan pattern. In another embodiment SBR may dynamically determine the beams to generate the times when they should be generated and the time durations for which they should be generated based on environmental or other conditions e.g. the actual or estimated number of tags present actual or predicted tag movement patterns RF interference environmental noise or any other suitable condition or parameter . In other embodiments SBR may generate beams by dynamically adjusting a predefined schedule and scan pattern based on environmental conditions. SBR may be configured to switch beams to optimize the number of tags inventoried optimize the ability to detect fast moving tags or be configured to provide any desired performance metric.

Facility may include items tagged with RFID tags. A person such as a customer may remove an item having a tag by first obtaining exit authorization from checkout station which includes an RFID reader. In one embodiment checkout station may be a point of sale register or similar checkout terminal. In another embodiment checkout station may be a facility employee with a mobile checkout device such as a handheld reader tablet etc. In yet another embodiment checkout station may include or be a customer mobile device such as a smartphone that has an RFID reader. Many other types and embodiments of checkout terminals are possible. Regardless of the type checkout station reads RFID tag and authorizes it and its associated item to leave facility .

Before authorizing a tagged item to leave facility checkout station should obtain exit authorization typically based on authorizing information provided by the person e.g. customer or an entity proxy acting on behalf of the person. An example of the latter may be a facility employee a legal authority such as a security person or the police an autonomous entity such as a monitoring security system or any other proxy that can act on behalf of the person. The authorizing information may include customer identification or account information payment payment data e.g. electronic currency or electronic gift card balance payment authorization credit limit information proof of payment or other similar information. In some situations the authorizing information may also or instead include or be an employee number item transportation information a security code a legal warrant or other information suitable for a checkout station to determine whether tag and its associated item are authorized to leave facility .

In some embodiments checkout station can self verify the authorizing information and generate exit authorization. In other embodiments checkout station will engage with a linked entity to verify the authorizing information. Examples of a linked entity include a store network store server payment server bank credit card company legal entity such as government authority or other networked entity. Upon verifying the authorizing information checkout station authorizes tag and its associated item to leave facility . Checkout station and or the linked entity also informs database that tag and its associated item have exit authorization.

Database stores information about tagged items associated with facility . This information may include tag identifiers item identifiers physical item information such as condition status or location chain of custody price tracking information manufacturer any other suitable tag or item information and or exit authorization. Database may be accessible to checkout station via a wired e.g. Ethernet parallel serial or other suitable wired protocol or wireless e.g. WiFi cellular Bluetooth or other suitable wireless protocol connection or network. In some embodiments database may be prepopulated with item or tag identifiers and exit authorization is added to the preexisting item record. In other embodiments database may not contain preexisting item or tag identifiers in which case exit authorization causes database to generate a new item record.

In some embodiments database is located at facility such as on a local computer server or RFID reader including SBR or checkout station . In other embodiments database may be located remotely and accessible via a network connection. Database may reside on a single device computer server or reader or be distributed among multiple devices.

Facility also includes at least one SBR positioned such that at least some of its beams are directed along one or more exit paths passing through exit of facility . Exit may include a door doorway gate gateway entryway hallway ramp garage elevator escalator stairway stairwell or any other suitable exit or entrance. SBR can use these particular beams labeled as exit beams to detect RFID tags and their associated items near approaching passing through or having passed through exit . While SBR is located within facility in in other embodiments SBR may be located at exit or external to facility as long as at least some of its beams cover exit and or exit path s passing through exit . SBR may be mounted so as to point downward e.g. on the ceiling of facility or in another elevated position mounted so as to point horizontally e.g. on a wall or other structure in facility mounted so as to point upward e.g. on at or under a floor or structure in facility or some combination of the previous. SBR facility database or some combination thereof may use tag reads by exit beams to determine whether a tag is exiting facility and if so whether the tag has exit authorization for purposes of loss prevention. A loss prevention system LPS as described herein may include one or more of tag SBR and database . In some embodiments an LPS may also or instead include one or more other non SBR readers i.e. readers not configured to generate synthesized beams . The LPS determines whether an exiting tag is facility owned and if so has exit authorization.

As an illustrative but not limiting example suppose that a customer purchases an item with tag and carries the tagged item through exit . SBR will read tag s item or tag identifier using exit beams . Upon this reading event the LPS may perform several actions. These actions may occur in series i.e. one after the other in parallel i.e. two or more actions simultaneously or overlapping in time or some combination of the two i.e. some actions in series and some in parallel .

A first action that the LPS may perform is to determine whether tag is associated with facility i.e. whether tag belongs to or is foreign to facility . The LPS may determine the association by comparing the tag or item identifier to a list of items known to be associated with facility . This item list is typically stored by database but in some instances may be stored elsewhere such as in a networked location in SBR or even in tag . As an example of the latter each tag associated with facility may include in its memory an owner code indicating that it is associated with facility or an entity associated with facility . The LPS also knows or is able to derive the owner code and may compare the owner code read from a tag with its known owner code. As another example the LPS may be able to derive identifiers for tags associated with facility . Upon reading an identifier from a tag the LPS may compare the read identifier to the derived identifier.

A second action that the LPS may perform is to determine whether tag is passing through exit . It may make this determination based on parameters of the tag reads in exit beams such as signal phase a received signal strength indication RSSI the sequence of exit beams in which the tag is read the identity or orientation of the exit beams in which the tag is read the time at which the tag was read and or an angle of arrival of one or more received tag replies. It may also or alternatively use or provide information such as read count per exit beam to determine tag s velocity and or direction of travel. The LPS may use a location determining algorithm a direction determining algorithm a velocity determining algorithm or an algorithm combining location direction and or velocity determination to determine whether tag is passing through exit . In some embodiments the LPS may use one or more of the techniques described in international application serial number PCT US14 26319 filed on Mar. 13 2014 and hereby incorporated by reference in its entirety. For example it may use two or more exit beams to track the movement if any of tag based on a multi session non acknowledging inventorying procedure as described in the above referenced international application. Finally the LPS may determine the location of tag to confirm whether tag is inside or outside facility for example using one or more techniques described in international application serial number PCT US14 26319 as referenced above. The LPS may determine that tag and its associated item are exiting facility if it determines that tag is inside facility but approaching exit or is passing through exit or is outside facility .

After determining tag read parameters associated with one or more tags as described above the LPS may store the tag read parameter s in a database e.g. database for future reference. For example upon determining a tag read parameter associated with tag the LPS may associate the tag read parameter with an identifier of tag in database . Subsequently upon detecting a tag reply the LPS may use the stored tag read parameters to assist in identifying the replying tag and or determining some characteristic of the replying tag e.g. whether the replying tag has moved whether the tag is in an appropriate location whether the tag has been authorized to exit facility or any other suitable characteristic .

As described above facility has a boundary or perimeter that is physical or virtual. Physical boundaries include a physical wall border fence or entrance exit through any of the previous. Virtual boundaries may be determined with respect to a physical structure e.g. a physical boundary such as a wall or a location in physical space. For example a virtual boundary may be defined as the perimeter or surface of an area or volume extending two meters outward from a wall or may be defined as the perimeter surface of an area volume extending outward from a doorway in the wall.

A third action that the LPS may perform is determining whether tag and its associated item are authorized to exit facility . SBR may communicate with database which as described above may contain information about whether tags are authorized to exit facility . In some embodiments the LPS may determine whether a tag is authorized to exit facility based on one or more of the techniques described in U.S. Pat. No. 8 593 257 issued on Nov. 26 2013 U.S. Pat. No. 8 866 595 issued on Oct. 21 2014 U.S. Pat. No. 8 872 636 issued on Oct. 28 2014 U.S. Pat. No. 8 866 596 issued on Oct. 21 2014 and U.S. patent application Ser. No. 14 162 745 filed on Jan. 24 2014 all of which are hereby incorporated by reference in their entireties. For example SBR may read data such as an electronic signature a ticket and or an exit code from tag and the LPS may use the data to determine whether tag and its associated item are authorized to leave facility .

As a result of the various actions described above the LPS can determine whether tag and its associated item belong to facility are exiting facility and whether they are authorized to do so. If so authorized then the LPS permits tag and its associated item to exit facility and may record information about the exit e.g. time of exit location of exit tag and item exiting other tags or items exiting at the same time etc. in reader memory in database or in any other suitable local or remote memory. On the other hand if the LPS determines that tag is not authorized to exit facility then it may take one or more security actions such as sounding an audible or silent alarm activating a security system activating a security procedure alerting an entity associated with facility e.g. an employee or manager alerting an authority e.g. security personnel police personnel military personnel a facility supervisor or any other authorized person sending a message to an entity or authority associated with facility directing a camera toward exit taking a picture or a video from a camera directed toward exit securing a physical barrier such as locking a door or gate or activating an obstruction e.g. a barrier associated with exit and or any other suitable action for preventing or hindering the exit of tag .

In some embodiments SBR may be used both for loss prevention and for inventorying tags or items in facility . For example SBR may be positioned to generate exit beams directed along exit path s passing through exit and at least one inventorying beam directed within facility . As shown in inventorying beam may be directed to a display holding items with tagged merchandise. In other embodiments inventorying beams may be directed to shelves containers pallets racks counters cases boxes or any other suitable tag or item organization means. SBR may use inventorying beam to identify locate track and or authenticate tagged items within facility . Upon reading a tagged item associated with facility SBR may update a server or database e.g. database with information about the tagged item such as its location and or movement.

As described above the LPS may be configured to determine whether a tag is stationary or moving. In some embodiments the LPS may be configured to respond differently to a stationary tag and a tag in motion. For example in situations where facility contains a large number of tagged items the LPS may be configured to suppress reads of stationary tags thereby allowing it to devote more time to reading moving tags or other tags of interest. In some embodiments the LPS may cause a stationary tag not to respond to one or more subsequent read of inventorying attempts using the refresh or multi session non acknowledging functionalities described in international application serial number PCT US14 26319 referenced above.

In some embodiments the LPS may be configured to increase the rate at which moving tags are inventoried and may be configured to maintain or reduce the rate at which stationary tags are inventoried. For example the LPS may determine whether a tag is in motion based on beam read counts angle of arrival measurements or any other suitable method. In some embodiments a tag in motion may affirmatively notify the LPS of its movement for example via a tag reply or by asserting a stored flag. If the LPS determines that an inventoried tag is in motion it may increase the rate at which the tag is inventoried for example by transmitting commands specifically targeting the tag successively inventorying the tag without inventorying other tags increasing the tag inventorying rates of the beams at or near the tag s location or using any other suitable techniques. If the LPS instead determines that an inventoried tag is stationary it may either maintain or reduce the rate at which the tag is inventoried for example by suppressing tag reads using the refresh or non acknowledging functionalities as described above.

In some embodiments an LPS may determine where a tag is located and or whether the tag is moving based on angle of arrival information associated with responses or replies from the tag. depicts how the angle of arrival of an RF wave can be determined. Diagram depicts a situation in which two receivers and detect an RF wave from an RFID tag . Receivers and may be separate readers or separate antennas or antenna elements coupled to a single reader or to multiple readers and may be configured to each transmit different beams or together synthesize a single beam oriented in a particular direction as described above. Receivers and and tag are disposed such that distance rbetween tag and receiver is greater than distance rbetween tag and receiver . Accordingly an RF wave originating from tag will first arrive at receiver and then arrive at receiver assuming that the propagation paths between tag and the receivers and are relatively equivalent except for distance.

The difference between the RF wave as seen at receiver and the RF wave as seen at receiver may be characterized as a time difference or a phase difference. The former may be determined by comparing the time at which the RF wave arrives at receiver to the time at which the RF wave arrives at receiver . The latter may be determined by comparing the phase of the RF wave observed at receiver at a particular time to the phase of the RF wave observed at receiver at the same particular time.

For example consider RF wave . At some initial time tag begins to transmit or backscatter RF wave . Receiver observes the beginning of RF wave before receiver because receiver is closer to tag than receiver . At some later time T receiver then observes the beginning of RF wave as wavefront . At the same time T receiver observes wavefront which is a portion of RF wave subsequent to the wavefront . The difference between wavefront and wavefront may be represented as a phase difference as depicted in diagram . Phase difference when combined with the known distance d between receiver and receiver may be used to determine the angle between axis on which receivers and lie and a line that intersects both tag and the point on axis midway between receivers and . This angle may be referred to as the angle of arrival or AoA of RF wave with respect to the receivers and and represents the angle from which RF wave arrived therefore may represent the angle at which tag is located with respect to the receivers and .

Instead of or in addition to using RF wave phase offsets in some embodiments symbol offsets in a tag reply may be used to determine AoA. In some embodiments a reply sent by tag may encode a particular symbol sequence at a particular tag symbol rate for example as described in the Gen2 Specification. The propagation distance difference between tag and receivers and may cause receiver to receive particular symbol s slightly after receiver receives the same symbol s . The timing difference in the reception of the symbol s may then be used to determine the AoA of the tag reply and tag .

Before determining the AoA of a received tag reply the controller coupled to receivers and may first determine whether the tag replies or RF waves received at receivers and are in fact versions of the same signal that are phase shifted with respect to each other. For example a controller may determine whether the signals received at receivers and are modulated in the same way encode the same symbols at the same tag symbol rate or otherwise originate from the same source. The controller may also determine whether the signals received at receivers and are offset or phase shifted with respect to each other. For example the controller may determine whether the two signals have a phase offset. In some embodiments the controller may buffer at least a portion of an initially received tag signal and compare the buffered portion to a portion of a subsequently received tag signal using an appropriate phase or symbol offset if necessary. If the two portions substantially match then the controller may conclude that the initially received and subsequently received tag signals correspond to the same tag signal. If the controller also determines that the two signals have a phase offset then the controller may conclude that the two signals are phase shifted with respect to each other.

Using a tag signal s AoA measured with respect to a single axis e.g. axis localizes the tag s location to a conical surface or a circular area if the angle of arrival is 90 defined by the AoA and the axis. Further physical constraints may further localize the tag location. For example receivers and may be mounted on a ceiling or wall and configured to look downward or outward which may localize the tag location to at most half of the conical surface defined by the AoA. Furthermore if receivers and are mounted on a ceiling and facing a floor then the tag location may be further localized to be within some distance of the floor or equivalently at least some distance away from the ceiling .

In some embodiments additional AoA measurements made using other receivers may also be used to localize a tag. Diagram depicts three noncollinear receivers and . The receivers are disposed such that receivers and lie on axis receivers and lie on axis and receivers and lie on axis but receivers and do not share a single axis. When a reply from tag is received receivers and may be used to determine a first AoA of the reply with respect to axis receivers and may be used to determine a second AoA of the reply with respect to axis and receivers and may be used to determine a third AoA of the reply with respect to axis . Once two or more reply AoAs measured with respect to different axes are known triangulation may be used to further localize the location of tag . Using AoA measurements from three or more receivers in addition to providing two dimensional location capability as described above may allow tag location to be further refined. For example AoA measurements of a tag taken from three or more receivers that are not necessarily collinear may allow the direction and or the distance of the tag with respect to the receivers to be determined with more accuracy for example by using a linear fit or some other fitting algorithm.

While angle of arrival determination is described above in terms of measuring received signals at different receivers in some embodiments angle of arrival may be determined based on signals received on different beams. A beam may be formed using a single antenna or antenna element or may be generated by simultaneously radiating from multiple antennas or antenna elements as described above. In the latter case the beam may be generated with a particular orientation and targeting a specific location or direction and the orientation may be used to target tags at that specific location direction and or to further refine the angle of arrival determination process.

Diagram depicts facility similar to facility with a reader positioned to monitor facility exit . Reader may not be an SBR but is configured with multiple antenna elements for AoA determination. Similar to the situation described in diagram reader may initially detect a reply from tag with an AoA and may subsequently detect another reply from tag with a different AoA . Reader or an LPS or controller coupled to reader may then use the AoAs and as well as associated timestamps to determine one or more travel parameters associated with tag such as its location whether it is stationary or traveling and if the latter its direction of travel and or velocity of travel.

Diagram depicts facility similar to facilities and with two readers and positioned to monitor facility exit . Readers and are configured with multiple antenna elements for AoA determination and are depicted as similar to reader but in other embodiments one or both of readers may be SBRs similar to SBR . Readers and may initially detect a reply from tag with reader measuring AoA and reader measuring AoA . Subsequently readers and may detect another reply from tag with reader measuring AoA and reader measuring AoA . Readers and or an LPS controller coupled to both readers may then use the AoAs as well as associated timestamps to determine one or more travel parameter s associated with tag as described above. In some embodiments the additional AoA measurements from the additional reader may be used to further refine the travel parameter determination process.

Subsequently at step one or more readers scan for tagged items exiting the facility using one or more beams configured to cover a facility exit or directed along exit path s passing through the facility exit. The reader s may scan for tagged items using exit beams for example as described in or by determining angles of arrival associated with tag replies for example as described in . In some embodiments the reader s may determine that a tag is departing the facility based on its location its direction of travel and or its velocity of travel. For example if the reader s determines using exit beam identifiers and or measured AoAs that a tag is outside the facility then it may determine that the tag has departed the facility especially if the tag is otherwise associated with the facility as described below. As another example the reader s may determine that a tag with a direction of travel or velocity of travel oriented within the facility is not departing and accordingly ignore the incoming tag but determine that a tag with a direction of travel or velocity of travel oriented out of the facility is departing. The reader s may scan for tagged items exiting the facility while inventorying tagged items within the facility as described above. Upon detecting a tagged item departing the facility e.g. based on the direction of travel velocity of travel and or location of the tag associated with the item as described above in step the LPS determines whether the tagged item is authorized to exit the facility. The LPS may retrieve an identifier from the tag associated with the item and compare the identifier to a database as described above. In some embodiments the LPS may also or instead retrieve an electronic signature ticket and or exit code from the tag for use in determining whether the tagged item is authorized to leave the facility. In some embodiments the LPS may first determine whether the item is associated with the facility. For example the LPS may determine whether the tag identifier is included in a facility database or whether an owner code read from the tag is properly associated with the facility. If not the LPS may ignore the tag and its associated item. If the LPS determines that the item is associated with the facility and authorized to leave the facility then the LPS permits the item to exit at step . If the LPS determines that the item is associated with the facility but not authorized to leave then at step the LPS may perform or initiate a security action as described above.

The steps described in process are for illustration purposes only. Loss prevention may be performed employing additional or fewer steps and in different orders using the principles described herein. Of course the order of the steps may be modified some steps eliminated or other steps added according to other embodiments.

As described above the RF beams for transmitting and or receiving may be synthesized by an SBR or generated without the use of a synthesized beam antenna. For example a transmit beams may be generated by a synthesized beam antenna but the receive beam may employ a static antenna such a patch monopole dipole etc. As another example the synthesized beams may be replaced by multiple static antennas coupled to one or more readers.

The foregoing detailed description has set forth various embodiments of the devices and or processes via the use of block diagrams and or examples. Insofar as such block diagrams and or examples contain one or more functions and or aspects it will be understood by those within the art that each function and or aspect within such block diagrams or examples may be implemented individually and or collectively by a wide range of hardware software firmware or virtually any combination thereof. Those skilled in the art will recognize that some aspects of the embodiments disclosed herein in whole or in part may be equivalently implemented employing integrated circuits as one or more computer programs running on one or more computers e.g. as one or more programs running on one or more computer systems as one or more programs running on one or more processors e.g. as one or more programs running on one or more microprocessors as firmware or as virtually any combination thereof and that designing the circuitry and or writing the code for the software and or firmware would be well within the skill of one of skill in the art in light of this disclosure.

The present disclosure is not to be limited in terms of the particular embodiments described in this application which are intended as illustrations of various aspects. Many modifications and variations can be made without departing from its spirit and scope as will be apparent to those skilled in the art. Functionally equivalent methods and apparatuses within the scope of the disclosure in addition to those enumerated herein will be apparent to those skilled in the art from the foregoing descriptions. Such modifications and variations are intended to fall within the scope of the appended claims. The present disclosure is to be limited only by the terms of the appended claims along with the full scope of equivalents to which such claims are entitled. It is to be understood that this disclosure is not limited to particular methods configurations antennas transmission lines and the like which can of course vary. It is also to be understood that the terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting.

With respect to the use of substantially any plural and or singular terms herein those having skill in the art can translate from the plural to the singular and or from the singular to the plural as is appropriate to the context and or application. The various singular plural permutations may be expressly set forth herein for sake of clarity.

It will be understood by those within the art that in general terms used herein and especially in the appended claims e.g. bodies of the appended claims are generally intended as open terms e.g. the term including should be interpreted as including but not limited to the term having should be interpreted as having at least the term includes should be interpreted as includes but is not limited to etc. . It will be further understood by those within the art that if a specific number of an introduced claim recitation is intended such an intent will be explicitly recited in the claim and in the absence of such recitation no such intent is present. For example as an aid to understanding the following appended claims may contain usage of the introductory phrases at least one and one or more to introduce claim recitations. However the use of such phrases should not be construed to imply that the introduction of a claim recitation by the indefinite articles a or an limits any particular claim containing such introduced claim recitation to embodiments containing only one such recitation even when the same claim includes the introductory phrases one or more or at least one and indefinite articles such as a or an e.g. a and or an should be interpreted to mean at least one or one or more the same holds true for the use of definite articles used to introduce claim recitations. In addition even if a specific number of an introduced claim recitation is explicitly recited those skilled in the art will recognize that such recitation should be interpreted to mean at least the recited number e.g. the bare recitation of two recitations without other modifiers means at least two recitations or two or more recitations .

Furthermore in those instances where a convention analogous to at least one of A. B and C etc. is used in general such a construction is intended in the sense one having skill in the art would understand the convention e.g. a system having at least one of A B and C would include but not be limited to systems that have A alone B alone C alone A and B together A and C together B and C together and or A B and C together etc. . It will be further understood by those within the art that virtually any disjunctive word and or phrase presenting two or more alternative terms whether in the description claims or drawings should be understood to contemplate the possibilities of including one of the terms either of the terms or both terms. For example the phrase A or B will be understood to include the possibilities of A or B or A and B. 

As will be understood by one skilled in the art for any and all purposes such as in terms of providing a written description all ranges disclosed herein also encompass any and all possible subranges and combinations of subranges thereof. Any listed range can be easily recognized as sufficiently describing and enabling the same range being broken down into at least equal halves thirds quarters fifths tenths etc. As a non limiting example each range discussed herein can be readily broken down into a lower third middle third and upper third etc. As will also be understood by one skilled in the art all language such as up to at least greater than less than and the like include the number recited and refer to ranges which can be subsequently broken down into subranges as discussed above. Finally as will be understood by one skilled in the art a range includes each individual member. Thus for example a group having 1 3 cells refers to groups having 1 2 or 3 cells. Similarly a group having 1 5 cells refers to groups having 1 2 3 4 or 5 cells and so forth.

