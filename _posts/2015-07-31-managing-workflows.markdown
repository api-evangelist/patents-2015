---

title: Managing workflows
abstract: Systems and methods are disclosed that facilitate the selection of virtual machine instances to implement each action associated with a specified workflow. Workflows are configured and defined as a series of actions or processes that have various requirements. For each action in a specified workflow, a workflow management component can select virtual machine resources that are best suited to implement the specific action in accordance with the requirements of the action.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09483747&OS=09483747&RS=09483747
owner: AMAZON TECHNOLOGIES, INC.
number: 09483747
owner_city: Seattle
owner_country: US
publication_date: 20150731
---
Any and all applications for which a foreign or domestic priority claim is identified in the Application Data Sheet as filed with the present application are hereby incorporated by reference under 37 CFR 1.57.

Generally described computing devices utilize a communication network or a series of communication networks to exchange data. Companies and organizations operate computer networks that interconnect a number of computing devices to support operations or provide services to third parties. The computing systems can be located in a single geographic location or located in multiple distinct geographic locations e.g. interconnected via private or public communication networks . Specifically data centers or data processing centers herein generally referred to as a data center may include a number of interconnected computing systems to provide computing resources to users of the data center. The data centers may be private data centers operated on behalf of an organization or public data centers operated on behalf or for the benefit of the general public.

To facilitate increased utilization of data center resources virtualization technologies may allow a single physical computing device to host one or more instances of virtual machines that appear and operate as independent computing devices to users of a data center. With virtualization the single physical computing device can create maintain delete or otherwise manage virtual machines in a dynamic matter. In turn users can request computer resources from a data center including single computing devices or a configuration of networked computing devices and be provided with varying numbers of virtual machine resources.

In some scenarios instances of a virtual machine or a physical computing device may be configured to provide specific functionality. For example various computing devices may be associated with different combinations of operating systems or operating system configurations virtualized hardware resources and software applications to enable a computing device to provide different desired functionalities or to provide similar functionalities more efficiently. Accordingly the different configurations of virtual machine instances may be better suited for different types of processing requests.

Generally described aspects of the present disclosure relate to the management of the implementation of a series of actions or process corresponding to workflows. Specifically systems and methods are disclosed that facilitate the selection of virtual machine instances to implement each action associated with a specified workflow. Illustratively workflows are configured and defined as a series of actions or processes that have various requirements in terms of computing device resources security resources service levels financial results and the like. For each action in a specified workflow a workflow management component can select virtual machine resources that are best suited to implement the specific action in accordance with the requirements of the action.

The virtual network can include multiple physical computing devices generally referred to as host computing devices . In one embodiment the host computing devices are capable of hosting multiple virtual machine instances . At least some of the virtual machine instances may be provisioned to provide a variety of different desired functionalities depending on the needs of the data center. Examples of the types of desired functionality include but are not limited to database management serving or distributing data or content e.g. Web servers managing load balancing or network resources managing network connectivity or security providing network addressing information managing client or server redirection or any other functionality associated with a data center. One skilled in the relevant art will appreciate that the virtual network is logical in nature and can encompass host computing devices from various geographic regions. Additionally although the host computing devices will be discussed with regard to hosted virtual machine instances one or more of the host computing devices may be physical computing devices configured to provide specified functionality in the virtual network without hosting virtual machine instances generally illustrated as host computing device without virtual machine instances in . Accordingly reference in the illustrative examples and embodiments to host computing devices or host computing device can include host computing devices hosting virtual machines or not hosting virtual machine instances.

The virtual network also includes a workflow management component for processing requests for processing requests to implement selected workflows. As will be explained in greater detail below with regard to the workflow management component can identify a series of actions that are implemented in a specified workflow. Additionally the workflow management component can select one or more virtual machine instances to implement each action in the series of actions based on matching processing requirements for each action. It should be appreciated that although the workflow management component is depicted for the purpose of example as a single stand alone logical component in illustrative the routines and steps performed by the workflow management component may be distributed among any number of components and executed in hardware or software. For example multiple workflow management components may be implemented in the virtual network such in a number of virtual machine instances . Additionally although the workflow management component is illustrated as logically associated within the virtual network the workflow management component may be implemented in a separate networked environment in conjunction with client computing device networks or otherwise integrated into other components systems of the virtual network . Illustrative components of the workflow management component will be described with regard to .

With continued reference to the virtual network can further include a workflow specification data store for maintaining at least in part information related to the definition of workflows into a series of actions or processing steps. Additionally the workflow specification data store can maintain at least in part information related to preferences for the requesting client computing device networks such as service level agreement terms financial criteria and the like. Illustratively the workflow specification data store may correspond to network attached storage NAS database servers local storage or other storage configurations which may be implemented in a centralized or distributed manner. Additionally although the workflow specification data store is illustrated as a single data store one skilled in the relevant art will appreciate that the workflow specification data store may be integrated or combined with one or more of the data stores provide additional or alternative functionality to the virtual network .

As illustrated in the workflow management component can include among other hardware or software components a workflow management interface component for facilitating the receipt of requests to define or implement workflows from client computing device networks . The workflow management interface component can also facilitate the receipt of information regarding availability information for virtual machine instances or host computing devices that may implement one or more actions associated with a specified workflow. Illustratively the workflow management interface component can facilitate interaction with client computing devices host computing devices and virtual machine instances via application programming interfaces APIs . The workflow management component can also include a workflow processing component for processing requests for implementation of specified workflows. Specifically the workflow processing component can attempt to match one or more processing requirements of actions in workflow with resource availability information of virtual machine instances instantiated or yet to be instantiated that are capable of implementing the respective action. One skilled in the relevant art will appreciate that the illustrated components and may be implemented as stand along components or modules. Additionally one or more of the modules and implemented into other components or otherwise combined. Still further as previously discussed the workflow management component may be implemented on one or more physical devices one or more virtual machine instances or a combination thereof.

Turning now to a simplified block diagram of the virtual network environment of illustrating the selection and execution of workflows on one or more virtual machine instances will be described. For purposes of illustration many of the components of the virtual network environment have been omitted. However one skilled in the relevant art will appreciate that the illustrated interaction between components may utilize the omitted components or additional components not previously illustrated in . Still further embodiments disclosed in reference host computing devices that may be hosting virtual machine instances the disclosed embodiments and examples may be implemented with at least some portion of the host computing devices not hosting virtual machine instances.

With reference to in one embodiment the client computing network can process and initiate a request to the workflow management component to authorize or request the initiation of a workflow 1 . The request can identify a specific workflow or set of workflows. The request can also identify one or more of the criteria that the workflow management component can utilize to selection the virtual machine instances that will implement the actions associated with the specified workflow. For example the request can include a specification of a maximum financial cost or a financial cost category that a customer would like applied in selecting the virtual machine instances that will implement the specified series of actions.

Upon receipt of the workflow specification and any additional information the workflow management component defines or obtains a definition of a series of actions that will be implemented in the specified workflow 3 . For example assume a customer has selected a customer sales workflow to be implemented. A first action may involve the aggregation of data from multiple sources such as retail outlets. A second action may involve the processing of the aggregated data and the generation of additional data such as summary of sales to date or an extrapolation of the sales data for sales projection. A third action may involve the generation of user interfaces that allow a set of client computing devices to access and manipulate the aggregated and processed data. In this basic embodiment the workflow management component could identify the three actions as the series of actions that correspond to the specified workflow.

With continued reference to the workflow management component can also obtain resource availability information 4 for one or more virtual machine instances or host computing devices A B C. The virtual machine instances may have been previously instantiated for utilization by the customer or third party. Alternatively at least a portion of the virtual machine instances may correspond to virtual machine instances that can be instantiated by a manager server computer system not illustrated running within the virtual network . Illustratively the resource availability information may correspond to information related to the resources that can be made available to the customer such a processing memory network bandwidth and the like. The resource availability information can also correspond to information related to cost information that will be associated with the execution of the action. For example a virtual machine instance that is at 10 capacity may be able to offer a different financial cost than a virtual machine instance that is 85 capacity. Still further the resource availability may also include security information associated with the type of security or a security rating for the virtual machine instance. The resource availability information can also correspond to location information that may provide a physical location or a logical network location of the virtual machine instance. One skilled in the relevant art will appreciate that additional or alternative resource availability information may also be provided.

With reference now to in one embodiment the workflow management component selects the first or next action or process in the series of actions and processes the action 1 . The processing of the action can include a determination of the processing requirements for the action. For example processing the action may require minimal computing device resources such as a minimal number of processing units processing unit speeds memory capacity available network bandwidth and the like. The processing requirements may also specify security requirements such as types of encryption or security certifications. Still further the processing requirements can specify geographic criteria that may need to be satisfied. For example an action that requires the transmission of large amounts of data may specify geographic criteria such that a virtual machine instance processing the data may be geographically proximate to the data source to improve performance or mitigate data losses over a communication network. Based on the resource availability information previously collected by the workflow management component the workflow management component attempts to match an available virtual machine instance with the action.

As illustrated in the workflow management component can then cause the instantiation of the requested action 2 such as a virtual machine instance on host computing device C. In alternative embodiments one or more of the host computing devices A C may periodically poll the workflow management component to determine whether there are actions that can be executed by the host computing device. Accordingly with reference to the illustrative example of the initiation of the first action 2 by the workflow management component may be reactive to the polling by the host computing device A. Based on the information provided by the workflow management component in conjunction with other components one or more of the selected virtual machine instances execute the first action 3 . Additionally the virtual machine instances can transmit a processing result 4 . The processing result can be in the form of notifications regarding the completion of the task. The processing result can also be in the form of data generated by the virtual machine instance or other information specified for the selected workflow.

Turning now to in one embodiment the processing of the first action may be prerequisite to processing additional actions. In other embodiments two or more the identified actions may be processed in parallel or at least without dependencies to each action. As illustrated in upon the completion of the first action the workflow management component process the next action 1 and selects a virtual machine instance for implementing the next action. As previously described the workflow management component can utilize the processing requirement information and virtual machine resource availability information to select the virtual machine instance. Illustratively the workflow management component can obtain updated virtual machine resource availability information or check for updates. Alternatively the workflow management component can utilize previously collected resource availability information. Based on the information provided by the workflow management component in conjunction with other components one or more of the selected virtual machine instances execute the next action 2 and 3 .

For purposes of illustration however the virtual machine instances does not necessarily transmit a processing result prior to the workflow management component selecting and processing the next action 4 . As previously described the workflow management component can utilize the processing requirement information and virtual machine resource availability information to select the virtual machine instance that will implement the next action. Based on the information provided by the workflow management component in conjunction with other components one or more of the selected virtual machine instances execute the next action 5 and 6 .

Turning to a flow diagram illustrative of a workflow management routine implemented by the workflow management component will be described. While routine will be described with regard to implementation by the workflow management component one skilled in the relevant art will appreciate that routine may be implemented by other components of the virtual network .

At block the workflow management component obtains a request for execution of a workflow. As previously described in one embodiment the request can identify a specific workflow or set of workflows. For example a specific customer may have specified a number of workflows that can be requested via one or more custom API calls. Additionally the request can identify one or more criteria that the workflow management component can utilize to selection the virtual machine instances that will implement the actions associated with the specified workflow. For example the request can include a specification of a maximum financial cost or a financial cost category that a customer would like applied in selecting the virtual machine instances that will implement the specified series of actions. In another example the request can include a service level category that the workflow management component will attempt to achieve in implementing the workflows. In still a further embodiment the request can include the specification of a workflow that has not been previously specified or defined. The definition can be accomplished via one or more API calls or by reference to a definition stored in the virtual network or other network location.

At block the workflow management component defines a series of actions for the selected or specified workflow. In one embodiment the series of actions may be previously defined by the workflow management component or component . In another embodiment the workflow management component may dynamically process the workflow to identify a series of actions that need to be executed. For example the workflow management component can analyze code associated with the definition of the workflow and identify one or more processes that will be implemented. Still further the workflow management component can utilize historical data related to the current workflow or substantially similar workflows to identify the series of action. For example assume that the workflow management component has obtained a request related to a previously undefined data processing workflow. The workflow management component can utilize information associated with other data processing workflows to assist in the identification for the actions that would be executed in the requested workflow. In another example assume that the workflow management component receives a request to implement a sales data encryption workflow that has never been implemented by a particular customer. The workflow management component can utilize historical information associated with the implementation of the data encryption workflow by other customers to determine the series of actions.

At block the routine begins a loop for processing all of the series of actions in a defined workflow. Specifically at block the workflow management component determines what will be the next action or set of actions and selects the next action s as the current action. In a first iteration of routine the workflow management component can determine that the next action may be the first action in the first iteration of routine . In embodiments in which the series of actions are dependent on the previous action being completed the workflow management component can determine that the next action is the next subsequent action or some other identified action in the series of action. In other embodiments in which at least a portion of the series of actions are not dependent the workflow management component can select multiple actions to be executed or implemented in parallel. The determination of whether to implement action in series may also be dependent on available host computing device resources.

At block the workflow management component obtains the processing requirements for the current action. As previously described the processing requirements can correspond to various criteria associated with the action a desired output or the customer requesting the action. In one example the processing requirements can include a specification computing device resources such as a minimal number of processing units processing unit speeds memory capacity available network bandwidth and the like. The processing requirements can be in the form of minimum requirements maximum requirements optimal requirements and the like. In another example the processing requirements may also specify security requirements such as types of encryption or security certifications. In a further example the processing requirements can specify geographic criteria that may need to be satisfied. For example an action that requires the transmission of large amounts of data to customer may specify geographic criteria such that a virtual machine instance processing the data may be geographically proximate to destination of the data e.g. the consumer of the data .

At block the workflow management component determines virtual machine instance resource availability information for one or more virtual machine instance s that will implement the current action. As previously described the resource availability information can also correspond to information related to cost information that will be associated with the execution of the action. For example a virtual machine instance that is at 85 capacity may be offered at a different financial cost than a virtual machine instance that is 10 capacity. Still further the resource availability may also include security information associated with the type of security or a security rating for the virtual machine instance. The resource availability information can also correspond to location information that may provide a physical location or a logical network location of the virtual machine instance. One skilled in the relevant art will appreciate that additional or alternative resource availability information may also be provided.

At block the workflow management component determines a virtual machine instance or set of virtual machine instances that will implement the current action. Specifically the workflow management component can select the virtual machine instance s based on matching the processing requirements of the current action with the resource availability information associated with one or more virtual machine instances in the virtual network . At decision block the workflow management component determines whether there are additional actions for the specified workflow. If so the routine returns to block to process the next action in the set of actions. Additionally if a processing result is required the routine will wait for receipt of confirmation of the processing result of the previous action. Alternatively once no additional actions are left to be processed the routine terminates at block .

It will be appreciated by those skilled in the art and others that all of the functions described in this disclosure may be embodied in software executed by one or more processors of the disclosed components and mobile communication devices. The software may be persistently stored in any type of non volatile storage.

Conditional language such as among others can could might or may unless specifically stated otherwise or otherwise understood within the context as used is generally intended to convey that certain embodiments include while other embodiments do not include certain features elements and or steps. Thus such conditional language is not generally intended to imply that features elements and or steps are in any way required for one or more embodiments or that one or more embodiments necessarily include logic for deciding with or without user input or prompting whether these features elements and or steps are included or are to be performed in any particular embodiment.

Any process descriptions elements or blocks in the flow diagrams described herein and or depicted in the attached figures should be understood as potentially representing modules segments or portions of code which include one or more executable instructions for implementing specific logical functions or steps in the process. Alternate implementations are included within the scope of the embodiments described herein in which elements or functions may be deleted executed out of order from that shown or discussed including substantially concurrently or in reverse order depending on the functionality involved as would be understood by those skilled in the art. It will further be appreciated that the data and or components described above may be stored on a computer readable medium and loaded into memory of the computing device using a drive mechanism associated with a computer readable storing the computer executable components such as a CD ROM DVD ROM or network interface further the component and or data can be included in a single device or distributed in any manner. Accordingly general purpose computing devices may be configured to implement the processes algorithms and methodology of the present disclosure with the processing and or execution of the various data and or components described above.

It should be emphasized that many variations and modifications may be made to the above described embodiments the elements of which are to be understood as being among other acceptable examples. All such modifications and variations are intended to be included herein within the scope of this disclosure and protected by the following claims.

