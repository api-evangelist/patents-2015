---

title: Tagging users of a social networking system in content outside of social networking system domain
abstract: Users of a social networking system can tag other users in content items that are provided outside of the social networking system, such as pictures that are viewable on a website that is external to the social networking system. To enable a user to tag another user in a content item, an external system provides a user interface that enables the user to tag another user, optionally define a portion of the content item in which the tagged user appears, and provide an identity of the tagged user. The external system communicates with the social networking system to provide the tagging information to the social networking system. The tagging information is received by the social networking system, which imports the content item and displays the content item with the tagging information to other users in the social networking system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09380087&OS=09380087&RS=09380087
owner: Facebook, Inc.
number: 09380087
owner_city: Menlo Park
owner_country: US
publication_date: 20150428
---
This application is a continuation of U.S. application Ser. No. 13 197 996 filed Aug. 4 2011 which is incorporated by reference in its entirety.

This invention relates generally to digital content and more particularly to tagging social networking system users and other objects in digital content published outside of a social networking system domain.

Social networking systems typically allow users to upload photos videos and other types of digital content onto the social networking system which then displays the content to other users of the social networking system. Social networking systems also enable users to tag themselves and other users in the uploaded digital content to indicate the identity of the people who appear in that content. For example a user may upload a photo in which the user s friend appears and then tag the photo to indicate that the user s friend appears in the photo. Thereafter other users of the social networking system can view the tagged photo and see that the friend appears in the photo. The social networking system can also route content items based on who is tagged in the content. In the previous example the social networking system may forward the tagged photo to the friends of the user who were tagged in the photo regardless of who uploaded the photo.

Although this tagging feature can be very powerful it does not extend to content that appears outside of the social networking system. For example many web pages accessible over the Internet may contain content in which users of the social networking system appear but there are no tools that enable tagging users in that content in a way that is useable by the social networking system. A user can generally view web content associated with a particular person by searching for the content e.g. using a search engine. But to link that content to the user s profile in the social networking system the viewing user would have to save the content manually upload the content to the social networking system and then provide the tagging information within the social networking system. This method of tagging one s friends in can be cumbersome and time consuming.

Embodiments of the invention allow a user to tag one or more users of a social networking system in a content item that is hosted outside of the social networking system domain. For example a user viewing a content item hosted by a third party can add a tag to the content item to indicate that a user of the social networking system appears in that content item. The tagged content item is then associated with the tagged user within the social networking system. This association enables various functionalities in the social networking system such as providing notifications to the tagged user s friends to view the content item with the tagged user or associating the tagged content item with the tagged user s profile just to name a few.

In one embodiment a tagging user is presented with a web page hosted by a third party. The web page includes tagging interface that allows a user to tag one or more users of the social networking system in a content item that appears within the web page. For example the tagging user may tag another user in an image displayed on the web page to indicate that the tagged user is in the image. The tagging interface may be implemented by the third party website which then communicates information about the tag to the social networking system or the tagging interface may be provided by a plug in operated by the social networking system within the external web page. The tagging interface includes user interface elements that allow the tagging user to identify the tagged user. The identities of the tagging user and tagged user are sent to the social networking system which associates the tagged content item with the tagged user. In one embodiment the social networking system retrieves the content item from the third party website and saves the content item for presentation within the social networking system domain. In another embodiment the social networking system obtains a link or a reference to the tagged content item.

The embodiments presented herein allow users to tag users of a social networking system in web content that is hosted outside the social networking system domain. This allows the social networking system to provide a comprehensive user experience in which social networking system users can view content associated with another user regardless of whether it hosted by the social networking system or by a third party. Additionally the social networking system can provide richer web content about the tagged user in social feeds of the social networking system by including information displayed and published outside of the social networking system domain.

The figures depict various embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.

The disclosed configuration allows users of a social networking system to tag users in digital content hosted by an entity outside the social networking system domain. illustrates an exemplary environment for tagging digital media in accordance with an embodiment of the invention. The environment includes a third party website including a web page and an image an application executing on a computing device displaying the image and a tagging frame and a social networking system . The social networking system the third party website and the computing device are connected over a network .

The network enables communications between the computing device the social networking system and one or more third party websites . In one embodiment the network uses standard communications technologies and or protocols. Thus the network can include links using technologies such as Ethernet 802.11 worldwide interoperability for microwave access WiMAX 3G digital subscriber line DSL asynchronous transfer mode ATM InfiniBand PCI Express Advanced Switching etc. Similarly the networking protocols used on the network can include multiprotocol label switching MPLS the transmission control protocol Internet protocol TCP IP the User Datagram Protocol UDP the hypertext transport protocol HTTP the simple mail transfer protocol SMTP the file transfer protocol FTP etc. The data exchanged over the network can be represented using technologies and or formats including the hypertext markup language HTML the extensible markup language XML etc. In addition all or some of the links can be encrypted using conventional encryption technologies such as secure sockets layer SSL transport layer security TLS virtual private networks VPNs Internet Protocol security IPsec etc. In another embodiment the entities can use custom and or dedicated data communications technologies instead of or in addition to the ones described above. Depending upon the embodiment the network can also include links to other networks such as the Internet.

In various embodiments the computing device retrieves web content via the network and displays it to a user. The computing device can be a personal computer PC a desktop computer a laptop computer a notebook a tablet PC executing an operating system for example a Microsoft Windows compatible operating system OS Apple OS X and or a Linux distribution. In another embodiment the computing device can be a device having computer functionality such as a personal digital assistant PDA mobile telephone video game system etc. The computing device has functionality to connect to the network using one or more network protocols described in the specification above. For example the computing device can include a modem an Ethernet card a wireless network card and the like to send and receive data from the network . The third party website comprises one or more web servers including one or more web pages which are communicated to the computing device using the network . The third party website is associated with a first domain while a social networking system website is associated with a separate social networking domain. A web page included in the third party website comprises a markup language document identifying content and including instructions specifying formatting or presentation of the identified content. In one embodiment a web page includes an image . In other embodiments other web content may be provided in a web page including but not limited to videos text news stories and FLASH applications.

The social networking system provides social networking services including but not limited to communication services connection services gaming services and so forth. Users can upload digital content on the social networking system domain wherein the digital content may include videos images etc. The social networking system may display the social content to user within the social networking system. For example the social networking system may display the digital content to friends of the user or users within a same social network within the social networking system . In one embodiment the social networking system may also provide functionality to allow users to tag users in the digital content such that others may be able identify the tagged user within the digital content.

The application executes on a computing device to interface with a user by receiving user inputs and displaying digital content to the user. In one instance the application displays digital content retrieved from a third party website to a user. Application may include web browsers news applications games social networking system applications video content viewing applications etc. Examples of applications include but are not limited to INTERNET EXPLORER GOOGLE CHROME APPLE SAFARI and MOZILLA FIREFOX.

In one embodiment a user views an image rendered by the application executing on a computing device to tag social networking system users in the image . In one instance a user requests the application to retrieve a web page from a third party website . responsive to a user request the application interfaces with the computing device to retrieve the web page from the third party website over the network . The application renders the web page including an image displayed on the web page .

In one instance the rendered image includes social networking system information such that the user may tag social networking system users displayed in the image . In such an instance the application renders a tagging frame around the image to indicate portions of the image to be tagged. The tagging frame also includes user interface elements wherein a user can move the tagging frame within a portion of the image . Additionally the user may provide the identity of users in the image. In such an instance the tagging information and the image is provided to the social networking system over the network . The social networking system receives the tagged image along with the tagging information and the tagged users social networking system identity. The social networking system tags the tagged user in the image within the social networking system thereby providing content about a user otherwise stored outside of the social networking system.

As described above in conjunction with the social networking system comprises a computing system that allows users to communicate or otherwise interact with each other and access content as described herein. The social networking system stores user profiles describing the users of a social network. The user profiles include biographic demographic and other types of descriptive information such as work experience educational history hobbies or preferences location and the like. The social networking system further stores data describing one or more connections between different users in the connection store . The connection information may indicate users who have similar or common work experience group memberships hobbies or educational history. Additionally the social networking system includes user defined connections between different users allowing users to specify their relationships with other users. For example user defined connections allow users to generate relationships with other users that parallel the users real life relationships such as friends co workers partners and so forth. Users may select from predefined types of connections or define their own connection types as needed.

The web server links the social networking system to one or more user device and or one or more external websites via the network . The web server serves web pages as well as other web related content such as Java Flash XML and so forth. The web server may include a mail server or other messaging functionality for receiving and routing messages between the social networking system and one or more user devices . The messages can be instant messages queued messages e.g. email text and SMS messages or any other suitable messaging format.

The Application Programming Interface API request server allows one or more external websites to access information from the social networking system by calling one or more APIs. The API request server may also allow external websites to send information to social networking website by calling APIs. For example an external website sends an API request to the social networking system via the network and the API request server receives the API request. The API request server processes the request by calling an API associated with the API request to generate an appropriate response which the API request server communicates to the external website via the network . For example responsive to an API request the API request server collects data associated with a user and communicates the collected data to the external website .

The action logger is capable of receiving communications from the web server about user actions on and or off the social networking system . The action logger populates the action log with information about user actions allowing the social networking system to track various actions taken by its users within the social networking system and outside of the social networking system . Any action that a particular user takes with respect to another user is associated with each user s profile through information maintained in the action log or in a similar database or other data repository. Examples of actions taken by a user within the social network that are identified and stored may include for example tagging a user in digital content such as an image a video an application or an article adding a connection to another user sending a message to another user reading a message from another user viewing content associated with another user attending an event posted by another user or other actions interacting with another user.

Additionally user actions may be associated with an entity outside of the social networking system such as an external website that is separate from the social networking system . For example the action logger receives data describing a user s interaction with an external website from the web server . Examples of actions where a user interacts with an external website include tagging a user in digital content represented by the website . Digital content includes images videos applications games articles advertisements etc.

The authorization server enforces one or more privacy settings of the users of the social networking system . A privacy setting of a user determines how particular information associated with a user can be shared. The privacy setting comprises the specification of particular information associated with a user and the specification of the entity or entities with whom the information can be shared. Examples of entities with which information can be shared may include other users applications external websites or any entity that can potentially access the information. The information that can be shared by a user comprises user profile information like profile photo phone numbers associated with the user user s connections actions taken by the user such as adding a connection changing user profile information and the like.

Based on the user s privacy settings the authorization server determines if another user an external website an application or another entity is allowed to access information associated with the user including information regarding whether a user is tagged in digital content inside or outside the social networking system. For example the authorization server uses a users privacy setting to determine if the user s tagging information should made available to one or more other users of the social networking system. This enables a user s privacy setting to specify which other users or other entities are allowed to receive data about the user s actions or other data associated with the user.

Additionally the social networking system maintains data about objects with which a user may interact with using the social networking system . To maintain this data the user profile store and the connection store store instances of the corresponding type of objects maintained by the social networking system . Each object type has information fields that are suitable for storing information appropriate to the type of object. For example the user profile store contains data structures with fields suitable for describing a user s profile. When a new object of a particular type is created the social networking system initializes a new data structure of the corresponding type assigns a unique object identifier to it and begins to add data to the object as needed. This might occur for example when a user becomes a user of the social networking system the social networking system generates a new instance of a user profile in the user profile store assigns a unique identifier to the user profile and begins to populate the fields of the user profile with information provided by the user.

The connection store includes data structures suitable for describing a user s connections to other users connections to external websites or connections to other entities. The connection stores may also associate a connection type with a user s connections which may be used in conjunction with the user s privacy setting further described above to regulate access to information about the user.

Data stored in the connection store the user profile store and the action log allows the social networking system to generate a social graph that uses nodes to identify various objects and edges connecting nodes to identify relationships between different objects. An edge between two nodes in the social graph represents a particular kind of connection between the two nodes which may result from an action that was performed by one of the nodes on the other node.

For example if a first user establishes a connection with a second user in the social networking system user profiles of the first user and the second users from the user profile store may act as nodes in the social graph. The connection between the first user and the second user stored by the connection store is an edge between the nodes associated with the first user and the second user. Continuing this example the second user man then send the first user a message within the social networking system which is identified by the action logger and stored in the action log . The stored action of sending the message is another edge between the two nodes in the social graph representing the first user and the second user. Additionally the message itself may be identified from the action log and included in the social graph as another node connected to the nodes representing the first user and the second user.

In another example a first user may tag a second user in an image that is maintained by the social networking system or alternatively in an image maintained by another system outside of the social networking system . The image may itself be represented a node in the social networking system . This tagging action may create edges between the first user and the second user as well as create an edge between each of the users and the image which is also a node in the social graph. In yet another example if a user confirms attending an event the user and the event are nodes obtained from the user profile store where the attendance of the event is an edge between the nodes that may be retrieved from the action log . By generating and maintaining the social graph the social networking system includes data describing many different types of objects and the interactions and connections among those objects providing a rich source of socially relevant information.

A photoset is a photo album generated responsive to a user s search request. In one embodiment the user may request to view photos wherein both the tagged user and the tagging user are tagged. In such an instance the social networking system generates a photoset responsive to the request. In one instance the photoset is generated by the social networking system in approximately real time responsive to the user s request. In other instances the photoset may be generated from two users when a visiting user accesses or retrieves another user s social networking system page. Similarly a photoset may be generated for any object within the social networking system wherein in one or more objects are tagged in a picture an article a video etc.

In one embodiment the web page comprises a markup language document that includes the content and the instructions for formatting or presenting the content . In various embodiments the markup language document comprises a data file including extensible markup language XML data extensible hypertext markup language XHTML data or other markup language data. In one instance web page content such as an image may include tags. The tags may provide textual titles labels and or description about the content. For example an image may include an image tag and a news article may include an article tag. In one instance the social networking system uses the tags to generate a node within the social networking system wherein a node is an object that is connected to other objects in the social networking system via edges. The edges may describe the type of connection between two objects in the social networking system.

In one embodiment a web page includes a widget comprising instructions that when executed by an application of a user device retrieve data from the social networking system and display the information retrieved from the social networking system . For example the widget comprises an instruction associated with the social networking system that generates a frame within the web page that includes information from the social networking system . Hence the widget allows a web page from the third party website to provide personalized content from the social networking system when the web page is rendered and displayed by a application of a user device . The widget also allows a user to interact with content from the social networking website by interacting with content in the frame generated within the web page .

The tagging frame generated by the widget calls a Uniform Resource Locator URL within a domain associated with the social networking system . The frame is rendered by an application operating on a user device executing a widget included in the markup language document encoding the web page . The widget comprising one or more instructions that when executed by a application generate the frame the frame within the web page and include information from the social networking system in the frame . In one embodiment the frame is an iframe including data obtained from the social networking system .

The frame includes data from the social networking system associated with a node maintained by the social networking system and associated with a URL or other web identifier specified by the widget . For example when a application executes the widget a request for content including a URL or other web identifier is communicated from the application to the social networking system . The social networking system identifies a node associated with the URL or other web identifier from the request for content and communicates information about the identified node to application which displays the information in the frame . In one embodiment the widget communicates one or more parameters to the social networking system . The parameters allow the web page to customize the frame . For example the parameters specify the height and or width of the frame .

In one embodiment the frame includes one or more action buttons and may also include social information from the social networking system allowing a user to take a specific action with respect to the node associated with the content shown in the frame . The one or more action buttons allow a user to take a specific action with respect to the node associated with the content shown in the frame . The specific action may depend upon the type of node associated with the content in the frame . For example if the node is an image the action button may allow a user to tag users in the image. If the node is an article the action button may allow a user to tag users who are mentioned in the article or have read the article. Thus a user can tag one or more users to the node or digital content provided by the web page .

The content detection module detects web content displayed by the application that is suitable for tagging a user or an object of the social networking system . Content suitable for tagging includes but is not limited to images videos articles advertisements applications and games. In one embodiment the content detection module identifies images displayed within a web page to identify images that a user may be interested in tagging. The content detection module for example can identify images larger than a certain size or displayed within text of a web page to identify important images and filter advertisements or thumbnails.

After receiving the request for the web page the external website generates the requested web page using locally stored data. For example the external website generates a markup language document describing the content and formatting of the web page based on stored data. The external website includes a widget comprising instructions that when executed by a application of a user device retrieve data from the social networking system and display the information retrieved from the social networking system . For example the widget comprises an instruction associated with the social networking system that generates a frame within the web page that includes information from the social networking system . Hence the widget allows a web page from the external website to provide personalized content from the social networking website when the web page is rendered and displayed by a application of a user device . The widget also allows a user to interact with content from the social networking website by interacting with content in the frame generated within the web page . The widget includes a uniform resource locator URL or other web page identifier associated with the web page from the external website and may also include one or more parameters describing presentation of the frame or iframe by the application of the user device . In one embodiment the URL included in the widget is the same as the URL of the requested web page . Alternatively the URL included in the widget is a URL associated with a web page other than the requested web page .

The external website then sends the markup language document describing the generated web page and including the widget to the user device through the network . After receiving the markup language document the application renders the web page based on the content and formatting instructions included in the markup language document . In addition to rendering the web page the application in the user device executes the widget to create a frame in the web page . Execution of the widget also causes the application to request content from the social networking system for inclusion in the frame via the network . The URL or other web identifier included in the widget is communicated to the social networking system to request content from a node associated with the URL included in the widget . In one embodiment the application also identifies one or more parameters from the widget and transmits the identified parameters to the social networking system when requesting content for inclusion in the frame to allow further customization of the requested content.

Responsive to receiving the request for content from the application the social networking system checks the user device for a cookie . In response to the social networking system checking for the cookie the user device sends the cookie or a message associated with the cookie to the social networking system . In one embodiment the existence of cookie indicates whether the user of the computing device is a user of the social networking system e.g. whether the user has a valid account with the social networking system . If the user of the computing device is a user of the social networking system the cookie may contain information indicating whether the user is logged into the social networking system e.g. whether the user has a current valid session with the social networking system . Checking the user device for a cookie thus allows the social networking system to authenticate the user session. In other embodiments the social networking system may just determine whether the user is a user of the social networking system e.g. by checking for an existence of a cookie without determining whether the user is logged into the social networking system . Although cookies are described herein for authenticating the user and or the user session any other methods of user or session identification or authentication may be used such as recognizing a physical token .

If the user associated with the received cookie has been authenticated the social networking system generates content for inclusion in the frame that is personalized according to the user associated with the received cookie . For example the social networking system generates social information describing actions a node associated with the URL included in the widget and associated with friends of the identified user. For example the generated social information identifies a number of friends of the identified user taking a specific type of action regarding the node or identifies specific friends of a user recently taking a specified type of action regarding the node. Alternatively the social networking system generates content by extracting data from the node associated with the URL included in the widget without adding social information associated with the identified user. For example the social networking system determines a title a description and an image from the node. Additionally the social networking system generates one or more action buttons for inclusion in the frame. The one or more action buttons are dependent on the node type as described above in conjunction with and allow a user to interact with the node associated with the URL included in the widget by interacting with the one or more action buttons.

If the social networking system determines that the user associated with the received cookie matches an administrator user identifier stored in the node associated with the URL included in the widget the social networking system generates administration content for presentation by the frame. An administrator tag included in the markup language document encoding a web page specifies users of the social networking system with the ability to create and or maintain nodes associated with the web page . Hence when the social networking system identifies a user associated with an administrator user identifier the social networking system generates content allowing the user to modify the node associated with the URL included in the widget . For example the social networking system generates a link that directs the user to a debug page when accessed by the user via the frame. Alternatively the social networking system generates debugging information from the node associated with the URL included in the widget for display using the frame. For example the social networking system identifies tags missing from the markup language document encoding the web page and allows the user to enter the missing tags or to modify existing tags.

However if the social networking system is unable to authenticate the user associated with the received cookie the social networking system communicates a prompt for the user to enter authentication information to the user device . Alternatively the social networking system generates content by extracting data from the node associated with the URL included in the widget without adding social information. In another embodiment the social networking system generates content by extracting data from the node associated with the URL included in the widget and determining actions taken by any user of the social networking system regarding the identified node. For example the social networking system may identify the most recent actions regarding the identified node taken by any user of the social networking system . Thus until the social networking system receives authentication information associated with the user associated with the received cookie the content generated by the social networking system does not include social information describing actions performed by friends of the user associated with the received cookie regarding the identified node. After receiving and verifying authentication information associated with the user associated with the cookie the social networking system may generate social information for inclusion in the frame that is personalized for the user associated with the cookie as described above.

Similarly if the user device does not send a cookie to the social networking system the social networking system generates content for inclusion in the frame by extracting information from the URL included in the widget . In one embodiment the generated content may also include one or more actions taken by any user of the social networking system and associated with the node associated with URL included in the widget . In one embodiment the social networking system also includes a prompt for joining the social networking system in the frame.

The social networking system then sends the frame content to the user device through the network . The application included on the user device then renders using the frame using the content received from the social networking system and displays the web page and the frame with the content from the social networking system displayed in the frame. The frame includes one or more action buttons generated by the social networking system . The action button may allow a user to tag users of the social networking system associated with or displayed on the web page.

When a social networking system user is tagged by a user of the user device interacting with an action button the selected tagging information is transmitted to the social networking system via the network . Tagging users in content provided by a web page outside of the social networking system domain allows the social networking system to provide additional content about tagged users to users of the social networking system. In one instance it provides a user interface similar to the tagging user interface within the social networking system. Additionally the external website need not know that the action was taken or even the identity of the user. The social networking system then records the tagging information provided by the user and the node associated with the digital content identified by the widget allowing the social networking system to tag users to content as if the content was uploaded to the social networking system .

In one embodiment the action button or other user interact enabling the user to interact with the node may be on a portion of the web page that is within the third party web page s domain rather than within the frame. In such an embodiment the third party website may need to communicate this action to the social networking system so that the action can be recorded. In such an embodiment the social networking system may provide one or more APIs which the third party website may use to send communications such as these to the social networking system . Alternatively any other appropriate mechanisms for communicating this information from the third party website to the social networking system may be used.

In addition to tagging users in content the social networking system may take additional actions. For example the social networking system may publish the tagging information and the content to a feed associated with the tagging user and the tagged user. Similarly the users profile may be updated to include the content and the tagging information.

Accordingly the social graph maintained by the social networking system may include anything that can be represented by a web page. In addition to increasing the amount of data stored by the social graph this allows users of the social networking system to easily tag and interact with nodes in the social graph while outside of a domain associated with the social networking system .

The foregoing description of the embodiments of the invention has been presented for the purpose of illustration it is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure.

Some portions of this description describe the embodiments of the invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations while described functionally computationally or logically are understood to be implemented by computer programs or equivalent electrical circuits microcode or the like. Furthermore it has also proven convenient at times to refer to these arrangements of operations as modules without loss of generality. The described operations and their associated modules may be embodied in software firmware hardware or any combinations thereof.

Any of the steps operations or processes described herein may be performed or implemented with one or more hardware or software modules alone or in combination with other devices. In one embodiment a software module is implemented with a computer program product comprising a computer readable medium containing computer program code which can be executed by a computer processor for performing any or all of the steps operations or processes described.

Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes and or it may comprise a general purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a tangible computer readable storage medium or any type of media suitable for storing electronic instructions and coupled to a computer system bus. Furthermore any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.

Embodiments of the invention may also relate to a computer data signal embodied in a carrier wave where the computer data signal includes any embodiment of a computer program product or other data combination described herein. The computer data signal is a product that is presented in a tangible medium or carrier wave and modulated or otherwise encoded in the carrier wave which is tangible and transmitted according to any suitable transmission method.

Finally the language used in the specification has been principally selected for readability and instructional purposes and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description but rather by any claims that issue on an application based hereon. Accordingly the disclosure of the embodiments of the invention is intended to be illustrative but not limiting of the scope of the invention which is set forth in the following claims.

