---

title: Method of managing keys and electronic device adapted to the same
abstract: A method of managing keys and an electronic device adapted to the method are provided. The method includes creating a first key, based on information included in a memory space of a processor, creating a second key, based on at least one item of user information, and creating a third key that was created through at least one encryption process, based on the created first key and the created second key.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09614673&OS=09614673&RS=09614673
owner: Samsung Electronics Co., Ltd.
number: 09614673
owner_city: Suwon-si
owner_country: KR
publication_date: 20150508
---
This application claims the benefit under 35 U.S.C. 119 a of a Korean patent application filed on May 8 2014 in the Korean Intellectual Property Office and assigned Serial number 10 2014 0054870 the entire disclosure of which is hereby incorporated by reference.

The present disclosure relates to electronic systems. More particularly the present disclosure relates to a method of managing keys and an electronic device adapted to the method.

In recent years as mobile electronic devices have been devices that are usually used in daily life the importance of the information security function increases. Examples of the mobile electronic devices are smartphones tablet Personal Computers tablets Portable Multimedia Players PMPs Personal Digital Assistants PDAs laptop PCs laptops wearable devices and the like. Wearable devices are for example smart watches Head Mounted Displays HMDs and the like.

In order to enhance information protection functions in mobile electronic devices Mobile Device Fundamentals for Protection Profile MDFPP and Common Criteria CC as International standards for certification were established on December 2013 to associate evaluation criteria for information protection systems that differ from each other in every country with each other and to mutually certificate the evaluation results.

The above information is presented as background information only to assist with an understanding of the present disclosure. No determination has been made and no assertion is made as to whether any of the above might be applicable as prior art with regard to the present disclosure.

Aspects of the present disclosure are to address at least the above mentioned problems and or disadvantages and to provide at least the advantages described below. Accordingly an aspect of the present disclosure is to provide a method of managing keys by applications or domains to comply with international standards and an electronic device adapted to the method.

In accordance with an aspect of the present disclosure a method of managing keys of an electronic device is provided. The method includes creating a first key based on information included in a memory space of a processor creating a second key based on at least one item of user information and creating a third key that was created through at least one encryption process based on the created first key and the created second key.

In accordance with another aspect of the present disclosure an electronic device including a memory and a processor is provided. The processor is configured to create a first key based on information included in the memory space to create a second key based on at least one item of user information and to create a third key that was created through at least one encryption process based on the created first key and the created second key.

Other aspects advantages and salient features of the disclosure will become apparent to those skilled in the art from the following detailed description which taken in conjunction with the annexed drawings discloses various embodiments of the present disclosure.

Throughout the drawings it should be noted that like reference numbers are used to depict the same or similar elements features and structures.

The following description with reference to the accompanying drawings is provided to assist in a comprehensive understanding of various embodiments of the present disclosure as defined by the claims and their equivalents. It includes various specific details to assist in that understanding but these are to be regarded as merely exemplary. Accordingly those of ordinary skill in the art will recognize that various changes and modifications of the various embodiments described herein can be made without departing from the scope and spirit of the present disclosure. In addition descriptions of well known functions and constructions may be omitted for clarity and conciseness.

The terms and words used in the following description and claims are not limited to the bibliographical meanings but are merely used by the inventor to enable a clear and consistent understanding of the present disclosure. Accordingly it should be apparent to those skilled in the art that the following description of various embodiments of the present disclosure is provided for illustration purpose only and not for the purpose of limiting the present disclosure as defined by the appended claims and their equivalents.

It is to be understood that the singular forms a an and the include plural referents unless the context clearly dictates otherwise. Thus for example reference to a component surface includes reference to one or more of such surfaces.

By the term substantially it is meant that the recited characteristic parameter or value need not be achieved exactly but that deviations or variations including for example tolerances measurement error measurement accuracy limitations and other factors known to those of skill in the art may occur in amounts that do not preclude the effect the characteristic was intended to provide.

The term include or may include which may be used in describing various embodiments of the present disclosure refers to the existence of a corresponding disclosed function operation or component which can be used in various embodiments of the present disclosure and does not limit one or more additional functions operations or components. In various embodiments of the present disclosure the terms such as include or have may be construed to denote a certain characteristic number operation constituent element component or a combination thereof but may not be construed to exclude the existence of or a possibility of addition of one or more other characteristics numbers operations constituent elements components or combinations thereof.

In various embodiments of the present disclosure the expression or or at least one of A or and B includes any or all of combinations of words listed together. For example the expression A or B or at least A or and B may include A may include B or may include both A and B.

The expression 1 2 first or second used in various embodiments of the present disclosure may modify various components of the various embodiments but does not limit the corresponding components. For example the above expressions do not limit the sequence and or importance of the components. The expressions may be used for distinguishing one component from other components. For example a first user device and a second user device indicate different user devices although both of them are user devices. For example without departing from the scope of the present disclosure a first structural element may be referred to as a second structural element. Similarly the second structural element also may be referred to as the first structural element.

When it is stated that a component is coupled to or connected to another component the component may be directly coupled or connected to another component or a new component may exist between the component and another component. In contrast when it is stated that a component is directly coupled to or directly connected to another component a new component does not exist between the component and another component.

The terms used in describing various embodiments of the present disclosure are only examples for describing a specific embodiment but do not limit the various embodiments of the present disclosure.

Unless defined differently all terms used herein which include technical terminologies or scientific terminologies have the same meaning as that understood by a person skilled in the art to which the present disclosure belongs. Such terms as those defined in a generally used dictionary are to be interpreted to have the meanings equal to the contextual meanings in the relevant field of art and are not to be interpreted to have ideal or excessively formal meanings unless clearly defined in the present description.

An electronic device according to various embodiments of the present disclosure may be a device including a communication function. For example the electronic device may be one or a combination of a smart phone a tablet Personal Computer PC a mobile phone a video phone an e book reader a desktop PC a laptop PC a netbook computer a Personal Digital Assistant PDA a camera a wearable device for example a Head Mounted Device HMD such as electronic glasses electronic clothes and electronic bracelet an electronic necklace an electronic appcessary an electronic tattoo a smart watch and the like.

According to various embodiments of the present disclosure the electronic device may be a smart home appliance having a communication function. The smart home appliance may include at least one of a TeleVision TV a Digital Video Disc DVD player an audio player an air conditioner a cleaner an oven a microwave oven a washing machine an air cleaner a set top box a TV box for example Samsung HomeSync Apple TV or Google TV game consoles an electronic dictionary an electronic key a camcorder and an electronic frame.

According to various embodiments of the present disclosure the electronic device may include at least one of various types of medical devices for example Magnetic Resonance Angiography MRA Magnetic Resonance Imaging MRI Computed Tomography CT a scanner an ultrasonic device and the like a navigation device a Global Positioning System GPS receiver an Event Data Recorder EDR a Flight Data Recorder FDR a vehicle infotainment device electronic equipment for a ship for example a navigation device for ship a gyro compass and the like avionics a security device a head unit for a vehicle an industrial or home robot an Automatic Teller Machine ATM of financial institutions and a Point Of Sale POS device of shops.

According to various embodiments of the present disclosure the electronic device may include at least one of furniture or a part of a building structure an electronic board an electronic signature receiving device a projector and various types of measuring devices for example a water meter an electricity meter a gas meter a radio wave meter and the like including a camera function. The electronic device according to various embodiments of the present disclosure may be one or a combination of the above described various devices. Further the electronic device according to various embodiments of the present disclosure may be a flexible device. It is apparent to those skilled in the art that the electronic device according to various embodiments of the present disclosure is not limited to the above described devices.

Hereinafter an electronic device according to various embodiments of the present disclosure will be described with reference to the accompanying drawings. The term user used in various embodiments may refer to a person who uses an electronic device or a device for example an artificial intelligence electronic device which uses an electronic device.

Referring to an electronic device includes a bus a processor a memory an input output interface a display a communication interface and an application control module .

The bus may be a circuit connecting the above described components and transmitting communication for example a control message between the above described components.

The processor receives commands from other components for example the memory the input output interface the display the communication interface or the application control module through the bus analyzes the received commands and executes calculation or data processing according to the analyzed commands.

The memory stores commands or data received from the processor or other components for example the input output interface the display the communication interface or the application control module or generated by the processor or other components. The memory may include programming modules for example a kernel middleware an Application Programming Interface API and an application . Each of the aforementioned programming modules may be implemented by software firmware hardware or a combination of two or more thereof.

The kernel controls or manages system resources for example the bus the processor or the memory used for executing an operation or function implemented by the remaining other programming modules for example the middleware the API or the application . Further the kernel provides an interface for accessing individual components of the electronic device from the middleware the API or the application to control or manage the components.

The middleware performs a relay function of allowing the API or the application to communicate with the kernel to exchange data. Further in operation requests received from the application the middleware performs a control for the operation requests for example scheduling or load balancing by using a method of assigning a priority by which system resources for example the bus the processor the memory and the like of the electronic device can be used to the application .

The API is an interface by which the application can control a function provided by the kernel or the middleware and includes for example at least one interface or function for example a command for a file control a window control image processing or a character control.

According to various embodiments of the present disclosure the application may include a Short Message Service SMS Multimedia Messaging Service MMS application an email application a calendar application an alarm application a health care application for example application measuring quantity of exercise or blood sugar or an environment information application for example application providing information on barometric pressure humidity or temperature . Additionally or alternatively the application may be an application related to an information exchange between the electronic device and an external electronic device for example an external electronic device . The application related to the information exchange may include for example a notification relay application for transferring particular information to the external electronic device or a device management application for managing the external electronic device.

For example the notification relay application may include a function of transmitting notification information generated by another application for example an SMS MMS application an email application a health care application or an environment information application of the electronic device to the external electronic device for example the external electronic device . Additionally or alternatively the notification relay application may receive notification information from for example the external electronic device and provide the received notification information to the user. The device management application may manage for example install remove or update at least a part of functions for example turning on off the external electronic device or some components of the external electronic device or controlling a brightness of the display of the external electronic device communicating with the electronic device an application executed in the external electronic device or a service for example a call service or a message service provided by the external electronic device .

According to various embodiments of the present disclosure the application may include an application designated according to an attribute for example a type of electronic device of the external electronic device . For example when the external electronic device is a Motion Picture Experts Group MPEG 1 or MPEG 2 Audio Layer 3 MP3 player the application may include an application related to music reproduction. Similarly when the external electronic device is a mobile medical device the application may include an application related to health care. According to an embodiment of the present disclosure the application may include at least one of an application designated to the electronic device and an application received from an external electronic device for example a server or the external electronic device .

The input output interface transmits a command or data input from the user through an input output device for example a sensor a keyboard or a touch screen to the processor the memory the communication interface or the application control module through for example the bus . For example the input output interface may provide data on a user s touch input through a touch screen to the processor . Further the input output interface may output a command or data received through for example the bus from the processor the memory the communication interface or the application control module through the input output device for example a speaker a display and the like . For example the input output interface may output voice data processed through the processor to the user through the speaker.

The display displays various pieces of information for example multimedia data text data and the like for the user.

The communication interface connects communication between the electronic device and the external device for example the external electronic device or the server . For example the communication interface may access a network through wireless or wired communication to communicate with the external device. The wireless communication includes at least one of for example WiFi BlueTooth BT Near Field Communication NFC a GPS and cellular communication for example Long Term Evolution LTE LTE Advanced LTE A Code Division Multiple Access CDMA Wideband CDMA WCDMA Universal Mobile Telecommunications System UMTS Wireless Broadband WiBro or Global System for Mobile Communications GSM . The wired communication may include at least one of for example a Universal Serial Bus USB a High Definition Multimedia Interface HDMI Recommended Standard 232 RS 232 and a Plain Old Telephone Service POTS .

According to an embodiment of the present disclosure the network may be a telecommunication network. The telecommunication network includes at least one of a computer network Internet Internet of things and a telephone network. According to an embodiment of the present disclosure a protocol for example transport layer protocol data link layer protocol or physical layer protocol for communication between the electronic device and the external device may be supported by at least one of the application the API the middleware the kernel and the communication interface .

According to an embodiment of the present disclosure the server supports driving of the electronic device by performing at least one operation or function implemented by the electronic device . For example the server may include a communication control server module that supports the application control module implemented in the electronic device . For example the communication control server module may include at least one of the components of the application control module to perform on behalf of at least one operations performed by the application control module .

Referring to the electronic device includes one or more Application Processors APs a communication module Subscriber Identification Module SIM cards   to  N a memory a sensor module an input device a display module an interface an audio module a camera module a power managing module a battery an indicator and a motor .

The AP operates an operating system OS or an application program so as to control a plurality of hardware or software component elements connected to the AP and execute various data processing and calculations including multimedia data. The AP may be implemented by for example a System on Chip SoC . According to an embodiment of the present disclosure the processor may further include a Graphical Processing Unit GPU .

The communication module for example the communication interface transmits receives data in communication between different electronic devices for example the external electronic device and the server connected to the electronic device for example the electronic device through a network. According to an embodiment of the present disclosure the communication module includes a cellular module a WiFi module a BT module a GPS module a NFC module and a Radio Frequency RF module .

The cellular module provides a voice a call a video call a SMS or an Internet service through a communication network for example LTE LTE A CDMA WCDMA UMTS WiBro GSM and the like . Further the cellular module may distinguish and authenticate electronic devices within a communication network by using a SIM for example the SIM cards   to  N . According to an embodiment of the present disclosure the cellular module performs at least some of the functions which can be provided by the AP . For example the cellular module may perform at least some of the multimedia control functions.

According to an embodiment of the present disclosure the cellular module may include a Communication Processor CP . Further the cellular module may be implemented by for example an SoC.

Although the components such as the cellular module for example a CP the memory and the power managing module are illustrated as components separate from the AP in the AP may include at least some for example the cellular module of the aforementioned components in an embodiment.

According to an embodiment of the present disclosure the AP or the cellular module for example a CP may load a command or data received from at least one of a non volatile memory and other components connected to each of the AP and the cellular module to a volatile memory and process the loaded command or data. Further the AP or the cellular module may store data received from at least one of other components or generated by at least one of other components in a non volatile memory.

Each of the WiFi module the BT module the GPS module and the NFC module may include for example a processor for processing data transmitted received through the corresponding module. Although the cellular module the WiFi module the BT module the GPS module and the NFC module are illustrated as blocks separate from each other in at least some for example two or more of the cellular module the WiFi module the BT module the GPS module and the NFC module may be included in one Integrated Chip IC or one IC package according to one embodiment. For example at least some for example the CP corresponding to the cellular module and the WiFi processor corresponding to the WiFi module of the processors corresponding to the cellular module the WiFi module the BT module the GPS module and the NFC module may be implemented by one SoC.

The RF module transmits receives data for example an RF signal. Although not illustrated the RF module may include for example a transceiver a Power Amp Module PAM a frequency filter a Low Noise Amplifier LNA and the like. Further the RF module may further include a component for transmitting receiving electronic waves over a free air space in wireless communication for example a conductor a conducting wire and the like. Although the cellular module the WiFi module the BT module the GPS module and the NFC module share one RF module in at least one of the cellular module the WiFi module the BT module the GPS module and the NFC module may transmit receive an RF signal through a separate RF module according to one embodiment.

The SIM cards   to  N are cards including a Subscriber Identification Module and may be inserted into slots   to  N formed in a particular portion of the electronic device. The SIM cards   to  N include unique identification information for example Integrated Circuit Card IDentifier ICCID or subscriber information for example International Mobile Subscriber Identity IMSI .

The memory for example the memory may include an internal memory or an external memory . The internal memory may include for example at least one of a volatile memory for example a Random Access Memory RAM a dynamic RAM DRAM a static RAM SRAM a synchronous dynamic RAM SDRAM and the like and a non volatile Memory for example a Read Only Memory ROM a one time programmable ROM OTPROM a programmable ROM PROM an erasable and programmable ROM EPROM an electrically erasable and programmable ROM EEPROM a mask ROM a flash ROM a Not And NAND flash memory a Not Or NOR flash memory and the like .

According to an embodiment of the present disclosure the internal memory may be a Solid State Drive SSD . The external memory may further include a flash drive for example a Compact Flash CF a Secure Digital SD a Micro SD a Mini SD an extreme Digital xD or a memory stick. The external memory may be functionally connected to the electronic device through various interfaces. According to an embodiment of the present disclosure the electronic device may further include a storage device or storage medium such as a hard drive.

The sensor module measures a physical quantity or detects an operation state of the electronic device and converts the measured or detected information to an electronic signal. The sensor module may include for example at least one of a gesture sensor A a gyro sensor B an atmospheric pressure barometric sensor C a magnetic sensor D an acceleration sensor E a grip sensor F a proximity sensor G a color sensor H for example Red Green and Blue RGB sensor H a biometric sensor I a temperature humidity sensor J an illumination light sensor K and a Ultra Violet UV sensor M. Additionally or alternatively the sensor module may include for example a E nose sensor an electromyography EMG sensor an electroencephalogram EEG sensor an electrocardiogram ECG sensor an Infrared IR sensor an iris sensor a fingerprint sensor not illustrated and the like. The sensor module may further include a control circuit for controlling one or more sensors included in the sensor module .

The input device includes a touch panel a digital pen sensor a key and an ultrasonic input device . For example the touch panel may recognize a touch input in at least one type of a capacitive type a resistive type an infrared type and an acoustic wave type. The touch panel may further include a control circuit. In the capacitive type the touch panel can recognize proximity as well as a direct touch. The touch panel may further include a tactile layer. In this event the touch panel provides a tactile reaction to the user.

The digital pen sensor may be implemented for example using a method identical or similar to a method of receiving a touch input of the user or using a separate recognition sheet. The key may include for example a physical button an optical key or a key pad. The ultrasonic input device is a device which can detect an acoustic wave by a microphone for example a microphone of the electronic device through an input device generating an ultrasonic signal to identify data and can perform wireless recognition. According to an embodiment of the present disclosure the electronic device receives a user input from an external device for example a computer or a server connected to the electronic device by using the communication module .

The display module for example the display includes a panel a hologram device and a projector . The panel may be for example a Liquid Crystal Display LCD or an Active Matrix Organic Light Emitting Diode AM OLED . The panel may be implemented to be for example flexible transparent or wearable. The panel may be configured by the touch panel and one module. The hologram device shows a stereoscopic image in the air by using interference of light. The projector projects light on a screen to display an image. For example the screen may be located inside or outside the electronic device . According to an embodiment of the present disclosure the display module may further include a control circuit for controlling the panel the hologram device and the projector .

The interface includes for example an HDMI a USB an optical interface and a D subminiature D sub . The interface may be included in for example the communication interface illustrated in . Additionally or alternatively the interface may include for example a Mobile High definition Link MHL interface a SD card Multi Media Card MMC or an Infrared Data Association IrDA standard interface.

The audio module bi directionally converts a sound and an electronic signal. At least some components of the audio module may be included in for example the input output interface illustrated in . The audio module processes sound information input or output through for example a speaker a receiver an earphone the microphone and the like.

The camera module is a device which can photograph a still image and a video. According to an embodiment of the present disclosure the camera module may include one or more image sensors for example a front sensor or a back sensor an Image Signal Processor ISP not shown or a flash for example an LED or xenon lamp .

The power managing module manages power of the electronic device . Although not illustrated the power managing module may include for example a Power Management Integrated Circuit PMIC a charger IC or a battery or fuel gauge.

The PMIC may be mounted to for example an integrated circuit or an SoC semiconductor. A charging method may be divided into wired and wireless methods. The charger IC charges a battery and prevent over voltage or over current from flowing from a charger. According to an embodiment of the present disclosure the charger IC includes a charger IC for at least one of the wired charging method and the wireless charging method. The wireless charging method may include for example a magnetic resonance method a magnetic induction method and an electromagnetic wave method and additional circuits for wireless charging for example circuits such as a coil loop a resonant circuit a rectifier and the like may be added.

The battery fuel gauge measures for example a remaining quantity of the battery or a voltage a current or a temperature during charging. The battery may store or generate electricity and supply power to the electronic device by using the stored or generated electricity. The battery may include a rechargeable battery or a solar battery.

The indicator shows particular statuses of the electronic device or a part for example the AP of the electronic device for example a booting status a message status a charging status and the like. The motor converts an electrical signal to a mechanical vibration.

Although not illustrated the electronic device may include a processing unit for example a GPU for supporting a module TV. The processing unit for supporting the mobile TV may process for example media data according to a standard of Digital Multimedia Broadcasting DMB Digital Video Broadcasting DVB media flow and the like.

Each of the components of the electronic device according to various embodiments of the present disclosure may be implemented by one or more components and the name of the corresponding component may vary depending on a type of the electronic device. The electronic device according to various embodiments of the present disclosure may include at least one of the above described components a few of the components may be omitted or additional components may be further included. In addition some of the components of the electronic device according to various embodiments of the present disclosure may be combined to form a single entity and thus may equivalently execute functions of the corresponding components before being combined.

Referring to the electronic device may include a normal world and a secure world. The normal world refers to a space where an OS for example Linux Android iOS and the like operates and frameworks and applications are also operated under the control of the OS. Since it is difficult to restrict act of malicious software in the normal world there is always a risk to perform operations requiring a high level of security in the normal world.

The secure world restricts the operation of the existing operation systems and the operation of the existing frameworks and is separated from the normal world. Therefore the secure world can prevent security related problems caused by malicious software from occurring. The secure world may allow for use of an SoC and a variety of hardware resources.

In the embodiment of the present disclosure rectangle blocks drawn with a dashed line refer to processes operations of creation and deletion without storage in screen lock rectangle blocks drawn with a sold line refer to processes operations of creation and protection for example a storage in a non volatile mode and rectangle blocks drawn with a long and short dashed line refer to processes operations of creation and non deletion in screen lock.

In the embodiment of the present disclosure a rectangle block connected to other block with a line with an arrow refers to a process operation of derivation using a function and a rectangle block connected to other with a line with a dot at the end refers to a process operation of encryption.

The electronic device receives a password entered by the user in the normal world at operation . The password that the user has entered in the normal world may be created and then deleted without being stored in the screen lock.

The electronic device may randomly create a salt in the normal world at operation . A salt is random data that is used as an additional input to one way function that hashes a password. A salt randomly created in the normal world may be created and then protected.

The electronic device creates Password derived Key Encryption Key PKEK using function based on the password and the salt in the normal world at operation . Function is Password Based Key Derivation Functions PBKDF which may be an algorithm HAMC SHA512. The created PKEK may be created and then deleted without being stored in the screen lock.

The electronic device creates domain information in the normal world at operation . The domain information may be information about a user s default value security information about a personal domain or company domain and the like. The created domain information may be created and then protected.

The electronic device creates Password derived Key Encryption Key PKEK using function based on the domain information and the PKEK in the normal world at operation . When PKEK is created domain information may be used as label information. Function is Key Derivation Functions KDF which may be an algorithm SP800 108. The created PKEK may be created and then deleted without being stored in the screen lock.

The electronic device may read a hardware key included in the AP in the secure world at operation . The AP may include the hardware key in a memory space. The hardware key included in the AP may be volatile or non volatile. When the hardware key is non volatile the hardware key may be a value fused into the AP . When the hardware key is volatile the hardware key may be a value based on various information items for example time information that may be altered each time the electronic device is turned on.

The electronic device creates Hardware Key Encryption Key HEK using function based on the hardware key in the secure world at operation . Function may be an algorithm KDF. The created HEK may be created and not deleted in the screen lock.

The electronic device encrypts Domain Key Encryption Key DKEK randomly created by using PKEK as a key of Authenticated Encryption AE algorithm i.e. a process of AE and then the encrypted DKEK by using HEK as a key of AE algorithm i.e. a process of AE in the normal world at operation . For example the AE algorithm may be a method using an operation mode such as Galois Counter Mode GCM Counter with Cipher Block Chaining Message Authentication Code CBC MAC CCM and the like based on a symmetric key algorithm or a method using Message Authentication Code MAC or Hash based MAC HMAC along with a symmetric key algorithm. The encrypted DKEK may serve as a Master Key Encryption Key for the electronic device . The encrypted DKEK may be created and then protected. The encrypted DKEK may be created and then stored in a non volatile area of the electronic device .

The electronic device may create Application Information in the normal world at operation . For example Application Information may be Application UID. Application Information may be created and then protected. An application UID is a unique application identification number used for identifying applications. The application UID may be an N bit number which is used for maintaining application installation security checking and indicate the ownership of certain files.

The electronic device creates Key Encryption Key KEK using function based on Application Information and DKEK in the normal world at operation . When KEK is created Application Information may be used as label information. The KEK may be created and then deleted without being stored in the screen lock.

The electronic device encrypts Data Encryption Key DEK randomly created by using KEK as a key of AE algorithm in the normal world at operation . The encrypted DEK may be created and then protected. The electronic device may use the encrypted DEK to encrypt or decrypt data.

Referring to the electronic device may include a normal world and a secure world. The normal world refers to a space where an OS for example Linux Android iOS and the like operates and frameworks and applications are also operated under the control of the OS. Since it is difficult to restrict act of malicious software in the normal world there is always a risk to perform operations requiring a high level of security in the normal world.

The secure world restricts the operation of the existing operation systems and the operation of the existing frameworks and is separated from the normal world. Therefore the secure world can prevent security related problems caused by malicious software from occurring. The secure world may allow for use of an SoC and a variety of hardware resources.

In the embodiment of the present disclosure rectangle blocks drawn with a dashed line refer to processes operations of creation and deletion without storage in screen lock rectangle blocks drawn with a sold line refer to processes operations of creation and protection for example a storage in a non volatile mode and rectangle blocks drawn with a long and short dashed line refer to processes operations of creation and non deletion in screen lock.

In the embodiment of the present disclosure a rectangle block connected to other block with a line with an arrow refers to a process operation of derivation using a function and a rectangle block connected to other with a line with a dot at the end refers to a process operation of encryption.

The electronic device receives a password entered by the user in the normal world at operation . The password that the user has entered in the normal world may be created and then deleted without being stored in the screen lock.

The electronic device may randomly create a salt in the secure world at operation . A salt is random data that is used as an additional input to one way function that hashes a password. A salt randomly created in the normal world may be created and then protected.

The electronic device creates PKEK using function based on the password and the salt in the secure world at operation . Function is Password Based Key Derivation Functions PBKDF which may be an algorithm HAMC SHA512. The created PKEK may be created and then deleted without being stored in the screen lock.

The electronic device creates domain information in the secure world at operation . The domain information may be information about a user s default value security information about a personal domain or company domain and the like. The created domain information may be created and then protected.

The electronic device creates PKEK using function based on the domain information and the PKEK in the secure world at operation . When PKEK is created domain information may be used as label information. Function is KDF which may be an algorithm SP800 108. The created PKEK may be created and then deleted without being stored in the screen lock.

The electronic device may read a hardware key included in the AP in the secure world at operation . The AP may include the hardware key in a memory space. The hardware key included in the AP may be volatile or non volatile. When the hardware key is non volatile the hardware key may be information fused into the AP . When the hardware key is volatile the hardware key may be information based on various information items for example time information that may be altered each time the electronic device is turned on.

The electronic device creates HEK using function based on the hardware key in the secure world at operation . Function may be an algorithm KDF. The created HEK may be created and not deleted in the screen lock.

The electronic device encrypts DKEK randomly created by using PKEK as a key of AE algorithm i.e. a process of AE and then the encrypted DKEK by using HEK as a key of AE algorithm i.e. a process of AE in the normal world at operation . For example the AE algorithm may be a method using an operation mode such as GCM CCM and the like based on a symmetric key algorithm or a method using MAC or HMAC along with a symmetric key algorithm. The encrypted DKEK may serve as a Master Key Encryption Key for the electronic device . The encrypted DKEK may be created and then protected. The encrypted DKEK may be created and then stored in a non volatile area of the electronic device .

The electronic device may create Application Information in the secure world at operation . For example Application Information may be Application UID. Application Information may be created and then protected.

The electronic device creates KEK using function based on Application Information and DKEK in the secure world at operation . When KEK is created Application Information may be used as label information. The KEK may be created and then deleted without being stored in the screen lock.

The electronic device encrypts DEK randomly created by using KEK as a key of AE algorithm in the secure world at operation . The encrypted DEK may be created and then protected. The electronic device may use the encrypted DEK to encrypt or decrypt data.

Referring to in the embodiment of the present disclosure rectangle blocks drawn with a dashed line refer to processes operations of creation and deletion without storage in screen lock rectangle blocks drawn with a sold line refer to processes operations of creation and protection for example a storage in a non volatile mode and rectangle blocks drawn with a long and short dashed line refer to processes operations of creation and non deletion in screen lock.

In the embodiment of the present disclosure a rectangle block connected to other block with a line with an arrow refers to a process operation of derivation using a function and a rectangle block connected to other with a line with a dot at the end refers to a process operation of encryption.

The electronic device receives a password entered by the user at operation . The password that the user has entered may be created and then deleted without being stored in the screen lock.

The electronic device may randomly create a salt at operation . A salt is random data that is used as an additional input to one way function that hashes a password. The randomly created salt may be created and then protected.

The electronic device creates PKEK using function based on the password and the salt at operation . Function is PBKDF which may be an algorithm HAMC SHA512. The created PKEK may be created and then deleted without being stored in the screen lock.

The electronic device creates domain information at operation . The domain information may be information about a user s default value security information about a personal domain or company domain and the like. The created domain information may be created and then protected.

The electronic device creates PKEK using function based on the domain information and the PKEK at operation . When PKEK is created domain information may be used as label information. Function is KDF which may be an algorithm SP800 108. The created PKEK may be created and then deleted without being stored in the screen lock.

The electronic device may read a hardware key included in the AP at operation . The AP may include the hardware key in a memory space. The hardware key included in the AP may be volatile or non volatile. When the hardware key is non volatile the hardware key may be information fused into the AP . When the hardware key is volatile the hardware key may be information based on various information items for example time information that may be altered each time the electronic device is turned on.

The electronic device creates HEK using function based on the hardware key at operation . Function may be an algorithm KDF. The created HEK may be created and not deleted in the screen lock.

The electronic device encrypts DKEK randomly created by using PKEK as a key of AE algorithm i.e. a process of AE and then the encrypted DKEK by using HEK as a key of AE algorithm i.e. a process of AE at operation . For example the AE algorithm may be a method using an operation mode such as GCM CCM and the like based on a symmetric key algorithm or a method using MAC or HMAC along with a symmetric key algorithm. The encrypted DKEK may serve as a Master Key Encryption Key for the electronic device . The encrypted DKEK may be created and then protected. The encrypted DKEK may be created and then stored in a non volatile area of the electronic device .

The electronic device may create Application Information at operation . For example Application Information may be Application UID. Application Information may be created and then protected.

The electronic device creates KEK using function based on Application Information and DKEK at operation . When KEK is created Application Information may be used as label information. The KEK may be created and then deleted without being stored in the screen lock.

The electronic device encrypts DEK randomly created by using KEK as a key of AE algorithm at operation . The encrypted DEK may be created and then protected. The electronic device may use the encrypted DEK to encrypt or decrypt data.

Referring to in the embodiment of the present disclosure rectangle blocks drawn with a dashed line refer to processes operations of creation and deletion without storage in screen lock rectangle blocks drawn with a sold line refer to processes operations of creation and protection for example a storage in a non volatile mode and rectangle blocks drawn with a long and short dashed line refer to processes operations of creation and non deletion in screen lock.

In the embodiment of the present disclosure a rectangle block connected to other block with a line with an arrow refers to a process operation of derivation using a function and a rectangle block connected to other with a line with a dot at the end refers to a process operation of encryption.

The electronic device receives biometric information entered by the user at operation . The user s entered biometric information may be created and then deleted without being stored in the screen lock. In an embodiment of the present disclosure the biometric information may be one of a user s fingerprint iris and voice.

The electronic device may randomly create a salt at operation . A salt is random data that is used as an additional input to one way function that hashes biometric information. The randomly created salt may be created and then protected.

The electronic device creates PKEK using function based on the biometric information and the salt at operation . Function is PBKDF which may be an algorithm HAMC SHA512. The electronic device creates PKEK using PBKDF HAMC SHA512 based on password and the salt in operation . The PKEK created based on password and salt using function may be created and then deleted without being stored in the screen lock.

The electronic device creates domain information at operation . The domain information may be information about a user s default value security information about a personal domain or company domain and the like. The created domain information may be created and then protected.

The electronic device creates PKEK using function based on the domain information and the PKEK at operation . When PKEK is created domain information may be used as label information. Function is KDF which may be an algorithm SP800 108. The created PKEK may be created and then deleted without being stored in the screen lock.

The electronic device may read a hardware key included in the AP at operation . The AP may include the hardware key in a memory space. The hardware key included in the AP may be volatile or non volatile. When the hardware key is non volatile the hardware key may be information fused into the AP . When the hardware key is volatile the hardware key may be information based on various information items for example time information that may be altered each time the electronic device is turned on.

The electronic device creates HEK using function based on the hardware key at operation . Function may be an algorithm KDF. The created HEK may be created and not deleted in the screen lock.

The electronic device encrypts DKEK randomly created by using PKEK as a key of AE algorithm i.e. a process of AE and then the encrypted DKEK by using HEK as a key of AE algorithm i.e. a process of AE at operation . For example the AE algorithm may be a method using an operation mode such as GCM CCM and the like based on a symmetric key algorithm or a method using MAC or HMAC along with a symmetric key algorithm. The encrypted DKEK may serve as a Master Key Encryption Key for the electronic device . The encrypted DKEK may be created and then protected. The encrypted DKEK may be created and then stored in a non volatile area of the electronic device .

The electronic device may create Application Information at operation . For example Application Information may be Application UID. Application Information may be created and then protected.

The electronic device creates KEK using function based on Application Information and DKEK at operation . When KEK is created Application Information may be used as label information. The KEK may be created and then deleted without being stored in the screen lock.

The electronic device encrypts DEK randomly created by using KEK as a key of AE algorithm at operation . The encrypted DEK may be created and then protected. The electronic device may use the encrypted DEK to encrypt or decrypt data.

As described above the key management method and the electronic device adapted to the method can create keys by a hardware key application information and domain information as well as a user s password thereby enhancing the information protection function of the electronic device.

Certain aspects of the present disclosure can also be embodied as computer readable code on a non transitory computer readable recording medium. A non transitory computer readable recording medium is any data storage device that can store data which can be thereafter read by a computer system. Examples of the non transitory computer readable recording medium include a Read Only Memory ROM a Random Access Memory RAM Compact Disc ROMs CD ROMs magnetic tapes floppy disks and optical data storage devices. The non transitory computer readable recording medium can also be distributed over network coupled computer systems so that the computer readable code is stored and executed in a distributed fashion. In addition functional programs code and code segments for accomplishing the present disclosure can be easily construed by programmers skilled in the art to which the present disclosure pertains.

At this point it should be noted that the various embodiments of the present disclosure as described above typically involve the processing of input data and the generation of output data to some extent. This input data processing and output data generation may be implemented in hardware or software in combination with hardware. For example specific electronic components may be employed in a mobile device or similar or related circuitry for implementing the functions associated with the various embodiments of the present disclosure as described above. Alternatively one or more processors operating in accordance with stored instructions may implement the functions associated with the various embodiments of the present disclosure as described above. If such is the case it is within the scope of the present disclosure that such instructions may be stored on one or more non transitory processor readable mediums. Examples of the processor readable mediums include a ROM a RAM CD ROMs magnetic tapes floppy disks and optical data storage devices. The processor readable mediums can also be distributed over network coupled computer systems so that the instructions are stored and executed in a distributed fashion. In addition functional computer programs instructions and instruction segments for accomplishing the present disclosure can be easily construed by programmers skilled in the art to which the present disclosure pertains.

While the present disclosure has been shown and described with reference to various embodiments thereof it will be understood by those skilled in the art that various changes in form and details may be made therein without departing from the spirit and scope of the present disclosure as defined by the appended claims and their equivalents.

