---

title: Systems, methods, and devices for managing coexistence of multiple transceiver devices by optimizing component layout
abstract: A camera assembly includes an enclosed housing having a rear surface, a front surface, and a periphery. The camera assembly also includes a lens module located within the housing and configured to receive light via the front surface, and communication circuitry located within the housing and configured to wireless communicate over a plurality of different communication protocols. The camera assembly further includes a first antenna arranged at a first location on an inner surface of the periphery, the first antenna configured for communication over a first one of the communication protocols, and a second antenna arranged at a second location on the inner surface of the periphery, the second location being different than the first location, the second antenna configured for communication over a second one of the communication protocols.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09396633&OS=09396633&RS=09396633
owner: GOOGLE INC.
number: 09396633
owner_city: Mountain View
owner_country: US
publication_date: 20150805
---
This application claims priority to U.S. Provisional Application No. 62 175 393 filed Jun. 14 2015 entitled Systems Methods and Devices for Managing Coexistence of Multiple Transceiver Devices by Optimizing Component Layout which is hereby incorporated by reference in its entirety.

This application is related to U.S. patent application Ser. No. 14 616 302 filed Feb. 6 2015 entitled Systems and Methods for Processing Coexisting Signals for Rapid Response to User Input U.S. patent application Ser. No. 13 656 189 filed Oct. 19 2012 entitled User friendly network connected learning thermostat and related systems and methods and U.S. patent application Ser. No. 13 835 439 filed Mar. 15 2013 entitled Detector unit and sensing chamber therefor which are hereby incorporated by reference in their entirety.

This relates generally to computer technology including but not limited to methods and systems for managing coexistence of multiple transceiver devices.

Devices in a smart home environment include a host of circuit components and interfaces for enabling communications with other systems devices and or servers. For example some smart devices include multiple radios as components of a single integrated circuit collocated within a compact area for receiving and transmitting signals to other devices and across networks. As a consequence of the close physical spacing of components within smart devices combined with close proximity to nearby conductive materials and the fact that devices often share the same or close frequency bands in operation device components typically exhibit poor isolation from transmissions of one another. In addition to poor communications performance sensitive device components are also at risk of damage when their input power thresholds are exceeded due to poor isolation.

Accordingly there is a need for methods apparatuses and systems for managing coexistence of multiple transceivers in a device. By utilizing various component layout strategies within a device using bypass circuitry and or using various control signals for prioritizing transmission access the impact and harmful effects arising from poorly isolated transceivers in a device are reduced.

In accordance with some implementations a camera assembly includes an enclosed housing having a rear surface a front surface and a periphery. Furthermore the camera assembly includes a lens module located within the housing and configured to receive light via the front surface and communication circuitry located within the housing and configured to wireless communicate over a plurality of different communication protocols. The camera assembly further includes a first antenna arranged at a first location on an inner surface of the periphery the first antenna configured for communication over a first one of the communication protocols and a second antenna arranged at a second location on the inner surface of the periphery the second location being different than the first location the second antenna configured for communication over a second one of the communication protocols.

Another aspect includes a communications apparatus including a first and second transceiver and a first and second antenna. The communications apparatus further includes a front end module FEM coupled between the first transceiver and the first antenna the front end module including an amplifier for amplifying signals received by the first antenna and a bypass line. The FEM is configured to couple the first antenna to the first transceiver via the bypass line when the second transceiver is active and transmitting signals using the second antenna such that a signal received via the first antenna is not amplified by the amplifier prior to being passed to the first transceiver. Furthermore the FEM is configured to couple the first antenna to the first transceiver via the amplifier when the second transceiver is not transmitting signals using the second antenna such that a signal received via the first antenna is amplified by the amplifier prior to being passed to the first transceiver.

In accordance with some implementations a method for communicating via a plurality of transceivers includes coupling a first transceiver of a plurality of transceivers of an electronic device to a first antenna via an amplifier such that a signal received by the first antenna is amplified by the amplifier prior to being passed to the first transceiver in accordance with detecting that a second transceiver of the plurality of transceivers is not transmitting signals via a second antenna coupled to the second transceiver. The method further includes coupling the first transceiver to the first antenna via a bypass line such that a signal received by the first antenna is not amplified by the amplifier prior to being passed to the first transceiver in accordance with detecting that the second transceiver is transmitting signals via the second antenna.

In accordance with some implementations a communications apparatus including a first and second transceiver and a first and second antenna. The communications apparatus further includes a coupling means. The coupling means is configured to couple the first antenna to the first transceiver via the bypass line when the second transceiver is active and transmitting signals using the second antenna such that a signal received via the first antenna is not amplified by the amplifier prior to being passed to the first transceiver. Furthermore the coupling means is configured to couple the first antenna to the first transceiver via the amplifier when the second transceiver is not transmitting signals using the second antenna such that a signal received via the first antenna is amplified by the amplifier prior to being passed to the first transceiver

Another aspect includes a method for communicating via a plurality of transceivers the method performed at a camera device comprising a plurality of distinct transceivers configured for communication over respective communication protocols one or more processors and memory storing instructions for execution by the one or more processors. The method includes communicating using a first transceiver of the plurality of transceivers the first transceiver configured to transmit and receive over a first one of the communication protocols signals for configuring the camera device. Furthermore the method includes communicating with one or more smart home devices using a second transceiver of the plurality of transceivers the second transceiver configured to transmit and receive over a second one of the communication protocols signals comprising one or more of alerts control signals and status information to and from the one or more smart home devices. Furthermore the method includes communicating using a third transceiver of the plurality of transceivers the third transceiver configured to transmit and receive over a third one of the communication protocols data corresponding to video captured by the camera device.

In accordance with some implementations a camera device includes a first and second antenna and a first second and third transceiver. The first transceiver is configured to transmit and receive over a first one of a plurality of distinct communication protocols signals for configuring the camera device. Furthermore the second transceiver is configured to transmit and receive over a second one of the plurality of distinct communication protocols signals comprising one or more of alerts control signals and status information to and from the one or more smart home devices. Moreover the third transceiver is configured to transmit and receive over a third one of the plurality of distinct communication protocols data corresponding to video captured by the camera device wherein the second transceiver is coupled to the first antenna and the first and third transceivers are coupled to the second antenna.

Reference will now be made in detail to implementations examples of which are illustrated in the accompanying drawings. In the following detailed description numerous specific details are set forth in order to provide a thorough understanding of the various described implementations. However it will be apparent to one of ordinary skill in the art that the various described implementations may be practiced without these specific details. In other instances well known methods procedures components circuits and networks have not been described in detail so as not to unnecessarily obscure aspects of the implementations.

It will also be understood that although the terms first second etc. are in some instances used herein to describe various elements these elements should not be limited by these terms. These terms are only used to distinguish one element from another. For example a first type of signal could be termed a second type of signal and similarly a second type of signal could be termed a first type of signal without departing from the scope of the various described implementations. The first type of signal and the second type of signal are both types of signals but they are not the same type of signal.

The terminology used in the description of the various described implementations herein is for the purpose of describing particular implementations only and is not intended to be limiting. As used in the description of the various described implementations and the appended claims the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will also be understood that the term and or as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items. It will be further understood that the terms includes including comprises and or comprising when used in this specification specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

As used herein the term if is optionally construed to mean when or upon or in response to determining or in response to detecting or in accordance with a determination that depending on the context. Similarly the phrase if it is determined or if a stated condition or event is detected is optionally construed to mean upon determining or in response to determining or upon detecting the stated condition or event or in response to detecting the stated condition or event or in accordance with a determination that a stated condition or event is detected depending on the context.

It is to be appreciated that smart home environments may refer to smart environments for homes such as a single family house but the scope of the present teachings is not so limited. The present teachings are also applicable without limitation to duplexes townhomes multi unit apartment buildings hotels retail stores office buildings industrial buildings and more generally any living space or work space.

It is also to be appreciated that while the terms user customer installer homeowner occupant guest tenant landlord repair person and the like may be used to refer to the person or persons acting in the context of some particularly situations described herein these references do not limit the scope of the present teachings with respect to the person or persons who are performing such actions. Thus for example the terms user customer purchaser installer subscriber and homeowner may often refer to the same person in the case of a single family residential dwelling because the head of the household is often the person who makes the purchasing decision buys the unit and installs and configures the unit and is also one of the users of the unit. However in other scenarios such as a landlord tenant environment the customer may be the landlord with respect to purchasing the unit the installer may be a local apartment supervisor a first user may be the tenant and a second user may again be the landlord with respect to remote control functionality. Importantly while the identity of the person performing the action may be germane to a particular advantage provided by one or more of the implementations such identity should not be construed in the descriptions that follow as necessarily limiting the scope of the present teachings to those particular individuals having those particular identities.

The depicted structure includes a plurality of rooms separated at least partly from each other via walls . The walls may include interior walls or exterior walls. Each room may further include a floor and a ceiling . Devices may be mounted on integrated with and or supported by a wall floor or ceiling .

In some implementations the integrated devices of the smart home environment include intelligent multi sensing network connected devices that integrate seamlessly with each other in a smart home network e.g. and or with a central server or a cloud computing system to provide a variety of useful smart home functions. The smart home environment may include one or more intelligent multi sensing network connected thermostats hereinafter referred to as smart thermostats one or more intelligent network connected multi sensing hazard detection units hereinafter referred to as smart hazard detectors one or more intelligent multi sensing network connected entryway interface devices and hereinafter referred to as smart doorbells and smart door locks and one or more intelligent multi sensing network connected alarm systems hereinafter referred to as smart alarm systems .

In some implementations the one or more smart thermostats detect ambient climate characteristics e.g. temperature and or humidity and control a HVAC system accordingly. For example a respective smart thermostat includes an ambient temperature sensor.

The one or more smart hazard detectors may include thermal radiation sensors directed at respective heat sources e.g. a stove oven other appliances a fireplace etc. . For example a smart hazard detector in a kitchen includes a thermal radiation sensor directed at a stove oven . A thermal radiation sensor may determine the temperature of the respective heat source or a portion thereof at which it is directed and may provide corresponding blackbody radiation data as output.

The smart doorbell and or the smart door lock may detect a person s approach to or departure from a location e.g. an outer door control doorbell door locking functionality e.g. receive user inputs from a portable electronic device to actuate bolt of the smart door lock announce a person s approach or departure via audio or visual means and or control settings on a security system e.g. to activate or deactivate the security system when occupants go and come .

The smart alarm system may detect the presence of an individual within close proximity e.g. using built in IR sensors sound an alarm e.g. through a built in speaker or by sending commands to one or more external speakers and send notifications to entities or users within outside of the smart home network . In some implementations the smart alarm system also includes one or more input devices or sensors e.g. keypad biometric scanner NFC transceiver microphone for verifying the identity of a user and one or more output devices e.g. display speaker . In some implementations the smart alarm system may also be set to an armed mode such that detection of a trigger condition or event causes the alarm to be sounded unless a disarming action is performed.

In some implementations the smart home environment includes one or more intelligent multi sensing network connected wall switches hereinafter referred to as smart wall switches along with one or more intelligent multi sensing network connected wall plug interfaces hereinafter referred to as smart wall plugs . The smart wall switches may detect ambient lighting conditions detect room occupancy states and control a power and or dim state of one or more lights. In some instances smart wall switches may also control a power state or speed of a fan such as a ceiling fan. The smart wall plugs may detect occupancy of a room or enclosure and control supply of power to one or more wall plugs e.g. such that power is not supplied to the plug if nobody is at home .

In some implementations the smart home environment of includes a plurality of intelligent multi sensing network connected appliances hereinafter referred to as smart appliances such as refrigerators stoves ovens televisions washers dryers lights stereos intercom systems garage door openers floor fans ceiling fans wall air conditioners pool heaters irrigation systems security systems space heaters window AC units motorized duct vents and so forth. In some implementations when plugged in an appliance may announce itself to the smart home network such as by indicating what type of appliance it is and it may automatically integrate with the controls of the smart home. Such communication by the appliance to the smart home may be facilitated by either a wired or wireless communication protocol. The smart home may also include a variety of non communicating legacy appliances such as old conventional washer dryers refrigerators and the like which may be controlled by smart wall plugs . The smart home environment may further include a variety of partially communicating legacy appliances such as infrared IR controlled wall air conditioners or other IR controlled devices which may be controlled by IR signals provided by the smart hazard detectors or the smart wall switches .

In some implementations the smart home environment includes one or more network connected cameras that are configured to provide video monitoring and security in the smart home environment . The cameras may be used to determine occupancy of the structure and or particular rooms in the structure and thus may act as occupancy sensors. For example video captured by the cameras may be processed to identify the presence of an occupant in the structure e.g. in a particular room . Specific individuals may be identified based for example on their appearance e.g. height face and or movement e.g. their walk gait . Cameras may additionally include one or more sensors e.g. IR sensors motion detectors input devices e.g. microphone for capturing audio and output devices e.g. speaker for outputting audio .

The smart home environment may additionally or alternatively include one or more other occupancy sensors e.g. the smart doorbell smart door locks touch screens IR sensors microphones ambient light sensors motion detectors smart nightlights etc. . In some implementations the smart home environment includes radio frequency identification RFID readers e.g. in each room or a portion thereof that determine occupancy based on RFID tags located on or embedded in occupants. For example RFID readers may be integrated into the smart hazard detectors .

The smart home environment may also include communication with devices outside of the physical home but within a proximate geographical range of the home. For example the smart home environment may include a pool heater monitor that communicates a current pool temperature to other devices within the smart home environment and or receives commands for controlling the pool temperature. Similarly the smart home environment may include an irrigation monitor that communicates information regarding irrigation systems within the smart home environment and or receives control information for controlling such irrigation systems.

By virtue of network connectivity one or more of the smart home devices of may further allow a user to interact with the device even if the user is not proximate to the device. For example a user may communicate with a device using a computer e.g. a desktop computer laptop computer or tablet or other portable electronic device e.g. a mobile phone such as a smart phone . A webpage or application may be configured to receive communications from the user and control the device based on the communications and or to present information about the device s operation to the user. For example the user may view a current set point temperature for a device e.g. a stove and adjust it using a computer. The user may be in the structure during this remote communication or outside the structure.

As discussed above users may control smart devices in the smart home environment using a network connected computer or portable electronic device . In some examples some or all of the occupants e.g. individuals who live in the home may register their device with the smart home environment . Such registration may be made at a central server to authenticate the occupant and or the device as being associated with the home and to give permission to the occupant to use the device to control the smart devices in the home. An occupant may use their registered device to remotely control the smart devices of the home such as when the occupant is at work or on vacation. The occupant may also use their registered device to control the smart devices when the occupant is actually located inside the home such as when the occupant is sitting on a couch inside the home. It should be appreciated that instead of or in addition to registering devices the smart home environment may make inferences about which individuals live in the home and are therefore occupants and which devices are associated with those individuals. As such the smart home environment may learn who is an occupant and permit the devices associated with those individuals to control the smart devices of the home.

In some implementations in addition to containing processing and sensing capabilities devices and or collectively referred to as the smart devices are capable of data communications and information sharing with other smart devices a central server or cloud computing system and or other devices that are network connected. Data communications may be carried out using any of a variety of custom or standard wireless protocols e.g. IEEE 802.15.4 Wi Fi ZigBee 6LoWPAN Thread Z Wave Bluetooth Smart ISA100.11a WirelessHART MiWi etc. and or any of a variety of custom or standard wired protocols e.g. Ethernet HomePlug etc. or any other suitable communication protocol including communication protocols not yet developed as of the filing date of this document.

In some implementations the smart devices serve as wireless or wired repeaters. In some implementations a first one of the smart devices communicates with a second one of the smart devices via a wireless router. The smart devices may further communicate with each other via a connection e.g. network interface to a network such as the Internet . Through the Internet the smart devices may communicate with a smart home provider server system also called a central server system and or a cloud computing system herein . The smart home provider server system may be associated with a manufacturer support entity or service provider associated with the smart device s . In some implementations a user is able to contact customer support using a smart device itself rather than needing to use other communication means such as a telephone or Internet connected computer. In some implementations software updates are automatically sent from the smart home provider server system to smart devices e.g. when available when purchased or at routine intervals .

In some implementations the network interface includes a conventional network device e.g. a router and the smart home environment of includes a hub device that is communicatively coupled to the network s directly or via the network interface . The hub device is further communicatively coupled to one or more of the above intelligent multi sensing network connected devices e.g. smart devices of the smart home environment . Each of these smart devices optionally communicates with the hub device using one or more radio communication networks available at least in the smart home environment e.g. ZigBee Z Wave Insteon Bluetooth Wi Fi and other radio communication networks . In some implementations the hub device and devices coupled with to the hub device can be controlled and or interacted with via an application running on a smart phone household controller laptop tablet computer game console or similar electronic device. In some implementations a user of such controller application can view status of the hub device or coupled smart devices configure the hub device to interoperate with smart devices newly introduced to the home network commission new smart devices and adjust or view settings of connected smart devices etc. In some implementations the hub device extends capabilities of low capability smart device to match capabilities of the highly capable smart devices of the same type integrates functionality of multiple different device types even across different communication protocols and is configured to streamline adding of new devices and commissioning of the hub device.

In some implementations some low power nodes are incapable of bidirectional communication. These low power nodes send messages but they are unable to listen . Thus other devices in the smart home environment such as the spokesman nodes cannot send information to these low power nodes.

In some implementations some low power nodes are capable of only a limited bidirectional communication. For example other devices are able to communicate with the low power nodes only during a certain time period.

As described in some implementations the smart devices serve as low power and spokesman nodes to create a mesh network in the smart home environment . In some implementations individual low power nodes in the smart home environment regularly send out messages regarding what they are sensing and the other low powered nodes in the smart home environment in addition to sending out their own messages forward the messages thereby causing the messages to travel from node to node i.e. device to device throughout the smart home network . In some implementations the spokesman nodes in the smart home network which are able to communicate using a relatively high power communication protocol such as IEEE 802.11 are able to switch to a relatively low power communication protocol such as IEEE 802.15.4 to receive these messages translate the messages to other communication protocols and send the translated messages to other spokesman nodes and or the smart home provider server system using e.g. the relatively high power communication protocol . Thus the low powered nodes using low power communication protocols are able to send and or receive messages across the entire smart home network as well as over the Internet to the smart home provider server system . In some implementations the mesh network enables the smart home provider server system to regularly receive data from most or all of the smart devices in the home make inferences based on the data facilitate state synchronization across devices within and outside of the smart home network and send commands to one or more of the smart devices to perform tasks in the smart home environment.

As described the spokesman nodes and some of the low powered nodes are capable of listening. Accordingly users other devices and or the smart home provider server system may communicate control commands to the low powered nodes. For example a user may use the electronic device e.g. a smart phone to send commands over the Internet to the smart home provider server system which then relays the commands to one or more spokesman nodes in the smart home network . The spokesman nodes may use a low power protocol to communicate the commands to the low power nodes throughout the smart home network as well as to other spokesman nodes that did not receive the commands directly from the smart home provider server system .

In some implementations a smart nightlight which is an example of a smart device is a low power node. In addition to housing a light source the smart nightlight houses an occupancy sensor such as an ultrasonic or passive IR sensor and an ambient light sensor such as a photo resistor or a single pixel sensor that measures light in the room. In some implementations the smart nightlight is configured to activate the light source when its ambient light sensor detects that the room is dark and when its occupancy sensor detects that someone is in the room. In other implementations the smart nightlight is simply configured to activate the light source when its ambient light sensor detects that the room is dark. Further in some implementations the smart nightlight includes a low power wireless communication chip e.g. a ZigBee chip that regularly sends out messages regarding the occupancy of the room and the amount of light in the room including instantaneous messages coincident with the occupancy sensor detecting the presence of a person in the room. As mentioned above these messages may be sent wirelessly e.g. using the mesh network from node to node i.e. smart device to smart device within the smart home network as well as over the Internet to the smart home provider server system .

Other examples of low power nodes include battery operated versions of the smart hazard detectors . These smart hazard detectors are often located in an area without access to constant and reliable power and may include any number and type of sensors such as smoke fire heat sensors e.g. thermal radiation sensors carbon monoxide dioxide sensors occupancy motion sensors ambient light sensors ambient temperature sensors humidity sensors and the like. Furthermore smart hazard detectors may send messages that correspond to each of the respective sensors to the other devices and or the smart home provider server system such as by using the mesh network as described above.

Examples of spokesman nodes include smart doorbells smart thermostats smart wall switches and smart wall plugs . These devices are often located near and connected to a reliable power source and therefore may include more power consuming components such as one or more communication chips capable of bidirectional communication in a variety of protocols.

In some implementations the smart home environment includes service robots that are configured to carry out in an autonomous manner any of a variety of household tasks.

As explained above with reference to in some implementations the smart home environment of includes a hub device that is communicatively coupled to the network s directly or via the network interface . The hub device is further communicatively coupled to one or more of the smart devices using a radio communication network that is available at least in the smart home environment . Communication protocols used by the radio communication network include but are not limited to ZigBee Z Wave Insteon EuOcean Thread OSIAN Bluetooth Low Energy and the like. In some implementations the hub device not only converts the data received from each smart device to meet the data format requirements of the network interface or the network s but also converts information received from the network interface or the network s to meet the data format requirements of the respective communication protocol associated with a targeted smart device. In some implementations in addition to data format conversion the hub device further processes the data received from the smart devices or information received from the network interface or the network s preliminary. For example the hub device can integrate inputs from multiple sensors connected devices including sensors devices of the same and or different types perform higher level processing on those inputs e.g. to assess the overall environment and coordinate operation among the different sensors devices and or provide instructions to the different devices based on the collection of inputs and programmed processing. It is also noted that in some implementations the network interface and the hub device are integrated to one network device. Functionality described herein is representative of particular implementations of smart devices control application s running on representative electronic device s such as a smart phone hub device s and server s coupled to hub device s via the Internet or other Wide Area Network. All or a portion of this functionality and associated operations can be performed by any elements of the described system for example all or a portion of the functionality described herein as being performed by an implementation of the hub device can be performed in different system implementations in whole or in part on the server one or more connected smart devices and or the control application or different combinations thereof.

In some implementations the devices and services platform communicates with and collects data from the smart devices of the smart home environment . In addition in some implementations the devices and services platform communicates with and collects data from a plurality of smart home environments across the world. For example the smart home provider server system collects home data from the devices of one or more smart home environments where the devices may routinely transmit home data or may transmit home data in specific instances e.g. when a device queries the home data . Example collected home data includes without limitation power consumption data blackbody radiation data occupancy data HVAC settings and usage data carbon monoxide levels data carbon dioxide levels data volatile organic compounds levels data sleeping schedule data cooking schedule data inside and outside temperature humidity data television viewership data inside and outside noise level data pressure data video data etc.

In some implementations the smart home provider server system provides one or more services to smart homes and or third parties. Example services include without limitation software updates customer support sensor data collection logging remote access remote or distributed control and or use suggestions e.g. based on collected home data to improve performance reduce utility cost increase safety etc. In some implementations data associated with the services is stored at the smart home provider server system and the smart home provider server system retrieves and transmits the data at appropriate times e.g. at regular intervals upon receiving a request from a user etc. .

In some implementations the extensible devices and services platform includes a processing engine which may be concentrated at a single server or distributed among several different computing entities without limitation. In some implementations the processing engine includes engines configured to receive data from the devices of smart home environments e.g. via the Internet and or a network interface to index the data to analyze the data and or to generate statistics based on the analysis or as part of the analysis. In some implementations the analyzed data is stored as derived home data .

Results of the analysis or statistics may thereafter be transmitted back to the device that provided home data used to derive the results to other devices to a server providing a webpage to a user of the device or to other non smart device entities. In some implementations usage statistics usage statistics relative to use of other devices usage patterns and or statistics summarizing sensor readings are generated by the processing engine and transmitted. The results or statistics may be provided via the Internet . In this manner the processing engine may be configured and programmed to derive a variety of useful information from the home data . A single server may include one or more processing engines.

The derived home data may be used at different granularities for a variety of useful purposes ranging from explicit programmed control of the devices on a per home per neighborhood or per region basis for example demand response programs for electrical utilities to the generation of inferential abstractions that may assist on a per home basis for example an inference may be drawn that the homeowner has left for vacation and so security detection equipment may be put on heightened sensitivity to the generation of statistics and associated inferential abstractions that may be used for government or charitable purposes. For example processing engine may generate statistics about device usage across a population of devices and send the statistics to device users service providers or other entities e.g. entities that have requested the statistics and or entities that have provided monetary compensation for the statistics .

In some implementations to encourage innovation and research and to increase products and services available to users the devices and services platform exposes a range of application programming interfaces APIs to third parties such as charities governmental entities e.g. the Food and Drug Administration or the Environmental Protection Agency academic institutions e.g. university researchers businesses e.g. providing device warranties or service to related equipment targeting advertisements based on home data utility companies and other third parties. The APIs are coupled to and permit third party systems to communicate with the smart home provider server system including the services the processing engine the home data and the derived home data . In some implementations the APIs allow applications executed by the third parties to initiate specific data processing tasks that are executed by the smart home provider server system as well as to receive dynamic updates to the home data and the derived home data .

For example third parties may develop programs and or applications e.g. web applications or mobile applications that integrate with the smart home provider server system to provide services and information to users. Such programs and applications may be for example designed to help users reduce energy consumption to preemptively service faulty equipment to prepare for high service demands to track past service performance etc. and or to perform other beneficial functions or tasks.

In some implementations processing engine includes a challenges rules compliance rewards paradigm that informs a user of challenges competitions rules compliance regulations and or rewards and or that uses operation data to determine whether a challenge has been met a rule or regulation has been complied with and or a reward has been earned. The challenges rules and or regulations may relate to efforts to conserve energy to live safely e.g. reducing the occurrence of heat source alerts e.g. reducing exposure to toxins or carcinogens to conserve money and or equipment life to improve health etc. For example one challenge may involve participants turning down their thermostat by one degree for one week. Those participants that successfully complete the challenge are rewarded such as with coupons virtual currency status etc. Regarding compliance an example involves a rental property owner making a rule that no renters are permitted to access certain owner s rooms. The devices in the room having occupancy sensors may send updates to the owner when the room is accessed.

In some implementations processing engine integrates or otherwise uses extrinsic information from extrinsic sources to improve the functioning of one or more processing paradigms. Extrinsic information may be used to interpret data received from a device to determine a characteristic of the environment near the device e.g. outside a structure that the device is enclosed in to determine services or products available to the user to identify a social network or social network information to determine contact information of entities e.g. public service entities such as an emergency response team the police or a hospital near the device to identify statistical or environmental conditions trends or other information associated with a home or neighborhood and so forth.

In some implementations the smart home provider server system or a component thereof serves as the hub device server system . In some implementations the hub device server system is a dedicated video processing server that provides video processing services to video sources and client devices independent of other services provided by the hub device server system .

In some implementations each of the video sources includes one or more video cameras that capture video and send the captured video to the hub device server system substantially in real time. In some implementations each of the video sources optionally includes a controller device not shown that serves as an intermediary between the one or more cameras and the hub device server system . The controller device receives the video data from the one or more cameras optionally performs some preliminary processing on the video data and sends the video data to the hub device server system on behalf of the one or more cameras substantially in real time. In some implementations each camera has its own on board processing capabilities to perform some preliminary processing on the captured video data before sending the processed video data along with metadata obtained through the preliminary processing to the controller device and or the hub device server system .

As shown in in accordance with some implementations each of the client devices includes a client side module . The client side module communicates with a server side module executed on the hub device server system through the one or more networks . The client side module provides client side functionalities for the event monitoring and review processing and communications with the server side module . The server side module provides server side functionalities for event monitoring and review processing for any number of client side modules each residing on a respective client device . The server side module also provides server side functionalities for video processing and camera control for any number of the video sources including any number of control devices and the cameras .

In some implementations the server side module includes one or more processors a video storage database device and account databases an I O interface to one or more client devices and an I O interface to one or more video sources . The I O interface to one or more clients facilitates the client facing input and output processing for the server side module . The databases store a plurality of profiles for reviewer accounts registered with the video processing server where a respective user profile includes account credentials for a respective reviewer account and one or more video sources linked to the respective reviewer account. The I O interface to one or more video sources facilitates communications with one or more video sources e.g. groups of one or more cameras and associated controller devices . The video storage database stores raw video data received from the video sources as well as various types of metadata such as motion events event categories event category models event filters and event masks for use in data processing for event monitoring and review for each reviewer account.

Examples of a representative client device include but are not limited to a handheld computer a wearable computing device a personal digital assistant PDA a tablet computer a laptop computer a desktop computer a cellular telephone a smart phone an enhanced general packet radio service EGPRS mobile phone a media player a navigation device a game console a television a remote control a point of sale POS terminal vehicle mounted computer an ebook reader or a combination of any two or more of these data processing devices or other data processing devices.

Examples of the one or more networks include local area networks LAN and wide area networks WAN such as the Internet. The one or more networks are optionally implemented using any known network protocol including various wired or wireless protocols such as Ethernet Universal Serial Bus USB FIREWIRE Long Term Evolution LTE Global System for Mobile Communications GSM Enhanced Data GSM Environment EDGE code division multiple access CDMA time division multiple access TDMA Bluetooth Wi Fi voice over Internet Protocol VoIP Wi MAX or any other suitable communication protocol.

In some implementations the hub device server system is implemented on one or more standalone data processing apparatuses or a distributed network of computers. In some implementations the hub device server system also employs various virtual devices and or services of third party service providers e.g. third party cloud service providers to provide the underlying computing resources and or infrastructure resources of the hub device server system . In some implementations the hub device server system includes but is not limited to a handheld computer a tablet computer a laptop computer a desktop computer or a combination of any two or more of these data processing devices or other data processing devices.

The server client environment shown in includes both a client side portion e.g. the client side module and a server side portion e.g. the server side module . The division of functionalities between the client and server portions of operating environment can vary in different implementations. Similarly the division of functionalities between the video source and the hub device server system can vary in different implementations. For example in some implementations client side module is a thin client that provides only user facing input and output processing functions and delegates all other data processing functionalities to a backend server e.g. the hub device server system . Similarly in some implementations a respective one of the video sources is a simple video capturing device that continuously captures and streams video data to the hub device server system without no or limited local preliminary processing on the video data. Although many aspects of the present technology are described from the perspective of the hub device server system the corresponding actions performed by the client device and or the video sources would be apparent to ones skilled in the art without any creative efforts. Similarly some aspects of the present technology may be described from the perspective of the client device or the video source and the corresponding actions performed by the video server would be apparent to ones skilled in the art without any creative efforts. Furthermore some aspects of the present technology may be performed by the hub device server system the client device and the video sources cooperatively.

It should be understood that operating environment that involves the hub device server system the video sources and the video cameras is merely an example. Many aspects of operating environment are generally applicable in other operating environments in which a server system provides data processing for monitoring and facilitating review of data captured by other types of electronic devices e.g. smart thermostats smart hazard detectors smart doorbells smart wall plugs appliances and the like .

The electronic devices the client devices or the server system communicate with each other using the one or more communication networks . In an example smart home environment two or more devices e.g. the network interface device the hub device and the client devices are located in close proximity to each other such that they could be communicatively coupled in the same sub network A via wired connections a WLAN or a Bluetooth Personal Area Network PAN . The Bluetooth PAN is optionally established based on classical Bluetooth technology or Bluetooth Low Energy BLE technology. This smart home environment further includes one or more other radio communication networks B through which at least some of the electronic devices of the video sources exchange data with the hub device . Alternatively in some situations some of the electronic devices of the video sources communicate with the network interface device directly via the same sub network A that couples devices and . In some implementations e.g. in the network C both the client device and the electronic devices of the video sources communicate directly via the network s without passing the network interface device or the hub device .

In some implementations during normal operation the network interface device and the hub device communicate with each other to form a network gateway through which data are exchanged with the electronic device of the video sources . As explained above the network interface device and the hub device optionally communicate with each other via a sub network A.

The hub device optionally includes one or more built in sensors not shown including for example one or more thermal radiation sensors ambient temperature sensors humidity sensors IR sensors occupancy sensors e.g. using RFID sensors ambient light sensors motion detectors accelerometers and or gyroscopes.

The radios enable and or connect to one or more radio communication networks in the smart home environments and allow a hub device to communicate with smart devices . In some implementations the radios are capable of data communications using any of a variety of custom or standard wireless protocols e.g. IEEE 802.15.4 Wi Fi ZigBee 6LoWPAN Thread Z Wave Bluetooth Smart ISA100.11a WirelessHART MiWi etc. custom or standard wired protocols e.g. Ethernet HomePlug etc. and or any other suitable communication protocol including communication protocols not yet developed as of the filing date of this document. In some implementations the radios include multiple different physical radios each of which implements a different communication protocol. For example in some implementations the radios include a Wi Fi radio a Bluetooth radio and an IEEE 802.15.4 radio all of which operate at 2.4 GHz. In some implementations some of the radios are combined. For example in some implementations a Bluetooth radio and a Wi Fi radio are incorporated in a single chip coupled to a single antenna. In other implementations a Bluetooth radio and an IEEE 802.15.4 radio are incorporated in a single chip coupled to a single antenna. Any combination of these radios can be implemented in any of the smart devices employed in a smart home environment.

Communication interfaces include for example hardware capable of interfacing the one or more radios with the hub device so as to enable data communications using any of a variety of custom or standard wireless protocols e.g. IEEE 802.15.4 Wi Fi ZigBee 6LoWPAN Thread Z Wave Bluetooth Smart ISA100.11a WirelessHART MiWi etc. and or any of a variety of custom or standard wired protocols e.g. Ethernet HomePlug etc. or any other suitable communication protocol including communication protocols not yet developed as of the filing date of this document.

Memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices one or more optical disk storage devices one or more flash memory devices or one or more other non volatile solid state storage devices. Memory or alternatively the non volatile memory within memory includes a non transitory computer readable storage medium. In some implementations memory or the non transitory computer readable storage medium of memory stores the following programs modules and data structures or a subset or superset thereof 

Each of the above identified elements e.g. modules stored in memory of hub device may be stored in one or more of the previously mentioned memory devices e.g. the memory of any of the smart devices in smart home environment and corresponds to a set of instructions for performing a function described above. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

Each of the above identified elements may be stored in one or more of the previously mentioned memory devices and corresponds to a set of instructions for performing a function described above. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

Memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices one or more optical disk storage devices one or more flash memory devices or one or more other non volatile solid state storage devices. Memory optionally includes one or more storage devices remotely located from one or more processing units . Memory or alternatively the non volatile memory within memory includes a non transitory computer readable storage medium. In some implementations memory or the non transitory computer readable storage medium of memory stores the following programs modules and data structures or a subset or superset thereof 

Each of the above identified elements may be stored in one or more of the previously mentioned memory devices and corresponds to a set of instructions for performing a function described above. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures modules or data structures and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

The built in sensors include for example one or more thermal radiation sensors ambient temperature sensors humidity sensors IR sensors occupancy sensors e.g. using RFID sensors ambient light sensors motion detectors accelerometers and or gyroscopes.

The radio s and radio s enable one or more radio communication networks in the smart home environments and allow a smart device to communicate with other devices. In some implementations the radios are capable of data communications using any of a variety of custom or standard wireless protocols e.g. IEEE 802.15.4 Wi Fi ZigBee 6LoWPAN Thread Z Wave Bluetooth Smart ISA100.11a WirelessHART MiWi etc. custom or standard wired protocols e.g. Ethernet HomePlug etc. and or any other suitable communication protocol including communication protocols not yet developed as of the filing date of this document.

Communication interfaces include for example hardware capable of interfacing the one or more radios and with the smart device so as to enable data communications using any of a variety of custom or standard wireless protocols e.g. IEEE 802.15.4 Wi Fi ZigBee 6LoWPAN Thread Z Wave Bluetooth Smart ISA100.11a WirelessHART MiWi etc. and or any of a variety of custom or standard wired protocols e.g. Ethernet HomePlug etc. or any other suitable communication protocol including communication protocols not yet developed as of the filing date of this document. In some implementations each radio s and radio s has a respective communication interface for facilitating and managing data communications for the respective radio while in other implementations multiple radios and or are managed by a single respective communication interface .

In some implementations radios and or radios are configured to transmit and receive the same or distinct types of signals in the smart home environment. For example radios may include transceivers configured to transmit data between other devices e.g. smart devices within the smart home environment e.g. IEEE 802.15.4 communications protocol for unilaterally bilaterally transmitting data between and among smart devices . Signals transmitted between devices may include for example signals directed to critical hazard information e.g. pings indicating the detection of smoke or device status information e.g. ping indicating low battery . In contrast in some implementations the radios may include transceivers configured to transmit high bandwidth data across data networks e.g. IEEE 802.11 Wi Fi for uploading a video stream to a smart home provider server system . In some implementations the radios and or the radios include transceivers configured for close range communications with devices e.g. Bluetooth communications protocol for device provisioning . In some implementations the radios and or the radios include transceivers configured to transmit low power signals e.g. smart hazard detectors not connected to a persistent power source . In some implementations radios and or radios are configured to transmit multiple types of signals in the smart home environment e.g. a Wi Fi radio uploads video stream data to the smart home provider server system in addition to routing received beacons to other nearby smart devices . In some implementations the radios and or the radios of a respective device include transceivers for directly and communicably bridging the respective device to other devices e.g. pairing devices directly via Bluetooth rather than communicating via a router by using Wi Fi . In some implementations the radios and or the radios are configured to translate signals received through a first radio and further to re transmit the translated signals using the first radio and or a radio e.g. a proprietary message format is received via Bluetooth and translated where the translated messages are re transmitted to other devices using Wi Fi .

The communications module includes a variety of components for enabling the receiving and transmitting of signals by a respective smart device including one or more amplifiers oscillators antennas filters switches memory firmware and or any other support circuits or circuit components. In some implementations the one or more radios and radios are integrated components of the communications module e.g. System on a Chip SOC . In some implementations the one or more radios and radios have respective circuit components e.g. radios having a corresponding antenna radios having a corresponding antenna . Alternatively the one or more radios and radios share one or more circuit components e.g. radio and radio sharing an antenna .

Memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices one or more optical disk storage devices one or more flash memory devices or one or more other non volatile solid state storage devices. Memory or alternatively the non volatile memory within memory includes a non transitory computer readable storage medium. In some implementations memory or the non transitory computer readable storage medium of memory stores the following programs modules and data structures or a subset or superset thereof 

Each of the above identified elements may be stored in one or more of the previously mentioned memory devices and corresponds to a set of instructions for performing a function described above. For example in some implementations the one or more radios and radios include respective memory and firmware for storing one or more programs executable modules of the memory . The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

Each of the above identified elements may be stored in one or more of the previously mentioned memory devices and corresponds to a set of instructions for performing a function described above. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

Furthermore in some implementations the functions of any of the devices and systems described herein e.g. hub device hub server system client device smart device smart home provider server system are interchangeable with one another and may be performed by any other devices or systems where the corresponding sub modules of these functions may additionally and or alternatively be located within and executed by any of the devices and systems. The devices and systems shown in and described with respect to are merely illustrative and different configurations of the modules for implementing the functions described herein are possible in various implementations.

As described with respect to devices in a smart home environment e.g. smart devices in such as cameras smart thermostats smart hazard detectors etc. of a smart home environment include a host of circuit components and interfaces for enabling communications with other systems devices and or servers. For example in some implementations smart devices include a communications module e.g. communications module which comprises one or more radios and or radios for receiving and transmitting signals to other devices and across networks sometimes referred to generally as transceivers or transceiver devices . In some implementations the one or more radios and radios are components of a single integrated circuit e.g. System on a Chip SOC . Given the typical physical compactness of smart devices components of the communications module and other components of the device are often collocated in close physical proximity with one another. For example a typical smart device may contain multiple radio antennas memory devices sensors chips and other electronic components. As a consequence of their close physical spacing within smart devices however and in combination with components coming into close contact with conductive materials e.g. metal casing camera stand wires etc device components such as antennas are typically poorly isolated from transmissions of one another. Additionally because these devices sometimes share the same or close frequency bands in operation e.g. IEEE 802.11 i.e. Wi Fi and 802.15.4 sharing 2.4 GHz frequency band signals transmitted by one component tend to interfere with signals transmitted and or received by other components. Ultimately components of the communications module typically achieve poor signal to noise ratio SNR distortion degraded analog signal quality and increased bit error rate BER .

Furthermore the poor isolation of these devices has an additional impact on the maximum input power of device components since the transmission power of signals transmitting by one transceiver adds unexpectedly to the expected transmission of signals simultaneously received by other nearby transceivers. Sensitive device components are thus often risk of damage when their input power thresholds are exceeded. For example referring to the front end module of the smart device in the low noise amplifier typically offers higher sensitivity to received signals but consequently has a lower input power threshold than alternative amplifiers. Thus the transmission power of antenna which adds to the transmission power of any signals received by antenna risks damaging components such as the low noise amplifier .

Various schemes and techniques are described for lessening the harmful effects arising from poorly isolated transceivers in smart devices a strategy generally referred to as coexistence. In particular illustrate various component layout strategies for achieving improved coexistence for various devices in accordance with some implementations. Furthermore illustrates a block diagram of a communications module of a smart device utilizing bypass circuitry and is a flow diagram illustrating a method of coexistence using bypass circuitry in accordance with some implementations. Moreover illustrate the use of control signals in a coexistence scheme and are flow diagrams illustrating methods of using control signals in a coexistence scheme in accordance with some implementations.

Implementations and techniques described with respect to may be combined in whole or in part to achieve improved coexistence. For example implementations described with respect to and corresponding methods of operation may serve as an additional or supplementary measures for achieving optimal coexistence and operation of multiple radios in the event that implementations described with respect to fail or malfunction e.g. if the communications module fails to engage the bypass line coexistence can still be achieved through software firmware based implementations described in .

Specifically illustrate perspective views of an assembled camera device . The camera device captures multimedia data image video and audio data in real time and communicates raw or processed multimedia data to its users via a remote surveillance server. The captured raw multimedia data are optionally processed locally in the camera device or remotely within the remote surveillance server.

The placement of antennas within the camera device assembly is such that interference from conductive and transmitting components is minimized. Placement of antennas is based at least in part on the type of antennas used. In some implementations antennas may be integrated into or secured by stickers or tape or alternatively fixed using a non conductive adhesive . By selecting the material of the enclosed housing of the camera assembly to be a less or non conductive material such as plastic e.g. plastic cover these antennas may be fixed adhesively along the inside of the enclosing housing thereby reducing the impact of interference otherwise experienced. Antennas may also be stamped sheet metal antennas. These antennas may be constructed as three dimensional sheet metal antennas that are mounted on the circuit board where nearby the location of the corresponding transceiver. An example is a Planar Inverted F Antenna PIFA stamped metal antenna. Alternatively antennas may be trace antennas integrated into onto a printed circuit board PCB . In some implementations the trace is laminated on the surface of the PCD. In other cases the traces may occupy several layers of a multilayer board. Chip antennas may also be used which are passive surface mounted antenna components often made from ceramic. Optionally antennas may be antennas external to the enclosed housing of the camera assembly.

In accordance with a regular monitor mode the camera device is configured to provide video monitoring and security in a smart home environment that is illuminated by visible light sources e.g. the sun or light bulbs . In some implementations the camera device includes alternative operation modes such as a night vision mode and a depth imaging mode. Each of the alternative operation modes is associated with a respective illumination condition. For example in the night vision mode the camera device is configured to capture activities in the smart home environment at night when no or limited visible light illumination is available. In the depth imaging mode the camera device is configured to create a depth map or image for the corresponding field of view in the smart home environment. The depth map can be subsequently used in the regular monitor mode for accurate identification of objects in the smart home environment. In some implementations the depth image is created based on one or more images captured when part of the field of view is selectively illuminated. Therefore in some implementations the camera device is configured to include a LED illumination system and use it as an internal light source to provide illumination in the smart home environment according to the respective illumination condition associated with each alternative operation mode of the camera device .

Specifically in some implementations the plurality of LEDs includes infrared LEDs . The infrared LEDs are enclosed within a dark colored infrared transparent plastic cover of the camera device and therefore are invisible from the exterior of the camera device . Given that the plastic cover permits infrared light to pass through it the camera device can rely on the infrared LEDs to provide illumination at night. In the night vision mode the plurality of LEDs is powered on to illuminate the field of view with infrared light at night. The camera device includes infrared image sensors that capture infrared images or video clips of the field of view. In the depth imaging mode the plurality of LEDs is grouped into a number of LED sets and each LED set is selectively powered up to illuminate respective part of a field of view associated with a venue where the camera device is located. Images captured in association with these LED sets are combined to generate a depth map of the entire field of view at the venue.

Alternatively in some implementations the plurality of LEDs is a mix of infrared and visible light LEDs including at least one infrared LED and at least one visible light LED. In the night vision mode the at least one infrared LED of the plurality of LEDs is powered on to illuminate the field of view with infrared light.

In some implementations the plurality of LEDs is disposed on an internal assembly structure of the camera device and configured to surround the camera lens of the camera device . In some implementations as shown in the inset of each LED is optionally tilted with an angle with respect to the optical axis that passes through a center of the camera lens . Here the optical axis is perpendicular to the lens surface at the center of the camera lens . In some implementations each LED is tilted away from the optical axis of the camera with the angle in the range of 20 40 degrees. In this example the plurality of LEDs includes eight LEDs that are grouped in four pairs of LEDs. The four pairs of LEDs are disposed symmetrically within four quadrants surrounding the camera lens . In some implementations a mechanical or electrical component is placed between two LED pairs or between two LEDs within a LED pair. It is noted that the camera lens can be surrounded by a number of LEDs having a different physical arrangement from the above example e.g. the camera lens is surround by a hundred LEDs distributed uniformly in three layers surrounding the camera lens .

In some implementations the one or more antennas are attached on an interior wall of the camera cover according to the form factor of the camera device . Each of the one or more antennas is positioned at a respective preferred location with a respective preferred orientation with respect to the other antennas to suppress or reduce the impact from the presence and interference of the other antennas. In some situations the receiving element and the base assembly are made from metal material and each of the one or more antennas is positioned at a respective preferred location with a respective preferred orientation with respect to the receiving element and the base assembly to suppress or reduce the impact from their presence. To render the preferred location and orientation each of the one or more antennas is marked with a respective alignment mark that is configured to guide assembly of the respective antenna onto the interior wall of the camera cover .

In some implementations the one or more antennas include at least a first antenna and a second antenna. The first antenna is configured to wirelessly transfer data captured by the camera device over a wireless local area network WLAN and the second antenna is configured to communicate configuration data associated with the WLAN via a first radio network for the purposes of commissioning the camera device into the WLAN. In some implementations the camera device further includes a third antenna to allow the camera device to communicate with a local hub device e.g. the hub device shown in via a second radio network that is distinct from the first radio network. In some implementations the WLAN and the first and second radio networks are associated with custom or standard wireless protocols e.g. IEEE 802.15.4 Wi Fi ZigBee 6LoWPAN Thread Z Wave Bluetooth Smart ISA100.11a WirelessHART MiWi etc. . In a specific example the first second and third antennas are configured to transfer their respective data wirelessly according to IEEE 802.11 IEEE 802.15.4 and ZigBee specifications respectively.

Further in some implementations the one or more antennas are electrically coupled to separate wireless transmitter circuits that operate on distinct frequency bands and transmit wireless signals at the distinct frequency bands concurrently. In some implementations the one or more antennas are electrically coupled to a duplex filter or a switch that controls their connections to a single wireless receiver circuit.

In some implementations a camera assembly includes an enclosed housing having a rear surface a front surface and a periphery e.g. camera . In some implementations the camera assembly further includes a lens module located within the housing and configured to receive light via the front surface e.g. lens . In some implementations video data captured by the lens module is exchanged between the camera assembly and a server using a wireless local area network.

In some implementations the camera assembly further includes communication circuitry located within the housing and configured to wireless communicate over a plurality of different communication protocols e.g. main circuit board of the camera device that includes multiple transceivers . In some implementations the communication circuitry includes a first circuit configured for communication over the first communication protocol e.g. Wi Fi transceiver and a second circuit configured for communication over the second communication protocol e.g. 802.15.4 transceiver wherein the first circuit and the second circuit are distinct. In some implementations the communication circuitry is an integrated circuit configured for communication over both the first and second communication protocols e.g. radios which includes a radio for Bluetooth LE and a radio for Wi Fi . In some implementations the communication circuitry is configured to wireless communicate over at least three different communication protocols e.g. Wi Fi 802.15.4 and Bluetooth LE . In some implementations the second antenna is further configured for communication over a third one of the communication protocols. In some implementations the communication circuitry is further configured to provide transmission access for communicating over the first communication protocol while denying transmission access for communicating over the second communication protocol while detecting an activated priority control signal e.g. using control signals as described with respect to .

In some implementations the camera assembly further includes a first antenna arranged at a first location on an inner surface of the periphery e.g. antenna the first antenna configured for communication over a first one of the communication protocols e.g. Wi Fi and a second antenna e.g. antenna arranged at a second location on the inner surface of the periphery the second location being different than the first location the second antenna configured for communication over a second one of the communication protocols e.g. 802.15.4 . In some implementations the first antenna is arranged at the first location on the inner surface of the periphery and or the second antenna is arranged at the second location on the inner surface of the periphery by an adhesive material e.g. . In some implementations the first antenna has a first orientation and the second antenna has a second orientation such that the impact from the presence and interference of each other antenna are suppressed e.g. orienting antennas and and different angles with respect to each other and other components within the camera assembly . In some implementations the first antenna and the second antenna are marked with a respective alignment mark that is configured to guide the assembly of the respective antenna onto the interior wall of the camera lid.

In some implementations the first antenna and the second antenna are configured to operate at the same frequency e.g. 2.4 GHz . In some implementations the first antenna and the second antenna are configured to operate at distinct frequencies e.g. 2.4 GHz and 5 GHz . In some implementations the first antenna is configured to transmit and receive over the first communication protocol signals comprising one or more of alerts control signals and status information to and from other smart home devices e.g. emergency alerts from a hazard detector using 802.15.4 or any signals transmitted received by any of the smart devices described with respect to . Furthermore the second antenna is configured to transmit and receive over the second communication protocol signals for configuring the smart home device e.g. Bluetooth LE for provisioning and setting up the camera and over the third communication protocol data corresponding to video captured by the smart home device e.g. Wi Fi for streaming video data .

In some implementations the first antenna or the second antenna is configured to transmit and receive wireless signals in a wireless local area network according to the IEEE 802.11 specifications. In some implementations wherein the first antenna or the second antenna is configured to transmit and receive wireless signals in a wireless personal area network according to the IEEE 802.15.4 standard. In some implementations the first antenna or the second antenna is configured to transmit and receive wireless signals according to the Bluetooth Low Energy standard. In some implementations the first antenna and the second antenna are electrically coupled to a duplex that controls their connections to a single wireless receiver circuit.

In some implementations the camera assembly further includes a loop arm that is configured to hold the enclosed housing when the enclosed housing is inserted within a cutout opening in the loop arm. In some implementations the loop arm is made from metal material and the first location of the first antenna and the second location of the second antenna are such that the impact from the presence of the metal loop arm is suppressed e.g. placed in a location that is farthest from the location at which the loop arm and the enclosed housing make contact .

Specifically illustrates an exploded perspective view of the smart thermostat with respect to its two main components which are the head unit A and the back plate B. The head unit A includes a head unit circuit board described in further detail with respect to and the back plate B includes a backplate circuit board described in further detail with respect to . Further technical and or functional descriptions of various ones of the electrical and mechanical components illustrated hereinbelow can be found in one or more of the commonly assigned incorporated applications such as U.S. Ser. No. 13 199 108 supra. In the drawings shown the z direction is outward from the wall the y direction is the head to toe direction relative to a walk up user and the x direction is the user s left to right direction.

In accordance with the teachings of the commonly assigned U.S. Ser. No. 13 269 501 supra the commonly assigned U.S. Ser. No. 13 275 307 supra and others of the commonly assigned incorporated applications the smart thermostat represents an advanced multi sensing microprocessor controlled intelligent or learning thermostat that provides a rich combination of processing capabilities intuitive and visually pleasing user interfaces network connectivity and energy saving capabilities including the presently described auto away auto arrival algorithms while at the same time not requiring a so called C wire from the HVAC system or line power from a household wall plug even though such advanced functionalities can require a greater instantaneous power draw than a power stealing option i.e. extracting smaller amounts of electrical power from one or more HVAC call relays can safely provide. By way of example the head unit microprocessor can draw on the order of 250 mW when awake and processing and an LCD module not shown can draw on the order of 250 mW when active. Moreover the Wi Fi module can draw 250 mW when active and needs to be active on a consistent basis such as at a consistent 2 duty cycle in common scenarios. However in order to avoid falsely tripping the HVAC relays for a large number of commercially used HVAC systems power stealing circuitry is often limited to power providing capacities on the order of 100 mW 200 mW which would not be enough to supply the needed power for many common scenarios.

The smart thermostat resolves such issues at least by virtue of the use of a rechargeable battery or equivalently capable onboard power storage medium that will recharge during time intervals in which the hardware power usage is less than what power stealing can safely provide and that will discharge to provide the needed extra electrical power during time intervals in which the hardware power usage is greater than what power stealing can safely provide. In order to operate in a battery conscious manner that promotes reduced power usage and extended service life of the rechargeable battery the thermostat is provided with both i a relatively powerful and relatively power intensive first processor such as a Texas Instruments AM3703 microprocessor that is capable of quickly performing more complex functions such as driving a visually pleasing user interface display and performing various mathematical learning computations and ii a relatively less powerful and less power intensive second processor such as a Texas Instruments MSP430 microcontroller for performing less intensive tasks including driving and controlling the occupancy sensors. To conserve valuable power the first processor is maintained in a sleep state for extended periods of time and is woken up only for occasions in which its capabilities are needed whereas the second processor is kept on more or less continuously although preferably slowing down or disabling certain internal clocks for brief periodic intervals to conserve power to perform its relatively low power tasks. The first and second processors are mutually configured such that the second processor can wake the first processor on the occurrence of certain events which can be termed wake on facilities. These wake on facilities can be turned on and turned off as part of different functional and or power saving goals to be achieved. For example a wake on PROX facility can be provided by which the second processor when detecting a user s hand approaching the thermostat dial by virtue of an active proximity sensor PROX such as provided by a Silicon Labs SI1142 Proximity Ambient Light Sensor with I2C Interface will wake up the first processor so that it can provide a visual display to the approaching user and be ready to respond more rapidly when their hand touches the dial. As another example a wake on PIR facility can be provided by which the second processor will wake up the first processor when detecting motion somewhere in the general vicinity of the thermostat by virtue of a passive infrared motion sensor PIR such as provided by a PerkinElmer DigiPyro PYD 1998 dual element pyrodetector . Notably wake on PIR is not synonymous with auto arrival as there would need to be N consecutive buckets of sensed PIR activity to invoke auto arrival whereas only a single sufficient motion event can trigger a wake on PIR wake up.

Specifically illustrates an assembled view of the smart hazard detector . shows the mounting plate front casing and cover plate in an assembled configuration with the various other components contained within an interior space of smart hazard detector . These figures also show the plurality of holes or openings of cover plate forming a visually pleasing design that is viewable by occupant of a room within which the smart hazard detector is mounted. The lens button is shown attached to the smart hazard detector so as to be centrally positioned with respect to cover plate . As briefly described light ring may be used to provide a halo appearance of light around and behind lens button . The assembled smart hazard detector provides a compact yet multifunctional device.

In one embodiment a protective plate may be attached to or otherwise coupled with circuit board to provide a visually pleasing appearance to the inner components of smart hazard detector and or to funnel or direct airflow to smoke chamber . For example when a user views the internal components of smart hazard detector such as through vents in back plate protective plate may provide the appearance of a relatively smooth surface and otherwise hide the components or circuitry of circuit board . Protective plate may likewise function to direct a flow of air from the vents of back plate toward smoke chamber so as to facilitate air flow into and out of smoke chamber .

Smart hazard detector may also include a battery pack that is configured to provide power to the various components of smart hazard detector when smart hazard detector is not coupled with an external power source such as a 120 V power source of the home or structure. In some embodiments a cover plate may be coupled with the front casing to provide a visually pleasing appearance to smart hazard detector and or for other functional purposes. In a specific embodiment cover plate may include a plurality of holes or openings that allow one or more sensors coupled with circuit board to view or see through a surface of cover plate so as to sense objects external to smart hazard detector . The plurality of openings of cover plate may be arranged to provide a visually pleasing appearance when viewed by occupants of the home or structure. In one embodiment the plurality of openings of cover plate may be arranged according to a repeating pattern such as a Fibonacci or other sequence.

A lens button may be coupled with or otherwise mounted to cover plate . Lens button may allow one or more sensors to view through the lens button for various purposes. For example in one embodiment a passive IR sensor not shown may be positioned behind the lens button and configured to view through the lens button to detect the presence of an occupant or occupants within the home or structure. In some embodiments lens button may also function as a button that is pressable by a user to input various commands to smart hazard detector such as to shut off an alarm that is triggered in response to a false or otherwise harmless condition. Positioned distally behind lens button may be a light ring that is configured to receive light such as from an LED and disperse the light within ring to provide a desired visual appearance such as a halo behind lens button . Positioned distally behind light ring may be a flexible circuit board that includes one or more electrical components such as a passive IR sensor hereinafter PIR sensor LEDs and the like. Flexible circuit board hereinafter flex ring may be electrically coupled with circuit board to communicate and or receive instructions from one or more microprocessors mounted on circuit board not shown during operation of smart hazard detector .

Referring now to illustrated are front and rear perspective views of a circuit board of a smart hazard detector e.g. smart hazard detector . Circuit board includes a main body having a front side or surface and a rear side or surface. As described herein various electrical components are mounted on circuit board . In some embodiments these components may be mounted on the front surface of circuit board on the rear surface of circuit board opposite the front surface or on both surfaces of the circuit board . For example in a specific embodiment one or more microprocessors and or other processor related components may be mounted on the rear surface of circuit board facing a protective plate while one or more functional components e.g. an alarm device CO detector speaker motion sensors Wi Fi device Zigbee device Bluetooth device and the like are mounted on a front surface of circuit board facing a room of the home or structure in which the smart hazard detector is positioned. Other components may be mid mounted relative to circuit board so that opposing surfaces are positioned on opposing sides of the circuit board as described herein. In some implementations the circuit board includes one or more integrated circuits which include a combination of radios and transceivers. For example in some implementations a Wi Fi device and a Bluetooth device of the smart hazard detector comprise a single chip wherein the Wi Fi device and the Bluetooth device transmit and receive signals using a single antenna. Various implementations of transceivers e.g. radios radios are described in greater detail with respect to .

As shown in in a specific embodiment the front surface of circuit board may include a CO detector that is configured to detect presence of carbon monoxide gas and trigger an alarm device if the carbon monoxide gas levels are determined to be too high. The alarm device which can be a piezoelectric buzzer having an intentionally shrill or jarring sound may likewise be mounted on the front surface of circuit board so as to face an occupant of the room in which the smart hazard detector is positioned to alarm the occupant of a potential danger. Alarm device may be configured to produce one or more sounds or signals to alert the occupant of the potential danger. The front surface may further include an area in which a speaker not shown is positioned. The Speaker may be configured to provide audible warnings or messages to the occupant of the room. For example the speaker may alert the occupant of a potential danger and instruct the occupant to exit the room. In some embodiments the speaker may provide specific instructions to the occupant such as an exit route to use when exiting the room and or home or structure. Other messages may likewise be communicated to the occupant such as to alert the occupant that the batteries are low that CO levels are relatively high in the room that the smart hazard detector needs periodic cleaning or alert the occupant of any other abnormalities or issues related to hazard detector or components thereof.

Circuit board may also include one or more motion sensors mounted on the front surface thereof. The motion sensors may be used to determine the presence of an individual within a room or surrounding area of the smart hazard detector . This information may be used to change the functionality of the smart hazard detector and or one or more other devices connected in a common network as described previously. For example this information may be relayed to a smart thermostat to inform the thermostat that occupants of the home or structure are present so that the smart thermostat may condition the home or structure according to one or more learned or programmed settings. The smart hazard detector may likewise use this information for one or more purposes such as to quiet the alarm device e.g. gesture hush as described herein or for various other reasons.

In one embodiment a first ultrasonic sensor and a second ultrasonic sensor may be mounted on the front surface of circuit board . The two ultrasonic sensors and may be offset axially so as to point in slightly different directions. In this orientation each ultrasonic sensor may be used to detect motion of an individual based on an orientation of the smart hazard detector relative to the room and or occupant. Detecting the motion of the individual may be used to quiet the alarm device as described herein i.e. gesture hush or for any other reason. In one embodiment an axis of the first ultrasonic sensor may be oriented substantially outward relative to the smart hazard detector while an axis of the second ultrasonic sensor is oriented an angle relative to the axis of the first ultrasonic sensor . The first ultrasonic sensor may sense motion of an individual when the smart hazard detector is mounted on a ceiling of the home or structure. Because the first ultrasonic sensor is oriented substantially outward relative to the smart hazard detector the first ultrasonic sensor essentially looks straight down on individuals beneath the smart hazard detector . The second ultrasonic sensor may similarly sense motion of the individual when the smart hazard detector is mounted on a wall of the home or structure. Because the second ultrasonic sensor is oriented at an angle relative to the first ultrasonic sensor and the smart hazard detector the second ultrasonic sensor essentially looks downward toward the floor when the smart hazard detector is mounted on a wall of the home or structure rather than looking directly outward as the first ultrasonic sensor . In one embodiment the angular offset of the two ultrasonic sensors may be approximately 30 or any other desired value.

In another embodiment the two ultrasonic sensors and may be replaced by a single ultrasonic sensor that is configured to rotate within the smart hazard detector so that the single ultrasonic sensor is capable of looking straight outward similar to the first ultrasonic sensor or capable of looking downward similar to the second ultrasonic sensor . The single ultrasonic sensor may be coupled to circuit board via a hinge that allows the ultrasonic sensor to rotate based on the orientation of the smart hazard detector . For example when the smart hazard detector is mounted to a ceiling of the home or structure gravity may orient the ultrasonic sensor so as to look straight downward whereas when the smart hazard detector is coupled to a wall of the home or structure gravity may cause the ultrasonic sensor to rotate via the hinge and look downward toward a floor and relative to the smart hazard detector . In another embodiment a motor may be coupled with the single ultrasonic sensor so as to rotate the ultrasonic sensor based on the orientation of the smart hazard detector . In this manner the ultrasonic sensor may always point in a direction that is likely to detect motion of an individual within the room or space surrounding the smart hazard detector . In yet another embodiment the single ultrasonic sensor may have a wide field of view that is able to substantially accommodate both mounting positions of the two ultrasonic sensors and .

As shown in body of circuit board also includes a substantially centrally located aperture through which a smoke chamber is inserted so as to mid mount the smoke chamber relative to the circuit board . Aperture may also include a pair of notches through which wires are inserted to electrically couple the smoke chamber with circuit board . As previously described mid mounting of the smoke chamber through an aperture allows smoke and air to enter the smoke chamber from both the front surface or side of circuit board and the rear surface or side of circuit board . Various aspects of the electrical components on the circuit board are now described the positions thereon of many of which will be apparent to the skilled reader in view of the descriptions herein and . Included on the circuit board can be several components including a system processor relatively high power wireless communications circuitry and antenna relatively low power wireless communications circuitry and antenna non volatile memory audio speaker one or more interface sensors a safety processor safety sensors alarm device a power source and powering circuitry. The components are operative to provide failsafe safety detection features and user interface features using circuit topology and power budgeting methods that minimize power consumption. According to one preferred embodiment a bifurcated or hybrid processor circuit topology is used for handling the various features of the smart hazard detector wherein the safety processor is a relatively small relatively lean processor that is dedicated to core safety sensor governance and core alarming functionality as would be provided on a conventional smoke CO alarm and wherein the system processor is a relatively larger relatively higher powered processor that is dedicated to more advanced features such as cloud communications user interface features occupancy and other advanced environmental tracking features and more generally any other task that would not be considered a core or conventional safety sensing and alarming task.

By way of example and not by way of limitation the safety processor may be a Freescale KL15 microcontroller while the system processor may be a Freescale K60 microcontroller. Preferably the safety processor is programmed and configured such that it is capable of operating and performing its core safety related duties regardless of the status or state of the system processor. Thus for example even if the system processor is not available or is otherwise incapable of performing any functions the safety processor will continue to perform its core safety related tasks such that the smart hazard detector still meets all industry and or government safety standards that are required for the smoke CO and or other safety related monitoring for which the smart hazard detector is offered provided of course that there is sufficient electrical power available for the safety processor to operate . The system processor on the other hand performs what might be called optional or advanced functions that are overlaid onto the functionality of the safety processor where optional or advanced refers to tasks that are not specifically required for compliance with industry and or governmental safety standards. Thus although the system processor is designed to interoperate with the safety processor in a manner that can improve the overall performance feature set and or functionality of the smart hazard detector its operation is not required in order for the smart hazard detector to meet core safety related industry and or government safety standards. Being generally a larger and more capable processor than the safety processor the system processor will generally consumes more power than the safety processor when both are active.

Similarly when both processors are inactive the system processor will still consume more power than the safety processor. The system processor can be operative to process user interface features and monitor interface sensors such as occupancy sensors audio sensors cameras etc. which are not directly related to core safety sensing . For example the system processor can direct wireless data traffic on both high and low power wireless communications circuitry access non volatile memory communicate with the safety processor and cause audio to be emitted from the speaker. As another example the system processor can monitor interface sensors to determine whether any actions need to be taken e.g. shut off a blaring alarm in response to a user detected action to hush the alarm . The safety processor can be operative to handle core safety related tasks of the smart hazard detector . The safety processor can poll safety sensors e.g. smoke CO and activate alarm device when one or more of safety sensors indicate a hazard event is detected. The safety processor can operate independently of the system processor and can activate the alarm device regardless of what state the system processor is in. For example if the system processor is performing an active function e.g. performing a Wi Fi update or is shut down due to power constraints the safety processor can still activate the alarm device when a hazard event is detected.

In some embodiments the software running on the safety processor may be permanently fixed and may never be updated via a software or firmware update after the smart hazard detector leaves the factory. Compared to the system processor the safety processor is a less power consuming processor. Using the safety processor to monitor the safety sensors as opposed to using the system processor to do this can yield power savings because safety processor may be constantly monitoring the safety sensors. If the system processor were to constantly monitor the safety sensors power savings may not be realized. In addition to the power savings realized by using safety processor for monitoring the safety sensors bifurcating the processors can also ensure that the safety features of the smart hazard detector always work regardless of whether the higher level user interface works. The relatively high power wireless communications circuitry can be for example a Wi Fi module capable of communicating according to any of the 802.11 protocols.

By way of example the relatively high power wireless communications circuitry may be implemented using a Broadcom BCM43362 Wi Fi module. The relatively low power wireless communications circuitry can be a low power Wireless Personal Area Network 6LoWPAN module or a ZigBee module capable of communicating according to an IEEE 802.15.4 protocol. For example in one embodiment the relatively low power wireless communications circuitry may be implemented using an Ember EM357 6LoWPAN module. The non volatile memory can be any suitable permanent memory storage such as for example NAND Flash a hard disk drive NOR ROM or phase change memory. In one embodiment the non volatile memory can store audio clips that can be played back using the speaker . The audio clips can include installation instructions or warning in one or more languages. The interface sensors can includes sensors that are monitored by system processor while the safety sensors can include sensors that are monitored by the safety processor. Sensors can be mounted to a printed circuit board a flexible printed circuit board a housing of a system or a combination thereof.

The interface sensors can include for example an ambient light sensor ALS such as can be implemented using a discrete photodiode a passive infrared PIR motion sensor such as can be implemented using an Excelitas PYQ1348 module and one or more ultrasonic sensors such as can be implemented using one or more Manorshi MSP1640H12TR modules . The safety sensors can include for example the smoke detection chamber which can employ for example an Excelitas IR module the CO detection module which can employ for example a Figaro TGS5342 sensor and a temperature and humidity sensor which can employ for example a Sensirion SHT20 module . The power source can supply power to enable operation of the smart hazard detector and can include any suitable source of energy. Embodiments discussed herein can include AC line powered battery powered a combination of AC line powered with a battery backup and externally supplied DC power e.g. USB supplied power . Embodiments that use AC line power AC line power with battery backup or externally supplied DC power may be subject to different power conservation constraints than battery only embodiments.

Preferably battery only powered embodiments are designed to manage power consumption of its finite energy supply such that smart hazard detector operates for a minimum period of time of at least seven 7 eight 8 nine 9 or ten 10 years. Line powered embodiments are not as constrained. Line powered with battery backup embodiments may employ power conservation methods to prolong the life of the backup battery. In battery only embodiments the power source can include one or more batteries. The batteries can be constructed from different compositions e.g. alkaline or lithium iron disulfide and different end user configurations e.g. permanent user replaceable or non user replaceable can be used. In one embodiment six cells of Li FeS2 can be arranged in two stacks of three. Such an arrangement can yield about 27000 mWh of total available power for the smart hazard detector .

In some implementations the communications module includes one or more radios radios a front end module and antennas . In some implementations the one or more radios and radios are communicably connected and each have respective antennas through which respective signals are transmitted and received. As an example the communications module of a camera includes a first transceiver for transmitting video data e.g. Wi Fi radios and additionally includes a second transceiver for transmitting and receiving packets from other smart devices in a smart home environment e.g. Zigbee radios . Optionally a combined transceiver is configured for transmitting and receiving data in accordance with more than one communications protocol e.g. radio configure for Wi Fi and Bluetooth LE . Components of the communications module e.g. radios radios are described in greater detail with regards to .

The front end module of the communications module includes a variety of circuit elements for manipulating e.g. amplifying signals received and transmitted by the radios . In particular the front end module includes switches for coupling the radios and the antenna by selectively using an amplifier e.g. amplifier and a low noise amplifier or bypass line . Whether the front end module couples the radios and the antenna by the low noise amplifier or the bypass line depends on whether the radio is active and transmitting signals using the second antenna . Although not illustrated other implementations of the front end module may include additional circuit elements including one or more additional switches amplifiers transistors and or any combination of active or passive elements. A combination of circuit elements may be used in the front end module for example to modify the sensitivity of the communications module and signals transmitted and or received through the radios .

As described previously poor signal isolation typically results from the close physical placement of antennas . In particular device components risk damage in the event that the signal power of transmitting antennas in a transmission chain nearby e.g. antenna for Wi Fi transmissions exceeds the maximum input power of components in the receiving chain e.g. 802.15.4 receiving chain formed by radio s and antenna .

One method for enabling and enhancing coexistence of transceiver devices e.g. radios radios includes the use of a bypass line in a front end module . In particular by using the switches to automatically and selectively enable the bypass line when the radio e.g. Wi Fi is on and transmitting signals through the antenna e.g. radios signals to the front end module through connection that it is on and transmitting transmissions received through the antenna do not pass through the low noise amplifier and instead pass through the bypass line to the radios . Consequently the effective maximum input power that can be tolerated by the front end module may be increased i.e. the front end module has a larger input power threshold when the bypass line is used to couple the radio and the antenna as determined by characteristics of the bypass line rather than the low noise amplifier . When the radio is off the switches operate to couple the radios and the antenna with the low noise amplifier in the receiver pathway. Thus with respect to receiver chain sensitivity the front end module has a higher receiver sensitivity when the low noise amplifier is used to couple the radio and the antenna . Given the selective operation of the low noise amplifier based on the activity of the radio the risk of damage to the low noise amplifier is avoided while still achieving improved sensitivity through the use of the low noise amplifier . Therefore the front end module is configured to couple the antenna to the radio via the bypass line when the radio s is active and transmitting signals using the antenna such that a signal received via the antenna is not amplified by the amplifier prior to being passed to the radio . The front end module is further configured to couple the antenna to the radio via the amplifier when the radio s is not transmitting signals using the antenna such that a signal received via the antenna is amplified by the amplifier prior to being passed to the radio . Methods of coexistence using the bypass circuitry in is described in greater detail with respect to .

As illustrated in a smart device e.g. a camera transmits data to and receives data from other devices in proximity e.g. smart hazard detector camera smart thermostat . Simultaneously data e.g. live video stream recorded by the camera is transmitted to and from a remote server system over a network e.g. a smart home provider server system over the network through a network interface . In some implementations the various devices in the smart home environment are also communicably connected and may therefore transmit receive data from one another. The specific smart devices illustrated and described in are merely examples and other implementations include various combinations of smart devices not illustrated .

In some implementations a camera or any smart device that provides high bandwidth output data needs to transmit one more video streams at different resolutions e.g. 180p 780p and 1080p to the server system for additional processing storage and or sharing with authorized users. In some situations as when the video stream is a live high definition e.g. 780p or 1080p video stream this requires the camera to maintain a low latency high bandwidth connection to the server system through the network interface for a substantial period of time e.g. from a few minutes to hours . This is accomplished in some implementations by the camera employing a Wi Fi connection provided by the network to connect to the server system to transmit video streams. At the same time the camera needs to be responsive to high priority alerts from other smart devices so these alerts can be processed locally e.g. used to change system state in the camera transmitted to a hub device for integration processing in view of other system alerts and status information relayed to other smart home devices or transmitted to client devices that are configured to issue alerts directed to authorized users and or transmitted to the server system . In some implementations these alerts are issued via Bluetooth or IEEE 802.11.15.4 signals by radios in other smart devices such as a smart hazard detector and are received by corresponding radios in the camera or any comparable smart device . These alerts are typically of short duration and low bandwidth in contrast to streaming video which is long duration and high bandwidth. In some implementations these alerts need to be retransmitted to other smart devices by the corresponding Bluetooth or IEEE 802.11.15.4 radios in the camera or any comparable smart device which operate at the same frequency as the Wi Fi radio e.g. 2.4 GHz . This requires the camera to prioritize use of the radios and antennas such that high priority transmissions received from other smart devices e.g. smoke or CO alerts are transmitted with minimal latency while during normal operation e.g. when there are no incoming alerts from other smart devices video streaming is enabled with high efficiency through the Wi Fi radio. Devices with multiple radios e.g. Wi Fi Bluetooth and 802.11.15.4 may be utilized in a number of additional ways. In some embodiments for example one or more radios of a device may be used for secure device provisioning e.g. via Bluetooth . Additionally as described above one or more radios may also be used for low power communications e.g. in devices not connected to a persistent power source .

Any of the operations described above in which multiple radios are utilized require a co existence strategy described herein that manages the use by multiple radios e.g. 2 or more of one or more antennas with poor isolation from each other to transmit without interference signals at the same frequency or frequencies that would otherwise interfere.

As shown in some implementations of a communications module include one or more radios radios antennas an optional front end module as described in and one or more control lines which transmit signals between the one or more radios and radios e.g. RADIO PRI on control line RADIO REQ on control line and WIFI GRANT on control line . Various components of the communications module are described in greater detail with respect to .

In some implementations the control lines are used to transmit control signals between one or more radios and radios to manage the operation of transceiver devices in accordance with a coexistence scheme. In particular as described in greater detail below control signals are transmitted as a means for indicating and determining a priority of signals being transmitted by the one or more radios and radios . A transceiver determined to have a lower priority yields to a higher priority transceiver by suspending transmissions for a duration of time as the higher priority transceiver completes transmitting receiving data thus lessening or altogether avoiding the negative effects of poor isolation resulting from transceiver devices operating simultaneously. As an example when the RADIO PRI i.e. request for transmission priority and RADIO REQ e.g. request for transmission control lines and are asserted by the radios the radio yield to transmission requests by the radios by suspending its own transmissions while the radios transmit receive data. Referring to the example in when the RADIO PRI and RADIO REQ control lines and are asserted the radio of the smart device e.g. Wi Fi transceiver of a camera momentarily suspend uploads of recorded video to the smart home provider server system while permitting the radios e.g. 802.15.4 to transmit critical packets received from a smart hazard detector to a smart thermostat by activating or asserting the WIFI GRANT control signal. As a result interference and transmission collisions are avoided between the transceiver devices while reducing the risk of damaging hardware components e.g. by exceeding device input power thresholds and failing to transmit critical data e.g. emergency pings from a smart hazard detectors .

In some implementations one of the transceivers serves as a master device which receives requests for transmissions and moderates transmissions between itself and requesting transceivers. In the example shown the radio e.g. Wi Fi transceiver is the master as indicated by the directions of the control lines i.e. with respect to the radio WIFI GRANT is an output and RADIO PRI and RADIO REQ are inputs .

The radios and or the radios may operate in station mode i.e. transceiver acts as a client that connects to an access point such as a router Access Point AP mode i.e. transceiver acts as an access point through which other devices can connect and access other connected devices and or Ad Hoc mode e.g. mode in which network connected devices have equal status and may associate with any other network device in range . Furthermore radios and or the radios may operate in a variety of power modes e.g. full power mode power save mode . In the example coexistence scheme of the radio e.g. Wi Fi operates in station mode and full power mode. Furthermore in the given example the WIFI GRANT control signal is kept activated when the radio is in power save mode.

Although the example illustrates the use of three control lines other implementations may include additional control lines and control signals for determining a request priority of a transmitting device. Additional control lines and control signals may for example be used in implementations which include two or more radios or radios in a combined device e.g. a combined Bluetooth and 802.15.4 chip such that the plurality of transceiver devices can separately arbitrate with the master device.

Alternatively in some implementations two or more radios or radios are integrated as a combined device e.g. a combined Bluetooth and Wi Fi 802.11 chip and a separate arbitration scheme may be implemented such that the two radios or radios arbitrate internally before arbitrating with the other transceiver of the communications module . illustrates an example of an internal arbitration scheme between transceivers combined in a single device e.g. Bluetooth and Wi Fi transceivers combined in a single device shown by radios and respectively . Using a switch for example radios and decide between each other e.g. based on instructions and logic in the firmware of radio and or as to which transceiver will have control over the antenna . Thus the example coexistence scheme of operates independently from but simultaneously with any internal coexistence schemes implemented between radios or radios e.g. coexistence scheme involving 802.15.4 and Wi Fi is independent from internal coexistence scheme involving Wi Fi and Bluetooth .

While reference is made with respect to 802.15.4 and Wi Fi other implementations may include any combination of other transmission protocols described with respect to .

Coexistence schemes may be configured and implemented with any signal polarity High Active or Low Active . In the example shown the signal polarity is assumed to be Low Active. In some implementations control signals and control lines are assigned to physical pins of the transceivers and are therefore handled by on chip target firmware. Thus control signals do not directly control the transceivers e.g. to stop resume Wi Fi transmission but rather operate through logic implemented by device firmware.

The use of these control signals are configured such that the radio and radio can support two modes of operation a normal and alarming mode.

In the normal mode the radio e.g. 802.15.4 operates asynchronously. That is the radio can request transmission access at any time. In this mode the priority pin e.g. RADIO PRI will not be asserted. Furthermore the radio e.g. Wi Fi is permitted although not required to complete existing packet transmissions before granting transmission requests to the radio i.e. asserting WIFI GRANT .

In alarming mode or high priority mode the radio e.g. 802.15.4 requests access in a periodic fashion. As an example the radio requests for a 900 us transmission period every 4 ms. The priority control signal e.g. RADIO PRI will be asserted during this entire period and can be used by the radio e.g. Wi Fi to infer the mode. In some implementations in the alarming mode the radio and the radio operate synchronously. That is transmissions from the radio e.g. Wi Fi are timed with the falling or rising edge of the RADIO REQ control signal. By synchronously timing the assertion and de assertion of the RADIO REQ control signal minimum timing guarantees can be created with respect to transmission access for the radio . This is in contrast to normal mode where a looser coupling exists between transmissions between radio s and radio s where transmission access is granted denied in an ad hoc fashion.

Implementations of the various controls signals for supporting these modes of operation are described below.

In some implementations the RADIO REQ control signal e.g. control line is a transmission request signal from the radios e.g. 802.15.4 transceiver . When the radio e.g. Wi Fi transceiver detects this signal it attempts to suspend its transmissions and simultaneously activates the WIFI GRANT control signal e.g. control line indicating that its transmission has stopped and that the radios may begin transmission e.g. on a shared 2.4 GHz frequency band .

In some implementations the RADIO PRI control signal e.g. control line is signal from the radios e.g. 802.15.4 indicating an importance of the transmission request. Thus if RADIO PRI is active when RADIO REQ is detected the radio e.g. Wi Fi will treat it as high priority request. Consequently the radio attempts to shut down its transmissions as soon as possible activates the WIFI GRANT control signal and does not revoke the WIFI GRANT control signal until RADIO REQ is deactivated.

If RADIO PRI is inactive when RADIO REQ is detected the radio will treat it as regular priority request. Thus if an important operation by the radio is in progress e.g. scheduled beacon receive the WIFI GRANT control signal will not be activated until that operation is completed. Furthermore if the WIFI GRANT control signal is already activated when the RADIO REQ control signal is also activated WIFI GRANT will be revoked deactivated if and when the radio seeks to access to the radio.

The RADIO PRI control signal is checked when the radio e.g. Wi Fi transceiver detects a change of the RADIO REQ control signal e.g. activation inactivation . The RADIO PRI control signal level must be established a time T PRI SETUP before changing the RADIO REQ control signal. When the RADIO REQ control signal is still activated when the RADIO PRI control signal is activated it triggers an alarming mode to the radio forcing a slotted mode operation. The slotted mode is implemented in order to respond rapidly during a RADIO REQ interval in high priority mode alarming mode an example of which is described with respect to . In slotted mode a TX Request Descriptor is placed in the hardware queue only upon inactivation of the RADIO REQ control signal. The transmission throughput of the radio e.g. Wi Fi in slotted mode is limited to a single packet in every RADIO REQ interval. Thus only a single Wi Fi packet is sent every time when the RADIO REQ control signal is inactivated. In some implementations when switching from alarming mode to normal mode the RADIO PRI must be inactivated when RADIO REQ is inactivated. Assuming 1440 Bytes packet and a 4 ms RADIO REQ interval transmission throughput of the radio under alarming mode is 2.7 Mbit sec. In addition Wi Fi retry limit is set to 3 in slotted mode where default retry limit is 15.

The WIFI GRANT control signal is provided by the radio e.g. Wi Fi which when activated indicates that the transmission activity of the radio was ceased and that the radios e.g. 802.15.4 transceiver may use the frequency band for transmission e.g. 2.4 GHz band .

Furthermore in order to achieve quick pause resume of transmissions by a Wi Fi transceiver in some implementations 802.11n sub frame aggregation is disabled. Furthermore in some implementations the number of TX Request Descriptors placed in the hardware transmission queue is limited to 1. As a result the transmission throughput of the Wi Fi transceiver for example is reduced about 10 Mbps even when connected to an 802.11n access point.

In some implementations a camera device e.g. smart device in which is a camera includes a first and second antenna e.g. antennas and respectively and a first e.g. radio second e.g. radio and third transceiver e.g. radio . The second transceiver is coupled to the first antenna e.g. radio coupled to antenna and the first and third transceivers are coupled to the second antenna e.g. radios and coupled to antenna . In some implementations the first transceiver is configured to transmit and receive over a first one of a plurality of distinct communication protocols signals for configuring the camera device e.g. Bluetooth Low Energy the second transceiver is configured to transmit and receive over a second one of the plurality of distinct communication protocols signals comprising one or more of alerts control signals and status information to and from the one or more smart home devices e.g. 802.15.4 and the third transceiver is configured to transmit and receive over a third one of the plurality of distinct communication protocols data corresponding to video captured by the camera device e.g. Wi Fi . In some implementations the second transceiver and the first and or third transceivers are coupled by a plurality of control lines for selectively granting or denying transmission access to the first second and third transceivers e.g. control lines . In some implementations the first transceiver and the third transceiver comprise a single combined transceiver e.g. radio which includes radio and radio and the second transceiver is coupled to the single combined transceiver by the plurality of control lines e.g. radio and radio coupled by control lines .

In some implementations the plurality of control lines include a first control line for a priority control signal e.g. RADIO PRI on control line a second control line for a radio request control signal e.g. RADIO REQ on control line and a third control line for granting or denying transmission access to the second transceiver or the third transceiver e.g. WIFI GRANT on control line . Transmission access is granted or denied to the second transceiver or the third transceiver using the third control line in accordance with detection of an activated or deactivated priority control signal an activated or deactivated radio request control signal and or a transmission request by the third transceiver. In some implementations transmission access is granted to the second transceiver and denied to the third transceiver if an activated priority control signal is detected on the first control line and an activated radio request control signal is detected on the second control line or a deactivated priority control signal is detected on the first control line and the activated radio request control signal is detected on the second control line but the transmission request by the third transceiver is not detected. In some implementations transmission access is denied to the second transceiver and granted to the third transceiver if an activated priority control signal is detected on the first control line a transmission request by the third transceiver is detected and a deactivated radio request control signal is detected on the second control line or a deactivated priority control signal is detected on the first control line and the transmission request by the third transceiver is detected. Granting and denying of transmission access to the first transceiver the second transceiver and or the third transceiver is described in greater detail with respect to .

In particular illustrate a signal timing diagram and timing chart for a normal mode of operation for a coexistence scheme in accordance with some implementations.

As shown in even if the RADIO PRI control signal is activated the WIFI GRANT control signal is not asserted until the RADIO REQ control signal is activated. As shown in the timing chart of T PRI SETUP is the setup time between asserting RADIO PRI and asserting RADIO REQ. Moreover T REQ LATENCY is the latency between asserting RADIO REQ and asserting WIFI GRANT. The T REQ LATENCY time is defined by requirements of the radios e.g. 802.15.4 radio requirement and implementation limitations of the radio e.g. Wi Fi . In some implementations the T REQ LATENCY time is mainly general purpose I O GPIO interrupt latency plus the TX DMA stop latency e.g. a maximum of 3.5 msec . The WIFI GRANT control signal could be further delayed however for beacon protection described in greater detail with respect to .

Furthermore as shown in when both the RADIO PRI control signal and the RADIO REQ are deactivated the WIFI GRANT is revoked. The T REVOKE LATENCY time is the latency between de asserting RADIO REQ and de asserting WIFI GRANT.

Additional timing metrics include T REQ PERIOD which is the length of time for which the RADIO REQ control signal is asserted. In some implementations T REQ PERIOD is defined from requirements of the radios e.g. 802.15.4 radio requirement and throughput connection stability of the radio e.g. Wi Fi . Furthermore T REQ INTERVAL is defined as the interval of time between asserting the RADIO REQ control signal.

In particular the signal timing diagram of illustrates a signal timing diagram in which the WIFI GRANT control signal is revoked in accordance with Quality of Service QoS requirements. In the example provided when RADIO PRI is not asserted WIFI GRANT will be revoked when there is a high priority transmission request by the radio e.g. Wi Fi even if the RADIO REQ control line is still asserted. In some implementations a High priority transmission request is considered to be within an Access Category AC that is above BE Best Effort VI Video and or VO Voice respectively. For example management frames are considered to be the same priority as VO Voice .

As shown in if a high priority transmission occurs WIFI GRANT will be revoked even if the RADIO REQ control signal is asserted. The time T REVOKE LEAD Q is defined as the lead period between de asserting the WIFI GRANT and the high priority Wi Fi transmission. Furthermore the time T WIFI ACT is the duration of time of the high priority Wi Fi transmission.

When the high priority transmission ceases WIFI GRANT is re asserted the amount of time between such occurrences being defined by T REGRANT LATENCY Q.

Other timing metrics include T GRANT MIN Q which is the minimum amount of time for which WIFI GRANT can be guaranteed to be asserted. In some implementations because transmission activity of the radio e.g. Wi Fi is asynchronous to a request signal from the radios e.g. 802.15.4 a minimum WIFI GRANT period e.g. time T GRANT MIN Q is not guaranteed.

Furthermore T WIFI IDLE is defined as the interval of time between high priority transmission requests.

As shown if a beacon transmission occurs WIFI GRANT will be revoked even if the RADIO REQ control signal is asserted.

T GRANT MIN is defined as a minimum period of time for which WIFI GRANT can be guaranteed to be asserted before being revoked by a beacon transmission. T REVOKE LEAD is defined as a lead period between WIFI GRANT being de asserted and the time at which a beacon is scheduled to be received at the radio . T GRANT MIN and T REVOKE LEAD are defined from requirements of the radios e.g. 802.15.4 radio requirement . Furthermore in some implementations the radio e.g. Wi Fi transceiver can be programmed to have timer control up to a precision of 1 ms.

T BEACON ACT is the period of time a beacon is received by the radio e.g. a Wi Fi beacon and is defined as how long a beacon signal can be. WIFI GRANT would not be re asserted by timeout while the radio is still receiving a beacon. As an example for a 2.4 GHz beacon sent at a 1 Mbps DSSS rate given a typical beacon frame of approximately 300 Bytes T BEACON ACT is defined to be approximately 300 8 1 us or 2.4 ms.

T BEACON INT is defined as an interval of time for the beacon. In some implementations T BEACON INT is defined as T GRANT MIN T REVOKE LEAD. In some implementations the beacon interval T BEACON INT is defined by the Access Point to which the radio is connected. As an example the default beacon interval of an Access Point is 100 TUs or 102.4 ms .

As shown in RADIO PRI is kept activated while in alarming mode and is de activated at the termination of the last transmission request e.g. RADIO REQ . The alarming mode may include situations in which critical data is being transmitted and received by the radio e.g. pings from hazard detection devices being received and transmitted to other devices . In these situations the coexistence must be configured to support the receipt and transmission of this data while synchronously transmitting data through the radio e.g. transmitting data packets of a recorded video stream through Wi Fi during intervals of time when the radio is not requesting transmission access e.g. between transmissions of the radio .

As shown during an alarming mode RADIO PRI is first asserted and RADIO REQ is asserted at a time T PRI SETUP afterwards. Once RADIO REQ has been asserted the radio grants transmission access by asserting WIFI GRANT at a time T REQ LATENCY A afterwards. When the RADIO REQ transmission request from the radio finishes WIFI GRANT is revoked at time T REVOKE LATENCY A afterwards. The interval T REQ INTERVAL A is an interval of time between transmission requests from the radio e.g. RADIO REQ . During this time WIFI GRANT is revoked and therefore transmission access is set aside for the radio e.g. data packets for a video stream over Wi Fi .

In some implementations during an alarming mode after asserting RADIO REQ the radio begins transmission at a time T REQ LATENCY A afterwards regardless of whether the WIFI GRANT is asserted.

Although the examples provided in are described with respect to a multi transceiver device that includes circuitry for 6LOWPAN BLE and Wi Fi transmission protocols specifically in other implementations the circuitry may include any combination of three or more radios and or radios . In such implementations the methods described in with respect to priority lines and how respective circuitry operates will apply analogously. In other words the coexistence schemes and methods described in are generally applicable to any multi radio device e.g. smart devices having three or more radios .

The RFA lines and may be shared among both 6LOWPAN circuitry and BLE circuitry so that the circuits are aware of when each makes a request for access. Such information sharing can assist in avoiding collision events. The RFA may be provided to Wi Fi circuitry which decides whether to grant access. The priority lines may specify that a particular circuit is given priority over the other circuit and that its request to access the RF medium is of high priority and the other communication circuits should yield where possible. For example 6LoWPAN circuitry may have priority over BLE circuitry during an alarm event. In the event of potential collisions for RF medium access master or host circuitry can control which circuitry is granted access. The master or host circuitry can be a processor other than one of the communications circuits e.g. system processor or it can be implemented by an onboard processor of one of the communication circuits e.g. Wi Fi circuitry .

Priority may be conveyed using one of two different approaches. One approach uses direct notification. In this approach the host e.g. Wi Fi can issue grant command to the communications circuits to inform them which has priority. The grant command may not necessarily be a single Boolean value but can include an enumeration or bit field indicating which circuit has priority or is allowed to assert its priority line. In another approach implicit notification may be used. In implicit notification a circuit may impliedly have priority if its priority input pin is not asserted. If its priority input pin is asserted then it may not have priority.

The priority cases for Wi Fi circuitry are described in connection with . shows an illustrative base case in which both priority lines for 6LOWPAN circuitry and BLE circuitry are LOW indicating that the these circuits are not requesting priority. In addition there are no pulses in 6LO RFA nor BLE RFA indicating that 6LoWPAN and BLE circuitry are not requesting access. From time t to t the Grant line is HIGH implying that Wi Fi circuitry is granting access to the RF medium. From time t to time t Grant is LOW and WiFi Tx is HIGH. Thus Wi Fi circuitry denies grant when it wishes to transmit. This is also shown between time t and t. Moreover during the base case 6LoWPAN circuitry and BLE circuitry may be permitted to access the RF medium when Grant is HIGH.

Referring now to 6LO Priority and Grant are HIGH throughout. At times t t BLE RFA is HIGH and because 6LO RFA is LOW there is no conflict and BLE Tx is permitted to go HIGH. At times t t 6LO RFA is HIGH and is granted access resulting in 6LO Tx going HIGH. Starting at time t BLE RFA is HIGH and BLE Tx begins to transmit until time t at which point 6LO RFA goes HIGH. Now at time t there is a conflict between 6LO RFA and BLE RFA but because 6LO Priority is HIGH 6LO Tx goes HIGH indicating that 6LoWPAN circuitry decides to transmit despite the assertion by BLE circuitry .

Referring now to both 6LO Priority and BLE Priority are LOW but circuitry is configured to permit grant 6LoWPAN circuitry access in case of a collision. Starting at time t 6LO RFA goes HIGH and at time t BLE RFA goes HIGH but Grant goes LOW to allow Wi Fi circuitry to transmit until time t. At time t Grant goes HIGH at which time 6LO Tx begins transmitting as shown . BLE Tx does not transmit because BLE circuitry does not have priority and knows that 6LO RFA has already been asserted. BLE Tx may go HIGH as it detects the falling edge of 6LO Tx at time t.

The priority use cases for BLE circuitry are similar to the priority use cases of 6LoWPAN circuitry . For example if were used to illustrate the priority use cases of BLE circuitry the 6LO priority RFA and Tx labels can be transposed with the BLE priority RFA and Tx labels.

Referring now to an illustrative timing diagram showing how the BLE circuitry attempts to communicate with a personal device during the idle portion of a wake packet being transmitted by 6LoWPAN circuitry during a NCCA period in accordance with some implementations. During the NCAA period Wi Fi circuitry is not yet turned ON therefore 6LoWPAN circuitry and BLE circuitry may arbitrate amongst themselves to determine who has access to the RF medium. For purposes of this timing diagram assume that the 6LoWPAN has priority e.g. because hazard detection system has raised its alarm . shows that the NCCA wake packet transmission cycle has a period including an active portion as evidenced by the HIGH pulse and an idle portion as evidenced by the LOW signal . The 6LoWPAN RFA may track the active portion of each wake packet. Since 6LoWPAN circuitry has priority it controls access to the RF medium regardless of any RFA by BLE circuitry . This is shown in the FIG. as evidenced by 6LoWPAN Tx going HIGH in concert with the 6LoWPAN pulses. BLE RFA is shown to remain HIGH throughout the timing diagram thus indicating BLE circuitry s desire to attempt communications with a personal device not shown . BLE circuitry is permitted to communicate during the idle portion of each wake packet transmission. This is shown where BLE Tx goes HIGH when 6LoWPAN Tx goes LOW and vice versa.

During the BLE Tx HIGH signal period BLE circuitry attempts to communicate with one or more personal devices. BLE circuitry may do this by 1 advertising its presence to the personal device e.g. on channel of a BLE protocol 2 authenticating the personal device e.g. on channel of the BLE protocol and 3 commencing data transfer with the personal device e.g. on channel of the BLE protocol . BLE circuitry may perform all three steps during a single BLE Tx session or over a series of BLE Tx sessions. The data transfer can specify instructions for altering the state of the system. For example if the system is alarming the instruction can contain a hush instruction that commands the system to change from an alarming state to a hush state.

The electronic device e.g. smart device which is a camera includes a plurality of transceivers e.g. radio s and radio s one or more processors and memory storing instructions for execution by the one or more processors. The electronic device detects whether a second transceiver e.g. radio of the plurality of transceivers is not transmitting signals via a second antenna e.g. antenna coupled to the second transceiver. In some implementations a bypass signal is produced when the second transceiver is active where detecting whether the second transceiver is transmitting signals includes detect the bypass signal. For example a bypass signal is produced and detected on connection when radio is transmitting.

In accordance with detecting that the second transceiver is not transmitting signals via the second antenna a first transceiver e.g. radio of the plurality of transceivers is coupled to a first antenna via an amplifier such that a signal received by the first antenna is amplified by the amplifier prior to being passed to the first transceiver. In some implementations the amplifier is a low noise amplifier e.g. low noise amplifier .

In accordance with detecting that the second transceiver is transmitting signals via the second antenna the first transceiver is coupled to the first antenna via a bypass line e.g. bypass line such that a signal received by the first antenna is not amplified by the amplifier prior to being passed to the first transceiver.

In some implementations the first and second antennas receive and transmit signals at the same frequency e.g. 2.4 GHz .

The camera device includes a plurality of distinct transceivers configured for communication over respective communication protocols e.g. radio and radios which includes radios and one or more processors and memory storing instructions for execution by the one or more processors.

In performing the method the camera device communicates using a first transceiver of the plurality of distinct transceivers the first transceiver configured to transmit and receive over a first one of the communication protocols signals for configuring the camera device e.g. radio of radios . In some implementations the first communication protocol is based on the Bluetooth Low Energy standard. In some implementations communicating using the first transceiver includes transmitting data comprising a video format configured for low bandwidth transmissions e.g. a low resolution encoded video stream .

The camera device communicates with one or more smart home devices using a second transceiver of the plurality of transceivers. The second transceiver e.g. radio is configured to transmit and receive over a second one of the communication protocols signals comprising one or more of alerts control signals and status information to and from the one or more smart home devices e.g. emergency alerts from hazard detectors . In some implementations the second communication protocol is based on the IEEE 802.15.4 standard. In some implementations communicating using the second transceiver includes transmitting data comprising the video format configured for low bandwidth transmissions e.g. a low resolution encoded video stream . In some implementations communicating using the second transceiver includes receiving intermittent signals from the one or more smart home devices and or retransmitting received signals from the one or more smart home devices concurrently with the transmission of data using a third transceiver e.g. receiving emergency pings from connected smart hazard detectors using radio while transmitting video data over Wi Fi radio . In some implementations the transmission of data using the third transceiver is temporarily suspended while receiving signals from the one or more smart home devices and or retransmitting received signals from the one or more smart home devices. For example radio and radios coordinate transmission access such that the radio and radios are not both simultaneously transmitting signals at a given time e.g. communications module moderates transmission access by the radio and radios and selectively grants denies transmission access to the radio and radios .

Referring now to the camera device communicates using the third transceiver of the plurality of transceivers. The third transceiver e.g. radio of radios is configured to transmit and receive over a third one of the communication protocols data corresponding to video captured by the camera device. In some implementations the third communication protocol is based on the IEEE 802.11 standard. In some implementations the data comprises a video format configured for high bandwidth transmissions e.g. high resolution video streaming of video surveillance footage using Wi Fi . In some implementations communicating using the third transceiver includes receiving and transmitting data at a data rate that is higher than a data rate at which the camera device communicates using the first transceiver and or a data rate at which the camera device communicates using the second transceiver e.g. streaming high resolution video using Wi Fi radio while streaming low resolution video using 802.15.4 radio .

In some implementations the camera device receives signals from the one or more smart home devices over the second communication protocol and retransmits the signals to one or more other smart home devices e.g. receiving and retransmitting emergency pings from connected smart hazard detectors using radio .

Referring now to the camera device may perform the method additionally to and or in conjunction with the method . In performing the method in some implementations the camera device grant or deny transmission access to the first transceiver e.g. radio of radios such as Bluetooth LE the second transceiver e.g. radio such as 802.15.4 and or the third transceiver e.g. radio of radios such as Wi Fi of the plurality of distinct transceivers of the camera device where the transceivers are configured for communication over respective communication protocols.

In some implementations granting or denying transmission access includes detecting activation of a priority control signal e.g. assertion of RADIO PRI signal on control line . In some implementations the activated priority control signal corresponds to an alarming mode of the second transceiver e.g. incoming emergency alerts from a hazard detector . In response to detecting activation of the priority control signal transmission access is granted e.g. by the master transceiver such as radio s to the second transceiver e.g. e.g. 802.15.4 radio and transmission access is denied to the third transceiver e.g. Wi Fi radio .

In some implementations an activated priority control signal is detected e.g. an already asserted RADIO PRI signal on control line is detected . While detecting the activated priority control signal activation of a radio request control signal by the second transceiver is detected e.g. assertion of RADIO REQ signal on control line . In response to detecting activation of the radio request control signal by the second transceiver transmission access is granted to the second transceiver and transmission access is denied to the third transceiver. In some implementations granting transmission access to the second transceiver and denying transmission access to the third transceiver includes activating the grant control signal e.g. asserting WIFI GRANT signal on control line . A corresponding example of steps through is illustrated in .

In some implementations while detecting the activated priority control signal a transmission request is detected by the third transceiver. In some implementations the transmission request by the third transceiver is detected while transmission access is granted to the second transceiver. In response to detecting the transmission request by the third transceiver and while detecting the activated radio request control signal by the second transceiver transmission access continues to be granted to the second transceiver while transmission access continues to be denied to the third transceiver. Thus in some implementations while the priority control signal is activated the third transceiver is not permitted to transmit data.

In some implementations while continuing to detect the activated radio request control signal and the activated priority control signal transmission access continues to be granted to the second transceiver and transmission access continues to be denied to the third transceiver.

Referring now to in some implementations while detecting the activated priority control signal deactivation of the radio request control by the second transceiver is detected e.g. de assertion of RADIO REQ signal on control line . In response to detecting deactivation of the radio request control signal by the second transceiver transmission access to the second transceiver is revoked and transmission access to the third transceiver is granted. In some implementations revoking transmission access to the second transceiver and granting transmission access to the third transceiver includes deactivating the grant control signal e.g. de asserting WIFI GRANT signal on control line . A corresponding example of steps through is illustrated in .

In some implementations a deactivated priority control signal is detected e.g. an already de asserted RADIO PRI signal on control line is detected . While detecting the deactivated priority control signal activation of the radio request control signal by the second transceiver is detected . In response to detecting activation of the radio request control signal by the second transceiver transmission access is granted to the second transceiver and transmission access is denied to the third transceiver. In some implementations while transmission access is granted to the second transceiver a transmission request by the third transceiver is detected . In some implementations the transmission request by the third transceiver is detected while detecting the activated radio request control signal. In some implementations the transmission request by the third transceiver is a high priority transmission request e.g. a transmission request within an access category above BE Best Effort VI Video and or VO Voice . In response to detecting the transmission request by the third transceiver transmission access is revoked to the second transceiver and transmission access is granted to the third transceiver. In some implementations while transmission access is granted to the third transceiver a high priority transmission by the third transceiver is detected to be in progress. Upon completion of the high priority transmission transmission access is granted to the second transceiver and transmission access is revoked to the third transceiver. A corresponding example of steps through is illustrated in .

In some implementations the camera device communicates using the first transceiver communicates with one or more smart home devices using the second transceiver and communicates using the third transceiver where the steps and may be performed in accordance with any of the implementations described with respect to .

For situations in which the systems discussed above collect information about users the users may be provided with an opportunity to opt in out of programs or features that may collect personal information e.g. information about a user s preferences or usage of a smart device . In addition in some implementations certain data may be anonymized in one or more ways before it is stored or used so that personally identifiable information is removed. For example a user s identity may be anonymized so that the personally identifiable information cannot be determined for or associated with the user and so that user preferences or user interactions are generalized for example generalized based on user demographics rather than associated with a particular user.

Although some of various drawings illustrate a number of logical stages in a particular order stages that are not order dependent may be reordered and other stages may be combined or broken out. While some reordering or other groupings are specifically mentioned others will be obvious to those of ordinary skill in the art so the ordering and groupings presented herein are not an exhaustive list of alternatives. Moreover it should be recognized that the stages could be implemented in hardware firmware software or any combination thereof.

The foregoing description for purpose of explanation has been described with reference to specific implementations. However the illustrative discussions above are not intended to be exhaustive or to limit the scope of the claims to the precise forms disclosed. Many modifications and variations are possible in view of the above teachings. The implementations were chosen in order to best explain the principles underlying the claims and their practical applications to thereby enable others skilled in the art to best use the implementations with various modifications as are suited to the particular uses contemplated.

