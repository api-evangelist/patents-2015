---

title: Urgency notification delivery channel
abstract: A method including, by one or more computing systems, receiving an indication of a communication from a first user to a second user, calculating an implicit urgency score of the communication, calculating a composite urgency score, determining an urgency of the communication and providing an indication of the urgency as determined for presentation to the second user. The implicit urgency score may be based at least in part on information accessible by the computing systems. The composite urgency score may be based at least in part on the implicit urgency score. The urgency of the communication may be based at least in part on the composite urgency score.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09538350&OS=09538350&RS=09538350
owner: Facebook, Inc.
number: 09538350
owner_city: Menlo Park
owner_country: US
publication_date: 20150417
---
This application is a continuation under 35 U.S.C. 120 of U.S. patent application Ser. No. 13 277 096 filed on 19 Oct. 2011.

This disclosure generally relates to transmitting data via an intermediate host disposed logically between two client devices concurrently with a communication from the first client device to the second client device through a different channel. The transmission through the server notifies the user of the second client device of the urgency of the communication.

When two electronic devices are connected to a network e.g. a computer or communication network data may be transmitted between the two devices over the network using one or more suitable network protocols. For example in a client server environment data may be transmitted between a server and a client over a network to which both the server and the client are connected. Of course a network may include any number of sub networks. By transmitting data between the two devices the two devices may communicate with each other.

Mobile devices such as mobile phones tablets and personal computers often communicate through wireless networks provided by cellular carriers. Modern 3G and 4G networks both CMDA2000 based and GPRS based permit simultaneous access of wireless data through the packet switched portion of its wireless cellular network and voice data through the circuit switched portion of its wireless cellular network. Additionally modern wireless cellular networks permit simultaneous communication through the packet switched data portion of their networks and through their short message service SMS channels.

This disclosure generally relates to transmitting data between two wireless client devices via an intermediate host in order to notify the second client device of the urgency of a concurrent incoming communication from the first client device.

In particular embodiments a software client on the calling client device displays an interface to the user of the first client device to explicitly place a call high urgency. Upon selecting a high urgency call an indicator is transmitted to the called device via the packet switched portion of each device s wireless cellular network and a server. In particular embodiments the urgency indicator may be transmitted via the SMS channel directly from the calling device to the called device via their respective cellular networks. In particular embodiments the urgency indicator may be transmitted over the packet network to an intermediate server which in turn delivers the urgency indicator over the SMS channel via an short message point to protocol bind. In particular embodiments the calling device may transmit the urgency indicator to an intermediate server by transmitting an SMS message to a common short code CSC application residing on the server which may then transmit the urgency indicator via SMS or the packet switched data network. The called device receives the indicator substantially concurrently with the circuit switched voice call from the calling device to the called device alerting the user of the called device that the incoming call is urgent.

In particular embodiments software residing at the server or at the client device implicitly determines whether a call is high urgency. In particular embodiments the location of the calling device the frequency and time of the call and other social factors are utilized to determine whether the communication is urgent.

In particular embodiments the urgency indicator is transmitted via an alternative out of band notification channel such as a TCP IP connection from the server to each client device. In particular embodiments the urgency indicator appears on all incoming communications including voicemails missed calls and text messages.

These and other features aspects and advantages of the disclosure are described in more detail below in the detailed description and in conjunction with the following figures.

This disclosure is now described in detail with reference to a few embodiments thereof as illustrated in the accompanying drawings. In the following description numerous specific details are set forth in order to provide a thorough understanding of this disclosure. However this disclosure may be practiced without some or all of these specific details. In other instances well known process steps and or structures have not been described in detail in order not to unnecessarily obscure this disclosure. In addition while the disclosure is described in conjunction with the particular embodiments it should be understood that this description is not intended to limit the disclosure to the described embodiments. To the contrary the description is intended to cover alternatives modifications and equivalents as may be included within the spirit and scope of the disclosure as defined by the appended claims.

In network communications one device may push a communication to another device. In particular embodiments with push technology the sending device typically initiates the communication transaction and may transmit the communication to the receiving device without obtaining a permission from the receiving device first. In other words the communication is pushed to the receiving device whether or not the receiving device actually wants to receive the communication.

Push technology may be used under various circumstances. For example in a client server environment a server may push communications to a client. The client may be any type of electronic device capable of network communications. In particular embodiments the client may be a mobile device e.g. a mobile telephone a smart phone a tablet computer etc. capable of wireless communications and the server may push communications sent over a mobile network or a wireless network to the mobile client. Alternatively or in addition in particular embodiments the client may be a non mobile computing device e.g. a desktop computer capable of connecting to a computer network through a wired connection e.g. an Ethernet connection . The server may push communications to the non mobile client over the computer network e.g. the Internet .

In particular embodiments a social networking system implemented for example as a social networking website may push communications to the client devices of its users. A social network in general is a social structure made up of entities such as individuals or organizations that are connected by one or more types of interdependency or relationships such as friendship kinship common interest financial exchange dislike or relationships of beliefs knowledge or prestige. In more recent years social networks have taken advantage of the Internet. There are social networking systems existing on the Internet in the form of social networking websites. Such social networking websites enable their members who are commonly referred to as website users to perform various social activities. For example the social networking website operated by Facebook Inc. at www.facebook.com enables its users to communicate with their friends via emails instant messages or blog postings organize social events share photos receive news of their friends or interesting events play games etc.

In order to maintain connectivity with its users a social networking system may maintain a constant open connection with each of the mobile devices associated with a particular user account. This open data connection allows the social networking system to push notifications to client devices the client devices to request content from the social networking system and the client devices to transmit information back to the social networking system servers. For example a client device may wish to constantly update the social networking system of its location. As another example the client device may wish to perform some sort of action on the social network and may request through HTTP or another suitable protocol a web page for performing the specific action. In other cases the social networking system may wish to push a notification of a message from one social networking user to another. In particular embodiments this open data connection utilizes a TCP IP connection. In particular embodiments the open data connection utilizes a VPN tunnel such as in Microsoft Direct Push. In particular embodiments the open data connection utilizes the SMS channels for push notifications. This disclosure contemplates any suitable manner of maintaining an open connection for unidirectional or bidirectional communication between a social networking system and a client device.

In particular embodiments the social networking system may implicitly determine that a communication is high urgency based on a number of different factors. This disclosure contemplates any relevant factor. In particular embodiments given a specific user the urgency of the incoming communication from such a user may be inferred based on without limitation the current time e.g. morning vs. afternoon vs. evening or weekdays vs. weekends the current location of the user e.g. work vs. home restaurant shops theater etc. which may be derived from the GPS coordinates or the communication signals of the user s device or the Internet Protocol IP address of the user s device the current activity of the user e.g. in a meeting making a phone call eating lunch or dinner watching a movie etc. . The urgency may also be inferred based on the user s social information or social activities between the transmitting user and the receiving user. For example a social coefficient between two users may be utilized by the social networking system to determine whether a communication from one user to another is likely to be urgent. In particular embodiments the calling user s location relative to another user or connected node may be utilized to infer urgency. For example if a user receives a call from a contact on the social network who is physically located within a predetermined proximity from several of the user s other first degree contacts the social networking system may infer that the call is of higher urgency.

By using multiple servers the workload of the social networking website may be shared and balanced among the multiple servers and thus the performance of the social networking website may be improved. For example the social networking website may have hundreds of millions of users around the world and at any given time a great number of these users may be connected to the website through their respective user devices. New users may continually join the website as well. These users may be shared and balanced among multiple channel servers to be serviced. In particular embodiments a hash algorithm may be applied to the user identifier e.g. the username or account number of each user to determine to which channel server a specific user is assigned. In addition or alternatively channel servers may be placed at different physical locations around the world and a user may be assigned to a channel server that is relatively close e.g. in terms of physical distance to the user s device. For example a user located in Japan may be assigned to a channel server located in Japan or China while a user located in England may be assigned to a channel server located in France.

In particular embodiments each client may be associated with a user as a user device. Each client may be a mobile or non mobile device and connected to a network wirelessly or through a wired connection. In particular embodiments when a user connects with the social networking website through his her client i.e. the user device client may establish one or more connections with an edge server . Each connection may be a TCP IP connection. More specifically client may be connected with an edge server that is connected to the channel server to which the user of client is assigned.

In particular embodiments client device may include hardware and software . In particular embodiments hardware may include any number of hardware components such as for example and without limitation processor memory storage transceiver input output device e.g. display touch screen keypad microphone speaker etc. camera global positioning system GPS sensor sensors hub notification control switch RFID reader RF sensor and so on. In particular embodiments hardware may include wireless display WiDi transceivers bluetooth low energy BLE transceivers near field communications NFC transceivers 802.11 WiFi and 802.16 WiMax transceivers and the like. This disclosure contemplates any suitable hardware components. In particular embodiments location determination may be performed by the social networking system even when mobile device does not perform or share any self determined position information. For example the social networking system may maintain a physical map f all WiFi networks and determine the location of client device from its IP address. This disclosure contemplates any suitable manner of determining the location of client device . In particular embodiments some or all of a user s user data may be stored in storage .

In particular embodiments software may include an operating system which may include a kernel and or any number of device drivers corresponding to some of the hardware components available on client device . Operating system may be selected for client device based on the actual type of device client device is. For example if client device is a mobile device e.g. a smart phone then operating system may be a mobile operating system such as for example and without limitation Microsoft s Windows Mobile Google s Android Nokia s Symbian Apple s iOS and Samsung s Bada.

In particular embodiments there may be a connection pool manager residing and executing on client device which may be implemented as computer software. In particular embodiments one or more software applications may be executed on client device . In particular embodiments they may be native applications installed and residing on client device . For example one application e.g. Google Maps may enable a device user to view a map search for addresses and businesses and get directions a second application may enable the device user to read send and receive emails a third application e.g. a web browser may enable the device user to browse and search the Internet a fourth application may enable the device user to take photos or record videos using camera a fifth application may allow the device user to receive and initiate VoIP and or cellular network calls and so on. In particular embodiments there may be a software application e.g. notification control that enables the device user to manage the notifications pushed to client device . Each software application may have a user interface and may implement one or more specific functionalities. Each software application may include one or more software modules implementing the individual functionalities. The executable code of software applications including notification control may be stored in a computer readable and non transitory medium e.g. storage or memory on client device .

Social networking system servers maintain a notification channel depicted as the solid line in with both mobile device and A. As previously discussed the notification channel may be a persistent TCP IP connection VPN tunnel or any other suitable persistent data connection. The notifications channel between servers and mobile device maintains a connection through Internet and the packet switched data core network of mobile device s wireless cellular network . From wireless cellular network the data is transmitted to RF transceiver the cell tower base station Node B and the like that is servicing mobile device . Similarly the notification channel between social networking servers and mobile device A maintains a connection through Internet and packet switched data core network A in mobile device A s wireless cellular network A. Wireless cellular networks and A may be disparate wireless cellular networks or where mobile devices and A are serviced by the same carrier a single wireless cellular network.

As previously discussed notification channel may be a persistent TCP IP connection and mobile devices and A may periodically send keepalive messages to severs . In particular embodiments mobile devices and A adjust the keepalive interval based upon an adaptive algorithm. In particular embodiments keepalive messages are transmitted at a pre set interval. In particular embodiments keepalive messages may be transmitted from the server to the handsets. In particular embodiments the notification channel utilizes the packet switched data network for upstream data such as HTTP requests or uploads from mobile devices and A and SMS channels and A for pushing notifications to mobile devices and A. This disclosure contemplates any suitable method of establishing and maintaining a persistent data connection between servers and mobile devices and A.

In the example of the user at mobile device wishes to place a voice call to the user at mobile device A. Traditional voice calls in modern wireless networks traverse the circuit switched core networks and A of wireless cellular networks and A. The voice communication from the first mobile device to the second mobile device A is depicted as a dashed line in . In particular embodiments when the user of mobile device wishes to place a call to mobile device A at high urgency mobile device simultaneously transmits an urgency indicator a message containing and indication of the urgency of the call via the notification channel to social networking servers . Social networking servers then transmits the urgency indicator via the notification channel to mobile device A. Thus the user of mobile device A receives the urgency indicator substantially concurrently with the voice call over the voice channel and may better assess whether to answer or decline the call. In particular embodiments the urgency indicator is transmitted from the transmitting mobile device to the social networking servers for every call regardless of the presence of an explicit urgency selection by the transmitting user. In particular embodiments the urgency indicator also applies to voicemails left by a high urgency call. For example if the user of the second mobile device A misses an urgent call from a user of mobile device and the user of mobile device leaves a voicemail in the voicemail box of mobile device A mobile device A will still have received the urgency indicator and mobile device A will display to the user that he or she missed an urgent call and has a voicemail in his or her voicemail box marked as urgent. 

Although depicts an out of band urgency indicator transmitted simultaneously to a voice call the urgency indicator may be transmitted in conjunction with any other type of communication from mobile device to mobile device A or vice versa . For example in particular embodiments a text message whether SMS or MMS email or instant message may also be marked as urgent. In such an example mobile device transmits the urgency indicator through the notification channel to servers which in turn transmit the urgency indicator to mobile device A via the notification channel. Thus mobile device A displays an indicator or icon on its display that an urgent text message was received. In particular embodiments the indicator may be an audible indicator such as a different ring tone. In particular embodiments the communication may also be transmitted through the data networks and A and Internet . For example mobile device may transmit an instant message through a third party instant messaging server such as AOL IM Google Talk BlackBerry Messenger BBM Kik messenger or the like. Provided that these services do not provide a mechanism to specify the urgency of a given message mobile device may transmit an urgency indicator through the out of band i.e. separate from the channel through which the message was sent notification channel so that the user of mobile device A is alerted to the urgency of the incoming instant message. In particular embodiments voice calls may also be transmitted through the packet networks and A as VoIP calls. In such an embodiment mobile devices and A maintain at least two internet connection channels the notification channel and the communication channel generally between a third party VoIP server such as Google Voice Skype or the like . Mobile device transmits the urgency indicator through notification channel to servers for forwarding to mobile device A in exactly the same manner as if the communication channel were through circuit switched core networks and A. This disclosure contemplates all forms of communications channels including but not limited to traditional voice calls SMS messages MMS messages push to talk PTT video calls such as Google HangOut Tango Skype and the like instant messages electronic mail and VoIP for use in conjunction with the transmission of an urgency indicator over an out of band notification channel.

While describes a communication between two mobile devices one or both of the devices may be wired devices. For example a user may be utilizing a VoIP software program to initiate a communication with another user and may transmit urgency information via a separate HTTP or HTTPS connection to the social networking system so that an urgency indicator appears on the called party s device. This disclosure contemplates any suitable hardware or software configuration for transmitting a communication through a first communication channel and a communication describing the first communication through an out of band second communication channel.

Whether a communication is marked as urgent may be based on explicit designations by the transmitting mobile device or in particular embodiments implicit determinations from a variety of factors by the social networking system or by the receiving mobile device. illustrates an example mobile device having a user interface on its display for explicitly designating a call as urgent. User interface includes keypad where a user of mobile device may enter in a phone number for the called party. Upon entering the phone number the user may select user interface element to initiate a normal call or user interface element to initiate an urgent call.

Alternatively in particular embodiments mobile device may display on user interface a set of icons and A representing the most frequently called contacts the last incoming or outgoing calls or a listing of contacts in any other suitable ordering. A user may select user interface elements and A next to each contact name to place a normal call for the contact or user interface element and A to place an urgent call for the contact. Although depicts two distinct graphical user interface elements for placing an urgent call this disclosure contemplates any suitable method of marking a communication as urgent. For example a graphical user interface element similar to user interface element may be displayed next to the send key for text based communications such as email instant message and text message. In particular embodiments a user may initiate an urgent communication through an audible or voice command for example the user may simply press the voice command button and say urgent call Contact X. In particular embodiments additional user interface controls may be provided to the user permitting the user to specify the method of delivering the notification to the user such as via SMS MMS voicemail push notification email etc and in particular embodiments the frequency of such notifications. For example an extremely urgent calling party may specify to redundantly transmit the urgency indicator for a voicemail across all communications channels every minute until the called party listens to the voicemail. This disclosure contemplates any suitable method of marking a communication as urgent or initiating an urgent communication.

In particular embodiments each user may designate via a graphical user interface on their client device or via a web interface hosted by the social networking system whether to permit any particular contact to explicitly designate a communication as urgent. For example a user may find that his or her mother utilizes the call urgent function regardless of the content of the conversation. Instead of repeatedly downgrading the incoming urgent communication the user may simply revoke the explicit urgency privilege for his or her mother.

At Step the main process flow begins and awaits an incoming communication. At Step mobile device A receives an incoming communication. As previously discussed an incoming communication may be over any suitable communications channel. The incoming communication may be through the packet switched or circuit switched portion of the wireless network serving mobile device A. For didactic purposes this description assumes the incoming communication is a circuit switched voice call.

At Step mobile device A calculates a local urgency score for the incoming communication. This urgency score may be purely implicit the process of operates on mobile device A even when it has not received an urgency indicator through the notification channel. Mobile device A may utilize locally stored data such as relationships stored in a locally stored contacts database call log data and the current date time to calculate a local urgency score. For example a number of repeated calls or other communications from the same contact within a predefined period of time such as one hour may increase the urgency score of the incoming communication. If the same contact calls repeatedly or initiates multiple communications to mobile device A such as calling texting emailing etc. over a short amount of time mobile device A may increase the urgency score of the incoming call or communication. As another example the date or time of the incoming communication may affect the urgency score. The fact that a call or communication is received at an irregular hour such as late at night may cause mobile device A to increase the urgency score for the incoming communication.

In particular embodiments mobile device A utilizes any relationship information stored in its memory as a factor in calculating the local urgency score. For example if a large number of contacts of a group labeled family call within a predetermined period of time mobile device A may increase the urgency score for any incoming communication from contacts in that group. In particular embodiments mobile device A dependent on the total frequency of communication between mobile device A and a particular contact. As an example in one embodiment contacts who are frequently in communication with mobile device A may have their communications urgency scores increased mobile device A may infer that if the user communicates frequently with a particular contact communications from that contact are more likely to be urgent or important. Alternatively infrequent communications may also indicate urgency. For example if the user of mobile device A has hardly if ever received a call from a particular contact a communication from that contact particularly at a strange time or date has a greater probability of being an urgent call. In particular embodiments mobile device also adjusts the urgency score based on the type of communication. For example in one embodiment voice calls may be weighted higher than text messages which may be weighted higher than emails which may be weighted higher than instant messages which may be weighted higher than video chats. This disclosure contemplates any suitable method of weighting urgency scores based on the type of incoming communication.

In particular embodiments mobile device A maintains a historical log for each of the contacts or numbers stored in mobile device A containing the date and time of each received communication. Analysis of this log can assist mobile device A to identify when a call is irregular for a given contact hence increasing the call s urgency score. For example if mobile device A though analysis of the stored historical log determines that the contact Mom calls mobile device A every Sunday it may increase the urgency score for any communication received from Mom on days other than Sundays. Techniques for pattern analysis of the stored historical log are well known in the art such as association rule learning or the fp growth algorithm. As a converse example if mobile device A determines that a particular number or an unknown number calls in a predictable pattern such as every Monday at 9 AM mobile device may decrease the urgency score for statistically predictable or regular calls. In particular embodiments the type of communication is also taken into account in the historical log. For example if the user of mobile device A and a particular contact primarily or almost exclusively communicate via text message mobile device A may increase the urgency score for an incoming call from that particular contact.

In particular embodiments mobile device A applies special handling for text communications such as instant messages text messages email and voicemails transcribed via speech to text algorithms. In particular embodiments mobile device A looks for key words in text communications that may increase the local implicit urgency score. For example messages that contain the word emergency hospital police jail or the like may increase the implicit urgency of a given communication. Conversely certain words or phrases may decrease the implicit urgency score. For example words such as opportunity raffle courtesy call etc. may indicate telemarketer spam. This disclosure contemplates any suitable method of text processing to influence the locally calculated implicit urgency score.

In particular embodiments mobile device A may perform post processing on voicemails to detect the stress level of the speaker. Techniques for detecting stress in voice samples are well known in the art and are not described in detail in this disclosure. In particular embodiments a high degree of vocal stress in a voicemail increases the implicit urgency score of the voicemail and in particular embodiments the missed or ignored call generating the voice mail. Methods of calculating a local urgency score are not limited to the disclosed examples any combination of the aforementioned or additional factors may be utilized to locally calculate an implicit urgency score.

In particular embodiments a user may provide a feedback mechanism by downvoting or downgrading a particular communication. For example mobile device A may provide a user selectable element that allows the user to downgrade the importance of a call. These downgrades are stored locally in a log for the particular contact or number and accessed to calculate the urgency score for all incoming communications from that contact. For example a user may before during or after reception a call from a telemarketer. In particular embodiments even though the user does not have a stored contact for the telemarketer the downgrade is stored in a log for the particular number. This explicit downgrade may be weighted and or subtracted from the implicit urgency score. If the user downgrades communications from that particular number enough in particular embodiments mobile device A may automatically ignore the call block the number disable the ringer or any other communications handling. In particular embodiments the user may provide a feedback mechanism to the social networking system accessible for all other users or in particular embodiments friends of the user by reporting spam or malicious calls to the social networking system through the open connection to the social networking system servers. Thus in particular embodiments a member of a social networking service may perform a reverse lookup on an incoming call regardless of whether the call originates from another member of the social networking system or a landline unassociated with a member of the social networking system and the social networking system may return that the caller has been downvoted multiple times or reported as spam or telemarketing. The user may then simply decline the call. In particular embodiments the dialer application upon receiving this information simply blocks the call without any user intervention. For more information on performing a reverse lookup utilizing information from a social networking system please see commonly owned U.S. patent application Ser. No. 13 214 940 entitled Social Caller ID With Reverse Look Up herein fully incorporated by reference.

At Step mobile device A determines the urgency based upon the local urgency score. In particular embodiments a communication is marked as urgent if the urgency score exceeds a predetermined threshold. In particular embodiments there may be only two states urgent or normal. In particular embodiments there may be three states spam normal and urgent. Although this disclosure describes a finite number of states the urgency indicator may have any number of states. For example the urgency may be a gradient from 1 100 and represented by changing the color of the communication in a continuous spectrum from green to yellow to orange to red. This disclosure contemplates any number of urgency states and methods of displaying the urgency.

At Step if mobile device A has determined that the incoming communication is urgent it displays the urgency icon or other means of display a high urgency communication to the user as depicted by .

The interrupt process of may be triggered any time an urgency indicator is received by mobile device A. The urgency indicator may contain both an explicit portion and an implicit portion. The explicit portion is merely whether the transmitting user has marked the communication as urgent. The implicit portion is calculated by the social networking system based on information transmitted to the social networking system. As previously stated in particular embodiments the transmitting mobile device transmits an urgency indicator including information about the mobile device regardless of whether the user selects the urgency indicator or not. The information transmitted may include data leveraged by the social networking system to implicitly determine urgency. For example the information may include the calling party s number or other identifier such as the email address chat handle or any other third party identifier utilized in the communication the location of the transmitting mobile device determined by GPS or TDoA triangulation and the unique identifiers for the social networking user account associated with both the transmitting and receiving device.

Upon receiving this information the social networking server may calculate an implicit urgency score based upon the information. The social networking system may base this implicit urgency score on any number of factors. For example the social networking system may perform a reverse lookup on the number to determine if a large number of its users have downgraded communications from that number or if any users have reported the number as spam or telemarketing. As previously stated the social networking system may perform this call blocking or call downgrading even if the originating caller does not transmit any information to the social networking system the called device may transmit incoming caller information to the social networking system and the social networking system may perform a reverse lookup of the number to determine if other users have reported the number as spam telemarketing or downgraded the urgency of the number. If so the social networking system may reduce the implicit urgency score. As another example the social networking system may utilize information from a social graph describing the relationships of its various users and the received social networking identifiers. For example the social networking system may determine how close the caller and called users are represented by a social coefficient by querying the number of shared connections number of photos the two users are tagged in together and the general amount of interaction on the social networking system between the two users. If the two users have a high social coefficient the server may increase the implicit urgency score for the communication. In particular embodiments the social networking system assigns a higher implicit urgency score to communications between users who have identified themselves as family on the social networking system. In particular embodiments the social networking system assigns a higher implicit urgency score to communications between users who are listed as in a relationship on the social network.

In particular embodiments the social networking system maintains a log of the previous calls to mobile device A. If multiple users who are close in social proximity have communicated with mobile device A the social networking system may assign a higher urgency score to a communication to mobile device A originating from one or more of the users close in social proximity. In particular embodiments the log of previous communications to mobile device A includes the location of each transmitting party and the social networking system assigns a higher urgency value to calls or communications that are originating from a user who is physically located closely to other users who have previously communicated with mobile device A within a predetermined window. For example if four users who are all within a few meters of each other have called mobile device A a fifth communication from a user in physical proximity with the other four users may be assigned a high urgency score.

As another example the social networking system may utilize the location of the transmitting user and a location database to infer urgency. For example a call or other communication from a user at a hospital police station courthouse or airport has a higher probability of being an urgent call. This disclosure contemplates any suitable urgency weighting for any suitable location. In particular embodiments the transmitting user s location and the location information from the transmitting user s profile page may be utilized to calculate the implicit urgency score. For example the social networking system may compare the transmitting user s current location to the current city indicating the user s city of residence listed in his or her profile and increase the implicit urgency score for locations outside of a predetermined distance from his or her city of residence. In particular embodiments the social networking system assigns a higher implicit urgency score to international calls. This disclosure contemplates any suitable method of adjusting an implicit urgency score based on the location of the transmitting mobile device. Any of the above factors may be utilized by the social networking system to calculate an implicit urgency score. This disclosure contemplates any suitable method of calculating an implicit urgency score. After the social networking system calculates the implicit urgency score it transmits an urgency indicator along with the explicit urgency score generally a 1 or a 0 to the mobile device associated with the called user via the notification channel.

At Step the interrupt process constantly checks if it has received an urgency indicator from the social networking system. Immediately upon receiving an urgency indicator the mobile device triggers the interrupt process at Step detouring the execution from the process of regardless of what step the process is executing.

At Step the receiving mobile device calculates a composite urgency score. The composite urgency score is a weighted sum or average of the local urgency score calculated by the receiving mobile device the explicit urgency score transmitted from the transmitting mobile device and relayed by the social networking system and the implicit urgency score calculated by the social networking system. In particular embodiments the explicit urgency score is weighted heavier than the other two scores. Thus the composite urgency score U may be expressed as C1 TX explicit C2 local implicit C3 server implicit C4 RX explicit where C1 C4 are coefficients TX explicit is whether the transmitting device has explicitly flagged the communication as urgent local implicit is the score calculated by the receiving mobile device and server implicit is the score calculated by the social networking system. This disclosure contemplates any suitable generation method and weighting of a composite urgency score.

At Step if receiving mobile device A has determined that the incoming communication is urgent it displays the urgency icon or other means of display a high urgency communication to the user as depicted by .

Particular embodiments may include further actions performed by receiving client device A. For example in particular embodiments if the urgency indicator is received after the user of mobile device A has ignored a call mobile device A may alert the user via a ring vibrate or other notification and automatically call back the caller.

In particular embodiments the social networking system may transmit an urgency indicator to both the called user as well as users within a predetermined geographic or social distance from the called user. For example if the called user is in the same geographic location e.g. a restaurant or sporting event as other members of the social networking system the social networking system may transmit an urgency indicator to the members who are with the called user. Doing so increases the probability that the called user is notified of the urgent communication. In particular embodiments the indirect urgency notification transmitted to the users near the called party may be a push notification with no personal details for example a text message or push notification stating Called party name has received an urgent communication and requesting the user to notify the called party. In particular embodiments the social coefficient may also be used to determine whether to transmit an indirect notification to a contact of the called user users with higher social coefficients are more likely to relay the message to the called user. In particular embodiments a combination of geographic and social distance may be utilized to determine whether to transmit an indirect urgency notification to a contact of the called user. This disclosure contemplates any suitable method of determining recipients of indirect urgency notifications and any suitable notification method.

Particular embodiments may be implemented in a network environment. illustrates an example network environment . Network environment includes a network coupling one or more servers and one or more clients to each other. In particular embodiments network is an intranet an extranet a virtual private network VPN a local area network LAN a wireless LAN WLAN a wide area network WAN a metropolitan area network MAN a portion of the Internet or another network or a combination of two or more such networks . This disclosure contemplates any suitable network .

One or more links couple a server or a client to network . In particular embodiments one or more links each includes one or more wireline wireless or optical links . In particular embodiments one or more links each includes an intranet an extranet a VPN a LAN a WLAN a WAN a MAN a portion of the Internet or another link or a combination of two or more such links . This disclosure contemplates any suitable links coupling servers and clients to network .

In particular embodiments each server may be a unitary server or may be a distributed server spanning multiple computers or multiple datacenters. Servers may be of various types such as for example and without limitation web server news server mail server message server advertising server file server application server exchange server database server or proxy server. In particular embodiments each server may include hardware software or embedded logic components or a combination of two or more such components for carrying out the appropriate functionalities implemented or supported by server . For example a web server is generally capable of hosting websites containing web pages or particular elements of web pages. More specifically a web server may host HTML files or other file types or may dynamically create or constitute files upon a request and communicate them to clients in response to HTTP or other requests from clients . A mail server is generally capable of providing electronic mail services to various clients . A database server is generally capable of providing an interface for managing data stored in one or more data stores. In particular embodiments a social networking system implementing a social networking website may be hosted on one or more servers .

In particular embodiments one or more data storages may be communicatively linked to one or more severs via one or more links . In particular embodiments data storages may be used to store various types of information. In particular embodiments the information stored in data storages may be organized according to specific data structures. In particular embodiments each data storage may be a relational database. Particular embodiments may provide interfaces that enable servers or clients to manage e.g. retrieve modify add or delete the information stored in data storage .

In particular embodiments each client may be an electronic device including hardware software or embedded logic components or a combination of two or more such components and capable of carrying out the appropriate functionalities implemented or supported by client . For example and without limitation a client may be a desktop computer system a notebook computer system a netbook computer system a handheld electronic device or a mobile telephone. This disclosure contemplates any suitable clients . A client may enable a network user at client to access network . A client may enable its user to communicate with other users at other clients .

A client may have a web browser such as MICROSOFT INTERNET EXPLORER GOOGLE CHROME or MOZILLA FIREFOX and may have one or more add ons plug ins or other extensions such as TOOLBAR or YAHOO TOOLBAR. A user at client may enter a Uniform Resource Locator URL or other address directing the web browser to a server and the web browser may generate a Hyper Text Transfer Protocol HTTP request and communicate the HTTP request to server . Server may accept the HTTP request and communicate to client one or more Hyper Text Markup Language HTML files responsive to the HTTP request. Client may render a web page based on the HTML files from server for presentation to the user. This disclosure contemplates any suitable web page files. As an example and not by way of limitation web pages may render from HTML files Extensible Hyper Text Markup Language XHTML files or Extensible Markup Language XML files according to particular needs. Such pages may also execute scripts such as for example and without limitation those written in JAVASCRIPT JAVA MICROSOFT SILVERLIGHT combinations of markup language and scripts such as AJAX Asynchronous JAVASCRIPT and XML and the like. Herein reference to a web page encompasses one or more corresponding web page files which a browser may use to render the web page and vice versa where appropriate.

Particular embodiments may be implemented on one or more computer systems. illustrates an example computer system . In particular embodiments one or more computer systems perform one or more steps of one or more methods described or illustrated herein. In particular embodiments one or more computer systems provide functionality described or illustrated herein. In particular embodiments software running on one or more computer systems performs one or more steps of one or more methods described or illustrated herein or provides functionality described or illustrated herein. Particular embodiments include one or more portions of one or more computer systems .

This disclosure contemplates any suitable number of computer systems . This disclosure contemplates computer system taking any suitable physical form. As example and not by way of limitation computer system may be an embedded computer system a system on chip SOC a single board computer system SBC such as for example a computer on module COM or system on module SOM a desktop computer system a laptop or notebook computer system an interactive kiosk a mainframe a mesh of computer systems a mobile telephone a personal digital assistant PDA a server or a combination of two or more of these. Where appropriate computer system may include one or more computer systems be unitary or distributed span multiple locations span multiple machines or reside in a cloud which may include one or more cloud components in one or more networks. Where appropriate one or more computer systems may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation one or more computer systems may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more computer systems may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein where appropriate.

In particular embodiments computer system includes a processor memory storage an input output I O interface a communication interface and a bus . Although this disclosure describes and illustrates a particular computer system having a particular number of particular components in a particular arrangement this disclosure contemplates any suitable computer system having any suitable number of any suitable components in any suitable arrangement.

In particular embodiments processor includes hardware for executing instructions such as those making up a computer program. As an example and not by way of limitation to execute instructions processor may retrieve or fetch the instructions from an internal register an internal cache memory or storage decode and execute them and then write one or more results to an internal register an internal cache memory or storage . In particular embodiments processor may include one or more internal caches for data instructions or addresses. This disclosure contemplates processor including any suitable number of any suitable internal caches where appropriate. As an example and not by way of limitation processor may include one or more instruction caches one or more data caches and one or more translation lookaside buffers TLBs . Instructions in the instruction caches may be copies of instructions in memory or storage and the instruction caches may speed up retrieval of those instructions by processor . Data in the data caches may be copies of data in memory or storage for instructions executing at processor to operate on the results of previous instructions executed at processor for access by subsequent instructions executing at processor or for writing to memory or storage or other suitable data. The data caches may speed up read or write operations by processor . The TLBs may speed up virtual address translation for processor . In particular embodiments processor may include one or more internal registers for data instructions or addresses. This disclosure contemplates processor including any suitable number of any suitable internal registers where appropriate. Where appropriate processor may include one or more arithmetic logic units ALUs be a multi core processor or include one or more processors . Although this disclosure describes and illustrates a particular processor this disclosure contemplates any suitable processor.

In particular embodiments memory includes main memory for storing instructions for processor to execute or data for processor to operate on. As an example and not by way of limitation computer system may load instructions from storage or another source such as for example another computer system to memory . Processor may then load the instructions from memory to an internal register or internal cache. To execute the instructions processor may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions processor may write one or more results which may be intermediate or final results to the internal register or internal cache. Processor may then write one or more of those results to memory . In particular embodiments processor executes only instructions in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere and operates only on data in one or more internal registers or internal caches or in memory as opposed to storage or elsewhere . One or more memory buses which may each include an address bus and a data bus may couple processor to memory . Bus may include one or more memory buses as described below. In particular embodiments one or more memory management units MMUs reside between processor and memory and facilitate accesses to memory requested by processor . In particular embodiments memory includes random access memory RAM . This RAM may be volatile memory where appropriate. Where appropriate this RAM may be dynamic RAM DRAM or static RAM SRAM . Moreover where appropriate this RAM may be single ported or multi ported RAM. This disclosure contemplates any suitable RAM. Memory may include one or more memories where appropriate. Although this disclosure describes and illustrates particular memory this disclosure contemplates any suitable memory.

In particular embodiments storage includes mass storage for data or instructions. As an example and not by way of limitation storage may include an HDD a floppy disk drive flash memory an optical disc a magneto optical disc magnetic tape or a Universal Serial Bus USB drive or a combination of two or more of these. Storage may include removable or non removable or fixed media where appropriate. Storage may be internal or external to computer system where appropriate. In particular embodiments storage is non volatile solid state memory. In particular embodiments storage includes read only memory ROM . Where appropriate this ROM may be mask programmed ROM programmable ROM PROM erasable PROM EPROM electrically erasable PROM EEPROM electrically alterable ROM EAROM or flash memory or a combination of two or more of these. This disclosure contemplates mass storage taking any suitable physical form. Storage may include one or more storage control units facilitating communication between processor and storage where appropriate. Where appropriate storage may include one or more storages . Although this disclosure describes and illustrates particular storage this disclosure contemplates any suitable storage.

In particular embodiments I O interface includes hardware software or both providing one or more interfaces for communication between computer system and one or more I O devices. Computer system may include one or more of these I O devices where appropriate. One or more of these I O devices may enable communication between a person and computer system . As an example and not by way of limitation an I O device may include a keyboard keypad microphone monitor mouse printer scanner speaker still camera stylus tablet touch screen trackball video camera another suitable I O device or a combination of two or more of these. An I O device may include one or more sensors. This disclosure contemplates any suitable I O devices and any suitable I O interfaces for them. Where appropriate I O interface may include one or more device or software drivers enabling processor to drive one or more of these I O devices. I O interface may include one or more I O interfaces where appropriate. Although this disclosure describes and illustrates a particular I O interface this disclosure contemplates any suitable I O interface.

In particular embodiments communication interface includes hardware software or both providing one or more interfaces for communication such as for example packet based communication between computer system and one or more other computer systems or one or more networks. As an example and not by way of limitation communication interface may include a network interface controller NIC or network adapter for communicating with an Ethernet or other wire based network or a wireless NIC WNIC or wireless adapter for communicating with a wireless network such as a WI FI network. This disclosure contemplates any suitable network and any suitable communication interface for it. As an example and not by way of limitation computer system may communicate with an ad hoc network a personal area network PAN a local area network LAN a wide area network WAN a metropolitan area network MAN or one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example computer system may communicate with a wireless PAN WPAN such as for example a BLUETOOTH WPAN a WI FI network a WI MAX network a cellular telephone network such as for example a Global System for Mobile Communications GSM network or other suitable wireless network or a combination of two or more of these. Computer system may include any suitable communication interface for any of these networks where appropriate. Communication interface may include one or more communication interfaces where appropriate. Although this disclosure describes and illustrates a particular communication interface this disclosure contemplates any suitable communication interface.

In particular embodiments bus includes hardware software or both coupling components of computer system to each other. As an example and not by way of limitation bus may include an Accelerated Graphics Port AGP or other graphics bus an Enhanced Industry Standard Architecture EISA bus a front side bus FSB a HYPERTRANSPORT HT interconnect an Industry Standard Architecture ISA bus an INFINIBAND interconnect a low pin count LPC bus a memory bus a Micro Channel Architecture MCA bus a Peripheral Component Interconnect PCI bus a PCI Express PCI X bus a serial advanced technology attachment SATA bus a Video Electronics Standards Association local VLB bus or another suitable bus or a combination of two or more of these. Bus may include one or more buses where appropriate. Although this disclosure describes and illustrates a particular bus this disclosure contemplates any suitable bus or interconnect.

Herein reference to a computer readable storage medium encompasses one or more non transitory tangible computer readable storage media possessing structure. As an example and not by way of limitation a computer readable storage medium may include a semiconductor based or other integrated circuit IC such as for example a field programmable gate array FPGA or an application specific IC ASIC a hard disk an HDD a hybrid hard drive HHD an optical disc an optical disc drive ODD a magneto optical disc a magneto optical drive a floppy disk a floppy disk drive FDD magnetic tape a holographic storage medium a solid state drive SSD a RAM drive a SECURE DIGITAL card a SECURE DIGITAL drive or another suitable computer readable storage medium or a combination of two or more of these where appropriate. Herein reference to a computer readable storage medium excludes any medium that is not eligible for patent protection under 35 U.S.C. 101. Herein reference to a computer readable storage medium excludes transitory forms of signal transmission such as a propagating electrical or electromagnetic signal per se to the extent that they are not eligible for patent protection under 35 U.S.C. 101. A computer readable non transitory storage medium may be volatile non volatile or a combination of volatile and non volatile where appropriate.

This disclosure contemplates one or more computer readable storage media implementing any suitable storage. In particular embodiments a computer readable storage medium implements one or more portions of processor such as for example one or more internal registers or caches one or more portions of memory one or more portions of storage or a combination of these where appropriate. In particular embodiments a computer readable storage medium implements RAM or ROM. In particular embodiments a computer readable storage medium implements volatile or persistent memory. In particular embodiments one or more computer readable storage media embody software. Herein reference to software may encompass one or more applications bytecode one or more computer programs one or more executables one or more instructions logic machine code one or more scripts or source code and vice versa where appropriate. In particular embodiments software includes one or more application programming interfaces APIs . This disclosure contemplates any suitable software written or otherwise expressed in any suitable programming language or combination of programming languages. In particular embodiments software is expressed as source code or object code. In particular embodiments software is expressed in a higher level programming language such as for example C Perl or a suitable extension thereof. In particular embodiments software is expressed in a lower level programming language such as assembly language or machine code . In particular embodiments software is expressed in JAVA C or C . In particular embodiments software is expressed in Hyper Text Markup Language HTML Extensible Markup Language XML or other suitable markup language.

Herein or is inclusive and not exclusive unless expressly indicated otherwise or indicated otherwise by context. Therefore herein A or B means A B or both unless expressly indicated otherwise or indicated otherwise by context. Moreover and is both joint and several unless expressly indicated otherwise or indicated otherwise by context. Therefore herein A and B means A and B jointly or severally unless expressly indicated otherwise or indicated otherwise by context.

This disclosure encompasses all changes substitutions variations alterations and modifications to the example embodiments herein that a person having ordinary skill in the art would comprehend. Similarly where appropriate the appended claims encompass all changes substitutions variations alterations and modifications to the example embodiments herein that a person having ordinary skill in the art would comprehend. Moreover reference in the appended claims to an apparatus or system or a component of an apparatus or system being adapted to arranged to capable of configured to enabled to operable to or operative to perform a particular function encompasses that apparatus system component whether or not it or that particular function is activated turned on or unlocked as long as that apparatus system or component is so adapted arranged capable configured enabled operable or operative.

