---

title: Print system, image forming apparatus, information processing apparatus, print service system, and storage medium for authorizing access to print data held by a print service system
abstract: A print system includes a print service system, an information processing apparatus, and an image forming apparatus. The print service system includes a holding unit associated with a user and holding print data instructed by the user, a providing unit that provides access authorization information for the holding unit, to the information processing apparatus upon a request thereof, and an access authorizing unit that authorizes an access to the holding unit if receives the access authorization information. The information processing apparatus includes a transmitting unit that transmits the access authorization information to the image forming apparatus by proximity communication. The image forming apparatus includes an authorization information acquiring unit that acquires the access authorization information by the proximity communication, and a print data acquiring unit that sends the acquired access authorization information to the print service system, is authorized to access the holding unit, and acquires the print data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09219726&OS=09219726&RS=09219726
owner: FUJI XEROX CO., LTD.
number: 09219726
owner_city: Tokyo
owner_country: JP
publication_date: 20150528
---
This application is a Continuation of U.S. application Ser. No. 14 289 850 filed May 29 2014 which is based on and claims priority under 35 USC 119 from Japanese Patent Application No. 2013 261447 filed Dec. 18 2013 the disclosures of which are incorporated herein in their entirety.

The present invention relates to a print system an image forming apparatus an information processing apparatus a print service system and a storage medium.

In recent years there is suggested a cloud print service provided on the Internet such as Google Cloud Print trademark which is a concept of Google registered trademark . A user logs in to a cloud print service from a personal computer PC or the like by using a user ID of the service and after the login the user sends print data to the cloud print service. The print data is provided from the cloud print service to an image forming apparatus through the Internet or the like and hence printing is performed.

When a public cloud print service such as Google Cloud Print is used a user previously registers capability information etc. of image forming apparatuses which are used by the user in the cloud print service. The user logs in to the print service designates a document to be printed and selects a print output target of this time from among the previously registered image forming apparatuses. In response to this the print service converts the document to be printed into print data in a predetermined print data format such as portable Document Format PDF and provides the print data to the selected image forming apparatus to cause the apparatus to print the print data.

An image forming apparatus which is frequently used by the user for example a printer at home may be associated with the account of the user and may be registered in the cloud print service. With the registration by logging in to the cloud print service with the account of the user and instructing printing the user may execute a printout from the image forming apparatus.

In contrast such registration may be complicated for an image forming apparatus which is owned or administered by other person for example an image forming apparatus in a shop such as a convenience store on a street corner or an image forming apparatus at a visiting place other department of a company to which the user belongs or a company of a business partner . In general an image forming apparatus is permanently registered in a cloud print service and it lasts unless a cancel operation is performed for example in case of Google Cloud Print . Hence in the viewpoint of the owner or administrator of the image forming apparatus a person other than the persons concerned is not generally allowed to make registration for an image forming apparatus.

In case of Google Cloud Print by using a share function the owner or administrator of the image forming apparatus may allow other person to use the image forming apparatus that is registered by the owner or administrator in Google Cloud Print. For example when printing is desired to be performed through the cloud from an image forming apparatus at a visiting place if the owner or administrator of the image forming apparatus at the visiting place previously makes setting for account sharing an output may be made from the image forming apparatus through the cloud print service by using the account of the owner or administrator.

Also in case of Google Cloud Print when printing is instructed to the cloud a logical printer corresponding to a physical image forming apparatus serving as an output target is required to be selected and a print instruction is required to be given to the selected logical printer.

According to an aspect of the invention there is provided a print system including a print service system an information processing apparatus and an image forming apparatus. The print service system includes a holding unit that is associated with a user and holds print data which is instructed by the user for printing a providing unit that provides access authorization information for the holding unit associated with the user to the information processing apparatus in response to a request from the information processing apparatus operated by the user and an access authorizing unit that authorizes an access to the holding unit corresponding to the access authorization information if the access authorizing unit receives the access authorization information from the image forming apparatus. The information processing apparatus includes a transmitting unit that transmits the access authorization information received from the print service system to the image forming apparatus by proximity communication. The image forming apparatus includes an authorization information acquiring unit that acquires the access authorization information from the information processing apparatus by the proximity communication and a print data acquiring unit that sends the acquired access authorization information to the print service system is authorized to access the holding unit corresponding to the access authorization information and acquires the print data held in the holding unit for print processing.

An example configuration of a system according to this exemplary embodiment is described with reference to . The exemplified system includes an image forming apparatus a cloud print service a cloud repository service and a mobile terminal which may mutually make communication with each other through the Internet . The mobile terminal is carried by a user.

The image forming apparatus is an apparatus that prints out input image data on a sheet. The image forming apparatus may have a function other than the print function. For example the image forming apparatus may be a digital multi function apparatus having a scan function a copy function a facsimile function and an e mail transmission function in addition to the print function. The image forming apparatus has functions of executing processing of copying scanning printing etc. in response to an instruction from a user accepted by a user interface UI unit see of the image forming apparatus . In addition the image forming apparatus has a function of acquiring print data from the cloud print service on the Internet and printing out the print data. Alternatively the image forming apparatus may be connected with a network in a group of a company etc. In this case the image forming apparatus has a function of executing processing such as printing in response to an instruction from a computer connected with the network in the group.

Also the image forming apparatus has a cloud print support function that is a function of executing print processing with use of the cloud print service . In the cloud print support function for example the image forming apparatus may include a function of registering the image forming apparatus in the cloud print service and accepting a physical printer ID described later a function of making communication with the cloud print service through any kind of protocol and receiving print data in which the image forming apparatus is designated as an output target etc. If the image forming apparatus does not have the cloud print support function a computer such as a personal computer PC connected with the image forming apparatus is prepared and the computer may have the cloud print support function. In this case the computer makes communication with the cloud print service as a proxy of the image forming apparatus and gives print data acquired from the cloud print service to the image forming apparatus to cause the image forming apparatus to print the print data.

The cloud print service is a system that provides a print service for a user on a network such as the Internet by cloud computing. The cloud print service is a system typically including plural computers. Alternatively the cloud print service may be formed of a single computer. For example Google Cloud Print is an example of the cloud print service .

For example the cloud print service provides the user with a function of converting document data generated by for example word processor or spread sheet software which is designated by a user as a print subject into print data in a print data format for example page description language format such as PostScript registered trademark or PDF format available for the image forming apparatus and a function of generating a print job corresponding to a received print instruction and administering the execution state etc. of the print job for example queue administration . The cloud print service generates a logical printer also called printer object that provides respective functions for a print service and administers the logical printer . At least one user who uses a logical printer is registered in the logical printer . For example the user ID of a user who instructs generation of a logical printer is registered in the logical printer as administrator attribute information of the logical printer . Also the administrator may set a share user who may share the logical printer . The user ID of the set share user is held in the logical printer as share user attribute information.

In general plural logical printers are held in the cloud print service and each of the logical printers is used by at least one user administrator or share user registered in the logical printer .

Also at least one physical printer as an output target called physical printer for example illustrated image forming apparatus which outputs a print job held in a queue of a logical printer may be registered in the logical printer . In this case the logical printer holds administration information for the registered physical printer. For example the administration information includes identification information of the physical printer for example a unique physical printer ID given by the cloud print service and an IP address of the physical printer and performance information indicative of a performance function of the physical printer. For example the performance information includes information indicative of whether duplex printing is available or not whether full color printing is available or not and the size of sheets held therein. If the physical printer includes a post processing apparatus the performance information includes performances of the post processing apparatus for example stapling function punching function and folding function .

The cloud print service gives unique identification information called logical printer ID to each of the respective logical printers . The cloud print service administers the logical printers by using the logical printer IDs.

The user registers generates own account in the cloud print service . When the user generates the account the user registers a unique user ID in the cloud print service . In case of Google Cloud Print a Google account which is an account generally used for various services provided by Google is used as the account user ID of the user for Google Cloud Print.

The cloud print service generates a logical printer in response to an instruction from a user. The cloud print service stores user IDs of respective users for each of the logical printers the users being registered as being allowed to use the logical printer . Also a user who is allowed to use the logical printer may be registered share setting for an existing logical printer in response to an instruction who has the right of user registration.

The user logs in to the cloud print service with own user ID by using a communication protocol such as hypertext transfer protocol HTTP from a PC a mobile terminal an image forming apparatus etc. which is connected through the Internet . The user gives a print instruction to the logical printer selected from the logical printer plural logical printers may possibly exist associated with the user ID. The print instruction includes information for designating a print subject such as information of document data of the print subject or information for specifying the document data for example information of a storage location of the document data on the Internet for example uniform resource locator URL . For example the document data may occasionally exist in the cloud repository service described later . The logical printer generates a print job in response to the print instruction and administers the print job. The print job is a unit for administration of the print instruction in the logical printer . A unique job ID is given to the print job. The logical printer administers information such as information of the document data of the print subject print data for example in a page description language format obtained by converting the document data the user ID of the user who made the print instruction and the execution state of the print job for example before execution during execution execution completed error and so forth in association of the job ID.

The logical printer provides the print data held therein to a physical printer of an output target instructed by the user. The print data may be provided in a manner in which the print data is directly transmitted from the logical printer to the physical printer by a push method or in a manner in which a message including information for specifying the print data is transmitted to the physical printer the physical printer which has received the message requests for acquisition by HTTP and the print job is provided in response to the acquisition request pull method . For example if the print job of the logical printer is printed by the image forming apparatus in an intranet isolated from the Internet by a firewall printing by the pull method is performed.

When the physical printer is desired to be used for printing in the cloud print service the user typically performs a registration operation for the physical printer in the cloud print service . With this registration operation the cloud print service is able to identify and authenticate the physical printer. For example the identification information of the physical printer becomes common knowledge between the physical printer and the cloud print service . If the physical printer shows the identification information and authentication information for verifying correctness of the identification information if required to the cloud print service the physical printer becomes accessible to the cloud print service .

In the case of Google Cloud Print if a user having a Google account performs a registration operation through a webpage for physical printer registration during login Google Cloud Print issues a physical printer ID printer id that uniquely identifies the physical printer of a registration subject. The physical printer ID is stored in the physical printer of the registration subject or in a computer such as a personal computer PC that operates as a proxy of the physical printer. Google Cloud Print stores the physical printer ID which is given to the registered physical printer in association with the account of the user. Accordingly the user who has made the registration operation is recognized as an administrator of the physical printer. Google Cloud Print sets the physical printer ID as one of available printers to the logical printer corresponding to the user. The physical printer or proxy connected with the physical printer verifies that the physical printer or proxy is a physical printer registered by the user by showing the physical printer ID held therein to the cloud print service and acquires the print job held in the logical printer corresponding to the physical printer.

If the administrator of the physical printer makes share setting on administrator s logical printer the administrator may allow other user who is registered in the cloud print service to use the logical printer and the physical printer registered as an output target for the logical printer .

The cloud repository service is a system that provides a repository service for a user on the Internet . The repository service is a service that stores data programs etc. and is also called on line storage service. The cloud repository service is a system typically including plural computers. Alternatively the cloud repository service may be formed of a single computer. Examples of the cloud repository service may be Google Docs trademark Dropbox trademark and Evernote trademark .

The cloud repository service for each user stores various files such as document data and programs uploaded from the user and provides the stored files to the user. The user executes user registration in the cloud repository service and hence acquires a unique user ID in the service . The user logs in to the service by using the user ID and uploads and downloads files. In a case of services which collaborate with each other for user authentication such as Google Cloud Printer and Google Docs if a user logs in to an account of a first service or an account which includes all services such as Google account the user may use a collaborating second service through the first service. Hereinafter for simple description it is assumed that the cloud repository service collaborates with the cloud print service for user authentication.

The mobile terminal is an information processing apparatus which is carried by a user. For example the mobile terminal may be a smart phone a tablet terminal or a mobile phone. The mobile terminal is accessible to a service such as the cloud print service on the Internet . The mobile terminal has installed therein an application hereinafter called cloud print application that serves as a user interface UI when printing is instructed to the cloud print service .

In this example it is assumed that a user who carries the mobile terminal has an account in the cloud print service . Also it is assumed that the image forming apparatus has been registered in the cloud print service by the administrator and has received a physical printer ID. In this example however it is assumed that the user who carries the mobile terminal is different from the administrator of the image forming apparatus registered in the cloud print service . In this case the user may use the cloud print service through the mobile terminal but may not designate an image forming apparatus as an output target in related art unless the above described share setting is made .

Also in the cloud print service of related art such as Google Cloud Print an output target is required to be designated from among previously registered physical printers image forming apparatuses in any case of direct designation and indirect designation in a case of designating a logical printer and hence automatically designating a physical printer corresponding to the logical printer as an output target . The cloud print service does not receive a print instruction if an output target is not determined yet.

In this situation described below is a mechanism when a user who carries the mobile terminal executes printing with the image forming apparatus as the output target through the cloud print service .

In this exemplary embodiment the image forming apparatus to be used by the user for printing has to have the cloud print support function however the image forming apparatus does not have to be registered in the cloud print service of course may be registered . That is in this exemplary embodiment even if the image forming apparatus does not receive the physical printer ID from the cloud print service the image forming apparatus is allowed to acquire print data instructed by the user from the cloud print service and to print the print data.

In this mechanism a general purpose logical printer is associated with a user ID of each user and is provided in the cloud print service . In this case general purpose represents that print data may be supplied to any physical printer as long as the physical printer is in conformity with cloud printing without limiting to a specific physical printer registered in the logical printer. For example the general purpose logical printer does not accept registration of a physical printer as an output target and is merely used for a print instruction to an undetermined output target. For another example a logical printer in which a physical printer of an output target is registered may be used as a general purpose logical printer . In this case printing a print instruction which has sent to the logical printer may be performed by the registered physical printer or may be printed by other physical printer if a plan is changed.

When the user gives a print instruction of an undetermined output target or a print instruction the output target of which may be possibly changed from a planned output target the user designates the general purpose logical printer as the target of the print instruction. The general purpose logical printer holds print data corresponding to the print instruction and waits for an acquisition request of the print data from any of physical printers.

Then when the output target of the print instruction sent to the general purpose logical printer is determined the user delegates the access right of acquiring the print data from the general purpose logical printer to the physical printer of the output target. To delegate the access right for example a mechanism of OAuth is used in this exemplary embodiment. In this example the user accesses the cloud print service from the mobile terminal which is operated by the user and acquires an access token of OAuth for authorizing acquisition of the print data from the general purpose logical printer of the user. Then when the physical printer of the output target is determined the access token is passed from the mobile terminal to the physical printer image forming apparatus by using a proximity communication system such as Near Field Communication NFC Bluetooth registered trademark or Wireless Fidelity Wi Fi . The physical printer shows the access token received from the mobile terminal to the cloud print service . Hence the physical printer is authorized for an access to the general purpose logical printer of the user acquires the print data from the logical printer and prints out the print data.

OAuth is a protocol that provides a standard system for Application Programming Interface API authorization which is secure for a desktop computer a mobile terminal a web application etc. The use of OAuth is merely an example. Other protocol that may provide similar right delegation may be used.

Printing with use of the general purpose logical printer is called ubiquitous printing to avoid redundant description.

In this example it is assumed that the image forming apparatus and the mobile terminal have units for proximity communication in accordance with a protocol of NFC.

 1 A user previously before an actual instruction of ubiquitous printing instructs setting of a general purpose logical printer which serves as a temporary holder for a print instruction of an undetermined output target to the cloud print service . This setting instruction may instruct generation of a new general purpose logical printer or may instruct setting of an existing logical printer in which a physical printer as an output target may be registered as a general purpose logical printer. The cloud print service generates a new general purpose logical printer or sets an existing logical printer as a general purpose logical printer in response to the instruction. The general purpose logical printer has registered therein the user ID of the user as administrator attribute information. Accordingly the logical printer is associated with the user.

 2 The cloud print service transmits the logical printer ID of the general purpose logical printer set in response to the setting instruction and the access token of OAuth for allowing print data to be acquired from the logical printer to the mobile terminal of the user who has sent the generation instruction.

The access token is for example data including authorization information which determines an authorization content for a person who shows the access token in this example the authorization content which is acquisition of the print data from the general purpose logical printer of the user . The authorization information includes for example a user ID in the cloud print service of the user and information indicative of the right of acquisition for print data corresponding to the user ID from the cloud print service . Alternatively the authorization information may include a logical printer ID of the general purpose logical printer in this case only the access token may be transmitted in 2 . A character string in which the authorization information seems to be random by encryption may serve as an access token. Alternatively instead of that the access token includes the authorization information identification information may be added to the authorization information the information may be stored in the cloud print service and the identification information added to the authorization information may serve as an access token. In any system the cloud print service to which the access token is shown may receive the authorization information corresponding to the access token. Alternatively issued date and time or an expiration date may be associated with the access token or the authorization information and if a predetermined time elapses since the issued date and time or if the expiration date is passed the access token may become invalid.

In this example the access token is issued to the mobile terminal when the general purpose logical printer is prepared in response to the instruction from the user however it is merely an example. Instead of this for example an access token may be issued when a print instruction to the general purpose logical printer is received from the user in a processing phase 3 described later . For another example an explicit issue request for requesting issue of the access token may be received from the user and the access token may be issued in response to the issue request. In any case since the user passes the user authentication from the cloud print service the access token is issued according to the right of the authenticated user.

The mobile terminal which has received the logical printer ID and the access token from the cloud print service stores the logical printer ID and the access token as information for ubiquitous printing for example by associating the logical printer ID and the access token with identification information indicative of ubiquitous printing .

 3 If the user wants to perform ubiquitous printing that is if there is a document desired to be printed but a physical printer of an output target is not determined the user logs in to the cloud print service designates a document of a print subject to the general purpose logical printer associated with the user ID of the user and instructs printing.

For example a cloud print application is activated in the mobile terminal and a user logs in to the cloud print service with the user ID of the user. Then a list of logical printers available for the user that is logical printers in which the user is registered as the administrator or share user is provided. The list includes the general purpose logical printer set in 1 . The user selects a logical printer which is used this time from the list on the screen of the cloud print application. In the story in the general purpose logical printer for ubiquitous printing is selected.

To easily find the general purpose logical printer from the list of logical printers information of the general purpose logical printer included in the list may have information indicative of ubiquitous printing. In this case when the list is displayed on the screen the cloud print application displays the logical printer with the information of ubiquitous printing in a displaying form that is different from those of other normal logical printers. Alternatively instead of that the user selects the logical printer for ubiquitous printing from the list ubiquitous printing may be included in an operation menu of the cloud print application and if ubiquitous printing is selected from the menu the cloud print application may automatically determine the general purpose logical printer as the target of the print instruction. A document of a print subject when a print instruction is given may be designated in a manner similar to related art. For example the user designates a document in the mobile terminal or the cloud repository service as a print subject. If the cloud repository service collaborates with the cloud print service for authentication if the user logs in to the cloud print service a list of documents of the user stored in the cloud repository service may be acquired and a document of a print subject may be designated from the list.

 4 The general purpose logical printer which has received the print instruction acquires the document of the print subject designated by the user from the mobile terminal the cloud repository service etc. converts the data of the document into a print data format and stores the print data of the conversion result. In this case instead of that the logical printer actively acquires the document of the print subject the mobile terminal may acquire the document from the cloud repository service etc. and may transmit the document to the logical printer . Alternatively the mobile terminal may instruct the cloud repository service to provide the document of the print subject in the service to the cloud print service . The cloud repository service may transmit the document to the cloud print service in response to the instruction. If a document in the mobile terminal is designated as a print subject the mobile terminal may transmit the document to the cloud print service .

 5 After the instruction of ubiquitous printing in 3 it is assumed that the user determines that the print data according to the instruction is output from an image forming apparatus which is found by the user in a visiting place. In this case the user touches a reader writer unit for NFC provided at the image forming apparatus with the mobile terminal .

In response to the touch operation the image forming apparatus and the mobile terminal start communication under the NFC standard. In this communication the image forming apparatus transmits a notification indicative of that the image forming apparatus is a printer or the image forming apparatus is a printer temporarily available because of the mechanism according to the exemplary embodiment to the mobile terminal . When the operating system OS of the mobile terminal receives the notification the OS activates for example the cloud print application. In this case the activated cloud print application sends the logical printer ID and the access token stored as information for ubiquitous printing to the image forming apparatus by using NFC.

In this example the OS of the mobile terminal determines whether or not the counterpart apparatus of the communication is the image forming apparatus in conformity with the system of this exemplary embodiment. If it is determined that the counterpart apparatus of the communication is the image forming apparatus in conformity with the system of this exemplary embodiment the cloud print application is activated. This is a mere example. Instead of this for example when a touch operation is performed while the cloud print application is activated on the mobile terminal the cloud print application may determine whether or not the counterpart apparatus of the NFC communication is the image forming apparatus in conformity with the system of this exemplary embodiment.

 6 The image forming apparatus sends a job list request including the received logical printer ID and access token to the cloud print service through the Internet . The cloud print service receives authorization information corresponding to the access token included in the received request. The authorization information includes the user ID and information indicative of the right of acquiring print data corresponding to the user ID. The cloud print service recognizes that the image forming apparatus which is the transmission source of the list acquisition request has the right from the authorization information. Then the cloud print service sends a list of jobs print data in a queue of the logical printer corresponding to the logical printer ID included in the request that is the general purpose logical printer of the user to the image forming apparatus . The list includes identification information of the respective jobs in the queue.

 7 The image forming apparatus displays the list of jobs on the display screen mounted therein and causes the user to select a job to be output this time among the jobs on the list. Also the image forming apparatus may provide a UI screen for print setting and may cause the user to set print conditions such as designation of sheets the number of printouts and duplex printing or simplex printing.

Alternatively the job list acquired from the cloud print service may be provided to the mobile terminal by NFC and a print output subject may be designated and print setting may be executed on the screen of the mobile terminal . In this case the output subject designation and the print setting result on the mobile terminal are transmitted to the image forming apparatus by NFC.

The designation for the job to be printed is completed and if the user makes print setting the setting operation is completed and the user performs a print start operation.

 8 In response to the print start operation the image forming apparatus sends a print data acquisition request including the identification information of the job selected as the output subject and print setting information if available to the cloud print service for example in the form of a GET request of HTTP.

 9 The cloud print service in particular the general purpose logical printer specified in 6 sends the print data corresponding to the identification information included in the request to the image forming apparatus in response to the received print data acquisition request. The image forming apparatus prints out the received print data on a sheet.

In the example in NFC is used for transmission of the access token etc. from the mobile terminal to the image forming apparatus . However the system for proximity communication is not limited to NFC. For example instead of NFC other near field wireless communication system such as Bluetooth registered trademark may be used. Alternatively other proximity communication system using a transmission medium such as infrared communication may be used other than wireless system.

For another example of proximity communication a camera may be provided at the image forming apparatus and the camera may capture a picture of the access token etc. displayed on the screen of the mobile terminal . Thus the access token may be transmitted. In this case the display form of the access token is not particularly limited. For example an image code such as a QR registered trademark code or a bar cord may be displayed on the screen or a character string may be displayed on the screen. The image forming apparatus obtains the value of the access token by analyzing the captured image by using an analysis algorism corresponding to the display form of the access token. This system and the system using NFC or infrared communication are common in view of that the user holding the mobile terminal approaches the image forming apparatus and bring the mobile terminal close to the image forming apparatus to make communication between the mobile terminal and the image forming apparatus .

Next an example capability configuration of the image forming apparatus that executes the above described processing is described with reference to . only illustrates parts deeply relating to the processing of this exemplary embodiment. Even in a case of a component typically included in the image forming apparatus if the component is less relating to the processing of the exemplary embodiment the illustration of the component is omitted.

In the image forming apparatus a job receiving unit communicates with the cloud print service and performs processing such as reception of print data by using HTTP. An image forming unit is a device that prints out an image on a medium such as paper. A controller is a system that controls the entire image forming apparatus . For example the controller instructs an image processing unit not illustrated to convert the print data received by the job receiving unit from the cloud print service into image data of a raster format etc. which may be handed by the image forming unit to supply the image data of the conversion result and to print the image data on a medium. A user interface UI unit displays a screen for receiving an operation from the user to the image forming apparatus and receives an operation input from the user in accordance with the screen. A proximity wireless communication unit is a device that makes communication under the NFC standard. When the user brings the mobile terminal in conformity with NFC close to the reader writer unit of the image forming apparatus the proximity wireless communication unit recognizes a device in conformity with NFC the mobile terminal . Based on this recognition the controller transmits information etc. indicative of that the image forming apparatus is a printer to the mobile terminal through the proximity wireless communication unit . Also the controller acquires information for ubiquitous printing that is the logical printer ID of the general purpose logical printer and the access token from the mobile terminal through the proximity wireless communication unit . Further with this information the job receiving unit acquires the job list in the general purpose logical printer from the cloud print service causes the job list to be displayed on the UI unit and receives selection of a job as an output subject of this time from the user. The controller acquires print data of the selected job from the cloud print service through the job receiving unit .

Next an example capability configuration of the mobile terminal that executes the above described processing is described with reference to . only illustrates parts deeply relating to the processing of this exemplary embodiment. Even in a case of a component typically included in the mobile terminal if the component is less relating to the processing of the exemplary embodiment the illustration of the component is omitted.

A cloud print application is installed in the mobile terminal . The cloud print application is an application used for printing from the mobile terminal through the cloud print service . The cloud print application includes a UI processing unit that provides a user interface for printing with use of the cloud. A user information holding unit holds an account user ID etc. in the cloud print service of the user who carries the mobile terminal . The account information is previously set by the user. Alternatively instead of the cloud print application the OS of the mobile terminal may administer the account information.

When the cloud print application is activated the cloud print application accesses the cloud print service on the Internet through a mobile phone line or a wireless network and logs in to the cloud print service by using the account held in the user information holding unit . The UI processing unit displays a UI screen provided from the cloud print service in response to login. If the user instructs setting of the general purpose ubiquitous printing logical printer through the UI screen the instruction is transmitted from the UI processing unit to the cloud print service . In response to the instruction the cloud print service prepares the general purpose logical printer for the user. Also for example if the user instructs acquisition of the access token for ubiquitous printing on the UI screen of the UI processing unit the access token and the logical printer ID of the general purpose logical printer is sent from the cloud print service through the Internet in response to the instruction.

A token administering unit holds the information for ubiquitous printing acquired from the cloud print service that is the logical printer ID of the general purpose logical printer and the access token . Also the token administering unit provides the information for ubiquitous printing held therein to the image forming apparatus by a proximity wireless communication unit to the image forming apparatus when the mobile terminal touches the image forming apparatus .

Next an example capability configuration of the cloud print service that executes the above described processing is described with reference to . only illustrates parts deeply relating to the processing of this exemplary embodiment. Even in a case of a component typically included in the mobile terminal if the component is less relating to the processing of the exemplary embodiment the illustration of the component is omitted.

The cloud print service includes a general purpose queue setting unit a token issuing unit an authorization controller and a logical printer . The logical printer has been described above. The general purpose queue setting unit sets a general purpose logical printer queue associated with the user ID of the user in response to an instruction of the user 1 in from the mobile terminal etc. newly generates a general purpose logical printer or sets an existing logical printer as general purpose . The token issuing unit issues an access token for authorizing acquisition of print data from the general purpose logical printer in response to a request from the mobile terminal 2 in . When the authorization controller receives the access token sent from the image forming apparatus which has acquired the access token the authorization controller authorizes the apparatus to perform an operation of an authorization subject indicated by authorization information corresponding to the access token. Herein in this exemplary embodiment the access token is for authorizing an operation relating to acquisition of print data from the general purpose logical printer designated as a subject of the token. Hence the authorization controller notifies the logical printer which is the subject of the access token about that the image forming apparatus is authorized to perform the operation relating to acquisition of print data. In response to the notification the logical printer permits the request for a job list and the request for print data from the image forming apparatus .

Next a modification is described with reference to . In the above described exemplary embodiment see 5 by the touch operation of bringing the mobile terminal close to the image forming apparatus 6 the job list in the general purpose logical printer is acquired from the cloud print service and 7 the user is caused to select the output subject from the list.

 A Before the touch operation 5 the user logs in to the cloud print service from the cloud print application of the mobile terminal and the user acquires the job list in the general purpose logical printer .

 B The cloud print application displays the job list and causes the user to select the output subject of this time from the list. In response to the selection the cloud print service sends the identification information job ID of the selected job print data to the cloud print application . The cloud print application stores the received job ID as an item of information for ubiquitous printing. 

 5 Then if the user determines that the job selected in A is printed by an image forming apparatus which is found at a visiting place the user touches the reader writer unit of the image forming apparatus with the mobile terminal . Accordingly the information for ubiquitous printing held in the mobile terminal that is the general purpose logical printer ID the access token and the job ID of the output subject selected in A are transmitted to the image forming apparatus by NFC. Also after the touch operation the UI of the image forming apparatus or the mobile terminal may perform print setting. In the later case the image forming apparatus may provide a print setting screen corresponding to performance information of the image forming apparatus to the mobile terminal and may acquire the setting result of the print setting screen on the mobile terminal from the mobile terminal by NFC etc.

 6 The image forming apparatus sends the print data acquisition request including the received logical printer ID access token and job ID to the cloud print service .

 9 In response to this request the logical printer indicated by the logical printer ID in the cloud print service sends the print data corresponding to the job ID to the image forming apparatus . The image forming apparatus prints out the received print data on a sheet.

The above exemplified image forming apparatus cloud print service portion of performing the information processing of the mobile terminal are provided by causing a general purpose computer to execute a program expressing the processing of the respective capability modules of the apparatus. The computer mentioned here has for example a circuit configuration in which a microprocessor such as a central processing unit CPU memories primary memories such as a random access memory RAM and a read only memory ROM a secondary storage controller that controls secondary memories such as a hard disk drive HDD a solid state drive SSD and a flash memory various input output I O interfaces and a network interface that controls connection with a wireless or wired network as hardware are connected through for example a bus. Also for example a disk drive for reading from and or writing on a portable disk storage medium such as a compact disc CD a digital versatile disc DVD or a Blu ray Disc a memory reader writer for reading from and or writing on a portable non volatile storage medium of any kind of various standards such as a flash memory etc. may be connected to the bus through for example I O interfaces. The program having written thereon the processing contents of the above exemplified respective capability modules is stored in the secondary memory such as a flash memory through the storage medium such as a CD or a DVD or a communication system such as a network and is installed in a computer. The program stored in the secondary memory is read into the RAM and is executed by the CPU etc. Accordingly the above exemplified capability module group is provided.

The foregoing description of the exemplary embodiment of the present invention has been provided for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Obviously many modifications and variations will be apparent to practitioners skilled in the art. The embodiment was chosen and described in order to best explain the principles of the invention and its practical applications thereby enabling others skilled in the art to understand the invention for various embodiments and with the various modifications as are suited to the particular use contemplated. It is intended that the scope of the invention be defined by the following claims and their equivalents.

