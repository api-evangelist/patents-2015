---

title: Managing web services data and presence data
abstract: Interfacing a wireless device with web services, including social networking web services, is described. For example, a system for interfacing a wireless device with a plurality of web services comprises a web service proxy having an API to allow other modules to interface with the web service proxy; a plurality of web services adapters interfaced with the web services proxy through the API, each one of the web services adapters configured to communicate with a particular web service using the specific communication formats for the web service; where the web services adapters and the web services proxy convert between the communication formats employed to communicate with each of the web services and a wireless communication format, the wireless communication format being a different format than the communication formats for each of the web services, thereby enabling bi-directional communication between the wireless device and the plurality of web services.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09602604&OS=09602604&RS=09602604
owner: Microsoft Technology Licensing, LLC
number: 09602604
owner_city: Redmond
owner_country: US
publication_date: 20151218
---
This application is a continuation of and claims priority under 35 U.S.C. 120 to U.S. application Ser. No. 13 867 724 filed on Apr. 22 2013 now allowed which is a continuation of and claims priority under 35 U.S.C. 120 to U.S. application Ser. No. 12 069 970 filed on Feb. 13 2008 now U.S. Pat. No. 8 428 565 which is a continuation of and claims priority under 35 U.S.C. 120 to U.S. application Ser. No. 11 653 661 filed on Jan. 12 2007 now U.S. Pat. No. 7 693 953 the disclosures of which are incorporated by reference herein in their entirety.

Many people access Internet content and Web Services from a wireless communication device e.g. a cellular telephone or PDA so that they are not restricted to a personal computer with an Internet connection. Most wireless communication devices retrieve Internet content and Web Services in one of two different ways use of a Web browser or use of a Wireless Access Protocol WAP application.

High power wireless communication devices often include a Web browser e.g. Windows Explorer so that information can be retrieved from an Internet site on the device just as if the user was at a personal computer. One problem with the use of Web browsers on wireless devices though is that the devices require a lot of processing power and bandwidth to handle and convert the large amount of data exchanged so as to be compatible with the Internet site and the wireless device.

In order to overcome processing and network bandwidth restraints posed by a Web browser many wireless communication devices retrieve Internet content and Web Services using an application that follows the Wireless Application Protocol WAP . WAP applications allow devices to connect to a Web server but require less processing power and use less network bandwidth than a typical Web browser. For example the social networking site MySpace currently provides a Web Services proxy that can be connected to through the use of a WAP application in order for a user of a wireless communication device to connect to MySpace .

A Web Services proxy may be updated to add new features for Web applications and or to fix problems. One problem though with current WAP applications is that they become useless if the associated Web Services proxy is updated. That is the WAP application is hard coded so as to be compatible with the previous version of the Web Services proxy. Hence when the Web Service proxy is updated the WAP application may be unable to connect to the new version of the Web Services proxy. As a result the WAP application on a device must typically be updated when a Web Services proxy is updated.

Updating every WAP application e.g. updating every cellular telephone of a Cellular Telephone Service Provider can be very costly and consume large portions of network bandwidth. In addition device applications implemented through WAP applications can require multiple requests from the device to the Web Services proxy tying up valuable bandwidth. Furthermore the communication protocol employed to allow a WAP application and a Web Services proxy to communicate is an inefficient chatty format based on the exchange of data through Extensible Markup Language XML documents e.g. using the Simple Object Access Protocol SOAP 

One exemplary Web Service is that provided by a social networking site. A social network is a map of the relationships between individuals indicating the ways in which they are connected through various social familiarities ranging from casual acquaintance to close familial bonds. Social networking is the practice of expanding and or maintaining those relationships within the map. For example in business businessmen will refer friends to other businessmen e.g. exchanging business cards . In casual life persons will attend parties of a friend in order to connect and build relationships with the friend s friends.

Within the last ten years social networking through the Internet has become popular. A variety of services are provided by social networking sites which allow users to communicate and exchange information including for example Instant Messaging E Mail messaging Message Boards photo sharing services etc. Recently social networking sites such as MySpace LinkedIn and Yahoo Local have become a popular choice for social networking. To improve social networking MySpace includes for example personal Web pages for each user including profiles blogs pictures videos a shoutbox instant messaging a list of friends other users on the MySpace network that allow each other communications between the two users e mail capabilities bulletin boards and calendars. To use the social networking services a user logs into the service s website e.g. MySpace.com from his or her personal computer. Mobile devices currently provide access to social networking sites through a Web browser or WAP application.

Various embodiments are described for interfacing a wireless device with a plurality of web services including social networking web services. For example a system according to one embodiment comprises a system for interfacing a wireless device with a plurality of web services comprising a web service proxy having an API to allow other modules to interface with the web service integration proxy a plurality of web services adapters interfaced with the web services proxy through the API each one of the web services adapters configured to communicate with a particular web service using the specific communication formats required by that web service the wireless communication format being a different format than the communication formats required by each of the web services wherein the web services adapters and the web services proxy convert between the communication formats employed to communicate with each of the web services and the wireless communication format thereby enabling bi directional communication between the wireless device and the plurality of web services.

Throughout the description for the purposes of explanation numerous specific details are set forth in order to provide a thorough understanding of managing web services data and presence data. It will be apparent however to one skilled in the art that the techniques may be practiced without some of these specific details. In other instances well known structures and devices are shown in block diagram form to avoid obscuring the underlying principles of managing web services data and presence data.

Embodiments of the managing web services data and presence data may be implemented on a wireless device which communicates with a data processing service as illustrated generally in . Embodiments of a service and data processing device are described for example in co pending application entitled SMIPIMMA Ser. No. 10 262 298 filed Sep. 30 2002 and embodiments of dynamically managing presence and contact information on a data processing device are described in co pending application entitled SMDMPCI Ser. No. 10 611 019 filed Jun. 30 2003 hereinafter co pending applications which are assigned to the assignee of the present application and which are incorporated herein by reference.

Certain features of the service will now be described followed by a detailed description of the system and method for connecting a wireless communication device to a Web Service. It should be noted however that the specific data processing device and system architecture described in the co pending applications are not required for implementing the underlying principles of the invention.

In one embodiment the service converts standard applications and data into a format which each data processing device can properly interpret. Thus as illustrated in one embodiment of the service includes content conversion logic for processing requests for Internet content from a wireless device . More particularly the service acts as a proxy for the data processing device forwarding Internet requests to the appropriate Web server and or Web Service hereinafter referred to as Web service on behalf of the data processing device receiving responses from the Web Service in a standard Web services format e.g. data employing a particular Web services schema and formatted according to the SOAP protocol or the Wireless Application Protocol WAP and converting the responses into a format which the data processing device can process e.g. bytecodes as described in the co pending applications .

For example the conversion logic may include a rendering module not shown for interpreting the Web services code or HTML code and translating that code into a format capable of being processed rendered on the data processing device . As described in the prior applications in one embodiment the device specific format comprises bytecodes applets which in one embodiment are a form of Java bytecodes applets. However the conversion logic may generate various other types of interpreted and or non interpreted code depending on the particular type of data processing device being used e.g. one with an interpreter module or one without .

Because one embodiment of the service maintains an intimate knowledge of the capabilities configuration of each data processing device e.g. screen size graphics audio capabilities available memory processing power user preferences . . . etc it can reconstruct the requested data accurately while at the same time minimizing the bandwidth required to transmit the content to the device . For example the conversion logic may perform pre scaling and color depth adjustments to the requested content so that it will be rendered properly within the data processing device s s display. In making these calculations the conversion may factor in the memory and processing power available on the data processing device . In addition the conversion logic may compress the requested content using a variety of compression techniques and thereby preserve network bandwidth.

When a user attempts to connect to or communicate with a Web Service e.g. EBay or MySpace through the wireless communication device the service communicates directly with the Web Service on behalf of the user of the wireless device through the Internet e.g. using the Web Services protocols schema required for that particular Web services proxy . In order to facilitate communication between the Web Service and the wireless communication device one embodiment of the service includes a Web Service integration proxy a notification service proxy a dispatcher to communicate with the wireless communication device a database DB proxy and a DB .

The notification service proxy receives push notifications from all Web Services for each user logged into via the plurality of Web Services proxies and distributes those notifications to the wireless device . Exemplary push notifications from a Web Service include an instant message or a notification that an e mail has been received within the user s social networking account or that some other update to the Web service has occurred e.g. a post from a friend on MySpace . Thus the notification service proxy represents a single point of management for all push communications from a Web Service to all wireless communication devices connected to the service . Consequently even though wireless communication devices may be disconnected from the service e.g. due to loss of network coverage the push notification may still be sent to the service which stores the notification on behalf of the user. The dispatcher then forwards the push notification to the correct wireless communication device once the wireless communication device is reconnected to the service .

In one embodiment of the invention the Web Service integration proxy WSIP handles communications other than the push notifications to from the Web Services . For example when a user on a wireless communication device requests an update to the user s profile on a social networking Web Service this process is handled by the WSIP . Similarly when a user logs in and requests updates from one of the Web Services this process is managed by the WSIP .

In contrast to prior systems in which a WAP application on a wireless communication device interfaces directly with the various Web Services proxies in this embodiment of the invention the local Web Services proxy interfaces with the Web Services proxies on behalf of the wireless communication device using the Web Services adapters .

As mentioned above certain Web Services exchange information with clients and servers on the Internet using various protocols and encodings for example the Simple Object Access Protocol SOAP . SOAP is a message based protocol which employs an XML syntax to send text commands across the Internet using the Hypertext Transport Protocol HTTP . Other Web Services protocols such as XML RPC and REST Representational State Transfer may also be used consistent with the underlying principles of the invention.

Although most Web Services use these standard protocols many Web Services employs their own specific format e.g. data schema and rules for communication which must be followed in order to communicate with those Web services. In addition each Web service employs its own unique API i.e. the set of functions and interfaces exposed by the Web service. Thus in one embodiment of the invention a separate Web Services adapter is used to communicate with each of the Web Services proxies respectively using the formats require by those proxies. In addition as illustrated in one embodiment of the invention includes a global or default Web Services adapter for communicating with web services using standardized i.e. non proprietary Web Services communication formats.

The Web Services adapters are plugged in to the Web Services Proxy through an API exposed by the Web Services Proxy . Each of the Web Services adapters exchange data and program code with the Web Services Proxy Web Services proxy via this API.

In operation when data from a particular Web Service e.g. social networking Web Service is requested on behalf of a wireless device the adapter associated with that Web Service communicates with the Web Service using the required data schema and other communication standards required by the Web Service . The adapter provides the requested data to the Web Services proxy via the Web Services proxy API. In one embodiment the adapter may also convert the data into a format interpretable by the Web Services proxy . The Web Services proxy extracts the underlying data and encapsulates the data into the communication format required for communicating to the wireless device . If the wireless device is currently online then the dispatcher to which the wireless device is currently connected transmits the data to the wireless device using an asynchronous protocol specifically adapted for transmission over high latency networks e.g. wireless networks . For upstream communication when the user of the wireless device transmits information to the social networking Web Service or other Web Service the information is transmitted through the dispatcher using the same protocol. The Web Services proxy extracts the information and communicates the information to the appropriate Web Services adapter via the Web Service proxy API. The Web Services adapter then communicates the new information to its associated Web Service using the required data schema and other communication standards required by the Web Service .

One notable benefit of this architecture is that if a particular Web Services proxy such as social networking web services proxy modifies its communication standards protocol then only the specific adapter for that web services proxy e.g. social networking web services adapter needs to be modified or replaced. The remaining software executed on the service e.g. the Web Services Proxy and each of the wireless devices does not need to be changed. Thus the network bandwidth as well as the engineering time which would normally be required to upgrade each individual wireless device is conserved.

As mentioned above the wireless communication device communicates with the dispatcher which is described in detail in the prior applications using an asynchronous message based protocol specifically tailored for a high latency network such as a wireless network . Specifically in one embodiment described below with respect to the Web Services proxy combines multiple request response interactions with each of the Web Services into a single communication to the wireless device thereby conserving network bandwidth. In addition as previously described because the service understands the data formats which wireless communication device is capable of interpreting e.g. video display resolution processor speed memory capability etc. the service converts the underlying data into these specific data formats typically compressing the data to conserve additional bandwidth. Hence communications directed to from a Web Service from to a wireless communication device is in a more compressed more efficient format when transmitted between the service and the wireless communication device than the typical formats produced by a WAP application.

Although the embodiments described above employ the SOAP protocol to communicate with Web Services the underlying principles of the invention are not limited to any particular protocol. Virtually any other protocol may be employed consistent with the underlying principles of the invention e.g. DCOM CORBA or any RMI RPC interface as defined by the World Wide Web Consortium.

As previously described the wireless communication device may communicate a request for specific information such as social networking information from a Web Service via the service . In one embodiment of the invention the service collapses the number of request response interactions with the Web service in order to fulfill the user s request. One specific example is illustrated in where the user wishes to access the user s social networking profile from a social networking site and multiple requests are required to the social networking Web Service for different objects e.g. one request to retrieve the user s picture and another request to retrieve the user s personal information . The wireless communication device sends one general request to the service to simply obtain the profile. The Web Services proxy receives the request from the wireless communication device and converts the single request into the multiple requests required to pull the requested information e.g. picture and personal information from the social networking Web Service . As mentioned above the request response interactions are managed by the adapter associated by the specific Web Service . Thus the adapter forwards the request for the personal information to the social networking Web Service . The social networking Web Service responds with the personal information to the adapter . The adapter then forwards the next request e.g. for an image to the Web service . The social networking Web Service responds with the image to the adapter . Once the service receives all of the information to fulfill the wireless communication device s request the Web Services proxy combines all of the requested information to the wireless communication device in one response . As illustrated in more than two requests and responses to from a Web Service by the service may exist for each request and response to from the service by the wireless communication device . Hence for different requests communicated from the wireless communication device to the service any number of requests from the service to a Web Service may be included in the different requests between the device and the service .

In order to access information from different Web Services a user may need to be logged into the Web Services . Hence the service may log a user of the wireless communication device into the required Web Services . Referring to in one embodiment the authentication proxy transparently collects login information e.g. username and password for a user in order to connect to a Web Service . In one embodiment the DB stores a user s login information for multiple Web Services . When the authentication proxy needs to collect a user s login information for a specific Web Service e.g. MySpace the authentication proxy requests the information from the DB proxy . The DB proxy then accesses the DB for the login information and forwards the login information to the authentication proxy . The Web Services proxy then communicates the login information to any or all of the Web Services . In one embodiment after retrieving authentication credentials from the wireless device the service via the authentication proxy and Web services proxy automatically logs the user of the wireless communication device onto multiple Web Services without requiring additional input from the user assuming that the proper authentication information for each Web service is available from the user database via the DB proxy . As a result a user may access information from various Web Services without manually entering the required login information for each individual Web Service . Furthermore the service may keep a user logged in for an extended period of time even if the wireless communication device temporarily disconnects from the service .

While a user is logged into the social networking service the user is able to use the wireless communication device for activities other than accessing the social networking service e.g. making a phone call listening to MP3 s . Thus because the user is logged in the user stills receives notifications of when new information is received at the social networking service. For example illustrates a visual notification when the user receives a new message from another user. In addition as illustrated in the user interface includes displaying an identifier e.g. in a menu bar for when a user is logged into the social networking service. Notifications to the user may be visual and or audio vibrations. The notifications may be received through push notifications from the social networking Web Service or by the service periodically checking the social networking Web Service for any updates.

While the screen captures are for a specific embodiment for interfacing a specific Web Service i.e. MySpace user interfaces are not limited to interfacing social networking sites. A similar portion of the user interface may exist for each Web Service that the service is able to contact and with which Web Service the user wishes to communicate.

For any requests or communications between the wireless communication device and the Web Service that the WSIP or the Push Notification Proxy cannot handle the wireless communication device may communicate with an Internet site of the Web Service via the service using a standard Web browser on the wireless communication device .

Although specific examples of social networking data were provided above e.g. images email messages etc the underlying principles of the invention are not limited to any particular type of social networking data. Social networking information processed by the service may include but is not limited to user profiles blogs pictures videos a shoutbox instant messages a list of friends e mail messages bulletin boards and calendars to name a few.

One embodiment of the invention integrates user data from multiple social networking sites to generate a unified view of the social networking data for each user. This is possible because as described above the authentication proxy of the WSIP has access to user authentication data for multiple social networking sites via the DB proxy and is therefore capable of concurrently connecting the user to each of the social networking sites. As illustrated in in one embodiment the WSIP extracts the social networking data from the various sites and stores the combined social networking data in a standardized format within a unified social networking database . Although a separate database is shown in for the purpose of illustration a separate database is not required for complying with the underlying principles of the invention. Once collected the unified data is then made accessible to other users linked through the various social networks. The unified data may also be used for a variety of other applications e.g. address book applications calendar applications email applications etc .

In addition one embodiment of the service manages presence information for users of the service and integrates the presence information with the social networking user information gathered from various social networking sites. As illustrated in each user s presence information is collected and maintained within a presence database accessible through a presence proxy .

As used herein a user s presence may include both the physical location of a user and the electronic state e.g. availability of the user and various combinations thereof. For example one embodiment of the invention tracks the physical geographical location of each user potentially at different levels of granularity as described in the co pending applications . By way of example and not limitation presence data related to the user s location may include the state or city in which the user is currently located the relative distance between the user and another user or the exact physical location of the user e.g. longitude and latitude or using a particular street address or intersection . The granularity provided to other users by the service may be defined based on the capabilities of the service and data processing device to identify the location of the user and or based on the user s preferences as to the granularity that should be provided to other users e.g. a user may only want certain users to have access to the most precise level of granularity e.g. street address versus city . This may be accomplished through various types of user interfaces e.g. an option box selectable by the user to prevent the service from broadcasting the wireless communication device s presence information to other wireless communication devices . The electronic presence of the user includes information related to whether the user is currently online e.g. logged in to a social networking service or an instant messaging session .

The presence data and social networking data may be combined in various beneficial ways. For example according to one embodiment a user is provided with the ability to search for other users matching user specific criteria e.g. with specific interests who are geographically near that user and or who are electronically present e.g. logged in to the social network .

As mentioned above to implement the foregoing concepts the service of includes a searchable presence database for storing the each users geographical or electronic presence.

The location of a wireless communication device may be determined in a variety of ways. For example it may be determined through the use of an integrated or attached Global Positioning System GPS integrated within wireless communication device . Alternatively or in addition the location of a wireless communication device is determined by known method of triangulating between multiple cellular towers of which the wireless communication device is in range. Furthermore a general location may be determined by identifying the cellular tower to which the wireless communication device is connected.

In one embodiment of the present invention the service attempts to automatically determine the reason a user is in a specific location. For example the service may determine that a user is at work because the wireless communication device of the user is on a specific cellular tower to which the device connects during work hours e.g. 8 am to 6 pm Monday Friday . The user may also rank the importance of criteria in order to rank the relevance of imperfect matches.

Returning to once the service receives the user criteria the service receives the location requirements from the wireless communication device at step . For example the user may choose to search for other users within a two mile radius of the user. The user may also select a specific location where the user is not present e.g. San Francisco Calif. when the user is in San Jose Calif. .

Once the service receives the location requirements the service searches for users meeting the criteria and the location requirements in . In searching for persons meeting specified criteria the WSIP of the service communicates with Web Services as described herein. For example the WSIP communicates with a social networking Web service in order for the service to search for users meeting the criteria. Since the service is able to transparently log a user into multiple websites by storing login information the service may search multiple Web Services e.g. Yahoo Local LinkedIn and MySpace for users meeting the specified criteria and or may search the unified user data DB to search for users meeting the criteria.

In one embodiment the service allows the user to limit the pool of users for the search to users of wireless communication devices currently connected to the service or otherwise logged into a social networking service or other service e.g. an instant messaging service . Alternatively or in addition the service may allow the user to limit the pool of users to search to the other users in the user s address book e.g. a MySpace address book or a unified address book maintained on the service .

Once the WSIP of the service receives the list of users that match the criteria and or the ranking of how well the users match the criteria how close to a perfect match the WSIP searches the presence database to determine the locations of the users and thus determine which users match the both the criteria and the specified location requirements . The list may be prioritized based on for example the location or the rankings of matching criteria. The service then returns the search results to the requesting user on the wireless communication device at step .

After the wireless communication device receives the results the wireless communication device displays the results to the user. The results may be displayed in a variety of formats including a simple list or as icons on a map so as to show the specific location of each of the resultant users. The map data may be stored on the wireless communication device e.g. NavTech and or may be accessed from a public site such as Google Maps or Mapquest . The icons may include the priority ranking of the corresponding user e.g. as defined by how close the users match the criteria and presence specifications .

In one embodiment of the present invention if a wireless communication device of another user that matches the user s criteria comes in proximity with the wireless communication device of the searching user the searching user is alerted to the close proximity of a user meeting the criteria. The other user matching the criteria may also be alerted as the proximity of the user searching for them. The wireless communication device then provides the user performing the search the option of contacting the other user and or may automatically attempt to connect the two users through a communication channel e.g. telephone call Instant Messaging IM Email SMS etc. . Since the service provides users with the ability to hide their location information the users may also be given the option not to be contacted by users via the presence based techniques described herein.

Embodiments of the invention may include various steps as set forth above. The steps may be embodied in machine executable instructions which cause a general purpose or special purpose processor to perform certain steps. Alternatively these steps may be performed by specific hardware components that contain hardwired logic for performing the steps or by any combination of programmed computer components and custom hardware components.

Elements of the present invention may also be provided as a machine readable medium for storing the machine executable instructions. The machine readable medium may include but is not limited to floppy diskettes optical disks CD ROMs and magneto optical disks ROMs RAMs EPROMs EEPROMs magnetic or optical cards propagation media or other type of media machine readable medium suitable for storing electronic instructions. For example aspects of the present invention may be downloaded as a computer program which may be transferred from a remote computer e.g. a server to a requesting computer e.g. a client by way of data signals embodied in a carrier wave or other propagation medium via a communication link e.g. a modem or network connection .

Throughout the foregoing description for the purposes of explanation numerous specific details were set forth in order to provide a thorough understanding of the invention. It will be apparent however to one skilled in the art that the invention may be practiced without some of these specific details. For example multi purpose telephony data processing devices are particularly suitable for implementing certain aspects of the invention because these devices can initiate communication over a variety of communication channels e.g. voice IM email SMS MMS etc. . However the underlying principles are not limited to these types of devices. For example the underlying principles of the invention may be implemented within standard personal computer configurations standard wireless telephones and or other types of communication devices e.g. vehicle communication devices . Moreover although the invention was described in the context of specific types of messaging applications e.g. email instant messaging etc. the underlying principles of the invention are not limited to any particular type of messaging application.

In fact while the various proxies were described as using SOAP XML and or REST any communication protocol or means of communicating between two nodes may be employed. Additionally while the service is described as receiving criteria and presence requirements many requirements may include a default so as to not be necessary. Furthermore the service may first search for users without receiving location requirement in order to determine whether any users match the criteria or vice versa. Requests sent to the service from the wireless communication device may also be in a single communication or multiple communications. In addition references to a Web Service or server or social networking site are not limited to the examples given e.g EBay Yahoo Local LinkedIn MySpace .

