---

title: Systems and methods for temporary access to media content
abstract: Methods, systems, and/or devices for providing temporary access to media content are described herein. In one aspect, a server provides authorization to a transportation service provider for accessing one or more media items associated with an account of a user for a media content provider. The server provides the authorization in response to the user reserving a vehicle through the transportation service provider. Additionally, the server receives a first request (e.g., a request initiated by a mobile device of the user) to present a first media item of the one or more media items at a media presentation system of a reserved vehicle provided by the transportation service provider. In accordance with the authorization, the server sends a portion of the first media item for presentation at the media presentation system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09402093&OS=09402093&RS=09402093
owner: SPOTIFY AB
number: 09402093
owner_city: Stockholm
owner_country: SE
publication_date: 20150817
---
This application claims priority to U.S. Provisional Application No. 62 045 472 filed Sep. 3 2014 which is hereby incorporated by reference in its entirety.

The present disclosure relates generally to providing temporary access to media content on shared devices.

Due in part to the increase in bandwidth speed and coverage of wireless data communications users are now able to consume wirelessly delivered media content in a multitude of environments and through a multitude of devices. For example users increasingly consume media content from large online content libraries. In many cases users are able to access such content via mobile and or handheld electronic devices such as smartphones tablets or laptop computers.

Despite the proliferation of online media content providers and the various types of electronic devices that access them users frequently find themselves in situations where it is difficult or inconvenient to access online media content. For example a user who subscribes to a streaming music service and typically accesses content from that service via their smartphone may wish to access the same music through a different device such as an audio system of a vehicle or a home audio system. In order to enable such a device to receive content from the streaming music service the user may be required to enter account information such as a username and password. In circumstances where the user wishes to use the device for only a short period of time however authorizing the device to access the user s account may be inconvenient or may present security risks. For example if the user does not own the device with which the user would like to consume media content the user might be hesitant to provide login and password information to that device. Moreover where the user only wishes to use the device for a short time the user may find that the pairing process takes too long to be worth the effort. Accordingly users are not able to quickly and efficiently access media content with all of the devices that they may wish to use.

In light of the foregoing it would be advantageous to provide systems and methods whereby a user can access and control media content on a device without having to enter account and or security information to the device directly. Moreover it would be advantageous to provide systems and methods whereby devices with which a user may want to access media content from a media content provider are configured to receive media content from the media content provider without requiring any additional action by the user at the time he consumes the media.

One specific area where the disclosed systems and methods are implemented is transportation services including vehicle for hire services air travel train travel etc. For example a user will request to reserve a transportation service. Such a request can be made in many ways such as via a smartphone a tablet computer a laptop computer a desktop computer or other mobile communication device. For example a user can request to reserve a transportation service via an application on a smartphone that communicates with a transportation service provider or facilitator . Once the transportation service is reserved a particular vehicle e.g. from a fleet of vehicles is selected to provide the transportation service to the user where the particular vehicle includes a media presentation system that can receive and present streaming media content. For example in some cases the driver of the vehicle has a smartphone or other wireless communication device that can receive streaming music or other audio or video content from a media service provider. The driver s smartphone may be coupled to an audio and or video system of the vehicle such that music received on the smartphone can be presented via the vehicle s media system s .

Once a particular vehicle is associated with the user s transportation request the media presentation system of that particular vehicle is enabled to receive music or other audio or video content from the media service provider using the account of the user. Enabling the media presentation system of the particular vehicle can occur in many different ways. In some cases a server of the transportation service will send information to a server of the media content provider that identifies the particular vehicle and account information of the user. The media content provider will then allow media content to be delivered to the media system s of the vehicle by virtue of the user s account with the media content provider.

The foregoing example represents one possible way of providing access to media content through a user s account to a device that will be used only temporarily by the user. Other implementations are also contemplated however. For example a transportation service may be replaced by another service such as a hotel cabana restaurant bar or housing rental etc. Indeed as noted above any service that is associated with or includes a media presentation system will benefit from the disclosed ideas. Various specific implementations and variations thereon for facilitating temporary access to media content by devices of reserved services are discussed herein. Moreover while the foregoing example describes that music is provided to the media presentation system other types of media are also contemplated such as video content images etc.

In accordance with some implementations methods for providing temporary access to media content for presentation in a vehicle are disclosed.

In some implementations a method is performed at a first server e.g. content server with a processor and memory storing instructions for execution by the processor. The method includes providing authorization to a transportation service provider for accessing one or more media items associated with an account of a user for a media content provider in response to the user reserving a vehicle through the transportation service provider. The method further includes receiving a first request to present a first media item of the one or more media items at a media presentation system of a reserved vehicle provided by the transportation service provider the first request being initiated by a mobile device of the user. In some implementations the method also includes sending a portion of the first media item for presentation at the media presentation system in accordance with the authorization.

In some implementations a method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors e.g. a server computer . The method includes receiving from a user a request to reserve a transportation service wherein the user is associated with a media account authorizing the user to access media content from a media content provider. In response to receiving the request to reserve the transportation service the method further includes 1 identifying a particular vehicle from a plurality of vehicles wherein the particular vehicle includes a media presentation system capable of presenting media from a media content provider and 2 sending to a server associated with the media content provider information identifying the media account associated with the user and information identifying the media presentation system of the particular vehicle.

In some implementations a method is performed at an electronic device with a processor and memory storing instructions for execution by the processor e.g. a server computer . The method includes receiving from a server associated with a transportation service provider 1 information identifying a media account associated with a user and 2 information identifying a media presentation system of a particular vehicle wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service. The method further includes receiving a media control request. The method further includes in response to receiving the media control request causing the media presentation system of the particular vehicle to perform an action in accordance with the media control request.

In some implementations a method is performed at an electronic device with a processor and memory storing instructions for execution by the processor e.g. a client computer . The method includes sending to a server associated with a transportation service provider a request to reserve a transportation service. The method further includes receiving information identifying a media presentation system of a particular vehicle associated with the transportation service provider wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service. The method further includes sending to a server associated with the media content provider 1 information identifying a media account of a user and 2 the information identifying the media presentation system of the particular vehicle.

In some implementations a method is performed at an electronic device with a processor and memory storing instructions for execution by the processor e.g. a server computer . The method includes receiving from an electronic device associated with a user 1 information identifying a media account associated with the user 2 information identifying a media presentation system of a particular vehicle wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service and 3 a media control request. The method further includes in response to receiving the media control request causing the media presentation system of the particular vehicle to perform an action in accordance with the media control request.

In some implementations a method is performed at an electronic device with a processor and memory storing instructions for execution by the processor e.g. a server computer . The method includes receiving information usable to identify a transportation service account associated with a user wherein the transportation service account associated with the user authorizes the user to access transportation services provided by a transportation service provider. The method further includes receiving information indicating that the user has reserved a transportation service. The method further includes sending to a server associated with the transportation service provider a request for information identifying a media presentation system of a particular vehicle associated with the reserved transportation service. The method further includes receiving from the server associated with the transportation service provider the information identifying the media presentation system of the particular vehicle. The method further includes sending media content to the media presentation system of the particular vehicle.

In some implementations a method is performed at an electronic device associated with a user e.g. a client device the electronic device having a processor and memory storing instructions for execution by the processor. The method includes receiving information indicating that a reservation for a transportation service has been made. The method further includes sending to a server associated with a media content provider 1 information usable by the media content provider to identify a transportation service account associated with the user 2 information indicating that the user has reserved a transportation service and 3 a media control request configured to cause the media content provider to send media content to a particular vehicle associated with the reserved transportation service.

In some implementations a method is performed at an electronic device with a processor and memory storing instructions for execution by the processor e.g. a server computer . The method includes receiving information identifying a media presentation system of a particular vehicle associated with a transportation service provider wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service. The method further includes receiving information identifying an electronic device associated with the user. The method further includes generating a first security token for the electronic device associated with the user. The method further includes generating a second security token for the media presentation system of the particular vehicle wherein the first security token and the second security token are useable by the media presentation system of the particular vehicle and the electronic device associated with the user respectively to authorize communication between the media presentation system and the electronic device associated with the user. The method further includes sending the first security token to the electronic device associated with the user. The method further includes sending the second security token to the media presentation system of the particular vehicle and sending media content to the electronic device associated with the user for retransmission to the media presentation system of the particular vehicle.

In some implementations a method is performed at an electronic device associated with a user e.g. a client computer the electronic device having a processor and memory storing instructions for execution by the processor. The method includes requesting reservation of a transportation service wherein the reservation is associated with a particular vehicle of a plurality of vehicles associated with a transportation service provider that provides the reserved transportation service. The method further includes receiving a first security token wherein the first security token is useable by the electronic device associated with the user to authorize communication between the electronic device associated with the user and a media presentation system of the particular vehicle. The method further includes establishing a connection using at least the first security token with the media presentation system of the particular vehicle. The method further includes receiving media content from a server associated with a media content provider and sending the media content to the presentation system of the particular vehicle.

In some implementations a computer system is provided e.g. a server computer a client computer etc. the computer system comprising one or more processor cores and memory storing one or more programs for execution by the one or more processor cores the one or more programs including instructions for performing any of the methods described herein.

In some implementations a computer readable storage medium is provided the computer readable storage medium storing one or more programs the one or more programs comprising instructions which when executed by a system with one or more processor cores cause the system to perform any of the methods described herein.

The client device is a representative electronic device associated with a user. Of course it will be understood that multiple users may be associated with a single client device and a single user may be associated with multiple client devices. In some implementations the client device is any of a personal computer a television a set top box a mobile electronic device a wearable computing device a laptop a tablet computer a mobile phone a feature phone a smartphone a digital media player or any other electronic device capable of sending a request to reserve a service preparing media content for presentation controlling presentation of media content and or presenting media content. The client device communicates with and receives content e.g. music movies etc. from content sources such the content server . The client device also communicates with other devices such as the reservation server . For example as described herein the client device sends service reservation requests to the reservation server .

In some implementations the client device includes a media application that controls the presentation of media by an output device associated with the client device . The output device may be part of the client device such as built in speakers or a screen or may be separate from the client device such as a wirelessly coupled speaker or headphones. The media application is any appropriate program firmware operating system or other logical or physical aspect of the client device that enables presentation of media content by the client device e.g. on an output associated with the client device . For example where the client device is a computer e.g. laptop computer tablet computer mobile phone etc. the media presentation application may be a web browser a video presentation application a music presentation application an email application a media aggregation application or the like.

In some implementations the client device includes a service application that facilitates sending requests from the client device to a server associated with a service provider e.g. the reservation server to reserve a service. The service application is any appropriate program firmware operating system or other logical or physical aspect of the client device that enables a user to request reservation of a service and facilitates the reservation of the service with a service provider e.g. by sending service reservation requests account credentials etc. as discussed herein .

The content server stores content and provides the content via the network s to the client device . In some implementations the content server is associated with a media content provider that provides access to media content to users via a network e.g. the Internet .

Content stored and served by the content server includes any appropriate content including text e.g. articles blog posts emails etc. images e.g. photographs drawings renderings etc. videos e.g. short form videos music videos television shows movies clips previews etc. audio e.g. music spoken word podcasts etc. games e.g. 2 or 3 dimensional graphics based computer games etc. or any combination of content types e.g. webpages that include any combination of the foregoing types of content or other content not explicitly listed . The description of the server as a server is intended as a functional description of the device devices systems processor cores and or other components that provide the functionality attributed to the server . It will be understood that the server may be a single server computer or may be multiple server computers. Moreover the server may be coupled to other servers and or server systems or other devices such as other client devices databases content delivery networks e.g. peer to peer networks network caches and the like.

The reservation server is associated with a service provider that offers reservable services to users. Reservable services include any service for which a user can request a reservation including but not limited to vehicles for hire e.g. taxi cabs rideshare services etc. housing e.g. hotel rooms short long term rental properties etc. air travel and the like. The reservation server receives requests for reservations e.g. from the client device facilitates the creation of the reservation including identifying and selecting an appropriate reservation target e.g. a particular vehicle or particular hotel room and performs any other appropriate tasks related to creating maintaining terminating or processing a reservation.

Reservation targets represent individually reservable services and or locations vehicles and or objects that are associated with reservable services. For example reservation targets are vehicles such as taxi cabs personal vehicles that reservable through a ridesharing program etc. Reservation targets are housing boarding rooms such as hotel motel rooms hostel rooms cabanas apartment house condominium rentals etc. In some embodiments respective reservable services are associated with respective media presentation systems not shown that are capable of receiving media content e.g. from the content server and presenting the received media content. For example where the reservation target is a vehicle the media presentation system for that vehicle may be a network connected audio video system e.g. an infotainment system . As another example a media presentation system for a reservable vehicle may include a smartphone capable of receiving media content from the content server where the mobile phone is coupled to an audio video system of the vehicle e.g. via wired or wireless connection . As yet another example a media presentation system for a hotel room may include a network connected speaker system e.g. a radio alarm clock that is capable of receiving audio content via wireless or wired network connectivity and presenting the audio content . Another example of a media presentation system in a boarding room is a network connected television e.g. a smart TV that is capable of receiving and presenting video content.

Reservation targets and or the media presentation systems of reservation targets are each associated with an identifier e.g. a unique hardware or application identifier a network address etc. that the reservation server and or the content server uses to uniquely identify and or establish communications with the reservation target.

As described herein in some implementations the identifier of a particular reservation target is provided to the content server along with an identifier of the user who reserved that particular target. Accordingly the content server can provide media content to that particular target based on the user s account even though the reservation target is not otherwise associated with the user. In other words the user can access their account using the media presentation system of the reservation target.

While only one reservation server is shown in it will be understood that a single reservation server is not necessarily associated with multiple types of reservation targets. For example reservation targets also referred to as vehicles may be associated with a reservation server of a transportation service and reservation targets also referred to as boarding rooms may be associated with a separate reservation server of a boarding service provider. In some cases a single reservation server or group of servers associated with one service provider facilitates reservations of multiple different services. For example in some implementations the reservation server facilitates the reservations of two or more services such as vehicles for hire and hotel rooms. Also the description of the reservation server as a server is intended as a functional description of the device devices systems processors cores and or other components that provide the functionality attributed to the server . It will be understood that the server may be a single server computer or may be multiple server computers. Moreover the server may be coupled to multiple servers and or server systems or to other devices such as other client devices databases and the like. Indeed the server as used herein represents any of the foregoing devices or combinations thereof.

In some implementations the client device which is associated with one or more users includes a service application . The service application facilitates sending requests from the client device to the reservation server . In this particular example the reservable service is a vehicle for hire service. Accordingly the service application includes and or uses computer code that enables the user to request a vehicle for hire and sends a service reservation request to the reservation server .

In some implementations the service application also performs other user facing functions such as receiving a response from the reservation server indicating whether the reservation has been completed receiving payment information and or other details from the user and generally providing a user interface for any functions necessary in order to complete the reservation. Analogous features and functionalities are provided by service applications for other reservable services such as boarding rooms air travel etc. 

The service application is associated with a service user ID that identifies the user s account with the service provider or otherwise uniquely identifies the user for example if the user does not have an account with the service provider . As shown in the service user ID is User 1. In some implementations the service application becomes associated with the service user ID as a result of the user logging in to a transportation service account e.g. entering a username and password . The service user ID is any identifier that uniquely identifies the user to the reservation server. For example the service user ID can be a username of the account associated with the user an email address of the user or any other appropriate identifier.

In some implementations the client device includes a media application . The media application facilitates access to and control of media content provided by a media content provider e.g. the media content provider associated with the content server . For example the media application includes and or uses computer code that enables users to browse and or search for media content create modify delete playlists or queues of media content and control the playback of media content on the client device e.g. via play stop and skip controls and the like. The media application also provides user interface s to facilitate user control over these and other functions.

In some implementations the media application also includes and or uses computer code that enables users to control playback of media content by a device separate from the client device . For example the media application can communicate with another device to control presentation of media content that is delivered to the other device. The media content is delivered from a content server to the other device or through the client device e.g. from the content server to the client device and then from the client device to the other device .

As a specific example the media application includes media playback controls that can be used to control media playback on a media presentation system of a vehicle. In some cases such functionality is performed without a direct connection between the client device and the controlled device. For example in some vehicle for hire implementations the client device sends media control requests to the content server and the content server implements the media control requests by communicating with the media presentation system of the vehicle. Thus a user can control presentation of media content in the vehicle without having a direct local i.e. peer to peer connection to the vehicle.

The media application is associated with a service user ID that identifies that user s account with the media content provider. As shown in the media user ID is User 1 media. In some implementations the media application becomes associated with the service user ID as a result of the user logging in to a media service account e.g. entering a username and password . The service user ID is any identifier that uniquely identifies the user to the reservation server. For example the service user ID can be a username of the account associated with the user an email address of the user or any other appropriate identifier.

In some implementations the service application includes media playback controls that can be used to control media playback on a media presentation system separate from the client device and in particular of a media presentation system associated with a reservation target. For example in the service application associated with a vehicle for hire service includes user interfaces and associated software that enables the user to control a media presentation system of a vehicle e.g. vehicle . Such controls may be instead of or in addition to the similar functioning controls included in the media application described above. As described above in some cases control requests are sent from the service application to the content server in order to effectuate the requested media control at the vehicle .

As shown in the reservation server is associated with a vehicle for hire service. The reservation server receives service reservation requests e.g. the service reservation request from client devices e.g. the client device and facilitates the creation of the reservation including identifying and selecting an appropriate reservation target e.g. a particular vehicle and performs any other appropriate tasks related to creating maintaining terminating or processing the requested reservation.

As described above reservation targets are associated with a media presentation system that is capable of receiving and presenting media content from a media content provider e.g. a content server associated with a media content provider and are associated with unique identifiers. In the reservation targets are vehicles including vehicle that is associated with a vehicle ID of 123 45 678.

Once a user makes a reservation the reservation server associates the user with a particular reservation target. In some implementations the reservation server contains one or more tables databases or other appropriate data structures that associate respective users with respective reservation targets. For example as shown in the reservation server shows a vehicle ID 123 45 678 associated with User 1 indicating that User 1 has acquired a reservation and the vehicle identified by that vehicle ID is scheduled to provide the reserved service.

In some implementations an association between a user and a reservation target is only active while the user is actively using the service e.g. when the user is in the vehicle associated with the reservation and or while the vehicle is being driven to the user but is not currently carrying another passenger .

In some implementations a reservation is associated with one or more time windows representing the time when the association between the particular user and the reservation target is or will be active. For example when a user reserves a hotel room for a particular future date range the reservation server will immediately associate the user with a particular hotel room even though the reservation is to occur in the future. In such a case the reservation is linked with the date or time range of the reservation and when the date or time of the reservation is reached the association of the hotel room with the user becomes active. When the association between the target and the user is active any features and or functionalities that rely on an active association are enabled. Thus a single reservation target can be scheduled for use by multiple different users even though it will only be active for one user or no user at any given time.

In some implementations reservation targets can be active for multiple users at a given time. For example multiple users may be associated with a reservation for a hotel room. In such a circumstance each of the multiple users may be actively associated with the same reservation target at the same time. Where multiple users are actively associated with the same reservation target the features and or functionalities that are enabled as a result of an active association are available to all of those users. For example multiple users may be sharing a ride and by virtue of each user s active association with the vehicle each user can control the media presentation system of that vehicle.

The content server is described above with respect to and is associated with a media content provider that stores content and provides the content via the network s to client devices e.g. the client device . In some implementations the content server includes one or more tables databases or other appropriate data structures that associate respective users with respective output devices. Output devices are devices to which the content server can send media content. For example output devices include smartphones computers dedicated media players network connected stereo and or speaker systems network connected vehicle media systems and the like.

Content providers may require that an output device be associated with a particular user account or user accounts before it will allow that device to receive content. In some cases a user must provide login credentials e.g. a username and password to an output device so that the output device can in turn authenticate itself and or the user to the content provider. As a result the user can access his or her account through the output device including accessing playlists favorites saved media etc. Moreover where access to the content of the content provider is based on payment of a fee e.g. a one time fee a monthly subscription etc. the content provider is ensured that media content is being accessed only on devices that are associated with a particular user account.

As a specific example a user may establish a smartphone as an output device by inputting login credentials to a media application on the smartphone. In response to receiving the login credentials the media content provider associates the smartphone with the user s account as a valid output device. As another example a user may establish a network connected speaker system which may not have a user interface into which a user can input credentials as an output device by inputting login credentials and an identifier of the speaker system into a different device such as a computer browser that is displaying a website of the media content provider. The media content provider can then associate the speaker system with the account of the user.

The content server in includes an example of a table in which various output devices are associated with various different users. For example a user identified as User 1 media is associated with output devices Mobile Phone Home PC and Temp Service. A user identified as User 2 media is associated with output devices Mobile phone Mac Book and Temp Service. As shown each of the output devices is associated with a unique device ID. Device IDs may be any unique or semi unique identifier of an output device including an IMEI number a network address a unique media application number etc. The Device ID in the figures and present description is intended as a functional description illustrating that the content server can identify output devices by one or more unique identifiers. It will be understood that an output device may be associated with and or identified by other identifiers in addition to or instead of a device ID. For example in some implementations an output device is identified by a unique identification number assigned by the content server as well as a network address of the output device at a particular time. The output device illustrated in bold and italic font indicates the output device that is the currently active output device regardless of whether it is currently receiving media content .

The Temp Service output device is reserved for an output device that is only available to the user on a temporary basis. For example when a user reserves a hotel room or a vehicle for hire it is desirable to provide access to a media presentation device of the hotel room or vehicle only while the user is using the hotel room or vehicle. Also a user may be associated with multiple Temp Service entries. For example a user may have one Temp Service entry for a hotel room in which they are staying another for a vehicle for hire etc.

In some implementations the service reservation request also includes the media user ID of the user s account with the media content provider e.g. User 1 media . Where a user has previously associated a media account user ID with his or her reservation service account however the service reservation request need not include the user ID for the media account. Instead the reservation service can simply look up the appropriate media account user ID e.g. in the Media User ID column in the table shown in the reservation server .

In response to receiving the service reservation request the reservation server identifies a particular vehicle and associates the vehicle ID of the identified vehicle with the user. Thus the vehicle ID 123 45 678 corresponding to vehicle is associated with User 1 in reservation server .

The reservation server then sends a media user ID vehicle ID message to the content server . The media user ID vehicle ID message includes information identifying the user and the particular reservation target associated with the user. For example in some implementations the message includes the user s Media User ID and the associated vehicle s Vehicle ID. 

The media user ID in the message is a user ID that identifies that user s account with the media content provider. In some implementations the media user ID is or includes a username and or password or encrypted versions thereof associated with the user s account. Alternatively the media user ID is any identifier that the content server can use to identify a specific user.

In some implementations the vehicle ID in the message is an address of the vehicle associated with the reservation or any other identifier that can be used to lookup an address or otherwise establish communication with the vehicle and or the media presentation system of the vehicle.

In some implementations the message is sent from the reservation server to the content server when the user is actually consuming the reserved service such as when the user is in the vehicle as determined by GPS coordinates or other techniques as described herein . Alternatively or additionally the message is sent to the content server prior to the time when the user is consuming the reserved service. In such cases the message may include time window s in which the reservation is to be consumed. Accordingly the content server can allow media content to be accessed by the user through the media presentation device of the reserved service during the time window s provided by the reservation server .

In response to receiving the message the content server associates the particular vehicle identified in the message with the account of the user identified in the message . Thus in the vehicle ID 123 45 678 is listed as a temp service under the user s account indicating that the media presentation system of this vehicle is permitted to receive and output media content by virtue of this particular user s account. By contrast there is no device ID listed in the temp service entry for a user who is not associated with a reserved service e.g. the user account for User 2 media .

In response to satisfaction of one or more conditions described herein the content server facilitates allows and or initiates access by the vehicle to media content from the media content provider. For example the content server sends media content e.g. via a streaming media protocol to the vehicle . Access to media content is granted based on the association of the vehicle with the account of the user User 1 media . That is if the vehicle were not associated with any account with the media content provider then the vehicle and or the media presentation system of the vehicle would not be permitted to access the media content. Similarly if the vehicle is instead associated with a different user e.g. User 2 media then access to the media content would be based on the permissions associated with the account of that user instead.

By associating a particular reservation target with a particular user account the media content provider can implement rules and policies relevant to the particular user account and allow access to account specific data that is associated with the particular user account. For example the media content provider can enforce access limits that apply to that particular account as it would with any other media presentation device associated with that user and or user account. Thus if a user has already consumed a maximum allotment of media content the user will be unable to access additional media content through the media presentation device of the reservation target. Also account specific data such as stored playlists favorite content items currently playing content and the like are all available through or otherwise accessible by the media presentation system of the reservation target. Furthermore usage can be monitored by the media content provider and stored in association with the user s account e.g. to store media access history track and enforce access limits and the like .

As noted above presentation of or access to media content by the vehicle is initiated in response to satisfaction of one or more conditions. For example the client device may send a media control request to the content server which causes the content server to initiate a stream of media content to the vehicle . Media control requests are configured to cause the content server to perform any appropriate action and include any appropriate data messages etc. Exemplary actions caused by media control requests include initiating or terminating a media content stream navigating between media content items seeking within media content items initiating playback of a playlist and the like. In some cases the media control request is sent in response to a user input on the client device . More specifically the media control request is sent to the content server in response to a user selection of a user interface element e.g. a play button an identifier of a media content item etc. provided by the media application .

In some implementations the media control request is sent without user input. For example the client device determines or is informed that the user has or is likely to have entered the vehicle e.g. based on a determination that the client device is within close geographic proximity to the vehicle and in response sends the media control request to the content server . More specifically when the user gets into the vehicle the client device without user input sends a media control request requesting playback of a song on the vehicle s audio system. Alternatively just before the user enters the vehicle the client device sends a media control request without user input and the vehicle s audio system begins caching a media stream for playback. Accordingly in some implementations such media control requests cause immediate playback of content by the vehicle s audio system whereas in other implementations they cause the vehicle s audio system to pre fetch and or cache media content that will be played back at a later time and or in response to another media control request which may be generated without user input or in response to a user input .

While not illustrated in a media control requests may come from other devices. For example in various implementations media control requests are sent to the content server or any other appropriate device from the reservation server the vehicle i.e. the reservation target or other devices that are not shown. Also media control requests may be sent to devices other than the content server such as other servers peer client devices or the like that are associated with the media content provider and can respond to a media control request.

In some implementations media control requests that cause media content to be sent to the reservation target are sent in accordance with a determination that the user is likely to be at or near the reservation target such as when the user is in a reserved vehicle or hotel room. For example in the context of a vehicle for hire location information of both the client device and the vehicle are analyzed to determine whether they are within a threshold distance of one another. Once it is determined that they are within the threshold distance of one another playback of media content begins at the reservation target.

Any device or combination of devices can be used to determine whether the client device and the vehicle are within the threshold distance of one another. For example in some implementations the client device and the vehicle each send their respective location information to the content server and the content server determines whether the client device and the vehicle are within the threshold distance e.g. within 5 10 25 or 50 feet or any other appropriate distance . If so the content server begins sending or enables the sending of media content to the media presentation device of the vehicle .

In another implementation the client device and the vehicle each send their respective location information to the reservation server and the reservation server determines whether the client device and the vehicle are within the threshold distance e.g. within 5 feet 10 feet 25 feet 50 feet or any other appropriate distance . If so the reservation server sends a media control request to the content server requesting that media content be sent or enabled to be sent to the media presentation device of the vehicle .

In yet another implementation the client device and the vehicle communicate with one another to determine whether they are within the threshold distance of one another. Once it is determined by either device that they are within the threshold distance of one another one or both device will send a media control request to the content server requesting that media content be sent or enabled to be sent to the media presentation system of the vehicle .

In some implementations the communication between the client device and the vehicle includes one or both devices exchanging location information e.g. based on GPS coordinates cell tower triangulation or the like . Accordingly the devices determine their relative proximity and thus whether they are within the threshold distance based on their detected geographic locations.

In some implementations the communication between the client device and the vehicle includes one or both devices being brought into close enough range to allow them to detect one another and or connect to one another using a short range wireless signal such as those associated with BLUETOOTH BTLE communication technologies radio frequency based near field communication technologies infrared communication technologies etc.

In some implementations an operator of a reservation target must explicitly approve of the presentation of media content before media content may be played back by the media presentation system. For example in some implementations if a user wants to listen to music on the audio system of the vehicle the driver of the vehicle must first take an appropriate action to indicate that media presentation via the audio system of the vehicle is permitted. Accordingly a driver can control when and whether the audio system of the vehicle can be controlled by a passenger.

Approval or consent may be received before or after a media control request requesting presentation of media content is sent. In either case media content is not able to be presented at the media presentation system of the reservation target until the approval or consent is received. Moreover in some implementations the driver of the vehicle or an operator or controller of any reservation target can terminate or pause presentation of media content at any time. For example a device and or user interface through which the driver communicates with the reservation server and or the content server provides user interface elements that when selected send a media control request to the content server that will cause the presentation of media content to be paused or terminated. In some implementations such a request from the operator or controller of a reservation target overrides any requests by the user. Thus a driver of a vehicle for hire for example can turn off media content in order to avoid distractions or other dangerous conditions.

In some implementations at some point after a user creates a reservation for a service and before media content is played by the media presentation system of the reservation target media content is cached or preloaded on the media presentation system of the reservation target. For example in some cases media content is cached or preloaded on the media presentation system of the reservation target in response to the creation of the reservation e.g. immediately after after a delay etc. . In other cases media content is cached or preloaded on the media presentation system of the reservation target a certain amount of time prior to a scheduled start time of the service. As a specific example in some implementations media content is cached or preloaded on the media presentation system of the reservation target 1 minute or 2 3 4 or 5 minutes or any other appropriate duration prior to the scheduled start time of the service. In other implementations media content is cached or preloaded on the media presentation system of the reservation target when the vehicle is a specified distance from the user e.g. when the vehicle is within 100 feet from the user .

The time of provision of the service is determined or estimated in any appropriate way. For example in some implementations in the case of a vehicle for hire a scheduled pick up time is used to determine when to begin caching or preloading content on the media presentation system of the vehicle. In other implementations an estimated time of arrival is determined for the vehicle e.g. based on the pick up location the vehicle s location traffic travel routes between the pick up location and the vehicle s location etc. and content is cached or preloaded at the appropriate time based on the estimated time of arrival e.g. 1 minute prior to the estimated time of arrival .

The content that is cached or preloaded on the media presentation system of the reservation target is selected in any appropriate manner. For example if the user associated with the reservation is consuming media content when the caching or preloading is to begin the content that is cached or preloaded is the content that the user will be listening to at the start time of the service. As a specific example if a user is listening to a song via the client device and a vehicle is scheduled to pick up the user in 2 minutes media content corresponding to the portion of the song that will be playing in 2 minutes time will be cached or preloaded on the media presentation system of the reservation target. If the user is playing music from a playlist album or other sequence of content items the media presentation system of the reservation target caches or preloads any upcoming content item in the sequence that is scheduled to be presented at or near the start time of the service.

While illustrates several example communications between the illustrated components these communications are not meant as an exhaustive list of possible communications nor are all or any of these communications necessarily required. Indeed they are intended more to illustrate an example of how data and commands may be passed between various devices to implement features and functionalities described herein as well to illustrate how data and commands are passed between devices in some implementations. Moreover systems and methods described with respect to also apply to including techniques for caching or preloading content enabling automatic playback of media content and allowing service providers e.g. drivers to override user control.

In particular the client device sends a service reservation request to the reservation server as described above. Once the reservation server identifies a particular reservation target in this example like that in the reservation target is a vehicle the reservation server sends a vehicle ID message to the client device . The vehicle ID message includes the vehicle identifier.

The client device then sends the media user ID vehicle ID message to the content server . The message includes the vehicle ID received from the reservation server as well as the media user ID associated with the client device . The message may be generated and sent by the service application and or the media application . For example in some implementations the service application receives the vehicle ID message and passes the vehicle ID contained therein to the media application which in turn generates and sends the media user ID vehicle ID message . In some implementations the service application and the media application communicate and pass information between them using one or more application programming interfaces API .

The content server responds to receiving the message in the same or similar manner as described above with respect to . Moreover the description of the media control request and the media content provided with respect to applies equally to the instances shown in and are not repeated here.

One distinction between the techniques described in is that in the message is sent from the reservation server whereas in it is sent from the client device . Accordingly a reservation target can be associated with a user account without requiring the reservation server to communicate directly with the content server . Rather the content server need only communicate with the client device in order to receive the information required to authorize the media presentation system of the reservation target e.g. vehicle as an output device for a user.

In particular the client device sends a service reservation request to the reservation server as described above. Once a particular reservation target e.g. a vehicle is identified the reservation server sends a reservation confirmation message to the client device.

In response to receiving the reservation confirmation message the client device sends a service ID media user ID message to the content server . In some implementations the message includes information that is usable by the reservation server to identify a reservation target associated with a reservation. For example the message includes the service user ID of the user s account with the provider of the reserved service e.g. User 1 . The message also includes information indicating that the user has reserved a transportation service.

In some implementations instead of including a service ID in the message the content server uses a previously stored service ID of the user. Thus upon receipt of a message that does not include the service ID the content server looks up the service ID associated with the user from whom the message was received and uses the stored information to generate an appropriate vehicle ID request .

The message either based on its content or the fact of its delivery to the content server causes the content server to send a vehicle ID request to the reservation server . The vehicle ID request includes information that is usable by the reservation server to identify a reservation target associated with a reservation. For example the vehicle ID request may include the service user ID of the user s account with the service provider in this example User 1 .

In response to the vehicle ID request the reservation server looks up the vehicle ID that is associated with the user and sends a vehicle ID message that includes the vehicle ID to the content server .

In response to receiving the vehicle ID message the content server associates the vehicle ID 123 45 678 corresponding to vehicle with the media account of the user and establishes this target as a valid output device for the user.

The description of the media control request and the media content provided with respect to applies equally to the instances shown in and accordingly are not repeated here.

In particular the client device sends a service reservation request to the reservation server as described above. Once a particular reservation target e.g. a vehicle is identified the reservation server sends a media user ID vehicle ID message to the client device.

In response to receiving the media user ID vehicle ID message the content server generates respective security tokens for the client device and the vehicle identified in the message . The content server then sends a client security token to the client device and a vehicle security token to the vehicle . The security tokens and which may also be referred to as access tokens allow the client device and the media presentation system of the vehicle to establish a communication connection so that media content received by or already stored on the client device can be sent to the media presentation system of the vehicle . By sending security tokens to the client device as well as the vehicle the communication connection between these devices can be established without requiring the user of the client device or the user of the media presentation system of the vehicle to enter security credentials or otherwise manually pair the devices to one another.

Both security tokens are not necessarily required to be sent in order for the connection to be established between the client device and the vehicle . For example in some implementations only one of the security tokens needs to be sent. In other implementations the connection is established without security tokens being sent to the devices.

Once the connection is established between the client device and the vehicle media content received by the client device or media content previously stored on the client device is or can be forwarded to the media presentation system of the vehicle .

In some implementations the connection that is established between the client device and the media presentation system of the vehicle uses a wireless communication technology such as BLUETOOTH BTLE Wi Fi e.g. IEEE 802.11 or the like. The client and vehicle security tokens include any information necessary or helpful to allow the client device and the media presentation system of the vehicle to establish communications. Optionally the client device connects to the media presentation system of the vehicle using a wired connection e.g. 2.5 mm mono 3.5 mm mono stereo 6.35 mm USB or other connectors .

In particular illustrates example communications between the illustrated components for authorizing a reservation service provider and or an associated service application to access and or control media from the media service provider using the account of the user.

In some implementations a user interacts with the service application to authorize the service provider and associated components and applications such as the reservation server to interact with the media content provider to allow media presentation in a reservation target. For example the user is presented with an option in a user interface of the service application to link the user s reservation service account with the user s media account. In some embodiments once the user selects the option to link the user s reservation service account with the user s media account the service application presents information to the user about what information related to the user s media service account and or other personal information the reservation service provider will receive as a result of the account linking also known as the privacy terms and the user is able to continue or terminate the account linking at this point.

In response to receiving the request from the user and optionally receiving an input accepting the privacy terms the service application sends an authentication request to the media application .

The media application generates and returns an authentication code to the service application . The service application then sends the authentication code to the reservation server which in turn sends the authentication code to the content server . Example authentication code 123XYZ is shown in the reservation server in . In some implementations reservation server stores the authentication code in association with the service ID and or other information that is associated with the user of the client device .

In some implementations the reservation server sends to the content server a shared secret in addition to the authentication code . The content server then determines whether the shared secret and the authentication code are valid. Checking the validity of the shared secret allows the content server to ignore authentication requests from devices or entities that are not authorized to make such requests e.g. other reservation services or malicious entities attempting to access the media service provider . Similarly checking the validity of the authentication code allows the content server to ignore authentication requests from malicious devices that are attempting to access the media content provider.

If the authentication code and the optional shared secret are valid the content server returns an access token to the reservation server. The reservation server stores the access token in association with the service ID that is associated with the user of the client device . As described herein the access token is used by a reservation target to initialize a session between the reservation target e.g. the media presentation system of a vehicle and the content server . An example access token ZZZYYY is shown stored in the reservation server in .

A user interacts with the client device e.g. the service application to cause a service reservation request to be sent to the reservation server . In some implementations the service reservation request includes the service user ID of the user s account with the reservation service provider e.g. User 1 . In response to receiving the service reservation request the reservation server identifies a reservation target e.g. vehicle . In some implementations identifying the reservation target includes publishing a reservation request to a plurality of reservation targets and receiving an acceptance of the reservation request from a particular reservation target. The particular reservation target that accepted the reservation request is then identified as the reservation target.

Once the reservation target is identified e.g. vehicle the reservation server sends the access token to the reservation target along with optional additional information such as the service user ID and or the media ID of the requesting user . In some implementations the access token is sent to and or received by a media presentation device of the vehicle and or a device associated with an operator of the vehicle . The reservation target may be a device that is associated with the operator and is distinct from the media presentation device or may be the media presentation device itself. 

The reservation target then sends session initialization information to the content server . In some implementations the session initialization information includes the access token . The content server verifies that the access token is valid and if so it initializes a session between the reservation target e.g. a media presentation system of the vehicle or a device associated with an operator of the vehicle and the content server . In some implementations initialization of the session includes the content server establishing the reservation target as a valid output device for the user. As shown in the Vehicle ID 123 45 678 is stored in association with the user s media account as a temporarily valid output device ID.

As noted herein in some implementations the service application includes controls and or user interfaces enabling a user to navigate select for playback and otherwise control or interact with media content. In response to a user s selection of such controls the client device sends a media control request to the reservation server . The reservation server forwards the media control request to the reservation target associated with the user e.g. vehicle and the reservation target forwards the media control request to a device associated with the operator of vehicle . Alternatively the reservation server forwards the media control request to the device associated with the operator of vehicle e.g. the device is effectively the reservation target .

In some implementations the reservation target is associated with an application that is primarily configured to facilitate communications and interactions with the reservation server e.g. service application . For example an operator of vehicle will have a smart phone with an application that allows the driver to accept reservation requests etc. In some implementations the application associated with the reservation target includes a media control module e.g. an embedded software development kit eSDK such as media control module a software development kit one or more application programming interfaces or any other appropriate programmatic element that communicates with or operates on behalf of the content server . For example when the reservation target receives the media control request the application will forward the media control request to the media control module or a component thereof such as media coordination module and the media control module communicates or facilitates communication with the content server to execute the media control request and or receive media content from the content server .

In some implementations instead of using the service application to select media content items a user of the client device in some implementations uses the media application to select media content items. As pictured in after the user selects a media content item using media application a media control request is sent to content server which then routes sends the media content item corresponding to the media control request to the device associated with the operator of vehicle e.g. by sending the media content item or audio data associated therewith to the media coordination module which then sends the media content item to the service application . The device associated with the operator of the vehicle is then able to present the media content item at the media presentation system of the vehicle .

The device associated with the operator of the vehicle may terminate the session e.g. when the user s ride is over . For example the media controller module sends a message to the content server terminating the session.

Additional details regarding the exchanges of information illustrated in are provided below in reference to .

Once again use a vehicle for hire service as a concrete example of a reservation service for which the systems and methods described herein are applied. However it will be understood that the figures devices messages and the related discussion thereof apply by analogy to any reservable service and any reservation target including hotel boarding rooms cabanas air travel train travel office rental and the like. Moreover in some implementations the systems and methods described herein apply to other contexts services or industries regardless of whether they use a reservation paradigm. For example any entity that is capable of authorizing a media presentation device to access media content via a particular user s account can use the disclosed systems and methods regardless of whether the authorization is related to or associated with a reservation. 

Memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices optical disk storage devices flash memory devices or other non volatile solid state storage devices. Memory optionally includes one or more storage devices remotely located from one or more CPUs . Memory or alternatively the non volatile memory device s within memory includes a non transitory computer readable storage medium. In some implementations memory or the computer readable storage medium of memory stores the following programs modules and data structures or a subset or superset thereof 

Each of the above identified elements may be stored in one or more of the previously mentioned memory devices and corresponds to a set of instructions for performing a function described herein. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

Memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices optical disk storage devices flash memory devices or other non volatile solid state storage devices. Memory optionally includes one or more storage devices remotely located from one or more CPUs . Memory or alternatively the non volatile memory device s within memory includes a non transitory computer readable storage medium. In some implementations memory or the computer readable storage medium of memory stores the following programs modules and data structures or a subset or superset thereof 

Each of the above identified elements may be stored in one or more of the previously mentioned memory devices and corresponds to a set of instructions for performing a function described herein. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset or superset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

Although shows the reservation server is intended more as a functional description of the various features that may be present in one or more servers than as a structural schematic of the implementations described herein. In practice and as recognized by those of ordinary skill in the art items shown separately could be combined and some items could be separated. For example some items shown separately in could be implemented on a single server and single items could be implemented by one or more servers. The actual number of servers used to implement the reservation server and how features are allocated among them will vary from one implementation to another and optionally depends in part on the amount of data traffic that the system must handle during peak usage periods as well as during average usage periods.

Memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices optical disk storage devices flash memory devices or other non volatile solid state storage devices. Memory optionally includes one or more storage devices remotely located from one or more CPUs . Memory or alternatively the non volatile memory device s within memory includes a non transitory computer readable storage medium. In some implementations memory or the computer readable storage medium of memory stores the following programs modules and data structures or a subset or superset thereof 

Each of the above identified elements may be stored in one or more of the previously mentioned memory devices and corresponds to a set of instructions for performing a function described herein. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules may be combined or otherwise re arranged in various implementations. In some implementations memory optionally stores a subset or superset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

Although shows the content server is intended more as a functional description of the various features that may be present in one or more servers than as a structural schematic of the implementations described herein. In practice and as recognized by those of ordinary skill in the art items shown separately could be combined and some items could be separated. For example some items shown separately in could be implemented on single servers and single items could be implemented by one or more servers. The actual number of servers used to implement the content server and how features are allocated among them will vary from one implementation to another and optionally depends in part on the amount of data traffic that the system must handle during peak usage periods as well as during average usage periods.

Attention is directed to which is a flowchart illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the device that performs the method is the reservation server . While the following steps are described as being performed by the reservation server it will be understood that any given step may be performed instead by any other appropriate device server system or combination of such components e.g. multiple computers or servers associated with a reservation service .

The reservation server e.g. the reservation server receives from a user a request to reserve a transportation service wherein the user is associated with a media account authorizing the user to access media content from a media content provider . As mentioned above although method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services. For example in some implementations instead of a request to reserve a transportation service the reservation server receives a request to reserve a housing service e.g. a hotel room a vacation rental etc. air travel a cabana or the like. In such cases the reservation target is any appropriate reservation target for such a service such as a particular hotel room a particular airline seat on a particular flight a particular cabana and or media presentation system s associated therewith. 

In response to receiving the request to reserve the transportation service the reservation server identifies a particular vehicle from a plurality of vehicles wherein the particular vehicle includes a media presentation system capable of presenting media from a media content provider . In some implementations the selection of the particular vehicle occurs at a user or client device e.g. client device . In other words the user selects the particular vehicle and information identifying the selected vehicle is sent to the transportation service server. In other implementations the reservation server or an operator of the reservation server selects the particular vehicle. In some cases the user selects the particular vehicle but the driver can decline the user s request.

In some implementations the media presentation system of the particular vehicle includes a handheld electronic device with wireless communication capabilities e.g. a smartphone tablet computer streaming media receiver GPS device and or any other appropriate device .

In some implementations the handheld electronic device is configured to be communicatively coupled to an audio system of the particular vehicle via wired and or wireless connection e.g. using BLUETOOTH BTLE Wi Fi etc. .

In response to receiving the request to reserve the transportation service the reservation server sends to a server associated with the media content provider information identifying the media account associated with the user . In some implementations the information identifying the media account associated with the user is or includes a username a password a unique identifier and or any other information that identifies the media account associated with the user or with which information that identifies the user can be derived or retrieved.

In response to receiving the request to reserve the transportation service the reservation server sends to a server associated with the media content provider information identifying the media presentation system of the particular vehicle . In some implementations information identifying the media presentation system of the particular vehicle is or includes a vehicle identification number a network address of the media presentation device a unique identifier of the media presentation system e.g. a media access control MAC address or any of the various identifiers associated with wireless communication devices including an international mobile station equipment identity number IMEI a mobile equipment identifier number MEID an international mobile subscriber identity number IMSI an electronic serial number ESN a mobile subscriber integrated services digital network number MSISDN etc. or any other appropriate information that identifies the media presentation system of the particular vehicle or from which information that identifies media presentation system of the particular vehicle can be derived or retrieved.

In some implementations prior to receiving the request to reserve the transportation service the reservation server receives from the user information identifying the media account associated with the user and associates the media account with a transportation service account associated with the user wherein the transportation service account associated with the user authorizes the user to access transportation services provided by a transportation service provider. For example as shown in a reservation service user account identified as relating to User 1 is associated or linked with the media account of User 1 media. This association between accounts and or user identifiers is maintained by the reservation server for future reference or use.

In some implementations instead of or in addition to the reservation server associating the media account with the transportation service account of the user the content server associates the media account with the transportation service account of the user.

In some implementations the reservation server determines whether provision of the transportation service to the user has ceased .

In some implementations a determination that provision of the transportation service to the user has ceased at corresponds to receipt of an indication from an electronic device associated with the particular vehicle e.g. a smartphone GPS device taxi meter or any other appropriate device that provision of the transportation service to the user has ceased. For example in some implementations a driver interacts with a metering application in order to signal that the user has been dropped off at the desired destination which may be required of the driver by the transportation service provider to enable calculation of the fare due to the transportation service provider . In other cases the determination is made automatically. For example using any appropriate locating technique s e.g. near field communications GPS etc. one or more devices determine that the user has left the proximity of the vehicle and an indication of this event is sent to the reservation server.

Alternatively or additionally a determination that provision of the transportation service to the user has ceased corresponds to a determination that a payment receipt or a service completion message has been sent to the client device e.g. via email text message SMS in application messaging service etc. . Such messages may be sent as a matter of course as users may be solicited for feedback after each ride. Such solicitations effectively indicate that provision of the transportation service has ceased as they are sent automatically after each transportation instance.

In accordance with a determination that provision of the transportation service to the user has ceased the reservation server sends to the server associated with the media content provider e.g. the content server information indicating that provision of the transportation service to the user has ceased . In response to receiving information indicating that provision of the transportation service has ceased the server associated with the media content provider ceases sending allowing media content to be sent to the media presentation system of the particular vehicle and or disassociates the media presentation system of the particular vehicle from the media account associated with the user.

Attention is directed to which are flowcharts illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the electronic device that performs the method is the content server . While the following steps are described as being performed by the content server it will be understood that the steps may be performed by any other appropriate device server system or combination of such components e.g. multiple computers or servers associated with a media content provider . Also while method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services as described above.

With respect to the content server e.g. the content server receives from a server associated with a transportation service provider e.g. the reservation server information identifying a media account associated with a user . Types of information that identify the media account associated with the user are discussed above with respect to .

The content server receives information identifying a media presentation system of a particular vehicle wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service. Types of information that are sent to the media presentation system of the particular vehicle are discussed above with respect to .

The content server receives a media control request . The media control request e.g. the media control request includes any appropriate data messages etc. and is capable of causing the content server to perform any appropriate action such as initiating or terminating a media content stream navigating between media content items seeking within media content items initiating playback of a playlist and the like. The media control request is sent by any appropriate device including for example the client device the reservation server the media presentation system of a reservation target etc.

In response to receiving the media control request the content server causes the media presentation system of the particular vehicle to perform an action in accordance with the media control request .

In some implementations causing the media presentation system of the particular vehicle to perform the action includes sending an appropriate command to the media presentation system of the particular vehicle e.g. a command to stop skip pause fast forward rewind etc. .

In some implementations causing the media presentation system of the particular vehicle to perform the action includes sending media content to the media presentation system of the particular vehicle . For example in response to receiving a media control request that requests media content e.g. media content to be played back at the media presentation system of a vehicle the content server sends media content to the media presentation system and optionally commands the media presentation system to begin playing back the media content. As noted above the media content is any appropriate media content including but not limited to audio e.g. music audio books podcasts voice recordings etc. video e.g. movies television shows broadcast cable television channels etc. and images e.g. photographs cartoons etc. . In some implementations the media content is at least a portion of a media content e.g. at least a portion of an audio file .

In some cases instead of sending media content to the media presentation system the content server causes another device or server to send the media content. Alternatively or additionally if the media content is already stored cached and or preloaded on the media presentation system the content server sends a command to the media presentation system to initiate presentation of the stored cached and or preloaded content.

With reference to in some implementations the media control request is sent to the content server in accordance with a determination that the user is within a threshold distance to the particular vehicle .

In some implementations the determination that the user is within the threshold distance corresponds to a determination that a geographic location of the electronic device associated with the user is within a threshold distance of a geographical location of the particular vehicle . In some implementations the threshold distance is 5 10 25 or 50 feet or any other appropriate distance.

In some implementations the threshold distance is based at least in part on the position error of one or both of the electronic device associated with the user and the particular vehicle. For example the user is determined to be within the threshold distance if the distance between the particular vehicle and the electronic device associated with the user is less than or equal to or substantially equal to the sum of the position errors. As a specific example if the position error of the particular vehicle is 10 feet and the position error of the electronic device associated with the user is 40 feet then the user is within the threshold distance if the distance between the vehicle and the electronic device associated with the user is determined to be equal to or less than 50 feet.

In some implementations the determination is made by the electronic device associated with the user a positioning device associated with the particular vehicle the server associated with the media content provider a server associated with the transportation service provider or any combination of these devices. Where the determination is made by a device or combination of devices separate from the content server the device s that made the determination send one or more messages to the content server indicating that the user is within the threshold distance.

In some implementations the determination that the user is within the threshold distance corresponds to a determination that the electronic device associated with the user e.g. the client device is travelling at or above a threshold speed. In particular the speed of the electronic device associated with a user e.g. a smartphone can indicate proximity to a vehicle i.e. whether the user is within the threshold distance because if the electronic device associated with the user is travelling at or above a threshold speed e.g. 25 miles per hour it is most likely because the user is in the vehicle. Thus once the user s device is determined to be travelling above a certain speed that is indicative of a vehicle e.g. 20 25 30 or 35 miles per hour or any other appropriate speed the user s device sends one or more messages to the content server indicating that the user is within the threshold distance of the vehicle. In some implementations the threshold speed is an average speed at which the electronic device is travelling so that a vehicle idling at a traffic light or in traffic will not disrupt the media playback. In other words once the threshold speed is reached dropping below that speed will not cause the media playback to stop.

In some implementations the content server receives a media control permission indication wherein the media presentation system of the particular vehicle is not caused to perform the action until after the media control permission indication is received. Thus as described above a driver or passenger of a vehicle can control when or whether a passenger can control the media presentation system of the vehicle. Specifically the server associated with the media content provider e.g. the content server will not send media content to the media presentation system of the vehicle until and unless the driver or passenger of the vehicle causes the media control permission indication to be sent to the content server . Alternatively the media content provider e.g. the content server sends media content to the media presentation system of the vehicle but the media presentation system will not playback the media content until the driver or a passenger permits it to do so.

In some implementations the media presentation system of the vehicle begins playback of the media content a predetermined amount of time after the user enters the vehicle so as to allow a period of time for the user to communicate a destination to the driver without disrupting playback and or the volume of the media presentation system gradually increases upon the user entering the vehicle.

In some implementations the media control permission indication corresponds to a selection by a driver or passenger of the particular vehicle of an affordance displayed on an electronic device associated with the particular vehicle.

In some implementations the media control permission indication corresponds to an indication by a driver or passenger of the particular vehicle that the driver has picked up the user. For example a driver may be required by a vehicle for hire service to indicate when a user is picked up in order to determine when to start billing for the use of the service. This same indication may be used to indicate that the user is permitted to have control of the media presentation system of the vehicle.

In some implementations the electronic device associated with the particular vehicle is a smartphone assigned to or otherwise associated with the driver and or the particular vehicle. In other implementations the electronic device associated with the particular vehicle is a navigation system radio information and entertainment infotainment system or other device associated with the vehicle where such electronic device is connected to one or more communication networks for communicating with or otherwise sending communications toward the server associated with the media content provider and or other devices.

With respect to in some implementations in response to receiving the information identifying the media presentation system of the particular vehicle and prior to receiving the media control request from the electronic device the content server sends preloads media content to the media presentation system of the particular vehicle . Thus media content e.g. media content is cached and or preloaded on the media presentation system of the vehicle prior to any request to present the content. This reduces latency between the time when a request to begin presenting media content is ultimately issued and when the media presentation actually begins thus providing a good user experience.

In some implementations sending the media content to the media presentation system of the particular vehicle includes sending at least a portion of one or more upcoming media content items in an active playlist e.g. one or more upcoming songs in a playlist that the user is currently listening to on a mobile phone for example . An active playlist is a playlist that is currently being played by the user e.g. on the client device .

In some implementations the content server obtains an estimated arrival time of the particular vehicle at a location associated with the user . For example as noted above the estimated arrival time of a vehicle may be determined based on the pick up location i.e. an address or geographic coordinates at which the user is to be picked up the vehicle s location i.e. the geographic location of the vehicle at a particular time and the predicted or planned travel route between the pick up location and the vehicle s location in addition to any other factors such as traffic road construction etc. . Any device or combination of devices can be used to determine the estimated arrival time such as a smartphone associated with a user e.g. the client device a smartphone associated with the particular vehicle a server associated with the service provider e.g. the reservation server and or a server associated with the content provider e.g. the content server .

In some implementations the content server identifies at least one upcoming media content item in an active playlist wherein the at least one upcoming media content item corresponds to a media content item that is scheduled to be played back at the estimated arrival time of the particular vehicle. An active playlist is a playlist that is currently being played by the user e.g. on the client device .

In some implementations the content server sends preloads at least a portion of the at least one upcoming media content item to the media presentation system of the particular vehicle .

In some implementations the portion of the at least one upcoming media content item includes a first portion of the at least one media upcoming content item that is scheduled to be played back prior to the estimated arrival time and a second portion of the at least one upcoming media content item that is scheduled to be played back after the estimated arrival time. Thus the media presentation system of the vehicle caches and or preloads content that is scheduled to be played back both before and after the estimated arrival time thus allowing for slight deviations in the actual arrival time while still ensuring that appropriate media content is cached and or preloaded.

In some implementations the estimated arrival time of the vehicle is updated as the vehicle approaches the user and the content that is cached and or preloaded on the media presentation system of the vehicle is adjusted in accordance with the updated estimated arrival time. Thus if a vehicle is delayed resulting in a later estimated arrival time content that is scheduled to be played back at the later estimated arrival time is sent to the media presentation system of the particular vehicle.

Attention is directed to which are a flowchart illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the device that performs the method is the client device which may be for example a smartphone computer tablet or the like. While the following steps are described as being performed by the client device it will be understood that the steps may be performed by any other appropriate device server system or combination of such components. Also while method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services as described above.

With respect to the client device e.g. the client device sends to a server associated with a transportation service provider e.g. the reservation server a request e.g. a service reservation request to reserve a transportation service .

The client device receives e.g. from a server associated with a transportation service provider such as the reservation server information identifying a media presentation system of a particular vehicle associated with the transportation service provider wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service . Examples of information identifying the media presentation system of the particular vehicle e.g. vehicle ID message are provided in the discussion of above.

The client device sends to a server associated with the media content provider information identifying a media account of a user . In some implementations the information identifying the media account associated with the user is or includes a username a password a unique identifier and or any other information that identifies the media account associated with the user or with which information that identifies the user can be derived or retrieved.

Furthermore the client device sends to a server associated with the media content provider the information identifying the media presentation system of the particular vehicle .

In some implementations the client device determines whether provision of the transportation service to the user has ceased . In accordance with a determination that provision of the transportation service has ceased the client device sends to the server associated with the media content provider e.g. the content server information indicating that provision of the transportation service has ceased . Examples of actions performed by a server in response to receipt of information indicating that provision of the transportation service has ceased are discussed above with respect to .

With reference to in some implementations the client device sends to the server associated with the media content provider e.g. the content server a media control request . Media control requests are discussed above with respect to .

In some implementations the media control request is sent to the content server in accordance with a determination that the user is within a threshold distance to the particular vehicle . Furthermore in some implementations the determination that the user is within the threshold distance corresponds to a determination that a geographic location of the electronic device associated with the user is within a threshold distance e.g. 5 10 or 15 feet of a geographical location of the particular vehicle . Techniques and devices for determining that the user is within a threshold distance as well as actions performed in response to the determinations are discussed above with respect to .

In some implementations prior to sending the media control request the client device sends to the server associated with the media content provider an estimated arrival time of the particular vehicle at a location associated with the user . Furthermore in some implementations the client device sends to the server associated with the media content provider information identifying at least one upcoming media content item in an active playlist wherein the at least one upcoming media content item corresponds to a media content item that is scheduled to be played back at the estimated arrival time of the particular vehicle.

In some implementations upon receiving from the client device information identifying at least one upcoming media content item in an active playlist the server associated with the media content provider e.g. content server sends at least a portion of the at least one upcoming media content item to the media presentation system of the particular vehicle as described above with respect to .

Attention is directed to which are flowcharts illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the electronic device that performs the method is the content server . While the following steps are described as being performed by the content server it will be understood that the steps may be performed by any other appropriate device server system or combination of such components e.g. multiple computers or servers associated with a media content provider . Also while method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services as described above.

With respect to the content server e.g. the content server receives from an electronic device associated with a user e.g. the client device information identifying a media account associated with the user . Examples of information identifying the media account associated with the user are provided above with respect to .

The content server receives from an electronic device associated with a user information identifying a media presentation system of a particular vehicle wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service . Examples of information identifying the media presentation system of the particular vehicle e.g. vehicle ID message are provided in the discussion of above.

With reference to the content server receives from an electronic device associated with a user a media control request . Media control requests are discussed in greater detail above with respect to .

In response to receiving the media control request the content server causes the media presentation system of the particular vehicle to perform an action in accordance with the media control request . In some implementations causing the media presentation system of the particular vehicle to perform the action includes sending media content to the media presentation system of the particular vehicle . For example in response to receiving a media control request that requests media content to be played back at the media presentation system of a vehicle the content server sends media content to the media presentation system and optionally commands the media presentation system to begin playing back the media content.

In some cases instead of sending media content to the media presentation system the content server causes another device or server to send the media content. Alternatively or additionally if the media content is already stored cached and or preloaded on the media presentation system the content server sends a command to the media presentation system to initiate presentation of the stored cached and or preloaded content.

With respect to in some implementations the content server receives e.g. from the client device the reservation server etc. information identifying a transportation service account associated with the user wherein the transportation service account associated with the user authorizes the user to access transportation services provided by a transportation service provider . Information identifying a transportation service account associated with the user includes a transportation service account identifier of the user which is or includes a username a password a unique identifier and or any other information that identifies the transportation service account associated with the user or from which information that identifies the user can be derived or retrieved.

Furthermore in some implementations the content server associates the media account with a transportation service account associated with the user . In some implementations the receipt of information at and the association of the media account at occur prior to the content server receiving information identifying a media account associated with the user at .

In some implementations in response to receiving the information identifying the media presentation system of the particular vehicle and prior to receiving the media control request from the electronic device the content server sends preloads media content to the media presentation system of the particular vehicle . Thus as described above with respect to media content is cached and or preloaded on the media presentation system of the vehicle.

In some implementations sending the media content to the media presentation system of the particular vehicle includes sending at least a portion of one or more upcoming media content items in an active playlist as described above with respect to .

In some implementations the content server obtains an estimated arrival time of the particular vehicle at a location associated with the user . The content server identifies at least one upcoming media content item in an active playlist wherein the at least one upcoming media content item corresponds to a media content item that is scheduled to be played back at the estimated arrival time of the particular vehicle. The content server sends preloads at least a portion of the at least one upcoming media content item to the media presentation system of the particular vehicle . Additional details and discussion of preloading content is provided above with respect to .

In some implementations the media control request corresponds to a determination that the user is within a threshold distance to the particular vehicle .

In some implementations the determination that the user is within the threshold distance corresponds to a determination that a geographic location of the electronic device associated with the user is within a threshold distance e.g. 5 feet of a geographical location of the particular vehicle . Techniques and devices for determining that the user is within a threshold distance as well as actions performed in response to the determinations are discussed above with respect to .

In some implementations the content server receives a media control permission indication wherein the media presentation system of the particular vehicle is not caused to perform the action until after the media control permission indication is received. Thus as described above a driver of a vehicle can control when or whether a passenger can control the media presentation system of the vehicle. Specifically the server associated with the media content provider e.g. the content server will not send media content to the media presentation system of the vehicle until and unless the driver of the vehicle causes the media control permission indication to be sent to the content server . The media control permission indication is described above with respect to .

With reference to in some implementations the content server receives information indicating that provision of the transportation service to the user has ceased . Techniques and devices for determining that provision of the transportation service has ceased as well as actions performed in response to the determinations are discussed above with respect to .

Attention is directed to which are flowcharts illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the electronic device that performs the method is the content server . While the following steps are described as being performed by the content server it will be understood that the steps may be performed by any other appropriate device server system or combination of such components e.g. multiple computers or servers associated with a media content provider . Also while method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services as described above.

With respect to the content server e.g. the content server receives e.g. from the client device associated with the user which can be a smartphone computer or a like device information usable to identify a transportation service account associated with a user e.g. a username a password etc. wherein the transportation service account associated with the user authorizes the user to access transportation services provided by a transportation service provider .

The content server receives information indicating that the user has reserved a transportation service . In some implementations information indicating that the user has reserved a transportation service includes for example a confirmation message e.g. reservation confirmation message or other message e.g. service ID media user ID message . In some cases such messages also include the information usable to identify a transportation service account as described above.

The content server sends to a server associated with the transportation service provider e.g. reservation server a request for information identifying a media presentation system of a particular vehicle associated with the reserved transportation service . In some implementations the request for information at includes the information usable to identify a transportation service account as described above. The request for information for example is vehicle ID request which includes information e.g. service user ID User 1 that is usable by the reservation server to identify a reservation target e.g. vehicle vehicle ID 123 45 678 associated with a reservation by the user.

The content server receives from the server associated with the transportation service provider the information identifying the media presentation system of the particular vehicle . Examples of information identifying the media presentation system of the particular vehicle e.g. vehicle ID message are provided in the discussion of above. For example in response to receiving from the content server a vehicle ID request the reservation server looks up the vehicle ID that is associated with the user and sends to the content server a vehicle ID message that includes the vehicle ID e.g. vehicle ID 123 45 678 and or the information identifying the media presentation system of the particular vehicle described above.

With reference to the content server sends media content to the media presentation system of the particular vehicle .

In some implementations the content server receives a media control request e.g. the media control request from an electronic device e.g. client device associated with the user and sends media content to the media presentation system of the particular vehicle in response to receiving the media control request from the electronic device associated with the user. Optionally in response to receiving a media control request that requests media content to be played back at the media presentation system of a vehicle the content server sends media content to the media presentation system and optionally commands the media presentation system to begin playing back the media content. Media control requests are discussed above with respect to .

In some implementations the content server receives information indicating that provision of the transportation service to the user has ceased . Techniques and devices for determining that provision of the transportation service has ceased as well as actions performed in response to the determinations are discussed above with respect to .

In some implementations the media control request e.g. the media control request corresponds to a determination that the user is within a threshold distance to the particular vehicle . In some implementations the determination that the user is within the threshold distance corresponds to a determination that a geographic location of the electronic device associated with the user is within a threshold distance e.g. 5 feet of a geographical location of the particular vehicle . Techniques and devices for determining that the user is within a threshold distance as well as actions performed in response to the determinations are discussed above with respect to .

In some implementations the content server receives a media control permission indication wherein the media presentation system of the particular vehicle is not caused to perform the action until after the media control permission indication is received. Thus as described above a driver of a vehicle can control when or whether a passenger can control the media presentation system of the vehicle. Specifically the server associated with the media content provider e.g. the content server will not send media content to the media presentation system of the vehicle until and unless the driver of the vehicle causes the media control permission indication to be sent to the content server . The media control permission indication is described above with respect to .

With respect to in some implementations in response to receiving the information identifying the media presentation system of the particular vehicle and prior to receiving the media control request e.g. the media control request from the electronic device associated with the user the content server sends preloads at least a portion of the media content to the media presentation system of the particular vehicle . Thus as described above with respect to media content is cached and or preloaded on the media presentation system of the vehicle.

In some implementations sending at least a portion of the media content to the media presentation system of the particular vehicle includes sending at least a portion of one or more upcoming media content items in an active playlist as described above with respect to .

In some implementations the content server obtains an estimated arrival time of the particular vehicle at a location associated with the user . The content server identifies at least one upcoming media content item in an active playlist wherein the at least one upcoming media content item corresponds to a media content item that is scheduled to be played back at the estimated arrival time of the particular vehicle. The content server sends preloads at least a portion of the at least one upcoming media content item to the media presentation system of the particular vehicle . Additional details and discussion of preloading content is provided above with respect to .

Attention is directed to which are flowcharts illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the device that performs the method is the client device which may be for example a smartphone computer tablet or the like. While the following steps are described as being performed by the client device it will be understood that the steps may be performed by any other appropriate device server system or combination of such components e.g. multiple computers or servers associated with a user having an account with a media content provider and or a service provider .

With respect to the client device e.g. the client device receives e.g. from the reservation server information indicating that a reservation for a transportation service has been made . While method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services as described above. In some implementations information indicating that a reservation for a transportation service has been made includes for example a confirmation message e.g. reservation confirmation message or other message e.g. service ID media user ID message .

The client device sends to a server associated with a media content provider e.g. the content server information usable by the media content provider to identify a transportation service account associated with the user . Examples of information usable to identify a transportation service account associated with a user includes a transportation service account identifier of the user which is or includes a username a password a unique identifier and or any other information that identifies the transportation service account associated with the user or with which information that identifies the user can be derived or retrieved.

The client device sends to a server associated with a media content provider information indicating that the user has reserved a transportation service as described above.

With reference to the client device sends to a server associated with a media content provider a media control request e.g. the media control request configured to cause the media content provider to send media content to a particular vehicle associated with the reserved transportation service . For example in response to receiving a media control request that requests media content to be played back at the media presentation system of a vehicle the content server sends media content to the media presentation system and optionally commands the media presentation system to begin playing back the media content. Media control requests are discussed above with respect to .

In some implementations the client device determines whether provision of the transportation service to the user has ceased . In accordance with a determination that provision of the transportation service has ceased the client device sends to the server associated with the media content provider e.g. the content server information indicating that provision of the transportation service has ceased . Techniques and devices for determining that provision of the transportation service has ceased as well as actions performed in response to the determinations are discussed above with respect to .

In some implementations the media control request e.g. the media control request is sent to the content server in accordance with a determination that the user is within a threshold distance to the particular vehicle . In some implementations the determination that the user is within the threshold distance corresponds to a determination that a geographic location of the electronic device associated with the user is within a threshold distance e.g. 5 feet of a geographical location of the particular vehicle . Techniques and devices for determining that the user is within a threshold distance as well as actions performed in response to the determinations are discussed above with respect to .

With reference to in some implementations prior to receiving information indicating that a reservation for a transportation service has been made at the client device sends to a server associated with a transportation service provider e.g. the reservation server a request to reserve a transportation service .

In some implementations prior to sending the media control request e.g. the media control request the client device obtains e.g. from the reservation server an estimated arrival time of the particular vehicle at a location associated with the user and sends to the server associated with the media content provider e.g. the content server the estimated arrival time of the particular vehicle at a location associated with the user . The client device sends to the server associated with the media content provider information identifying at least one upcoming media content item in an active playlist wherein the at least one upcoming media content item corresponds to a media content item that is scheduled to be played back at the estimated arrival time of the particular vehicle. Upon receiving from the client device information identifying at least one upcoming media content item in an active playlist the server associated with the media content provider e.g. content server sends at least a portion of the at least one upcoming media content item to the media presentation system of the particular vehicle. Additional details and discussion of preloading content is provided above with respect to .

Attention is directed to which are flowcharts illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the electronic device that performs the method is the content server . While the following steps are described as being performed by the content server it will be understood that the steps may be performed by any other appropriate device server system or combination of such components e.g. multiple computers or servers associated with a media content provider . Also while method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services as described above.

With respect to the content server e.g. the content server receives information identifying a media presentation system of a particular vehicle associated with a transportation service provider e.g. device ID and or vehicle ID which is described in greater detail with respect to wherein the particular vehicle corresponds to a vehicle associated with a reserved transportation service . For example in some implementations the content server receives from the reservation server a media user ID vehicle ID message identifying the vehicle e.g. vehicle to which the user has been assigned.

Furthermore the content server receives information identifying an electronic device associated with the user . In some implementations information identifying the electronic device associated with the user e.g. client device is or includes a electronic device identification number a network address of the electronic device a unique identifier of the electronic device e.g. a media access control MAC address or any of the various identifiers associated with wireless communication devices including an international mobile station equipment identity number IMEI a mobile equipment identifier number MEID an international mobile subscriber identity number IMSI an electronic serial number ESN a mobile subscriber integrated services digital network number MSISDN etc. or any other appropriate information that identifies the electronic device associated with the user or with which information that identifies the electronic device can be derived or retrieved.

The content server generates a first security token e.g. client security token for the electronic device associated with the user and generates a second security token e.g. vehicle security token for the media presentation system of the particular vehicle wherein the first security token and the second security token are useable by the media presentation system of the particular vehicle and the electronic device associated with the user respectively to authorize communication between the media presentation system and the electronic device associated with the user . The generation and use of security tokens in accordance with some implementations is described above respect to .

With reference to the content server sends the first security token to the electronic device associated with the user and the content server sends the second security token to the media presentation system of the particular vehicle . For example the content server sends the client security token to the client device and sends the vehicle security token to the media presentation system of the vehicle .

In some cases the security tokens are not generated and or sent e.g. by the reservations server or the content server unless the client device first sends the information identifying a media account and or information identifying a transportation service account associated with the user as described below with respect to .

The content server sends media content to the electronic device associated with the user for retransmission to the media presentation system of the particular vehicle . In some implementations the media content e.g. media content is stored cached and or preloaded on the electronic device e.g. stored in a local cache or other location in a storage medium of the client device . In some cases the content server configures the media content to be playable and or executable for a predetermined duration of time before becoming disabled deleted or otherwise inoperable e.g. the content server sends additional instructions to the client device to delete the media content after a predetermined duration .

With reference to in some implementations prior to sending the media content to the electronic device associated with the user the content server receives a media control request e.g. the media control request from the electronic device associated with the user and sends the media content at in response to receiving the media control request. Media control requests are discussed in greater detail above with respect to .

In some implementations the media control request is sent in accordance with a determination that the user is within a threshold distance to the particular vehicle . Furthermore in some implementations the determination that the user is within the threshold distance corresponds to a determination that a geographic location of the electronic device associated with the user is within a threshold distance e.g. 5 feet of a geographical location of the particular vehicle . Techniques and devices for determining that the user is within a threshold distance as well as actions performed in response to the determinations are discussed above with respect to .

With reference to in some implementations in response to receiving the information identifying the media presentation system of the particular vehicle and prior to receiving the media control request from the electronic device associated with the user the content server sends preloads at least a portion of the media content to the electronic device associated with the user for retransmission to the media presentation system of the particular vehicle . Thus as described above with respect to media content is cached and or preloaded on the media presentation system of the vehicle.

In some implementations sending at least the portion of the media content to the electronic device associated with the user for retransmission to the media presentation system of the particular vehicle includes the content server sending at least a portion of one or more upcoming media content items in an active playlist.

In some implementations the content server obtains an estimated arrival time of the particular vehicle at a location associated with the user and identifies at least one upcoming media content item in an active playlist wherein the at least one upcoming media content item corresponds to a media content item that is scheduled to be played back at the estimated arrival time of the particular vehicle . The content server sends preloads at least a portion of the at least one upcoming media content item to the electronic device associated with the user for retransmission to the media presentation system of the particular vehicle . Additional details and discussion of preloading content is provided above with respect to .

With reference to in some implementations the content server receives a media control permission indication wherein the media content is not sent to the electronic device associated with the user for retransmission to the media presentation system of the particular vehicle until after the media control permission indication is received . In other implementations the media content is sent to e.g. stored on the electronic device associated with the user but the electronic device does not retransmit the media content to the media presentation system of the particular vehicle until after the media control permission indication is received. The media control permission indication is described above with respect to .

With respect to in some implementations the content server receives e.g. from the reservation server or the content server information identifying a media account associated with the user . Examples of information identifying the media account associated with the user are provided above with respect to .

In some implementations the content server receives information identifying a transportation service account associated with the user wherein the transportation service account associated with the user authorizes the user to access transportation services provided by the transportation service provider . The content server then associates the media account with the transportation service account associated with the user .

In some implementations the content server receives information indicating that provision of the transportation service to the user has ceased . Techniques and devices for determining that provision of the transportation service has ceased as well as actions performed in response to the determinations are discussed above with respect to .

Attention is directed to which are flowcharts illustrating a method for providing media presentation in a reservation target e.g. a vehicle in accordance with some implementations. In some implementations the method is performed at an electronic device having one or more processors and memory storing one or more programs for execution by the one or more processors. In some implementations the device that performs the method is the client device which may be for example a smartphone computer tablet or the like. While the following steps are described as being performed by the client device it will be understood that the steps may be performed by any other appropriate device server system or combination of such components. Also while method is described as relating to a transportation service where the reservation targets are vehicles the same description also applies to other reservable services as described above.

With respect to the client device e.g. the client device requests reservation of a transportation service wherein the reservation is associated with a particular vehicle of a plurality of vehicles associated with a transportation service provider that provides the reserved transportation service . Requests to reserve a transportation service and the processing of such requests are described above with respect to .

In some implementations the client device sends to the server associated with the media content provider e.g. the content server information identifying a media account associated with the user . Examples of information identifying the media account associated with the user are provided above with respect to .

In some implementations the client device sends to the server associated with the media content provider information identifying a transportation service account associated with the user wherein the transportation service account associated with the user authorizes the user to access transportation services provided by the transportation service provider . Examples of information identifying a transportation service account associated with the user are provided above with respect to .

In some implementations the content server associates the media account with the transportation service account associated with the user.

With reference to the client device receives a first security token wherein the first security token is useable by the electronic device associated with the user to authorize communication between the electronic device associated with the user and a media presentation system of the particular vehicle . The generation and use of security tokens in accordance with some implementations is described above with respect to .

In some implementations the first security token is received from a server associated with the transportation service provider e.g. the reservation server while in other implementations the first security token is received from the server associated with the media content provider e.g. the content server . In some cases the first security token is not generated and or sent e.g. by the reservations server or the content server unless the client device first sends at and the information identifying a media account and or the information identifying a transportation service account associated with the user.

The client device establishes a connection using at least the first security token with the media presentation system of the particular vehicle . For example as described above with respect to the connection that is established between the client device and the media presentation system of the vehicle uses on a wireless communication technology e.g. BLUETOOTH Wi Fi etc. .

The client device receives media content from a server associated with a media content provider . As described above in some implementations the media content e.g. media content is stored cached and or preloaded on the electronic device e.g. stored in a local cache or other location in a storage medium of the client device .

The client device sends the media content to the presentation system of the particular vehicle . Thus for example the client device sends locally cached media content e.g. music to the media presentation system of the vehicle via a wireless communication technology such as BLUETOOTH.

In some implementations the client device sends to the server associated with the media content provider a media control request . Media control requests are discussed in greater detail above with respect to .

In some implementations receiving the media content e.g. media content is in response to the client device sending and the content server receiving the media control request e.g. the media control request . While the example provided in illustrates that the media control request is sent after establishing a connection at in some implementations the media control request is sent after receiving media content at and or sending the media content at . Alternatively the media control request is sent after sending the information identifying the media account associated with the user and the information identifying the media presentation system of the particular vehicle at and . As another alternative the media control request is sent concurrently with sending the information at and .

In some implementations the media control request is sent in accordance with a determination that the user is within a threshold distance to the particular vehicle . Furthermore in some implementations the determination that the user is within the threshold distance corresponds to a determination that a geographic location of the electronic device associated with the user is within a threshold distance e.g. 5 feet of a geographical location of the particular vehicle . Techniques and devices for determining that the user is within a threshold distance as well as actions performed in response to the determinations are discussed above with respect to .

In some implementations after establishing the connection with the media presentation system of the particular vehicle and prior to sending the media control request the client device receives at least a portion of the media content from the server associated with the media content provider . Thus as described above with respect to media content is cached and or preloaded on the media presentation system of the vehicle.

In some implementations receiving at least the portion of the media content from the server associated with a media content provider includes receiving at least a portion of one or more upcoming media content items in an active playlist as described above with respect to .

With reference to in some implementations prior to establishing the connection with the media presentation system of the particular vehicle and prior to sending the media control request the client device obtains an estimated arrival time of the particular vehicle at a location associated with the user . The client device sends to the server associated with the media content provider e.g. content server the estimated arrival time of the particular vehicle to the location associated with the user and information identifying at least one upcoming media content item in an active playlist wherein the at least one upcoming media content item corresponds to a media content item that is scheduled to be played back at the estimated arrival time of the particular vehicle . Additional details and discussion of preloading content is provided above with respect to .

With reference to in some implementations the client device determines whether provision of the transportation service has ceased . In accordance with a determination that provision of the transportation service has ceased the client device sends to the server associated with the media content provider e.g. the content server information indicating that provision of the transportation service has ceased . Techniques and devices for determining that provision of the transportation service has ceased as well as actions performed in response to the determinations are discussed above with respect to .

In some implementations the content server receives a media control permission indication wherein the media content is not sent to the electronic device associated with the user for retransmission to the media presentation system of the particular vehicle until after the media control permission indication is received . In other implementations the media content is sent to e.g. stored on the electronic device associated with the user but the electronic device does not retransmit the media content to the media presentation system of the particular vehicle until after the media control permission indication is received. The media control permission indication is described above with respect to .

Attention is now directed to . are flow diagrams illustrating a method of providing temporary access to media content in accordance with some implementations.

The method in accordance with some implementations is performed at a first server e.g. content server . correspond to instructions stored in a computer memory or other computer readable storage medium e.g. memory of the content server .

Referring now to the first server e.g. a server associated with a media content provider such as content server provides authorization to a transportation service provider for accessing one or more media items associated with an account of a user for the media content provider. In some implementations the authorization is provided in response to the user reserving or after the user reserves a vehicle through the transportation service provider e.g. after sending the service reservation request of .

In some implementations the first server receives a first identifier e.g. authorization code generated by a second application e.g. service application that is associated with the media content provider. The second application is distinct from a first application e.g. service application which is associated with the transportation service provider or other service provider . For example as pictured in the service application sends the authorization request to media application and the media application generates the authorization code in response to the authorization request . The authorization code is then sent e.g. by service application to the reservation server which sends a communication to the content server i.e. the first server that includes the authorization code .

In accordance with a determination that the first identifier e.g. authorization code is valid the first server e.g. content server i generates a second identifier e.g. access token and ii sends the second identifier to a second server e.g. the reservation server associated with the transportation service provider. For example the reservation server stores the second identifier in an account that is associated with the user. In some implementations the second identifier is generated after the first server determines that the first identifier is valid or that the first identifier and a shared secret are both valid .

In some implementations the first server authorizes the first application to select the one or more media items. In some implementations the one or more media items are available to the second application and the first and second applications are both on i.e. installed on a mobile device of the user e.g. client device includes the service application and the media application .

In some implementations the first server associates the account of the user for the media content provider with an account of the user for the transportation service provider. For example as pictured in the account of the user for the media content provider is associated with the account of the user for the transportation service provider by adding a record to a data structure stored on content server or a data structure that is coupled with content server through a network . In this example the record associated with a media user ID of User 1 media is updated to contain a record for a reserved vehicle that was requested by the user i.e. User 1 . The data structure now contains a record for an output device labeled Temp Service with a device ID of 123 45 678 . In some implementations as pictured in a data structure available to the transportation service provider e.g. a data structure that is stored on reservation server associates the account of the user for the transportation service provider with the account of the user for the media content provider e.g. the account for service user ID User 1 is updated to store the media user ID for the user s media content provider account User 1 media . In some implementations as pictured in the user s account for the media content provider is updated but the user s transportation service provider account is not updated. Associating accounts is discussed in more detail above in reference to .

In some implementations the first server grants the first application access to the one or more media items available to the second application based on input from the user of the mobile device. For example a dialog is displayed on the client device requesting approval for the first application to access the one or more media items e.g. the dialog is displayed by the media application . In some implementations after the user grants e.g. in response to the user granting the requested approval e.g. clicking an approve button accepting privacy terms accepting terms of use etc. the operation is then performed. In some implementations the dialog allows the user to select a subset of the one or more media items to make available to the first application instead of granting access to all of the one or more media items.

In some implementations the first server authorizes a device associated with an operator of a reserved vehicle e.g. a second client device such as the operator s mobile phone or a device that is integrated into the reserved vehicle such as an entertainment system to receive requests e.g. media content for presentation of the one or more media items. In some implementations before authorizing the operator s device to receive requests for presentation of the one or more media items e.g. before the operation the first server receives a connection request from the operator s device and the connection request includes the second identifier . In some implementations the second identifier was sent to the operator s device by the reservation server . In accordance with a determination e.g. by media control module or a component thereof such as authentication module that the second identifier is valid the first server establishes a connection between the operator s device and the first server.

For example the reservation server retrieves the access token from the user s account for the transportation service provider and sends it to the operator s device as shown in . The service application on the operator s device receives the access token and provides the access token to a media control module . In accordance with a determination e.g. by media control module or a component thereof such as authentication module that the access token is valid the content server establishes a connection between the operator s device and the content server e.g. via exchange of session initialization information .

In some implementations the first server receives a first request e.g. the media control request to present a first media item of the one or more media items at a media presentation system of the reserved vehicle provided by the transportation service provider. In some implementations the first request is initiated by a mobile device of the user e.g. the user selects the first media item included in the first request by selecting media content affordances displayed in either the service application or the media application on the client device .

In some implementations the first server obtains an estimated arrival time of the reserved vehicle at a location corresponding to the user. In some implementations the first server selects the first media item from a playlist associated with the second application e.g. in response to the first request . In some implementations the first media item is scheduled for presentation within a predefined amount of time before the estimated arrival time. In some implementations selecting the first media item from the playlist is performed in response to a gesture at the mobile device of the user e.g. the user hovers over an affordance associated with the first media item for a predefined period of time . Examples of details regarding the operations and are discussed above in reference to .

In some implementations the first server selects one or more security parameters from the group consisting of i a proximity parameter for monitoring a distance between the user of the mobile device and the reserved vehicle e.g. as discussed above for operations and ii a media control permission parameter for monitoring whether an operator of the reserved vehicle has agreed to allow the mobile device to control presentation of media items at the media presentation system of the reserved vehicle e.g. as discussed above for operations and and iii an active ride parameter for monitoring whether provisioning of the reserved vehicle is ongoing e.g. as discussed above for operations and .

The first server verifies compliance with each of the selected one or more security parameters. In some implementations the one or more security parameters include the proximity parameter and the first server verifies that a distance between the user of the mobile device and the reserved vehicle satisfies e.g. is less than or less than or equal to a maximum distance or determines that the mobile device of the user is in the reserved vehicle e.g. which includes determining that a speed of the mobile device of the user satisfies a threshold speed . Examples of details regarding the proximity parameter are provided above in reference to .

In some implementations the one or more security parameters include the media control permission parameter and the first server obtains agreement from an operator of the reserved vehicle that the mobile device is allowed to control presentation of media items at the media presentation system of the reserved vehicle. For example the operator selects an affordance displayed on the operator s device e.g. an I agree to grant permission button in the service application installed on the operator s device .

In some implementations the one or more security parameters include the media control permission parameter and the first server receives an indication from an operator of the reserved vehicle that the operator has picked up the user.

In some implementations the one or more security parameters include the active ride parameter and the first server verifies that provisioning of the reserved vehicle to the user is ongoing. In some implementations the active ride parameter is no longer in compliance when an operator of the reserved vehicle indicates that provisioning of the reserved vehicle to the user has ceased.

In some implementations the first server sends a portion of the first media item for presentation at the media presentation system e.g. media content pictured in . The first server sends the portion of the first media item for example in response to the first request of operation and or in accordance with the authorization of operations and or . In some implementations the portion of the first media item is sent to the device associated with the operator of the reserved vehicle. For example the portion of the first media item is sent to a media control module on the operator s device e.g. media control module or a component thereof such as media coordination module . The media control module is provided by the media content provider e.g. the media control provider makes an eSDK available to the service application . In some implementations the first application associated with the transportation service provider e.g. service application is installed on the operator s device and the media control module is a component of the first application e.g. as pictured in . In some implementations the portion is a first portion of the first media item that is scheduled to be played back before the estimated arrival time.

In some implementations the portion sent in operation is a first portion and the first server sends a second portion of the first media item to the device associated with the operator of the reserved vehicle. For example the second portion is scheduled to be played back after the estimated arrival time. Examples of details regarding the selection of the first and second portions of the first media item are provided above in reference to for example operations and of respectively.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. For brevity these details are not repeated here.

Plural instances are optionally provided for components operations or structures described herein as a single instance. Finally boundaries between various components operations and data stores are somewhat arbitrary and particular operations are illustrated in the context of specific illustrative configurations. Other allocations of functionality are envisioned and optionally fall within the scope of the implementation s . In general structures and functionality presented as separate components in the example configurations are optionally implemented as a combined structure or component. Similarly structures and functionality presented as a single component are optionally implemented as separate components. These and other variations modifications additions and improvements fall within the scope of the implementation s .

It will also be understood that although the terms first second are in some circumstances used herein to describe various elements these elements should not be limited by these terms. These terms are only used to distinguish one element from another. For example a first server could be termed a second server and similarly a second server could be termed a first server which changing the meaning of the description so long as all occurrences of the first server are renamed consistently and all occurrences of the second server are renamed consistently. The first server and the second server are both servers but they are not the same server.

The terminology used herein is for the purpose of describing particular implementations only and is not intended to be limiting of the claims. As used in the description of the implementations and the appended claims the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will also be understood that the term and or as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items. It will be further understood that the terms comprises and or comprising when used in this specification specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

As used herein the term if is optionally construed to mean when or upon or in response to determining or in accordance with a determination or in response to detecting that a stated condition precedent is true depending on the context. Similarly the phrase if it is determined that a stated condition precedent is true or if a stated condition precedent is true or when a stated condition precedent is true is optionally construed to mean upon determining or in response to determining or in accordance with a determination or upon detecting or in response to detecting that the stated condition precedent is true depending on the context. Furthermore unless otherwise stated in response to does not limit the following action to being performed only in response to that condition nor does it exclude other conditions as prerequisites to the stated action.

The foregoing description included example systems methods techniques instruction sequences and computing machine program products that embody illustrative implementations. For purposes of explanation numerous specific details were set forth in order to provide an understanding of various implementations of the inventive subject matter. It will be evident however to those skilled in the art that implementations of the inventive subject matter is optionally practiced without these specific details. In general well known instruction instances protocols structures and techniques have not been shown in detail.

The foregoing description for purpose of explanation has been described with reference to specific implementations. However the illustrative discussions above are not intended to be exhaustive or to limit the implementations to the precise forms disclosed. Many modifications and variations are possible in view of the above teachings. The implementations were chosen and described in order to best explain the principles and their practical applications to thereby enable others skilled in the art to best utilize the implementations and various implementations with various modifications as are suited to the particular use contemplated.

