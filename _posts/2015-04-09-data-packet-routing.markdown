---

title: Data packet routing
abstract: Among other things, one or more techniques and/or system are provided for routing a data packet. Because the data packet may correspond to a source device having an address on a first network that may be similar to an address of a second device on a second network, the data packet may be translated to create a transformed data packet that may be distinguishable from data packets of the second device. For example, the data packet may be translated from a first address format, such as IPv4, to a second address format, such as IPv6, to create a transformed data packet. The transformed data packet may comprise a prefix that may distinctly identify the source device during routing. In this way, the transformed data packet may be identifiable as corresponding to the source device during routing through a network to a destination device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09401866&OS=09401866&RS=09401866
owner: Microsoft Technology Licensing, LLC
number: 09401866
owner_city: Redmond
owner_country: US
publication_date: 20150409
---
This application is a continuation of and claims priority to U.S. application Ser. No. 13 675 712 filed on Nov. 13 2012 entitled DATA PACKET ROUTING at least some of which may be incorporated herein.

Today many computing devices such as tablet devices laptops desktops mobile phones etc. are interconnected by one or more networks. In one example computing devices of a bank may be interconnected over a bank network while computing devices of a retail store may be interconnected over a retail store network. When a computing device attempts to access remote resources outside of a local network e.g. a website a file sharing web service an email service etc. the computing device may send and receive data packets that are routed through various networks. For example a bank computing device a retail store computing device and or computing devices of other networks may access file sharing functionality provided by a file sharing web service. Because the file sharing web service may provide file sharing functionality for multiple client networks the file sharing web service may communicate with client networks having overlapping address space. For example a retail store computing device on the retail store network may be assigned an IP address that is the same as an IP address assigned to a bank computing device on the bank network. Accordingly the file sharing web service may utilize layer virtual private network technology and or multiprotocol switch technology to distinguish between the retail store computing device and the bank computing device.

This summary is provided to introduce a selection of concepts in a simplified form that are further described below in the detailed description. This summary is not intended to identify key factors or essential features of the claimed subject matter nor is it intended to be used to limit the scope of the claimed subject matter.

Among other things one or more systems and or techniques for routing a data packet are provided herein. That is a data packet from a source device may be received. The data packet may be formatted according to a first address format such as IPv4. For example a retail store computing device on a retail store network may send the data packet requesting email data to a destination email web service. The data packet may comprise a source address e.g. an IP address of the retail store computing device formatted according to an IPv4 format and or a destination address e.g. an IP address of the destination email web service formatted according to the IPv4 format . Because the source address and or the destination address may conflict with other addresses associated with computing devices of other networks e.g. a bank computing device on a bank virtual private network may have the same source address as the retail store computing device on the retail network the data packet may be translated from the first address format to a second address format such as IPv6 to create a transformed data packet that may be distinctly identifiable. In one example a first IPv6 prefix may be added to an IPv4 source address to create an IPv6 source address that may distinctly identify the retail store computing device. In another example a second IPv6 prefix may be added to an IPv4 destination address to create an IPv6 destination address that may distinctly identify the destination email web service. In this way the transformed data packet may be routed through a network such as an IPv6 enabled network according to the second address format to a translation device such as an edge router associated with a network of the destination email web service.

In one example the translation device may translate the transformed data packet from the second address format to the first address format to create a deliverable data packet. For example the transformed data packet may be translated from IPv6 to IPv4 by removing the first IPv6 prefix from the IPv6 source address to obtain the IPv4 source address and or by removing the second IPv6 prefix from the IPv6 destination address to identify the IPv4 destination address. In this way addressing conflicts with other data packets associated with computing devices having similar IPv4 source addresses as the retail store computing may be mitigated during delivery of the deliverable data packet to the destination email web service.

To the accomplishment of the foregoing and related ends the following description and annexed drawings set forth certain illustrative aspects and implementations. These are indicative of but a few of the various ways in which one or more aspects may be employed. Other aspects advantages and novel features of the disclosure will become apparent from the following detailed description when considered in conjunction with the annexed drawings.

The claimed subject matter is now described with reference to the drawings wherein like reference numerals are generally used to refer to like elements throughout. In the following description for purposes of explanation numerous specific details are set forth in order to provide an understanding of the claimed subject matter. It may be evident however that the claimed subject matter may be practiced without these specific details. In other instances structures and devices are illustrated in block diagram form in order to facilitate describing the claimed subject matter.

Because entities such as businesses may create networks with overlapping address space e.g. a virtual private network of a retail store may have similar IP address as a virtual private network of a bank addressing conflicts may arise during data packet routing. Conventional techniques for distinguishing between data packets of various computing devices may utilize expensive technology that may not be practical to implement such as for low cost mobile devices. Accordingly as provided herein data packet routing may be accomplished by translating data packets from a first address format e.g. an IPv4 address that may be used by various networks to a second address format e.g. an IPv6 address having an IPv6 prefix that distinctly identifies computing devices that may be used to distinguish amongst source computing devices and or destination computing devices.

One embodiment of routing a data packet is illustrated by an exemplary method in . At the method starts. At a data packet may be received from a source device e.g. a retail store computing device on a retail store virtual private network may request email data from a destination email web service . The data packet may be formatted according to a first address format. For example the data packet may comprise a source address of the source device e.g. an IPv4 address such as 10.1.1.1 and or a destination address of a destination device e.g. an IPv4 address such as 192.168.1.1 formatted according to the first address format.

Because the source address and or the destination address may be similar to an address of another device e.g. a bank computing device of a bank virtual private network which may also utilize email functionality from the destination email web service may also be assigned an IPv4 address of 10.1.1.1 the data packet may be translated from the first address format to a second address format to create a transformed data packet that may be distinguishable from data packets originating from computing devices with similar addresses at . The transformed data packet may comprise a translated source address and or a translated destination address formatted according to the second address format such as an IPv6 format. In one example a first prefix e.g. a first IPv6 prefix such as 2033.11.00.0001 may be added to the source address e.g. the IPv4 address of 10.1.1.1 of the source device to create a translated source address e.g. 2033.11.00.0001 10.1.1.1 which may be distinguishable from other data packets associated with computing devices having addresses of 10.1.1.1. In another example a second prefix e.g. a second IPv6 prefix such as 2044.11.00.0001 may be added to the destination address e.g. the IPv4 address of 192.168.1.1 of the destination device to create a translated destination address e.g. 2044.11.00.0001 192.168.1.1 which may be distinguishable from other data packets associated with computing devices having addresses of 192.168.1.1.

At the transformed data packet may be routed through a network according to the second address format to a translation device e.g. an edge router of a network associated with the destination device for further processing . In one example the translation device may deliver the transformed data packet to the destination device. In another example the translation device may translate the transformed data packet from the second address format to the first address format to create a deliverable data packet. For example the translation device may remove the first prefix e.g. the first IPv6 prefix of 2033.11.00.0001 from the translated source address to obtain the source address e.g. 10.1.1.1 and or the translation device may remove the second prefix e.g. the second IPv6 prefix of 2044.11.00.0001 from the translated destination address to obtain the destination address e.g. 192.168.1.1 . In this way the deliverable data packet may be routed to the destination device based upon the first address format.

In one example where the data packet may be distinguishable from a second data packet a second data packet may be received from a second source device e.g. the bank computing device having a source address of 10.1.1.1 that is the same as the source address of the retail store computing device . The second data packet may be formatted according to the first address such as IPv4. The second data packet may be translated from the first address format to the second address format to create a second transformed data packet e.g. an IPv6 prefix of 2055.00.00.0001 may be added to the source address of 10.1.1.1 to create a second translated source address of 2055.00.00.0001 10.1.1.1 . The second translated source address e.g. 2055.00.00.0001 10.1.1.1 may be different than the translated source address of the transformed data packet e.g. 2033.11.00.0001 10.1.1.1 . In this way the second transformed data packet may be routed through the network according to the second address format to a second translation device for delivery to a second destination device and or for translation from the second address format to the first address format. In this way the transformed data packet and the second transformed data packet may be distinguishable from one another which may mitigate address conflicts during processing and or routing. At the method ends.

One embodiment of routing a data packet is illustrated by an exemplary method in . At the method starts. At a transformed data packet originating from a source device may be received. It may be appreciated that in one example the transformed data packet may correspond to the transformed data packet that was routed to the translation device in example of . The transformed data packet may be formatted according to a second address format e.g. the transformed data packet may comprise a translated source address of the source device and or a translated destination address of a destination device which may be formatted according to an IPv6 format . At the transformed data packet may be translated from the second address format to a first address format such as IPv4 to create a deliverable data packet. In one example a first prefix e.g. a first IPv6 prefix may be removed from the translated source address e.g. an IPv6 source address to create a source address e.g. an IPv4 source address of the source device. In another example a second prefix e.g. a second IPv6 prefix may be removed from the translated destination address e.g. an IPv6 destination address to create a destination address e.g. an IPv4 destination address of the destination device. At the deliverable data packet may be routed to the destination device based upon the first address format e.g. based upon the IPv4 destination address . At the method ends.

In one example the second translation device may be configured to deliver the transformed data packet to the destination device . In another example the second translation device may be configured to translate the transformed data packet from the second address format to the first address format to create a deliverable data packet . The second translation device may translate the transformed source address from the second address format to the first address format to obtain the source address of the source device . The second translation device may translate the transformed destination address from the second address format to the first address format to obtain the destination address of the destination device . The second translation device may route the deliverable data packet to the destination device based upon the source address and or the destination address that may be formatted according to the first address format.

A source device B may be connected to a network B . The source device B may be assigned a second source address of 10.1.1.1 by the network B . The source device B may create a data packet B corresponding to a request for email data from a destination device B not illustrated e.g. destination device B of . The data packet B may comprise the second source address of 10.1.1.1 for the source device B and or a second destination address of 192.168.2.2 for the destination device B . The second source address and or the second destination address may be formatted according to the first address format such as IPv4.

Because the second source address of the source device B may be similar to the first source address of the source device A conflicts may arise during routing of data packet A and or data packet B . Accordingly as provided herein the data packet A and or the data packet B may be translated to create transformed data packets such as a transformed data packet A and or a transformed data packet B that are distinguishable from one another.

In one example a first translation device A may receive the data packet A . The first translation device A may translate the data packet A from the first address format to a second address format such as IPv6 to create the transformed data packet A . For example the first translation device A may add a first prefix of 2033.11.00.0001 to the first source address of 10.1.1.1 to create a first translated source address of 2033.11.00.0011 10.1.1.1. The first translation device A may add a second prefix of 2044.11.00.0001 to the first destination address of 192.168.1.1 to create a first translated destination address of 2044.11.00.0001 192.168.1.1. In this way the transformed data packet A may be distinctly identifiable based upon the first translated source address of 2033.11.00.0011 10.1.1.1 and or the first translated destination address of 2044.11.00.0001 192.168.1.1.

In another example a first translation device B may receive the data packet B . The first translation device B may translate the data packet B from the first address format to a second address format such as IPv6 to create the transformed data packet B . For example the first translation device B may add a third prefix of 2055.00.00.0001 to the second source address of 10.1.1.1 to create a second translated source address of 2055.00.00.0001 10.1.1.1. The first translation device B may add a fourth prefix of 2066.00.00.0001 to the second destination address of 192.168.2.2 to create a second translated destination address of 2066.00.00.0001 192.168.2.2. In this way the transformed data packet B may be distinctly identifiable based upon the second translated source address of 2055.00.00.0001 10.1.1.1 and or the second translated destination address of 2066.00.00.0001 192.168.2.2. For example the first translated source address of 2033.11.00.0011 10.1.1.1 may be distinguishable from the second translated source address of 2055.00.00.0001 10.1.1.1 during routing within a network .

A second translation device A may receive the transformed data packet A . The transformed data packet A may be formatted according to a second address format such as IPv6. For example the transformed data packet A may comprise a first translated source address of 2033.11.00.0001 10.1.1.1 and or a first translated destination address of 2044.11.00.0001 192.168.1.1. The second translation device A may be configured to translate the transformed data packet A from the second address format to a first address format such as IPv4 to create a deliverable data packet A . In one example the second translation device A may transform the first translated source address to a first source address of 10.1.1.1 by removing a first prefix of 2033.11.00.0001 from the first translated source address . In another example the second translation device A may transform the first translated destination address to a first destination address of 192.168.1.1 by removing a second prefix of 2044.11.00.0001 from the first translated destination address . In this way the second translation device A may route the deliverable data packet A to the destination device A based upon the first source address and or the first destination address .

A second translation device B may receive the transformed data packet B . The transformed data packet B may be formatted according to the second address format such as IPv6. For example the transformed data packet B may comprise a second translated source address of 2055.00.00.0001 10.1.1.1 and or a second translated destination address of 2066.00.00.0001 192.168.2.2. The second translation device B may be configured to translate the transformed data packet B from the second address format to the first address format such as IPv4 to create a deliverable data packet B . In one example the second translation device B may transform the second translated source address to a second source address of 10.1.1.1 by removing a third prefix of 2055.00.00.0001 from the second translated source address . In another example the second translation device B may transform the second translated destination address to a second destination address of 192.168.2.2 by removing a fourth prefix of 2066.00.00.0001 from the second translated destination address . In this way the second translation device B may route the deliverable data packet B to the destination device B based upon the second source address and or the second destination address .

Still another embodiment involves a computing device readable medium comprising processor executable instructions configured to implement one or more of the techniques presented herein. An exemplary computing device readable medium that may be devised in these ways is illustrated in wherein the implementation comprises a computing device readable medium e.g. a CD R DVD R or a platter of a hard disk drive on which is encoded computing device readable data . This computing device readable data in turn comprises a set of computing device instructions configured to operate according to one or more of the principles set forth herein. In one such embodiment the processor executable computing device instructions may be configured to perform a method such as at least some of the exemplary method of and or at least some of exemplary method of for example. In another such embodiment the processor executable instructions may be configured to implement a system such as at least some of the exemplary system of for example. Many such computing device readable media may be devised by those of ordinary skill in the art that are configured to operate in accordance with the techniques presented herein.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims.

As used in this application the terms component module system interface and the like are generally intended to refer to a computing device related entity either hardware a combination of hardware and software software or software in execution. For example a component may be but is not limited to being a process running on a processor a processor an object an executable a thread of execution a program and or a computing device. By way of illustration both an application running on a controller and the controller can be a component. One or more components may reside within a process and or thread of execution and a component may be localized on one computing device and or distributed between two or more computing devices.

Furthermore the claimed subject matter may be implemented as a method apparatus or article of manufacture using standard programming and or engineering techniques to produce software firmware hardware or any combination thereof to control a computing device to implement the disclosed subject matter. The term article of manufacture as used herein is intended to encompass a computing device program accessible from any computing device readable device carrier or media. Of course those skilled in the art will recognize many modifications may be made to this configuration without departing from the scope or spirit of the claimed subject matter.

Although not required embodiments are described in the general context of computing device readable instructions being executed by one or more computing devices. Computing device readable instructions may be distributed via computing device readable media discussed below . Computing device readable instructions may be implemented as program modules such as functions objects Application Programming Interfaces APIs data structures and the like that perform particular tasks or implement particular abstract data types. Typically the functionality of the computing device readable instructions may be combined or distributed as desired in various environments.

In other embodiments device may include additional features and or functionality. For example device may also include additional storage e.g. removable and or non removable including but not limited to magnetic storage optical storage and the like. Such additional storage is illustrated in by storage . In one embodiment computing device readable instructions to implement one or more embodiments provided herein may be in storage . Storage may also store other computing device readable instructions to implement an operating system an application program and the like. Computing device readable instructions may be loaded in memory for execution by processing unit for example.

The term computing device readable media as used herein includes computing device storage media. Computing device storage media includes volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computing device readable instructions or other data. Memory and storage are examples of computing device storage media. Computing device storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM Digital Versatile Disks DVDs or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by device . Any such computing device storage media may be part of device .

Device may also include communication connection s that allows device to communicate with other devices. Communication connection s may include but is not limited to a modem a Network Interface Card NIC an integrated network interface a radio frequency transmitter receiver an infrared port a USB connection or other interfaces for connecting computing device to other computing devices. Communication connection s may include a wired connection or a wireless connection. Communication connection s may transmit and or receive communication media.

The term computing device readable media may include communication media. Communication media typically embodies computing device readable instructions or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal may include a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal.

Device may include input device s such as keyboard mouse pen voice input device touch input device infrared cameras video input devices and or any other input device. Output device s such as one or more displays speakers printers and or any other output device may also be included in device . Input device s and output device s may be connected to device via a wired connection wireless connection or any combination thereof. In one embodiment an input device or an output device from another computing device may be used as input device s or output device s for computing device .

Components of computing device may be connected by various interconnects such as a bus. Such interconnects may include a Peripheral Component Interconnect PCI such as PCI Express a Universal Serial Bus USB firewire IEEE 1394 an optical bus structure and the like. In another embodiment components of computing device may be interconnected by a network. For example memory may be comprised of multiple physical memory units located in different physical locations interconnected by a network.

Those skilled in the art will realize that storage devices utilized to store computing device readable instructions may be distributed across a network. For example a computing device accessible via a network may store computing device readable instructions to implement one or more embodiments provided herein. Computing device may access computing device and download a part or all of the computing device readable instructions for execution. Alternatively computing device may download pieces of the computing device readable instructions as needed or some instructions may be executed at computing device and some at computing device .

Various operations of embodiments are provided herein. In one embodiment one or more of the operations described may constitute computing device readable instructions stored on one or more computing device readable media which if executed by a computing device will cause the computing device to perform the operations described. The order in which some or all of the operations are described should not be construed as to imply that these operations are necessarily order dependent. Alternative ordering will be appreciated by one skilled in the art having the benefit of this description. Further it will be understood that not all operations are necessarily present in each embodiment provided herein.

Moreover the word exemplary is used herein to mean serving as an example instance or illustration. Any aspect or design described herein as exemplary is not necessarily to be construed as advantageous over other aspects or designs. Rather use of the word exemplary is intended to present concepts in a concrete fashion. As used in this application the term or is intended to mean an inclusive or rather than an exclusive or . That is unless specified otherwise or clear from context X employs A or B is intended to mean any of the natural inclusive permutations. That is if X employs A X employs B or X employs both A and B then X employs A or B is satisfied under any of the foregoing instances. In addition the articles a and an as used in this application and the appended claims may generally be construed to mean one or more unless specified otherwise or clear from context to be directed to a singular form. Also at least one of A and B and or the like generally means A or B or both A and B.

Also although the disclosure has been shown and described with respect to one or more implementations equivalent alterations and modifications will occur to others skilled in the art based upon a reading and understanding of this specification and the annexed drawings. The disclosure includes all such modifications and alterations and is limited only by the scope of the following claims. In particular regard to the various functions performed by the above described components e.g. elements resources etc. the terms used to describe such components are intended to correspond unless otherwise indicated to any component which performs the specified function of the described component e.g. that is functionally equivalent even though not structurally equivalent to the disclosed structure which performs the function in the herein illustrated exemplary implementations of the disclosure. In addition while a particular feature of the disclosure may have been disclosed with respect to only one of several implementations such feature may be combined with one or more other features of the other implementations as may be desired and advantageous for any given or particular application. Furthermore to the extent that the terms includes having has with or variants thereof are used in either the detailed description or the claims such terms are intended to be inclusive in a manner similar to the term comprising. 

