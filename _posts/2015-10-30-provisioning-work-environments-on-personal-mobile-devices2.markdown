---

title: Provisioning work environments on personal mobile devices
abstract: A virtual business mobile device can be provisioned on a personal mobile device, by binding a mobile application for provisioning the business mobile device to a privileged component of a host operating system of the personal mobile device, wherein the binding enables a software virtualization layer and a management service component of the mobile application to execute in a privileged mode. The mobile application is then able to download a virtual phone image for the business mobile device and security-related policy settings relating to use of the business mobile device from a mobile management server, wherein the software virtualization layer is able to launch a virtual machine for the business mobile device based on the virtual phone image. Once the virtual phone image has been downloaded, the management service component initiates a periodic attempt to establish a connection with the mobile management server to comply with the downloaded security-related policy settings.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09577985&OS=09577985&RS=09577985
owner: VMWARE, Inc.
number: 09577985
owner_city: Palo Alto
owner_country: US
publication_date: 20151030
---
This application is a continuation of application Ser. No. 13 678 964 filed on Nov. 16 2012 and entitled Provisioning Work Environments on Personal Mobile Devices which is hereby incorporated herein by reference in its entirety. Application Ser. No. 13 678 964 claims the benefit of U.S. Provisional Patent Application 61 562 979 filed on Nov. 22 2011 and entitled Provisioning Work Environments on Personal Mobile Devices which is hereby incorporated by reference. Application Ser. No. 13 678 964 is also related to the patent applications entitled Controlling Use of a Business Environment on a Mobile Device and User Interface for Controlling Use of a Business Environment on a Mobile Device all of which are assigned to the assignee of this application and have been filed on the same day as this application.

Over the past decade enterprises have experienced a substantial increase in the productivity of its workforce when providing them with business mobile devices. In the past given their high cost business mobile devices were mainly allocated to management and focused on providing employees with email access and cellular phone capabilities. However recent improvements in the computing power mobile display technologies and connection speeds of mobile devices combined with the continued decreases in hardware costs have made powerful mobile devices available even to the general public for personal use. More and more individuals personally own powerful mobile devices such as smartphones that in addition to serving as a cellular phone can be used in many of the same ways as a desktop or a laptop such as accessing emails browsing documents or the internet game playing listening to audio or viewing a video and personal information management PIM .

Due to the above trends in mobile devices enterprises are currently experiencing an invasion of personal devices into the workplace. Given the sophisticated capabilities of their personal mobile devices employees no longer desire possessing a separate personal and business mobile device and continually pressure information technology IT departments to support personal devices brought into the workplace. As such IT departments struggle to maintain a proper balance between enabling a certain level of access to enterprise data e.g. such as access to email contacts documents and the like on personal devices and ensuring adequate security measures to protect corporate intellectual property in such enterprise data. This phenomenon has led enterprises to investigate the viability of a Bring Your Own Device BYOD strategy to IT where a personal mobile device is provisioned by IT departments with the capability of operating as a complete business mobile device in a secure fashion.

Such a BYOD strategy could significantly decrease IT costs e.g. by eliminating or reducing the need to purchase and provision hardware devices and provide mobile enterprise access to many more employees than was previously possible e.g. due to cost concerns thereby achieving greater increases in productivity than before. However significant challenges arise in provisioning work environment on a personal mobile device that maintains adequate security and data partitioning between the employee s personal world and the employer s business world. 

One or more embodiments of the invention provide virtualization as the solution for consolidating personal and business uses in a single mobile device. One feature of virtualization is that it preserves isolation of the personal and work environments. As a result the user need not provide enterprise IT departments any control of the user s personal environment and the enterprise IT departments can retain strict control of the user s work environment. Another feature of virtualization is that the user s work environment will be platform independent. In other words regardless of the type of personal mobile device the user chooses the resulting business mobile device through virtualization will be identical. Therefore enterprise IT departments need to support only one type of business mobile device.

One method of provisioning a business mobile device on a personal mobile device according to one or more embodiments of the invention comprises binding a mobile application for provisioning the business mobile device to a privileged component of a host operating system of the personal mobile device wherein the binding enables a hypervisor component and a management service component of the mobile application to execute in a privileged mode. The mobile application is then able to download a virtual phone image for the business mobile device and security related policy settings relating to use of the business mobile device from a mobile management server managed by an employer of a user of the personal mobile device wherein the hypervisor component is able to launch a virtual machine for the business mobile device based on the virtual phone image. Once the virtual phone image has been downloaded the method continues by initiating a periodic attempt to establish a connection between the management service component of the mobile application and the mobile management server to comply with the downloaded security related policy settings.

It should be recognized that the views of are merely exemplary and that alternative embodiments of admin user interface and admin service may implement different user interfaces with different design decisions that offer different management functions than those depicted in . For example embodiments of administration service may further provide an administrator a capability to maintain a menu of a la carte mobile applications that can be separately provisioned to a particular user s business mobile device for example upon request of such user and separate from any default mobile applications that are included in virtual phone images.

A personal mobile device having firmware OS that includes enabler component is able support a mobile application package that comprises a variety of functional components such as a hypervisor a provisioning tool and a management service . In one embodiment a user may download mobile application package from a mobile application store such as the Android Market Apple App Store Amazon Appstore etc. For example such a mobile application package may take the form of a .apk file if downloaded from the Android Market. Once downloaded and installed on the host OS of personal mobile device mobile application package authenticates and binds itself to enabler component thereby enabling the various functional components of mobile application package to execute in higher privileged and or secured modes. Hypervisor is a virtualization layer running on top of firmware OS which provides necessary services to enable execution of a virtual machine for business mobile device . In one embodiment the guest OS included in a virtual phone image for business mobile device includes paravirtualized guest drivers for each device of personal mobile device that enables a virtual hardware layer or virtual machine monitor of the virtual machine to intercept hypercalls for device specific behavior and forward such hypercall requests as needed to hypervisor which in turn facilitates communication with the actual hardware devices of personal mobile device . It should be recognized that alternative embodiments may utilize a non paravirtualized implementation where guest drivers and the guest OS of virtual phone image may be unaware that they are running on top of a virtualization layer. As further depicted in mobile application package also includes a provisioning tool that may for example provide a user interface and other support services to assist a user in retrieving virtual phone image and other configuration information e.g. policy configurations additional mobile applications etc. from virtual phone provisioning service of mobile management server in IT department . Mobile application further includes a management service that once installed continuously runs as a service on the host OS and periodically communicates with virtual phone leasing service for example in order to comply with various security policy settings for business mobile device or to provide various updates e.g. OS updates customizations new applications etc. to virtual phone image of business mobile device . In one embodiment because management service is able to run in a higher privilege or security level due to its binding to enabler component it cannot be manually terminated by the user of personal mobile device e.g. without such user obtaining root access etc. .

In step provisioning tool as described above establishes a connection e.g. wireless with virtual phone provisioning service and provides the unique identifying information to virtual phone provisioning service to identify a virtual phone image corresponding to the user. In step virtual phone provisioning service receives the unique identifying information and in step dynamically generates or otherwise identifies a previously stored default virtual phone image corresponding to the unique identifying information and thus the user . For example in one embodiment virtual phone provisioning service determines an identity of the user from the received unique identifying information and is able to identify a default virtual phone image stored in a file system repository of mobile management database that corresponds to the business group of the user see e.g. . In step virtual phone provisioning service transmits virtual phone image to provisioning tool . In one embodiment such virtual phone image is transmitted as a zip file. In step virtual phone provisioning service similarly identifies policy settings corresponding to the user s business group see e.g. as well as any additional mobile applications requested by the user and supported by IT department that are not included in virtual phone image and in step transmits the policy setting and additional mobile applications to provisioning tool . In one embodiment communication between virtual phone provisioning service and provisioning tool during transmission of virtual phone image business group policy settings and additional mobile applications occurs through RESTful APIs representational state transfer application programming interface . In steps and provisioning tool receives virtual phone image group policy settings and additional mobile applications respectively. In one embodiment provisioning tool receives and stores virtual phone image due to its size e.g. 3 GBs or higher in some embodiments on an external storage card of personal mobile device such as an external microSD card or other similar small form factor mass storage devices. Alternative embodiments may store virtual phone image in the internal memory e.g. NAND flash memory or embedded eMMC eSD memory chips of personal mobile device . In step provisioning tool initializes business mobile device . For example in one embodiment during such initialization provisioning tool provides certain group policy settings received in step such as lease settings to management service to initiate a periodic leasing communication with virtual phone leasing service in accordance with the lease settings for the user s business group see e.g. . Similarly provisioning tool may provide other group policy settings such as password settings to hypervisor to enable hypervisor to properly control password access to business mobile device . The initialization process may additionally install any additional mobile applications into virtual phone image . Once initialized in step the user may launch business mobile device in a virtual machine supported by hypervisor using virtual phone image . Similarly once virtual phone image has been delivered and installed on personal mobile device at step mobile management platform may update a user profile corresponding to the user see e.g. to indicate that the user s business mobile device has now been activated.

If however in step a connection is not successfully established e.g. due to a malicious user who has stolen personal mobile device and turned off its wireless network capabilities then in step if a time period for an auto wipe setting e.g. 4 days in has elapsed then in step management service will permanently delete or otherwise remove virtual phone image from personal mobile device thereby permanently wiping the existence of business mobile device from personal mobile device for security purposes. It should be recognized that the wiping of business mobile device from personal mobile device does not affect a user s ability to use personal mobile device . If the time period for auto wipe has not elapsed then in step if a time period for an auto disable setting e.g. 1 day in has elapsed then in step management service will temporarily disable access by the user to business mobile device until a connection with virtual phone leasing service has been re established in step . It should be recognized that the flow of for lease communications is merely exemplary and various alternatives may be made consistent with the teachings herein. For example while describes a polling technique in which management service running on personal mobile device initiates an attempt to establish communications with virtual phone leasing service of mobile management platform alternative embodiments may employ a push model whereby virtual phone leasing service utilizes a periodic timer to transmit push messages to management service on personal mobile device to request management service to connect back to virtual phone leasing service .

Although one or more embodiments of the present invention have been described in some detail for clarity of understanding it will be apparent that certain changes and modifications may be made within the scope of the claims. For example while embodiments herein have referred to certain mobile operating systems such as Android it should be recognized that any mobile operating systems may be utilizing in alternative embodiments such as Apple s iOS Research in Motion s Blackberry OS Microsoft s Windows Phone Hewlett Packard s webOS Symbian Java and the like. Similarly while embodiments herein have generally utilized a smartphone as an example of a mobile device it should be recognized that any potable device that has primary purposes of providing mobile computing or mobile data services to a user may utilize the techniques herein including tablet computers and similar portable devices. It should further be recognized that use of certain terminology that may be more commonly used with certain operating systems than others is merely exemplary not meant to limit the scope of the teachings herein to any particular operating system and that corresponding functions and components in other operating system platforms may benefit from the teachings herein. Accordingly the described embodiments are to be considered as illustrative and not restrictive and the scope of the claims is not to be limited to details given herein but may be modified within the scope and equivalents of the claims. In the claims elements and or steps do not imply any particular order of operation unless explicitly stated in the claims.

The various embodiments described herein may employ various computer implemented operations involving data stored in computer systems. For example these operations may require physical manipulation of physical quantities usually though not necessarily these quantities may take the form of electrical or magnetic signals where they or representations of them are capable of being stored transferred combined compared or otherwise manipulated. Further such manipulations are often referred to in terms such as producing identifying determining or comparing. Any operations described herein that form part of one or more embodiments of the invention may be useful machine operations. In addition one or more embodiments of the invention also relate to a device or an apparatus for performing these operations. The apparatus may be specially constructed for specific required purposes or it may be a general purpose computer selectively activated or configured by a computer program stored in the computer. In particular various general purpose machines may be used with computer programs written in accordance with the teachings herein or it may be more convenient to construct a more specialized apparatus to perform the required operations.

The various embodiments described herein may be practiced with other computer system configurations including hand held devices microprocessor systems microprocessor based or programmable consumer electronics minicomputers mainframe computers and the like.

One or more embodiments of the present invention may be implemented as one or more computer programs or as one or more computer program modules embodied in one or more computer readable media. The term computer readable medium refers to any data storage device that can store data which can thereafter be input to a computer system computer readable media may be based on any existing or subsequently developed technology for embodying computer programs in a manner that enables them to be read by a computer. Examples of a computer readable medium include a hard drive network attached storage NAS read only memory random access memory e.g. a flash memory device a CD Compact Discs CD ROM a CD R or a CD RW a DVD Digital Versatile Disc a magnetic tape and other optical and non optical data storage devices. The computer readable medium can also be distributed over a network coupled computer system so that the computer readable code is stored and executed in a distributed fashion.

Virtualization systems in accordance with the various embodiments may be implemented as hosted embodiments non hosted embodiments or as embodiments that tend to blur distinctions between the two are all envisioned. Furthermore various virtualization operations may be wholly or partially implemented in hardware. For example a hardware implementation may employ a look up table for modification of storage access requests to secure non disk data.

Many variations modifications additions and improvements are possible regardless the degree of virtualization. The virtualization software can therefore include components of a host console or guest operating system that performs virtualization functions. Plural instances may be provided for components operations or structures described herein as a single instance. Finally boundaries between various components operations and data stores are somewhat arbitrary and particular operations are illustrated in the context of specific illustrative configurations. Other allocations of functionality are envisioned and may fall within the scope of the invention s . In general structures and functionality presented as separate components in exemplary configurations may be implemented as a combined structure or component. Similarly structures and functionality presented as a single component may be implemented as separate components. These and other variations modifications additions and improvements may fall within the scope of the appended claims s .

