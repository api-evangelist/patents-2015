---

title: Determining document classification probabilistically through classification rule analysis
abstract: A classification application identifies patterns and evidences within representative documents. The application constructs a classification rule according to an entity and an affinity determined from the patterns and evidences. The application processes the representative documents with the classification rule to evaluate whether the rules meet acceptance requirements. Subsequent to a successful evaluation, the application identifies confidence levels for patterns and evidences within other documents.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09495639&OS=09495639&RS=09495639
owner: MICROSOFT TECHNOLOGY LICENSING, LLC
number: 09495639
owner_city: Redmond
owner_country: US
publication_date: 20150225
---
This Application is a continuation under 35 U.S.C. 120 of co pending U.S. patent application Ser. No. 13 527 267 filed on Jun. 16 2012 by the same inventors commonly assigned herewith. The disclosure of the U.S. Patent Application is hereby incorporated by reference in its entirety.

Enterprises are under variety of business rules for document management and retention. Vast transactions accumulate great amounts of documents in modern business environments. Documents are usually kept in document management systems. Document management systems apply multitude of business rules to maintain documents in order to comply with the business requirements. Privacy rules are applied across organizations and their documents. Document retention rules are applied to comply with company policies and legal responsibilities. Accounting analysis systems are integrated to the document management solutions to analyze transaction processes. In addition marketing solutions may be integrated to document management systems to extract customer and business information.

Document classification is at the core of data loss prevention DLP technologies. In diverse environments business rules require entities to secure their document systems. In sensitive environments identification of whether a document contains sensitive information may be needed in order to take an action to secure it e.g. encrypt audit or delete . Modern document classification approaches attempt to solve three key issues false positive rates false negative rates and optimization. Modern optimization techniques utilize solutions based on testing or customer feedback. Existing solutions rely on weight based systems for document classification. Weight based systems are accumulative in nature and cannot be easily optimized over time.

This summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This summary is not intended to exclusively identify key features or essential features of the claimed subject matter nor is it intended as an aid in determining the scope of the claimed subject matter.

Embodiments are directed to determining document classification probabilistically through classification rule analysis. According to some embodiments an application may identify patterns and evidences within content of representative documents. The application may construct a classification rule based on an entity determined according to an analysis of the patterns and an affinity determined according to an analysis of the evidences. Next the application may process the content with the classification rule to collect returned results. The returned results may be compared to expected results to evaluate the classification rule against acceptance requirements. Upon a successful determination the application may identify confidence levels for the patterns and the evidences. Subsequent to an unsuccessful determination the application may edit the classification rule and restart the rule evaluation process with the representative documents.

These and other features and advantages will be apparent from a reading of the following detailed description and a review of the associated drawings. It is to be understood that both the foregoing general description and the following detailed description are explanatory and do not restrict aspects as claimed.

As briefly described above an application may determine document classification probabilistically through classification rule analysis. The application may identify patterns and evidences within content of representative documents. Representative documents may have key words that may be used to calibrate a classification algorithm within the application. The application may construct a classification rule based on an entity determined according to an analysis of the patterns and an affinity determined according to an analysis of the evidences. Next the application may process the content with the classification rule to collect returned results. The returned results may indicate presence of patterns and evidences in the content. Subsequently the application may compare the returned results to expected results to evaluate the classification rule against acceptance requirements. The acceptance requirements may have precision and recall thresholds for the entity and the affinity. Subsequent to a positive acceptance criterion the application may identify confidence levels for the patterns and evidences to classify the content. Alternatively the application may edit the classification rule and restart the classification rule evaluation subsequent to a negative acceptance criteria determination.

In the following detailed description references are made to the accompanying drawings that form a part hereof and in which are shown by way of illustrations specific embodiments or examples. These aspects may be combined other aspects may be utilized and structural changes may be made without departing from the spirit or scope of the present disclosure. The following detailed description is therefore not to be taken in a limiting sense and the scope of the present disclosure is defined by the appended claims and their equivalents.

While the embodiments will be described in the general context of program modules that execute in conjunction with an application program that runs on an operating system on a computing device those skilled in the art will recognize that aspects may also be implemented in combination with other program modules.

Generally program modules include routines programs components data structures and other types of structures that perform particular tasks or implement particular abstract data types. Moreover those skilled in the art will appreciate that embodiments may be practiced with other computer system configurations including hand held devices multiprocessor systems microprocessor based or programmable consumer electronics minicomputers mainframe computers and comparable computing devices. Embodiments may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules may be located in both local and remote memory storage devices.

Embodiments may be implemented as a computer implemented process method a computing system or as an article of manufacture such as a computer program product or computer readable media. The computer program product may be a computer storage medium readable by a computer system and encoding a computer program that comprises instructions for causing a computer or computing system to perform example process es . The computer readable storage medium is a non transitory computer readable memory device. The computer readable storage medium can for example be implemented via one or more of a volatile computer memory a non volatile memory a hard drive a flash drive a floppy disk or a compact disk and comparable media.

According to some embodiments a touch or gesture enabled input device and display screen may be utilized for determining document classification probabilistically through classification rule analysis. The gesture enabled input device and display screen may utilize any technology that allows touch input or optically captured gestures by a user to be recognized. For example some technologies may include but are not limited to heat finger pressure high capture rate cameras infrared light optic capture tuned electromagnetic induction ultrasonic receivers transducer microphones laser rangefinders shadow capture and the like.

According to embodiments document classification may be a process of detecting predefined content characteristics for further processing. Document classification rules may be a set of instructions to configure a document classification algorithm. The classification algorithm may be a standalone application part of it or may be an application programming interface API . The classification rules may define content characteristics. An example may be rules for finding a social security number SSN . An entity may be a content analysis rule targeted towards identifiers e.g. SSN . An entity may be represented by a collection of countable patterns. A pattern may be defined as a collection of identifier matches. A pattern may occur within a proximity e.g. a range of 300 characters . An example entity may be a driver s license.

According to other embodiments the application may utilize an affinity to construct the document classification rules. An affinity may be a content analysis rule targeted towards a type of document. An example may be a corporate financials document. The Affinity may be represented as a collection of evidences. An evidence may be an aggregate of matches with a certain proximity. An example affinity may be Sarbanes Oxley corporate accounting attributes. In addition the application may utilize confidence levels in determining document classification. An example confidence level may be a probability for an entity to be present if a pattern is found within the content. Another example confidence level may be a probability for an affinity to be present if an evidence is found within the content.

Throughout this specification the term platform may be a combination of software and hardware components for determining document classification probabilistically through classification rule analysis. Examples of platforms include but are not limited to a hosted service executed over a plurality of servers an application executed on a single computing device and comparable systems. The term server generally refers to a computing device executing one or more software programs typically in a networked environment. However a server may also be implemented as a virtual server software programs executed on one or more computing devices viewed as a server on the network. More detail on these technologies and example operations is provided below.

Referring to diagram illustrates an example component diagram where an application may determine document classification probabilistically through classification rule analysis according to some embodiments. The components and environments shown in diagram are for illustration purposes. Embodiments may be implemented in various local networked cloud based and similar computing environments employing a variety of computing devices and systems hardware and software.

In an example environment illustrated in diagram documents may be classified by a confidence based document classification application . The application may classify documents by processing the content of the documents according to a classification rule. The application may attach an entity value and an affinity value to the processed content . Entity and Affinity values may be used to classify the document according to the matched characteristics.

According to some embodiments the application combines several text processing techniques in a probabilistic manner to produce a confidence level for a document s classification. Each text processing component e.g. regular expressions or keywords may be assigned a probability of correctly matching an identifier. A set of probabilities may be combined using standard probabilistic arithmetic to yield an overall confidence level of the document containing an entity e.g. credit cards . The confidence level may be used with a threshold to inform an action to take. In an example scenario an application may encrypt credit card numbers upon determining a high confidence level that the document has credit card numbers. Alternatively the application may warn a user that the document may contain credit card numbers subsequent to detecting a moderate confidence level that the document has credit card numbers. Upon detecting a low confidence level for credit card numbers within the document the application may not take any action.

According to some embodiments a pattern may represent a collection of text markers e.g. regular expressions keywords and post processing with a probability to find an entity e.g. credit card . In an example scenario a pattern for a social security number SSN may be a regex matching a formatted SSN. The pattern may also meet range requirements such as number of characters. An example pattern match may include rules for a keyword match e.g. Social Security Soc Sec SSN SSNS SSN SS and SSID text representing a US address text representing a date text representing a name etc.

According to other embodiments an entity may be a collection of patterns. In an example scenario there may be multiple ways to find an entity such as a credit card. Each pattern may be a different approach to finding the credit card. An entity may include a count and the confidence level of a match. An entity count may be equal the sum of all detected pattern counts. In an example scenario Count Count Countwhere Countis the count of Patternand Countis the count of Pattern. In addition an entity confidence level may equal the combination of all matched patterns confidence level. In example scenario P Entity 1 1 P Pattern . If Patternand Patternare matched then CL 1 1 CL 1 CL where CL is confidence level for respective entity or pattern.

According to some embodiments a pattern confidence level may be an evaluation of the entity s presence in the content. The pattern confidence level may be evaluated as the probability of matching at least one of the patterns indicating the entity s presence. In an example scenario 

According to some embodiments an affinity may be a collection of evidences. Affinity may be targeted towards rules without well defined text. Affinity evaluation may provide evidence presence and confidence level information. Affinity evaluation may not return a count. In an example scenario corporate financials analysis or Sarbanes Oxley SARBOX may have no clear identifier. SARBOX information may be a collection of evidence indicating a confidential financial file. In another example scenario health insurance portability and accountability act HIPAA information may have no consistent identifiers. HIPAA information may require a collection of evidence to indicate if HIPAA applies to a document.

According to other embodiments an evidence may represent a collection of text markers e.g. regular expressions keywords and post processing that have a probability to find a particular target entity e.g. credit card . Evidence may be similar to a pattern. In an example scenario a document may contain corporate financials if the confidence level is greater than 65 . The confidence level may be determined by increasing the confidence level by 60 if a regex indicates a most recent quarter or terms indicating presence of a confidential document. Alternatively the confidence level may be determined by increasing the confidence level by 40 subsequent to finding terms for assets and liabilities or terms for a balance sheet or terms for a profit and loss P L statement. In another example the confidence level may be found by increasing the confidence level by 40 subsequent to finding two terms including tax filing dollar amounts SEC reports filing schedules or dollar totals.

According to embodiments the application may scan within a window of content width proximity . The application may evaluate an affinity confidence level for each window position subsequent to finding affinity. The affinity confidence level may be evaluated as a probability of at least one of the evidences being within the proximity window. The probability may indicate the affinity s presence. In an example scenario 

According to an embodiment the application or a user may prepare a set of documents representative of an environment. The application or a user may find patterns or evidences indicating the entity and the affinity. The application may construct a rule based on the patterns and evidences that expected to capture the information in the documents. The application may process the rule against the content of the documents and collect accuracy data. The application may compare the returned and expected results for the content. If the entity and affinity rules meet acceptance requirements including predetermined precision and recall rates for established thresholds the rule may be ready for processing against other documents. If the rule does not meet acceptance requirements the application or a user may edit the rule by adding more corroborative evidence removing adding additional patterns evidences etc. The application or user may restart process to evaluate the classification rule subsequent to editing.

Columns and contains true positive TP and false positive FP indicators for evaluated patterns. The application may mark the patterns and evidences as TP and FP according to the evaluation. In an example scenario column contains pattern names column contains TP count column contains FP count and column contains confidence level calculation. The application may set confidence level for each pattern and evidence as its number of TP divided by sum of number of TP and number of FP.

According to some embodiments an application or a user may prepare a set of representative documents for an environment e.g. corporate finance department . For each entity the application may evaluate the values of 

The example scenarios and schemas in are shown with specific components data types and configurations. Embodiments are not limited to systems according to these example configurations. Determining document classification probabilistically through classification rule may be implemented in configurations employing fewer or additional components in applications and user interfaces. Furthermore the example schema and components shown in and their subcomponents may be implemented in a similar manner with other values using the principles described herein.

As discussed above an application may determine document classification probabilistically through classification rule analysis. An entity rule may be evaluated from an analysis of a collection of patterns. An affinity rule may be evaluated from an analysis of a collection of evidences. The entity and affinity rules may be used to process documents and compare against predetermined thresholds for rule assessment. Client devices may enable access to applications executed on remote server s e.g. one of servers as discussed previously. The server s may retrieve or store relevant data from to data store s directly or through database server .

Network s may comprise any topology of servers clients Internet service providers and communication media. A system according to embodiments may have a static or dynamic topology. Network s may include secure networks such as an enterprise network an unsecure network such as a wireless open network or the Internet. Network s may also coordinate communication over other networks such as Public Switched Telephone Network PSTN or cellular networks. Furthermore network s may include short range wireless networks such as Bluetooth or similar ones. Network s provide communication between the nodes described herein. By way of example and not limitation network s may include wireless media such as acoustic RF infrared and other wireless media.

Many other configurations of computing devices applications data sources and data distribution systems may be employed to determine document classification probabilistically through classification rule analysis. Furthermore the networked environments discussed in are for illustration purposes only. Embodiments are not limited to the example applications modules or processes.

Classification application may assess classification rules based on analysis results according to embodiments. The confidence algorithm may produce entity and affinity confidence levels. The confidence algorithm may scan and recognize patterns and evidences within the content of documents. This basic configuration is illustrated in by those components within dashed line .

Computing device may have additional features or functionality. For example the computing device may also include additional data storage devices removable and or non removable such as for example magnetic disks optical disks or tape. Such additional storage is illustrated in by removable storage and non removable storage . Computer readable storage media may include volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer readable storage media is a non transitory computer readable memory device. System memory removable storage and non removable storage are all examples of computer readable storage media. Computer readable storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computing device . Any such computer readable storage media may be part of computing device . Computing device may also have input device s such as keyboard mouse pen voice input device touch input device and comparable input devices. Output device s such as a display speakers printer and other types of output devices may also be included. These devices are well known in the art and need not be discussed at length here.

Computing device may also contain communication connections that allow the device to communicate with other devices such as over a wireless network in a distributed computing environment a satellite link a cellular link and comparable mechanisms. Other devices may include computer device s that execute communication applications storage servers and comparable devices. Communication connection s is one example of communication media. Communication media can include therein computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media.

Example embodiments also include methods. These methods can be implemented in any number of ways including the structures described in this document. One such way is by machine operations of devices of the type described in this document.

Another optional way is for one or more of the individual operations of the methods to be performed in conjunction with one or more human operators performing some. These human operators need not be co located with each other but each can be only with a machine that performs a portion of the program.

Process may begin with operation where an application may identify patterns and evidences within content of representative documents. A user may define identifiers to match patterns and parameters such as proximity windows within which to match evidences. At operation the application may construct a classification rule based on an entity determined according to an analysis of the patterns and an affinity determined according to an analysis of the evidences. Subsequently the application may process the content of the documents with the classification rule to collect returned results at operation . Next the application may compare the returned results to predetermined expected results to evaluate the classification rule against acceptance requirements at operation . At decision node the application may evaluate whether the classification rule meets acceptance requirements such as precision recall and their respective thresholds. Subsequent to a positive determination the application may identify confidence levels for patterns and evidences at operation . However upon a negative evaluation of meeting the acceptance requirements the application may edit the classification rule and restart the rule evaluation process at operation .

Some embodiments may be implemented in a computing device that includes a communication module a memory and a processor where the processor executes a method as described above or comparable ones in conjunction with instructions stored in the memory. Other embodiments may be implemented as a computer readable storage medium with instructions stored thereon for executing a method as described above or similar ones.

The operations included in process are for illustration purposes. Determining document classification probabilistically through classification rule analysis according to embodiments may be implemented by similar processes with fewer or additional steps as well as in different order of operations using the principles described herein.

The above specification examples and data provide a complete description of the manufacture and use of the composition of the embodiments. Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather the specific features and acts described above are disclosed as example forms of implementing the claims and embodiments.

