---

title: Methods for linking an electronic media work to perform an action
abstract: A method including the steps of: receiving, by a computer system including at least one computer, a first electronic media work uploaded from a first electronic device; extracting one or more features from the first electronic media work; linking the first electronic media work with a reference electronic media work identifier associated with a reference electronic media work to generate correlation information relating the first electronic media work with at least an action associated with the reference electronic media work identifier; storing the correlation information; receiving, from a second electronic device, a query related to the first electronic media work; correlating the query with action information related to an action to be performed based at least in part on the correlation information; generating machine-readable instructions based upon the action information; and providing the machine-readable instructions to the second electronic device to be used in performing the action.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09536253&OS=09536253&RS=09536253
owner: NETWORK-1 TECHNOLOGIES, INC.
number: 09536253
owner_city: New York
owner_country: US
publication_date: 20151228
---
The present application is a continuation of U.S. patent application Ser. No. 13 800 890 incorporated herein by reference allowed on Nov. 25 2015 titled METHOD FOR LINKING AN ELECTRONIC MEDIA WORK TO PERFORM AN ACTION filed on Mar. 13 2013 and listing Ingemar J. Cox as the inventor which is a continuation of U.S. patent application Ser. No. 13 338 079 incorporated herein by reference issued as U.S. Pat. No. 8 640 179 on Jan. 28 2014 titled METHOD FOR USING EXTRACTED FEATURES FROM AN ELECTRONIC WORK filed on Dec. 27 2011 and listing Ingemar J. Cox as the inventor which is a continuation of U.S. patent application Ser. No. 11 977 202 incorporated herein by reference issued as U.S. Pat. No. 8 205 237 on Jun. 19 2012 titled IDENTIFYING WORKS USING A SUB LINEAR TIME SEARCH SUCH AS AN APPROXIMATE NEAREST NEIGHBOR SEARCH FOR INITIATING A WORK BASED ACTION SUCH AS AN ACTION ON THE INTERNET filed Oct. 23 2007 and listing Ingemar J. Cox as the inventor which is a continuation of U.S. patent application Ser. No. 11 445 928 incorporated herein by reference issued as U.S. Pat. No. 8 010 988 on Aug. 30 2011 titled USING FEATURES EXTRACTED FROM AN AUDIO AND OR VIDEO WORK TO OBTAIN INFORMATION ABOUT THE WORK filed on Jun. 2 2006 and listing Ingemar J. Cox as the inventor which is a continuation in part of U.S. patent application Ser. No. 09 950 972 incorporated herein by reference issued as U.S. Pat. No. 7 058 223 on Jun. 6 2006 titled IDENTIFYING WORKS FOR INITIATING A WORK BASED ACTION SUCH AS AN ACTION ON THE INTERNET filed on Sep. 13 2001 and listing Ingemar J. Cox as the inventor which application claims benefit to the filing date of provisional patent application Ser. No. 60 232 618 incorporated herein by reference titled IDENTIFYING AND LINKING TELEVISION AUDIO PRINT AND OTHER MEDIA TO THE INTERNET filed on Sep. 14 2000 and listing Ingemar J. Cox as the inventor.

The present invention concerns linking traditional media to new interactive media such as that provided over the Internet for example. In particular the present invention concerns identifying a work e.g. content or an advertisement delivered via print media or via a radio or television broadcast without the need to modify the work.

 1.2.1 Opportunities Arising from Linking Works Delivered Via Some Traditional Media Channel or Conduit to a More Interactive System

The rapid adoption of the Internet and associated World Wide Web has recently spurred interest in linking works delivered via traditional media channels or conduits to a more interactive system such as the Internet for example. Basically such linking can be used to a promote commerce such as e commerce and or b enhance interest in the work itself by facilitating audience interaction or participation. Commerce opportunities include for example facilitating the placement of direct orders for products providing product coupons providing further information related to a product product placement etc.

In the context of e commerce viewers could request discount vouchers or coupons for viewed products that are redeemable at the point of purchase. E commerce applications also extend beyond advertisements. It is now common for television shows to include product placements. For example an actor might drink a Coke rather than a Pepsi brand of soda actors and actresses might wear designer labeled clothing such as Calvin Klein etc. Viewers may wish to purchase similar clothing but may not necessarily be able to identify the designer or the particular style directly from the show. However with an interactive capability viewers would be able to discover this and other information by going to an associated Web site. The link to this Web site can be automatically enabled using the invention described herein.

In the context of facilitating audience interaction or participation there is much interest in the convergence of television and computers. Convergence encompasses a very wide range of capabilities. Although a significant effort is being directed to video on demand applications in which there is a unique video stream for each user of the service as well as to transmitting video signals over the Internet there is also interest in enhancing the television viewing experience. To this end there have been a number of experiments with interactive television in which viewers can participate in a live broadcast. There are a variety of ways in which viewers can participate. For example during game shows users can answer the questions and their scores can be tabulated. In recent reality based programming such as the ABC television game show Big Brother viewers can vote on contestants who must leave the show and be eliminated from the competition.

Known techniques of linking works delivered via traditional media channels to a more interactive system typically require some type of code used to identify the work to be inserted into the work before it is delivered via such traditional media channels. Some examples of such inserted code include i signals inserted into the vertical blanking interval VBI lines of a e.g. NTSC television signal ii watermarks embedded into images iii bar codes imposed on images and iv tones embedded into music.

The common technical theme of these proposed implementations is the insertion of visible or invisible signals into the media that can be decoded by a computer. These signals can contain a variety of information. In its most direct form the signal may directly encode the URL of the associated Web site. However since the alphanumeric string has variable length and is not a particularly efficient coding it is more common to encode a unique ID. The computer then accesses a database which is usually proprietary and matches the ID with the associated web address. This database can be considered a form of domain name server similar to those already deployed for network addresses. However in this case the domain name server is proprietary and the addresses are unique ID s.

There are two principal advantages to encoding a proprietary identifier into content. First as previously mentioned it is a more efficient use of the available bandwidth and second by directing all traffic to a single Web site that contains the database a company can maintain control over the technology and gather useful statistics that may then be sold to advertisers and publishers.

As an example of inserting signals into the vertical blanking interval lines of a television signal RespondTV of San Francisco Calif. embeds identification information into the vertical blanking interval of the television signal. The VBI is part of the analog video broadcast that is not visible to television viewers. For digital television it may be possible to encode the information in for example the motion picture experts group MPEG header. In the USA the vertical blanking interval is currently used to transmit close captioning information as well as other information while in the UK the VBI is used to transmit teletext information. Although the close captioning information is guaranteed to be transmitted into the home in America unfortunately other information is not. This is because ownership of the vertical blanking interval is disputed by content owners broadcasters and local television operators.

As an example of embedding watermarks into images Digimarc of Tualatin Oreg. embeds watermarks in print media. Invisible watermarks are newer than VBI insertion and have the advantage of being independent of the method of broadcast. Thus once the information is embedded it should remain readable whether the video is transmitted in NTSC PAL or SECAM analog formats or newer digital formats. It should be more reliable than using the vertical blanking interval in television applications. Unfortunately however watermarks still require modification of the broadcast signal which is problematic for a number of economic logistical legal permission to alter the content is needed and quality control the content may be degraded by the addition of a watermark reasons.

As an example of imposing bar codes on images print advertisers are currently testing a technology that allows an advertisement to be shown to a camera scanner or bar code reader that is connected to a personal computer PC . The captured image is then analyzed to determine an associated Web site that the PC s browser then accesses. For example GoCode of Draper Utah embeds small two dimensional bar codes for print advertisements. The latter signal is read by inexpensive barcode readers that can be connected to a PC. AirClic of Blue Bell Pa. provides a combination of barcode and wireless communication to enable wireless shopping through print media. A so called CueCat reads bar codes printed in conjunction with advertisements and articles in Forbes magazine. Similar capabilities are being tested for television and audio media.

Machine readable bar codes are one example of a visible signal. The advantage of this technology is that it is very mature. However the fact that the signal is visible is often considered a disadvantage since it may detract from the aesthetic of the work delivered via a traditional media channel or conduit.

As an example of embedding tones into music Digital Convergence of Dallas Tex. proposes to embed identification codes into audible music tones broadcast with television signals.

All the foregoing techniques of inserting code into a work can be categorized as active techniques in that they must alter the existing signal whether it is music print television or other media such that an identification code is also present. There are several disadvantages that active systems share. First there are aesthetic or fidelity issues associated with bar codes audible tones and watermarks. More importantly all media must be processed before it is delivered to the end user to contain these active signals. Even if a system is enthusiastically adopted the logistics involved with inserting bar codes or watermarks into say every printed advertisement are formidable.

Further even if the rate of adoption is very rapid it nevertheless remains true that during the early deployment of the system most works will not be tagged. Thus consumers that are early adopters will find that most media is not identified. At best this is frustrating. At worst the naive user may conclude that the system is not reliable or does not work at all. This erroneous conclusion might have a very adverse effect on the adoption rate.

Further not only must there be modification to the production process but modifications must also be made to the equipment in a user s home. Again using the example of watermarking of print media a PC must be fitted with a camera and watermark detection software must be installed. In the case of television the detection of the identification signal is likely to occur at the set top box this is the equipment provided by the local cable television or satellite broadcasting company. In many cases this may require modifications to the hardware which is likely to be prohibitively expensive. For example the audible tone used by Digital Convergence to recognize television content must be fed directly into a sound card in a PC. This requires a physical connection between the television and the PC which may be expensive or at least inconvenient and a sound card may have to be purchased.

In view of the foregoing disadvantages of inserting an identification code into a work thereby altering the existing signal there is a need for techniques of identifying a work without the need of inserting an identification code into a work. Such an identification code can then be used to invoke a work related action such as work related commerce methods and or to increase audience interest by facilitating audience interaction and or participation.

Some embodiments consistent with the present invention provide a computer implemented method apparatus or computer executable programs for linking a media work to an action. Such embodiments might a extract features from the media work b determine an identification of the media work based on the features extracted using a sub linear time search such as an approximate nearest neighbor search for example and c determine an action based on the identification of the media work determined. In some embodiments consistent with the present invention the media work is an audio signal. The audio signal might be obtained from a broadcast or an audio file format. In other embodiments consistent with the present invention the media work is a video signal. The video signal might be obtained from a broadcast or a video file format.

In some of the embodiments pertaining to audio files the audio file might be an mp3 file or some other digital representation of an audio signal. The information might include a song title an album title and or a performer name.

In some of the embodiments pertaining to video files the video file might be an MPEG file or some other digital representation of a video signal. The video file might be a video work and the information might include a title of the video work a director of the video work and names of performers in the video work.

The present invention may involve novel methods apparatus and data structures for identifying works without the need of embedding signals therein. Once identified such information can be used to determine a work related action. The following description is presented to enable one skilled in the art to make and use the invention and is provided in the context of particular embodiments and methods. Various modifications to the disclosed embodiments and methods will be apparent to those skilled in the art and the general principles set forth below may be applied to other embodiments methods and applications. Thus the present invention is not intended to be limited to the embodiments and methods shown and the inventors regard their invention as the following disclosed methods apparatus data structures and any other patentable subject matter to the extent that they are patentable.

The present invention functions to identify a work without the need of inserting an identification code into a work. The present invention may do so by i extracting features from the work to define a feature vector and ii comparing the feature vector to feature vectors associated with identified works. Alternatively or in addition the present invention may do so by i accepting extra work information such as the time of a query or of a rendering of the work the geographic location at which the work is rendered and the station that the audience member has selected and ii use such extra work information to lookup an identification of the work. In either case an identification code may be used to identify the work.

The present invention may then function to use such an identification code to initiate a work related action such as for work related commerce methods and or to increase audience interest by facilitating audience interaction and or participation.

As just introduced in 4.1 above the present invention may use intra work information and or extra work information to identify a work. Once identified such identification can be used to initiate an action such as an action related to commerce or facilitating audience participation or interaction. Exemplary embodiments of the present invention in which work is recognized or identified based on intra work information are described in 4.2.1. Then exemplary embodiments of the present invention in which work is recognized or identified based on extra work information are described in 4.2.2.

 4.2.1 Embodiments in which Work is Recognized Based on Intra Work Information Such as a Feature Vector

Operations related to this embodiment are described in 4.2.1.1 below. Then various architectures which may be used to effect such operations are described in 4.2.1.2.

Further work identifier action information storage may include a number of items or records . Each item or record may associate a preferably unique work identifier with associated information such as an action for example. The work identifier action information storage may be generated by a database generation operation s which may for example accept manual entries.

As can be appreciated from the foregoing the work information storage records and the work identification action records can be combined into a single record. That is there need not be two databases. A single database is also possible in which the work identifier or a feature vector extracted from the work serves as a key and the associated field contains work related information such as a URL for example.

The feature extraction operation s can accept a work such as that being rendered by a user at a second time WORK and extract features from that work. The extracted features may be used to define a so called feature vector.

The extracted features e.g. as a feature vector can be used by a feature vector lookup operation s to search for a matching feature vector . If a match or a match within a predetermined threshold is determined then the associated work identifier is read.

The read work identifier can then be used by a work associated information lookup operation s to retrieve associated information such as an action associated with the work identifier. Such information can then be passed to action initiation operation s which can perform some action based on the associated information .

When the user initiates a request the specific television or radio broadcast or printed commercial each of which is referred to as a work is first passed to the feature extraction operation. The work may be an image an audio file or some portion of an audio signal or may be one or more frames or fields of a video signal or a multimedia signal. The purpose of the feature extraction operation is to derive a compact representation of the work that can subsequently be used for the purpose of recognition. In the case of images and video this feature vector might be a pseudo random sample of pixels from the frame or a low resolution copy of the frame or the average intensities of n.times.n blocks of pixels. It might also be a frequency based decomposition of the signal such as produced by the Fourier wavelet and or discrete cosine transforms. It might involve principal component analysis. It might also be a combination of these. For television and audio signals recognition might also rely on a temporal sequence of feature vectors. The recognition literature contains many different representations. For block based methods blocks may be accessed at pseudo random locations in each frame or might have a specific structure. For audio common feature vectors are based on Fourier frequency decompositions but other representations are possible. See e.g. R. O. Duda and P. E. Hart Pattern Classification and Scene Analysis Wiley Interscience New York 1973 . See also K. Fukunaga Introduction to Statistical Pattern Recognition 2nd Ed. Academic Press New York 1990 . These references are incorporated herein by reference. 

As previously stated one object of the vector extraction stage is to obtain a more concise representation of the frame. For example each video frame is initially composed of 480.times.720 pixels which is equivalent to 345 600 pixels or 691 200 bytes. In comparison an exemplary feature vector might only consist of 1 Kbyte of data.

A second purpose of the feature extraction process is to acquire a representation that is robust or invariant to possible noise or distortions that a signal might experience. For example frames of a television broadcast may experience a small amount of jitter i.e. horizontal and or vertical translation or may undergo lossy compression such as by MPEG 2. It is advantageous that these and other processes do not adversely affect the extracted vectors. For still images there has been considerable work on determining image properties that are invariant to affine and other geometric distortions. For example the use of Radon and Fourier Mellin transforms have been proposed for robustness against rotation scale and translation since these transforms are either invariant or bare a simple relation to the geometric distortions. See e.g. C. Lin M. Wu Y. M. Lui J. A. Bloom M. L. Miller I. J. Cox Rotation Scale and Translation Resilient Public Watermarking for Images IEEE Transactions on Image Processing 2001 . See also U.S. Pat. Nos. 5 436 653 5 504 518 5 582 246 5 612 729 and 5 621 454. Each of these references is incorporated herein by reference. 

A number of possibilities exist for generating and maintaining work identification WID and identification action translation WIDAT databases. However in all cases works of interest are processed to extract a representative feature vector and this feature vector is assigned a unique identifier. This unique identifier is then entered into the work identification WID database as well as into the WIDAT database together with all the necessary associated data. This process is referred to as tagging. For example in the case of an advertisement the WIDAT database might include the manufacturer Ford the product name Taurus a product category automotive and the URL associated with the Ford Taurus car together with the instruction to translate the query into the associated URL.

The determination of all works of interest and subsequent feature vector extraction and tagging depends on whether content owners are actively collaborating with the entity responsible for creating and maintaining the database. If there is no collaboration then the database entity must collect all works of interest and process and tag them. While this is a significant effort it is not overwhelming and is certainly commercially feasible. For example competitive market research firms routinely tabulate all advertisements appearing in a very wide variety of print media. Newspapers and magazines can be scanned in and software algorithms can be applied to the images to identify likely advertisements. These possible advertisements can then be compared with advertisements already in the WID database . If there is a match nothing further need be done. If there is not a match the image can be sent to a human to determine if the page does indeed contain an advertisement. If so the operator can instruct the computer to extract the representative feature vector and assign it a unique identifier. Then the operator can insert this information into the content identification database and as well as update the corresponding WIDAT database with all the necessary associated data. This is continually performed as new magazines and papers include new advertisements to maintain the databases. This is a cost to the database entity. Television and radio broadcasts can also be monitored and in fact broadcast monitoring is currently performed by companies such as Nielsen Media research and Competitive Media Reporting. Television and radio broadcasts differ from print media in the real time nature of the signals and the consequent desire for real time recognition.

In many cases advertisers publishers and broadcasters may wish to collaborate with the database provider. In this case feature extraction and annotation and or extra work information may be performed by the advertiser advertisement agency network and or broadcaster and this information sent to the database provider to update the database. Clearly this arrangement is preferable from the database provider s perspective. However it is not essential.

The extracted feature vector is then passed to a recognition e.g. feature look up operation during which the vector is compared to entries of known vectors in a content identification WID database . It is important to realize that the matching of extracted and known vectors is not equivalent to looking up a word in an electronic dictionary. Since the extracted vectors contain noise or distortions binary search might not be possible. Instead a statistical comparison is often made between an extracted vector and each stored vector. Common statistical measures include linear correlation and related measures such as correlation coefficient but other methods can also be used including mutual information Euclidean distance and Lp norms. These measures provide a statistical measure of the confidence of the match. A threshold can be established usually based on the required false positive and false negative rates such that if the correlation output exceeds this threshold then the extracted and known vectors are said to match. See e.g. R. O. Duda and P. E. Hart Pattern Classification and Scene Analysis Wiley Interscience New York 1973 . See also U.S. Pat. No. 3 919 474 by W. D. Moon R. J. Weiner R. A. Hansen and R. N. Linde entitled Broadcast Signal Identification System . Each of these references is incorporated herein by reference. 

If binary search was possible then a database containing N vectors would require at most log N comparisons. Unfortunately binary search is not possible when taking a noisy signal and trying to find the most similar reference signal. This problem is one of nearest neighbor search in a high dimensional feature space. In previous work it was not uncommon to perform a linear search of all N entries perhaps halting the search when the first match is found. On average this will require N 2 comparisons. If N is large this search can be computationally very expensive.

Other forms of matching include those based on clustering kd trees vantage point trees and excluded middle vantage point forests are possible and will be discussed in more detail later. See e.g. P. N. Yianilos Excluded Middle Vantage Point Forests for nearest Neighbor Search Presented at the Sixth DIMACS Implementation Challenge Near Neighbor Searches workshop Jan. 15 1999 . See also P. N. Yianilos Locally lifting the curse of Dimensionality for nearest Neighbor Search SODA 2000 361 370. Each of these references is incorporated herein by reference. Thus for example a sub linear search time can be achieved. Unlike the kd tree method which finds the nearest neighbor with certainty randomized constructions like the one described in P. N. Yianilos Locally lifting the curse of Dimensionality for nearest Neighbor Search SODA 2000 361 370 that succeed with some specified probability may be used. One example of a sub linear time search is an approximate nearest neighbor search. A nearest neighbor search always finds the closest point to the query. An approximate nearest neighbor search does not always find the closest point to the query. For example it might do so with some probability or it might provide any point within some small distance of the closest point.

If the extracted vector matches a known vector in the content identification database then the work has been identified. Of course there is the risk that the match is incorrect. This type of error is known as a false positive. The false positive rate can be reduced to any desired value but at the expense of the false negative rate. A false negative occurs when the vector extracted from a work is not matched to the database even though the work is present in the database. There are several reasons why a work s feature vector may fail to match a feature vector database entry. First the recognition system may not be capable of 100 accuracy. Second the extracted vector will often contain noise as a result of the transmission process. This noise may alter the values of a feature vector to the extent that a match is no longer possible.

Finally there is the case where the observed work is not present in the database. In this case the work can be sent to an operator for identification and insertion in the database.

Assuming that the work is correctly identified then the identifier can be used to retrieve associated information from the second work identification action translation WIDAT database that contains information associated with the particular work . This information may simply be a corresponding URL address in which case the action can be considered to be a form of network address translation. However in general any information about the work could be stored therein together with possible actions to be taken such as initiating an e commerce transaction. After looking up the work identifier in the WIDAT database an action is performed on behalf of the user examples of which has been previously described.

In addition to using the system to allow audience members of a work to connect to associated sites on the Internet a number of other uses are possible. First the work identification database allows competitive market research data to be collected e.g. the action may include logging an event . For example it is possible to determine how many commercials the Coca Cola Company in the Chicago market aired in the month of June. This information is valuable to competitors such as Pepsi. Thus any company that developed a system as described above could also expect to generate revenue from competitive market research data that it gathers.

Advertisers often wish to ensure that they receive the advertising time that was purchased. To do so they often hire commercial verification services to verify that the advertisement or commercial did indeed run at the expected time. To do so currently deployed systems by Nielsen and CMR embedded active signals in the advertisement prior to the broadcast. These signals are then detected by remote monitoring facilities that then report back to a central system which commercials were positively identified. See for example U.S. Pat. No. 5 629 739 by R. A. Dougherty entitled Apparatus and method for injecting an ancillary signal into a low energy density portion of a color television frequency spectrum 4 025 851 by D. E. Haselwood and C. M. Solar entitled Automatic monitor for programs broadcast 5 243 423 by J. P. DeJean D. Lu and R. Weissman entitled Spread spectrum digital data transmission over TV video and 5 450 122 by L. D. Keene entitled In station television program encoding and monitoring system and method . Each of these patents is incorporated herein by reference. Active systems are usually preferred for advertisement verification because the required recognition accuracy is difficult to achieve with passive systems. The passive monitoring system described herein supports commercial verification.

Three alternative architectural embodiments in which the first technique may be employed are now described with reference to .

As described above the two databases might be integrated into a single database. However conceptually they are described here as separate.

An example illustrating operations that can occur in the first embodiment of is now described. Consider a print application in which say 10 000 advertisements are to be recognized that appear in national newspapers and magazines. If 1 Kbyte is required to store each feature vector then approximately 10 Mbytes of storage will be required for the work identification database . Such a size does not represent a serious problem in either memory or disk space to present personal computers.

An important issue then becomes recognition rate. While this may be problematic all the images are two dimensional three dimensional object recognition is not required. Of course since a low cost camera captures the printed advertisement there may be a number of geometric distortions that might be introduced together with noise. Nevertheless the application is sufficiently constrained that adequate recognition rates should be achievable with current state of the art computer vision algorithms. See e.g. P. N. Yianilos Excluded Middle Vantage Point Forests for nearest Neighbor Search Presented at the Sixth DIMACS Implementation Challenge Near Neighbor Searches workshop Jan. 15 1999. See also P. N. Yianilos Locally lifting the curse of Dimensionality for nearest Neighbor Search SODA 2000 361 370. Each of these references is incorporated herein by reference. Thus for example a sub linear search time can be achieved. Unlike the kd tree method which finds the nearest neighbor with certainty randomized constructions like the one described in P. N. Yianilos Locally lifting the curse of Dimensionality for nearest Neighbor Search SODA 2000 361 370 that succeed with some specified probability may be used. One example of a sub linear time search is an approximate nearest neighbor search. Estimates of the size of the WIDAT database depend on what associated information recall fields is stored. If for example only a URL address is needed about 20 characters can typically represent most URLs. Thus the size of the WIDAT database would be less than 1 Mbyte.

The configuration just described with reference to places all of the processing and data on each user s local machine . A number of alternative embodiments in which some or all of the storage and processing requirements are performed remotely will be described shortly.

As new works are created and made publicly available the databases residing on a user s local computer become obsolete. Just as the database provider must continually update the databases in order to remain current there is also a need to update local databases on devices at audience member premises. This update process can be performed over the Internet in a manner very similar to how software is currently upgraded. It is not necessary to download an entirely new database although this is an option. Rather only the changes need to be transmitted. During this update process the user s computer might also transmit information to a central monitoring center informing it of which advertisements the computer user has queried. This type of information is valuable to both advertisers and publishers. Of course care must be taken to ensure the privacy of individual users of the system. However it is not necessary to know the identity of individual users for the system to work.

The second embodiment is most similar to active systems in which an embedded signal is extracted and decoded and the identifier is used to interrogate a central database. Consequently it has many of the advantages of such systems while avoiding the need to insert signals into all works. One such advantage is that the database provider receives real time information relating to users access patterns.

The WIDAT database might physically reside at more than one location. In such a case some requests will go to one site and other requests will go to another. In this way overloading of a single site by too many users can be avoided. Other load balancing techniques are also applicable.

Since the storage and searching of the work identifier WID database require the most computation and storage it may be more economical to perform these actions remotely. Thus for example if a user is playing an MP3 music file and wants to go to a corresponding website the MP3 file is passed to an operation that determines one or more feature vectors. In the third embodiment instead of performing the matching locally the one or more vectors are transmitted to a central site at which is stored the WID and WIDAT databases and together with sufficiently powerful computers to resolve this request and those of other computer users. This configuration is illustrated in . Similarly if a user is playing an MPEG or other video file and wants to initiate a work related action the video file is passed to an operation that extracts one or more feature vectors. The entire video file need not be processed. Rather it may be sufficient to process only those frames in the temporal vicinity to the users request i.e. to process the current frame and or some number of frames before and after the current frame e.g. perhaps 100 frames in all. The extracted feature vector or feature vectors can then be transmitted to a central site which can resolve the request.

After successfully matching the feature vector the central site can provide the user with information directly or can direct the user to another Web site that contains the information the user wants. In cases where the recognition is ambiguous the central site might return information identifying one of several possible matches and allow the user to select the intended one.

The third embodiment is particularly attractive if the cost of extracting the feature vector is small. In this case it becomes economical to have feature vector extraction in digital set top boxes and in video recorders . The latter may be especially useful for the new generation of consumer digital video recorders such as those manufactured by TIVO and Replay TV. These devices already have access to the Internet via a phone line. Thus when someone watching a recorded movie from television reacts to an advertisement the video recorder would extract one or more feature vectors and transmit them to a central site . This site would determine if a match existed between the query vector and the database of pre stored vectors . If a match is found the central server would transmit the associated information which might include a Web site address or an 800 number for more traditional ordering back to the audience user device . Of course a consumer device such as a digital video recorder might also store personal information of the owner to facilitate online e commerce. Such a device could store the owner s name address and credit card information and automatically transmit them to an on line store to complete a purchase. Very little user interaction other than to authorize the purchase might be needed. This type of purchasing may be very convenient to consumers.

Another advantage of the third embodiment is that it obviates the need to update local databases while at the same time the centrally maintained databases can be kept current with very frequent updating.

Operations related to this embodiment are described in 4.2.2.1 below. Then various architectures which may be used to effect such operations are described in 4.2.2.2.

If the cost of extracting a feature vector is too large then the cost of deploying any of the embodiments described in 4.2.1 above may be prohibitive. This is particularly likely in very cost sensitive consumer products including set top boxes and next generation digital VCR s. Acknowledging this fact a different technique one that is particularly well suited for broadcasted media such as television and radio as well as to content published in magazines and newspapers is now described. This technique relies on the fact that a work need not be identified by a feature vector extracted from the work which is an example of intra work information but can also be identified by when and where it is published or broadcast which are examples of extra work information 

An example serves to illustrate this point. Consider the scenario in which a viewer sees a television commercial and responds to it. The embodiments described in 4.2.1 above required the user device e.g. a computer or set top box to extract a feature vector. Such an extracted vector was attempted to be matched to another feature vector s either locally or at a remote site. In the embodiments using a remote site if the central site is monitoring all television broadcasts then the user s query does not need to include the feature vector. Instead the query simply needs to identify the time geographic location and the station that the viewer is watching. A central site can then determine which advertisement was airing at that moment and once again return the associated information. The same is true for radio broadcasts. Moreover magazines and newspapers can also be handled in this manner. Here the query might include the name of the magazine the month of publication and the page number.

Further work identifier action information WIDAT storage may include a number of items or records . Each item or record may associate a preferably unique work identifier with associated information such as an action for example. The work identifier action WIDAT information storage may be generated by a database generation operation s which may for example accept manual entries.

As can be appreciated from the foregoing the query work information QWID storage records and the work identification action WIDAT storage records can be combined into a single record.

The extra work information aggregation e.g. query generation operation s can accept a information related to a work such as the time of a user request or of a rendering of the work the geographic location at which the work is rendered and the station that the audience member has selected and generate a query from such extra work information.

The query including the extra work information can be used by a lookup operation s to search for a matching set of information . If a match or a match within a predetermined threshold is determined then the associated work identifier is read.

The read work identifier can then be used by a work associated information lookup operation s to retrieve associated information such as an action associated with the work identifier. Such information can then be passed to action initiation operation s which can perform some action based on the associated information .

If the extra work information of a work is known in advance generating the query work identifier QWID information is straight forward. If this were always the case an intra work information based recognition operation would not be needed. However very often this is not the case. For example local television broadcasts typically have discretion to insert local advertising as well as national advertising. Thus it often is not possible to know in advance when on what station and where a particular advertisement will play.

In such instances a real time e.g. centralized monitoring facility may be used to i extract feature vectors from a work ii determine a work identifier from the extracted features and iii communicate one or more messages in which extra work information e.g. time channel geographic market is associated with a work identifier to operation s for generating query work identification QWID information .

In the context of national broadcasts geographic information may be needed to distinguish between for example the ABC television broadcast in Los Angeles and that in New York. While both locations broadcast ABC s programming this programming airs at different times on the East and West coasts of America. More importantly the local network affiliates that air ABC s shows have discretion to sell local advertising as well as a responsibility to broadcast the national commercials that ABC sells. In short the works broadcast by ABC in Los Angeles can be different from that in other geographic locations. Geographic information is therefore useful to distinguish between the different television markets. In some circumstances geographic information may not be necessary especially in parts of the world with highly regulated and centralized broadcasting in which there are not regional differences.

As introduced above although it appears that this architecture does not require a recognition facility such a facility may be needed. The feature extraction operation s as well as the work identification operation s and other databases may be moved to one or more remote sites .

Although TV Guide and other companies provide detailed information regarding what will be broadcast when these scheduling guides do not have any information regarding what advertisements will air when. In many cases this information is unknown until a day or so before the broadcast. Even then the time slots that a broadcaster sells to an advertiser only provide a time range e.g. 12 pm to 3 pm. Thus it is unlikely that all commercials and aired programming can be determined from TV schedules and other sources prior to transmission. Further occasionally programming schedules are altered unexpectedly due to live broadcasts that overrun their time slots. This is common in sports events and awards shows. Another example of interrupts to scheduled programming occurs when a particularly important news event occurs.

During transmission it may therefore be necessary for a central site to determine what work is being broadcast and to update its and or other s database accordingly based on the work identified and relevant extra work information . There are a variety of ways that this can be accomplished.

First it may be economically feasible to manually monitor all television stations that are of interest and manually update the database with information regarding the work being monitored. In fact Nielsen used such procedures in the early 1960 s for the company to tabulate competitive market data. More than one person can be employed to watch the same channel in order to reduce the error rate. It should be noted that the recent ruling by the FCC that satellite broadcasters such as DirecTV DishTV and EchoStar can carry local stations significantly reduces the cost of monitoring many geographic markets. Currently DirecTV for example carries the four main local stations in each of the 35 largest markets. Thus these 4.times.35 140 channels can all be monitored from a single site . This site would be provided with satellite receivers to obtain the television channels.

Unfortunately however humans are error prone and the monitoring of many different stations from many different geographic locations can be expensive. In order to automate the recognition process a central site could employ a computer based system to perform automatic recognition. Because the recognition is centralized only one or a few sites are needed. This is in comparison with the first architecture we described in which a complete recognition system was required in every user s home or premise. This centralization makes it more economic to employ more expensive computers perhaps even special purpose hardware and more sophisticated software algorithms. When video frames or clips cannot be identified or are considered ambiguous this video can be quickly passed to human viewers to identify. Further it should be possible for the automated recognition system to use additional information such as television schedules time of day etc in order to improve its recognition rate.

At the audience member user premises all that is needed is for the device to send a query to a database server with information that includes extra work information such as geographic location time and channel. Usually this extra work information would be transmitted in real time while the work e.g. an advertisement is being broadcast. However this is not necessary. If the television does not have access to the Internet and most TV s do not yet then an audience member user may simply remember or record which channel he or she was viewing at what time. In fact the user device could store this information for later retrieval by the user. At a convenient later time the user might access the Internet using a home PC. At this time he or she can query the database by entering this extra work information e.g. together with geographic information into an application program or a web browser plug in.

Another possibility is allowing an audience member user at the time he or she is consuming e.g. viewing reading listening to etc. the work to enter query information into a handheld personal digital assistant PDA such as a Palm Pilot so as not to forget it. This information can then be manually transferred to a device connected to a network or the information can be transferred automatically using for example infrared communications or via a physical link such as a cradle. Recently PDAs also have some wireless networking capabilities built in and thus might support direct access to the information desired. Further software is available that allows a Palm Pilot or other PDA to function as a TV remote control device. As such the PDA already knows the time of day and channel being viewed. It also probably knows the location of the audience member since most PDA users include their own name and address in the PDA s phonebook and identify it as their own. Thus with one or a few clicks an audience member PDA user could bookmark the television content he or she is viewing. If the PDA is networked then the PDA can itself retrieve the associated information immediately. Otherwise the PDA can transfer this bookmarked data to a networked device which can then provide access to the central database.

These embodiments have many advantages for television and radio broadcasters who desire to provide Internet links or other action. First the audience member user equipment whether it is a computer set top box television radio remote control personal digital assistant pda cell phone or other device does not need to perform any processing of the received signal. As such there is almost no cost involved to equipment manufacturers.

These last embodiments have some similarity with services such as those provided by the companies Real Names of Redwood City Calif. America Online AOL and especially iTag from Xenote. The popular press has reported on the difficulties associated with assigning domain names. The simplest of these problems is that almost all the one word names in the .com category have been used. Consequently domain names can often be difficult to remember. To alleviate this problem RealNames and AOL provide alternative proprietary name spaces AOL calls these keywords . For a fee a company may register a name with these companies. Thus rather than type the URL http www.bell labs.com the simple keyword bell might be sufficient to access the same Web site. These capabilities are convenient to users. However these systems are very different from the fourth and fifth embodiments described. First and foremost these systems are not designed to identify content. Rather they are simply alternative network address translation systems based on easily remembered mnemonics which are sold to interested companies. As such the user is still expected to type in an address but this address is easier to remember than the equivalent URL. In contrast while a user may manually enter the information describing the work the preferred embodiment is for the computer set top box or other device to automatically generate this information. Further the mapping of keywords to network addresses is an arbitrary mapping maintained by AOL or Real Names. For example the keyword bell might just as reasonably point to the Web site for Philadelphia s Liberty Bell as to Lucent s Bell Labs. In contrast the query used in the fourth and fifth embodiments is designed to contain all the necessary data to identify the work e.g. the time place and television channel during which the work was broadcast. There is nothing arbitrary about this mapping. It should also be pointed out that the proposed system is dynamic the same work e.g. a commercial potentially has an infinite number of addresses depending on when and where it is broadcast. If an advertisement airs 100 000 unique times then there are 100 000 different queries that uniquely identify it. Moreover the exemplary query includes naturally occurring information such as time place channel or page number. This is not the case for AOL or RealNames which typically assigns one or more static keywords to the address of a Web site.

Xenote s iTag system is designed to identify radio broadcasts and uses a query similar to that which may be used in the fourth and fifth embodiments i.e. time and station information. However the work identification information is not dynamically constructed but is instead based on detailed program scheduling that radio stations must provide it. As such it suffers from potential errors in scheduling and requires the detailed cooperation of broadcasters. While the fourth and fifth embodiments might choose to use program scheduling information and other ancillary information to aid in the recognition process they do not exclusively rely on this. The concept of resolving a site name by recognizing the content is absent from the above systems.

While personal computers may be the primary computational device at a user s location it is not essential to use a PC. This is especially true of the embodiments depicted in which do not require the content e.g. video signal to be processed. Instead only a unique set of identification parameters such as time location and channel are provided to identify the perceived Work. Many forms of devices can therefore take advantage of this configuration.

As previously noted personal digital assistants PDAs can be used to record the identification information. This information can then be transferred to a device with a network communication such as a PC. However increasingly PDAs will already have wireless network communication capabilities built in as with the Palm VII PDA. These devices will allow immediate communication with the query resolution center and all information will be downloaded to them or they can participate in facilitating an e commerce transaction. Similarly wireless telephones are increasingly offering web enabled capabilities. Consequently wireless phones could be programmed to act as a user interface.

New devices can also be envisaged including a universal remote control for home entertainment systems with a LCD or other graphical display and a network connection. This connection may be wireless or the remote control might have a phone jack that allows it to be plugged directly into an existing phone line. As home networks begin to be deployed such devices can be expected to communicate via an inexpensive interface to the home network and from there to access the Internet.

In many homes it is not uncommon for a computer and television to be used simultaneously perhaps in the same room. A person watching television could install a web browser plug in or applet that would ask the user to identify his location and the station being watched. Then periodically every 20 seconds for example the plug in would update a list of web addresses that are relevant to the television programs being watched including the commercials. The audience member would then simply click on the web address of interest to obtain further information. This has the advantage that the viewer does not have to guess the relevant address associated with a commercial and in fact can be directed to a more specialized address such as www.fordvehicles.com ibv tausrus2kflash flash.html rather than the generic www.ford.com site. Of course this applet or plug in could also provide the database entity with information regarding what is being accessed from where and at what time. This information as noted earlier is valuable to advertisers and broadcasters. For PC s that have infra red communication capabilities it is straightforward to either control the home entertainment center from the PC or for the PC to decode the signals from a conventional remote control. Thus as a user changes channels the PC is able to automatically track the channel changes.

Recording devices such as analog VCR s and newer digital recording devices can also be exploited in the embodiments depicted in especially if device also record the channel and time information for the recorded content. When a user initiates a query the recorded time and channel rather than the current time and channel then form part of the identification information.

Digital set top boxes are also expected to exploit the capabilities described herein. In particular such devices will have two way communication capabilities and may even include cable modem capabilities of course the two way communication need not be over a television cable. For example satellite set top boxes provide up link communications via a telephone connection. Clearly such devices provide a convenient location to enable the services described herein. Moreover such services can be provided as part of the OpenCable and DOCSIS data over cable service interface specification initiatives.

Some embodiments consistent with the present invention provide a computer implemented method apparatus or computer executable program for providing information about an audio file or a video file played on a device. Such embodiments might a extract features from the audio or video file b communicate the features to a database and c receive the information about the audio or video file from the database. In some embodiments consistent with the present invention the act of extracting the features is performed by a microprocessor of the device and or a digital signal processor of the device. The received information might be rendered on an output e.g. a monitor a speaker etc. of the device. The received information might be stored e.g. persistently locally on the device. The information might be stored on a disk or non volatile memory.

In some of the embodiments pertaining to audio files the audio file might be an mp3 file or some other digital representation of an audio signal. The information might include a song title an album title and or a performer name.

In some of the embodiments pertaining to video files the video file might be an MPEG file or some other digital representation of a video signal. The video file might be a video work and the information might include a title of the video work a director of the video work and names of performers in the video work.

An example illustrating operations of an exemplary embodiment of the present invention that uses intra work information to identify the work is provided in 4.3.1. Then an example illustrating operations of an exemplary embodiment of the present invention that uses extra work information to identify the work is provided in 4.3.2.

A generic system for monitoring television commercials is now described. Obviously the basic ideas extend beyond this specific application.

The process of recognition usually begins by recognizing the start of a commercial. This can be accomplished by looking for black video frames before and after a commercial. If a number of black frames are detected and subsequently a similar number are detected 30 seconds later then there is a good chance that a commercial has aired and that others will follow. It is also well known than the average sound volume during commercials is higher than that for television shows and this too can be used as an indicator of a commercial. Other methods can also be used. The need to recognize the beginning of a commercial is not essential. However without this stage all television programming must be assumed to be commercials. As such all video frames must be analyzed. The advantage of determining the presence of a commercial is that less video content must be processed. Since the percentage of advertising time is relatively small this can lead to considerable savings. For example commercials can be buffered and then subsequently processed while the television show is being broadcast. This reduces the real time requirements of a system at the expense of buffering which requires memory or disk space. Of course for the applications envisioned herein a real time response to a user requires real time processing.

Once it is determined that an advertisement is being broadcast it is necessary to analyze the video frames. Typically a compact representation of each frame is extracted. This vector might be a pseudo random sample of pixels from the frame or a low resolution copy of the frame or the average intensities of n.times.n blocks of pixels. It might also be a frequency based decomposition of the signal such as produced by the Fourier Fourier Mellin wavelet and or discrete cosine transforms. It might involve principal component analysis or any combination thereof. The recognition literature contains many different representations. For block based methods the n.times.n blocks may be located at pseudo random locations in each frame or might have a specific structure e.g. a complete tiling of the frame. The feature vector might then be composed of the pixels in each block or some property of each block e.g. the average intensity or a Fourier or other decomposition of the block. The object of the vector extraction stage is to obtain a more concise representation of the frame. Each frame is initially composed of 480.times.720 pixels which is equivalent to 345 600 bytes assuming one byte per pixel. In comparison the feature vector might only consist of 1 Kbyte of data. For example if each frame is completely tiled with 16.times.16 blocks then the number of blocks per frame is 345 600 256 1350. If the average intensity of each block constitutes the feature vector then the feature vector consists of 1350 bytes assuming 8 bit precision for the average intensity values. Alternatively 100 16.times.16 blocks can be pseudo randomly located on each frame of the video. For each of these 100 blocks the first 10 DCT coefficients can be determined. The feature vector then consists of the 100.times.10 1000 DCT coefficients. Many other variations are also possible. In many media applications the content possesses strong temporal and spatial correlations. If necessary these correlations can be eliminated or substantially reduced by pre processing the content with a whitening filter.

A second purpose of the feature extraction process is to acquire a representation that is robust or invariant to possible noise or distortions that a signal might experience. For example frames of a television broadcast may experience a small amount of jitter i.e. horizontal and or vertical translation or may undergo lossy compression such as MPEG 2. It is advantageous though not essential that these and other processes do not adversely affect the extracted vectors.

Each frame s feature vector is then compared with a database of known feature vectors. These known vectors have previously been entered into a content recognition database together with a unique identifier. If a frame s vector matches a known vector then the commercial is recognized. Of course there is the risk that the match is incorrect. This type of error is known as a false positive. The false positive rate can be reduced to any desired value but at the expense of the false negative rate. A false negative occurs when a frame s vector is not matched to the database even though the advertisement is present in the database. There are several reasons why a frame s feature vector may fail to match. First the recognition system may not be capable of 100 accuracy. Second the extracted vector will contain noise as a result of the transmission process. This noise may alter the values of a feature vector to the extent that a match is no longer possible. Finally there is the case where the observed commercial is not yet present in the database. In this case it is necessary to store the commercial and pass it e.g. to a person for identification and subsequent entry in the database.

It is important to realize that the matching of extracted and known vectors is not equivalent to looking up a word in an electronic dictionary. Since the extracted vectors contain noise or distortions binary search is often not possible. Instead a statistical comparison is often made between an extracted vector and each stored vector. Common statistical measures include linear correlation and related measures such as correlation coefficient but other methods can also be used including clustering techniques. See e.g. the Duda and Hart reference. These measures provide a statistical measure of the confidence of the match. A threshold can be established usually based on the required false positive and negative rates such that if the correlation output exceeds this threshold then the extracted and known vectors are said to match.

If binary search was possible then a database containing N vectors would require at most log N comparisons. However in current advertisement monitoring applications there is no discussion of efficient search methods. Thus a linear search of all N entries may be performed perhaps halting the search when the first match is found. On average this will require N 2 comparisons. If N is large this can be computationally expensive. Consider a situation in which one out of 100 000 possible commercials is to be identified. Each 30 second commercial consists of 900 video frames. If all 900 frames are stored in the database then N 90 000 000. Even if only every 10video frame is stored in the database its size is still nine million. While databases of this size are now common they rely of efficient search to access entries i.e. they do not perform a linear search. A binary search of a 90 000 000 item database requires less than 20 comparisons. In contrast a linear search will require an average of 45 000 000 

With 9 million entries if each vector is 1 Kbyte then the storage requirement is 9 Gigabytes. Disk drives with this capacity are extremely cheap at this time. However if the database must reside in memory due to real time requirements then this still represents a substantial memory requirement by today s standards. One reason that the data may need to be stored in memory is because of the real time requirements of the database. If 10 channels are being simultaneously monitored within each of 50 geographic areas then there will be 15 000 queries per second to the content recognition database assuming each and every frame is analyzed. This query rate is low. However if a linear search is performed then 675 billion comparisons per second will be required. This is an extremely high computational rate by today s standards. Even if only key frames are analyzed this is unlikely to reduce the computational rate by more than an order of magnitude.

If an advertisement is not recognized then typically the remote monitoring system will compress the video and transmit it back to a central office. Here the clip is identified and added to the database and the remote recognition sites are subsequently updated. Identification and annotation may be performed manually. However automatic annotation is also possible using optical character recognition software on each frame of video speech recognition software close captioning information and other information sources. As these methods improve in accuracy it is expected that they will replace manual identification and annotation.

The recognition system described can be considered to be a form of nearest neighbor search in a high dimensional feature space. This problem has been very well studied and is known to be very difficult as the dimensionality of the vectors increases. A number of possible data structures are applicable including kd trees and vantage point trees. These data structures and associated search algorithms organize a N point dataset N 90 000 000 in out previous example so that sub linear time searches can be performed on average. However worst case search times can be considerably longer. Recently Yianilos proposed an excluded middle vantage point forest for nearest neighbor search. See e.g. the Yianilos reference. This data structure guarantees sub linear worst case search times but where the search is now for a nearest neighbor within a fixed radius .tau. The fixed radius search means that if the database contains a vector that is within .tau. of the query then there is a match. Otherwise no match is found. In contrast traditional vantage point trees will always return a nearest neighbor even if the distance between the neighbor and the query is very large. In these cases if the distance between the query and the nearest neighbor exceeds a threshold then they are considered not to match. This is precisely what the excluded middle vantage point forest implicitly does.

Using an excluded middle vantage point forest will allow accurate real time recognition of 100 000 broadcasted advertisements. This entails constructing an excluded middle vantage point forest based on feature vectors extracted from say 90 000 000 frames of video. Of course using some form of pre filtering that eliminates a large number of redundant frames or frames that are not considered to be good unique identifiers can reduce this number. One such pre filter would be to only examine the I frames used when applying MPEG compression. However this is unlikely to reduce the work identification database WID size by more than one order of magnitude. Assuming 10 channels are monitored in each of 50 geographic regions then the query rate is 15 000 10.times.50.times.30 queries per second.

The database centers can use traditional database technology. In general the query search initiated by an audience member is not a nearest neighbor search but can be a classical textual search procedure such as a binary search. The nearest neighbor search is appropriate for the monitoring sub system . The database centers are continually updated as each new advertisement television show or portion thereof is recognized. Standard updating algorithms can be used. However random new entries to the database are unlikely. Rather each new entry or set of entries denotes a new time segment that is later than all previously inserted items. As such each new entry can be appended to the end of the database while still maintaining an ordered data structure that is amenable to binary and other efficient search techniques. If two entries have the same time in their time field items can be sorted based on secondary fields such as the channel and geographic location as depicted in . Since the number of such entries will be relatively small compared with the entire database it may be sufficient to simply create a linear linked list of such entries as depicted in . Of course the size of the database is constantly increasing. As such it may become necessary to have several levels of storage and caching. Given the envisaged application most user queries will be for recent entries. Thus the database may keep the last hours worth of entries in memory. If there is one entry per second for each of 100 channels in 100 geographic locations this would correspond to 3600.times.100.times.100 36 000 000 entries which is easily accommodated in main memory. Entries that are older than one hour may be stored on disk and entries older than one week may be archived e.g. backed up on tape for example. The entries to this database can include time location and channel information together with a unique identifier that is provided by the monitoring system. Of course additional fields for each entry are also possible.

When a user query is received the time channel and geographic information are used to retrieve the corresponding unique identifier that is then used to access a second database that contains information associated with the identified work.

An entry in this second database is depicted in which shows that associated with the unique identifier the name of a product a product category the manufacturer and the commercial s associated web site . Many other data fields are also possible. Such additional fields may include fields that indicate what action should be taken on behalf of the requesting user. Example actions include simply redirecting a request to an associated Web site or initiating an e commerce transaction or providing an associated telephone number that may be automatically dialed if the querying device is a cell phone or displaying additional information to the user. This database is likely to be updated much less frequently perhaps only as often as once or twice a day as batches of new advertisements are added to the system. Alternatively it might be updated as each new advertisement is added to the system.

An audience member user watching a television commercial for example may react to the advertisement by initiating a query to the database center . The device whereby the user initiates the query might be a television or set top box remote control or a computer or a wireless PDA or a WAP enabled cell phone or a specialized device. Typically the query will occur during the airing of the commercial or a shortly thereafter. However the time between the broadcasting of the advertisement and the time of the associated query is not critical and can in some instances be much longer. For example the audience member might bookmark the query information in a device such as a PDA or a specialized device similar to those developed by Xenote for their Itag radio linking. Later the audience member may transmit the query to the database center . This might happen hours or even days later.

The query contains information that the database center uses to identify the work being viewed. This information might include the time and place where the audience member was together with the channel being viewed. Other identifying information is also possible. The query may also contain additional information that may be used to facilitate the user s transaction and will include the return address of the user. For example if the user is intending to order a pizza after seeing a Pizza Hut advertisement the query may also contain personal information including his or her identity street address and credit card information.

When the database center receives a query data in the query is used to identify the work and associated information. A number of possible actions are possible at this point. First the database center may simply function as a form of proxy server mapping the audience member s initial query into a web address associated with the advertisement. In this case the audience member will be sent to the corresponding Web site. The database center may also send additional data included in the initial query to this Web site in order to facilitate an e commerce transaction between the audience member and the advertiser. In some cases this transaction will not be direct but may be indirect via a dealer or third party application service provider. Thus for example though an advertisement by Ford Motor Company may air nationally viewers may be directed to different Web sites for Ford dealerships depending on both the audience member s and the dealerships geographic locations. In other cases advertisers may have contracted with the database center to provide e commerce capabilities. This latter arrangement has the potential to reduce the amount of traffic directed over the public Internet restricting it instead to a private network associated with the owner of the database center.

If the audience member user is not watching live television but is instead watching a taped and therefore time shifted copy then additional processes are needed. For the new generation of digital video recorders irrespective of the recording media tape or disk it is likely to be very easy to include information identifying the location of the recorder as well as the time and channel recorded. Location information can be provided to the recorder during the setup and installation process for example. Digital video recorders such as those currently manufactured by TIVO of Alviso Calif. or Replay TV of Santa Clara Calif. have a network connection via telephone which can then send the query of an audience member to the database center using the recorded rather than the current information.

In cases where query information has not been recorded it is still possible to initiate a successful query. However in this case it may be necessary to extract the feature vector from the work of interest and send this information to the monitoring center where the feature vector can be identified. This form of query is computationally more expensive but the relative number of such queries compared to those sent to the database centers is expected to be small. It should also be noted that the physical separation of the monitoring and database centers depicted in is not crucial to operation of the system and simply serves to more clearly separate the different functionality present in the overall system configuration.

Although the implementation architectures described above focus on the television media it is apparent that the present invention is applicable to audio print and other media.

None of the embodiments of the invention require modification to the work or content i.e. no active signal is embedded. Consequently there is no change to the production processes. More importantly from a user perspective deployment of this system need not suffer from poor initial coverage. Provided the database is sufficiently comprehensive early adopters will have comprehensive coverage immediately. Thus there is less risk that the consumer will perceive that the initial performance of the deployed system is poor. Further the present invention permits statistics to be gathered that measure users responses to content. This information is expected to be very useful to advertisers and publishers and broadcasters.

