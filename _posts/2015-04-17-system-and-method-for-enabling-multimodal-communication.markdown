---

title: System and method for enabling multi-modal communication
abstract: Systems and methods for a multi-tenant communication platform. At a multi-tenant communication platform, and responsive to authentication of a communication request provided by an external system, a routing address record of the communication platform is determined that matches a communication destination of the communication request. The matching routing address record associates the communication destination with a plurality of external communication providers. At least one communication provider associated with the matching routing address record is selected, and a request to establish communication with the communication destination is provided to each selected communication provider. The communication request specifies the communication destination and account information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09226217&OS=09226217&RS=09226217
owner: Twilio, Inc.
number: 09226217
owner_city: San Francisco
owner_country: US
publication_date: 20150417
---
This application claims the benefit of U.S. Provisional Application Ser. No. 61 980 749 filed on 17 Apr. 2014 which is incorporated in its entirety by this reference.

This invention relates generally to the telecommunication field and more specifically to a new and useful system and method for enabling multi modal communication in the telecommunication field.

Mobile internet has brought about a wide variety of modes of communication. Mobile phone devices are capable of telephony communication such as SMS MMS and PSTN voice calls as well as IP based communication such as client application messaging and VoIP. Despite the numerous modes of communication communication applications are limited to the initial mode of established communication. Additionally the internet and the growth of internet enabled mobile devices have led to the expansion and wide adoption of over the top OTT communication as an alternative to communicating through channels provided by traditional telecommunication entities such as phone service providers. The use of OTT entities can fragment the communication channels so that only those within an OTT provider can communicate. Thus there is a need in the telecommunication field to create a new and useful system and method for enabling multi modal communication. This invention provides such a new and useful system and method.

The following description of preferred embodiments of the invention is not intended to limit the invention to these preferred embodiments but rather to enable any person skilled in the art to make and use this invention.

As shown in a system for enabling multi modal communication of a preferred embodiment can include a communication system with a plurality of routing options a content conversion engine a routing system that includes a plurality of routing option profiles and an endpoint information repository . The system functions to enable transparent multi modal communication through a communication platform. The multi modal communication is preferably transparent to users of the system in that an entity requesting communication expresses communication intent and the system appropriately establishes the communication with a desired endpoint using a suitable transport protocol. Additionally the system can manage full duplex multi modal communication message and communication session responses can be similarly transparently managed by the system.

In one preferred embodiment the system can additionally or alternatively function to facilitate communication through one or more OTT communication providers. An OTT entity is preferably a third party communication platform. The OTT entity preferably communicates is an internet protocol IP communication and may use proprietary communication protocols. OTTs are preferably application operable on mobile devices and personal computing devices. An OTT entity can provide instant message communication picture video audio and media sharing synchronous voice video screen sharing and other forms of media communication and or any suitable form of communication. Such OTT entities may provide additional services in connection to or in addition to communication. For example an OTT entity may be a social network primarily an instant messaging service time limited media sharing apps a gaming application conferencing systems team enterprise applications and or any suitable type of application with an aspect of communication. The system is preferably configured to operate alongside or as an alternative layer to communicating within the OTT system. The system preferably allows at least one direction of communication with at least one OTT entity. For example communication can be established inbound to the OTT platform but the communication may additionally or alternatively be received from the OTT and delivered to another destination.

The system is preferably integrated with a multitenant communication platform that provides communication services to developer applications and services. The system is preferably implemented in combination with a telephony platform such as the one described in patent application Ser. No. 12 417 630 filed 2 Apr. 2009 entitled System and Method for Processing Telephony Sessions which is hereby incorporated in its entirety by this reference. The telephony platform preferably includes application execution in connection to communications sessions and or messages the telephony platform may additionally or alternatively provide an application programming interface API as an alternative for interacting with communication functionality of the telephony platform. The telephony platform is preferably a multitenant telephony platform that allows multiple accounts to configure telephony applications for use on the platform. The telephony can be designed for one or more mediums of communication. The telephony platform can additionally be a cloud hosted platform as a service system. The telephony platform can be a server a server cluster a collection of components on a distributed computing system or any suitable network accessible computing infrastructure. The system may alternatively be used in combination with a text or multi media based messaging system a video or voice chat system a screensharing system and or any suitable communication platform.

The communication system of a preferred embodiment functions to receive communication requests and establish communications as regulated by input of the routing system and the communication cost service . The communication service can comprise of one or more services that establish communication through various channels and over varying protocols of the plurality of routing options .

The communication system preferably includes a communication request input to receive communication requests. A communication request preferably specifies a communication destination. The communication destination can be a communication endpoint such as a telephone number a short code phone number a SIP address a communication account identifier and or any suitable communication endpoint. The communication request additionally will include an origin identifier. In a first variation the origin identifier will be the communication endpoint that will be connected or that will be indicated as the sender. The communication endpoint can be some variety of communication endpoints as described above. In some cases proxy communication endpoints can be established if the endpoints of the legs of the communication do not use compatible forms of endpoints. The communication endpoint of the origin can be the same type or a different type of communication endpoint as the communication destination. The origin identifier can be explicitly included in the communication request or the origin identifier can be associated with an account associated with the communication request. A communication medium may be implicit for the communication system such as in the situation where only one medium is available but the communication medium may alternatively be specified in the request. The medium can specify a general form of the communication such as voice video text synchronous and or asynchronous. The medium can alternatively specify particular protocols of communication such as SMS MMS PSTN SIP an OTT communication identity e.g. an application or social network name and the like. In appropriate communication requests frequently asynchronous communication requests the content of the communication may be included in the request. For example the text for an SMS message is preferably included in the communication request. In other variations the communication request is for establishing a synchronous communication session between the source and the destination such as in a voice or video call where communication can occur between at least two communication endpoints in real time. Additionally a request can include an urgency property which determines communication guarantees and TTL Time to live procedures of an established communication.

The communication request is preferably received using an application programming interface API . More preferably the communication request is received through a representational state transfer REST API Restful i.e. having characteristics of a REST API can include the characteristics of having a uniform interface separating client and servers the client server communication is stateless where all information to process a client request is transferred in the request cacheable requests if specified interoperability with a layered service infrastructure and or a uniform interface between clients and servers. The API can be exposed externally such that requests directly originate from outside entities. The API can alternatively be an internal API used during operation of the telephony platform.

The communication request can alternatively be received from an incoming communication through a supported communication transport protocol. Preferably the communication platform acts as a proxy or register for a number of endpoints such that communications initiated outside the communication platform and directed at endpoints registered by the platform are routed to the communication platform for handling. The communication platform can include mappings of endpoints to applications other destination endpoints or use any suitable logic to determine a content and destination of a communication. Processing of incoming communications can be used to enable two way transformation of communications between at least two endpoints.

The plurality of routing options of a preferred embodiment functions to service communications from the system to at least one destination endpoint. The plurality or routing options preferably includes a set of different communication services that target different transport protocols. For example the plurality of routing options can include an SMS service MMS service a push notification service an IP messaging service proprietary third party OTT messaging service proprietary third party OTT communication service PSTN service SIP voice service Video communication service screensharing service fax service email service and or any suitable communication service. Each of the communication services can include dedicated communication service instances for different routing options e.g. different carriers regions and the like . Alternatively a communication service can use multiple different routing options when communicating. The routing options can be used in transmitting messages receiving messages managing synchronous communication sessions or performing any suitable operation of a given transport protocol. Depending on the message medium and possibly the origin and destination endpoints the routing options may be different channel protocols directed at different service provider destinations. For an SMS message the routing options may be SMPP connections to various service provider destinations. The routing options of an MMS message can be SMTP connections to various service provider destinations for MM4 or alternatively they can be various service resources accessed over HTTP SOAP for MM7 . A voice call can have routing options including PSTN channels of different carriers SIP and other protocols. The routing options preferably include various commercial relationships between the service provider and the communication platform. The routing options can additionally span multiple mediums transport protocols. For example a message router may be configured to selectively transmit a message using a routing option selected from SMS routing options proprietary push notification routing options e.g. Apple or Google push notifications and application messaging routing options e.g. message sent to a Whatsapp user .

The content conversion engine of a preferred embodiment functions to transform content from a first form suitable for a first protocol to a second form suitable for a second form. The content conversion engine can include various media processing services routines and modules. The content conversion engine can be a standalone service of a platform or alternatively integrated within a variety of other components such as the various routing option services . The content conversion engine can include various media processing components such as a media transcoding engine text to speech TTS service speech recognition engine and other suitable media processing services. The content conversion engine can additionally include content formatting services that ensure content is suitable for communication over a selected routing option. Different routing options can have different rules such as character limits media size limits metadata information security tokens and other suitable communication properties. The formatting services can translate content to a format suitable for a message. For example text content may require being split in to multiple messages for delivery over SMS. The content conversion engine can transform content media prior to delivery to a destination. For asynchronous messages the media is transformed and then transmitted. In synchronous communication the content conversion engine could stream the converted media content such as down sampling an inbound audio stream and routing to an endpoint with a communication channel with lower bandwidth.

The routing system functions to generate at least one possible routing option for the outbound routing of the communication service . The routing system receives routing requests from the communication system . The routing system is configured to process the request and use properties of the request to generate at least one selected recommended routing option. More preferably the routing system generates a set of at least two routing options and returns the list to the communication system . The set or list of routing options can be prioritized or include parameters that can be used to select a desired routing option. The routing system preferably includes a routing table. The routing table includes a list of available routing option profiles . In one variation a routing option profile in the routing table preferably includes an assigned priority and a weight. The priority and weight may be assigned for different communication parameters. For example the prefix of a destination phone number is preferably associated with various routing options each having a priority and weight. The routing table can include additionally or alternative parameters associated with the different routing options such as quality score regional associations e.g. related country codes or area codes or geographic proximity quota prioritizations internal cost e.g. cost to the platform effective internal cost e.g. cost to transmit requested content considering transforming the content into multiple messages and or any suitable parameter used in selecting a routing option. The quota prioritization parameter can be used to prioritize a routing option in response to a contractual obligation. Some routing options can be maintained through contractual obligations of meeting a quota of communications e.g. number of calls number of messages rate of communication . This quota prioritization parameter can be dynamically updated or fixed based on the communication restriction. The quota prioritization can be used to positively count towards the selection of that routing option e.g. if a system wants to meet a certain quota of messages or alternatively negative impact selection e.g. if a system wants to avoid going over a limit . The relative properties for the associated routing options are used to generate a route priority list. The routing priority list is a customized list of routing options prioritized for a particular communication request. Multiple routing options are prioritized in order of preference. The listed routing options may not have indicated preference and be a sub set of the full set of routing options.

The routing option profiles functions to characterize different channels of communication available to the communication platform. As mentioned above a routing option can exist for large variety of transport protocols such as the communication protocols for SMS messaging MMS messaging push notifications an IP messaging proprietary third party OTT messaging or synchronous communication PSTN voice SIP voice video communication service screensharing faxing email and or any suitable communication protocol. The routing options can include parameters that can be used in selecting a routing option based on content type and or urgency properties. When translating between different modes of communication the different transport protocols can have different prioritization. For example media messaging is preferably sent through a routing option with similar media support. The routing system may additionally include a routing table interface such that an administrator or client device may update the parameters used to determine the communication routing. Routing options can preferably be added removed or updated. In one exemplary use case an administrator may need to update the routing options based on contract changes with various carriers. In another exemplary use case communication performance may unexpectedly drop for a carrier. An administrator could easily edit the routing table such that communications avoid that carrier until the issue is resolved. In yet another use case communication quality of a used routing option is measured and used to update a quality parameter of a routing option. In another variation the routing table interface is an application programming interface API such that parameters of the routing table may be automatically updated.

In one variation an account can configure routing option profiles which function to define routing options and routing option preferences for particular accounts and or subsets of communication within an account. Various routing options may be configured for an endpoint. A phone number may be able to do voice calls SMS messages MMS messages VoIP calls or communicate using a third party OTT service. Various OTT entities may be registered for an endpoint and since most of the OTT registration is achieved organically based on user activity there will not be a uniform set of options across all endpoints. Additionally a given account e.g. one of an OTT provider will want to allow communication originating from the outside OTT entity to be terminated in particular OTT services. For example social network A may not want messages to automatically rerouted to social network B if social network A is not registered. A routing option profile can exist for a particular routing option. The routing option profile identifies approved or conversely prohibited routing options for communications relating to a particular routing option. Additionally the set of approved routing options can be prioritized so that communication can default to the next highest priority if the first routing option is not suitable for a particular communication. For example an OTT entity may want the communication to first be completed using the OTT service but if that is not available MMS is used then SMS then finally a second selected OTT entity. In this example a third OTT entity may not be part of the routing profile and accordingly communication will not be terminated in the third OTT for the subset of communications related to the routing option profile. Additionally the routing option profile can specify different options for different forms of communication. For example text messages may be defined to prioritize the routing options in one manner while media messages prioritize routing options in a second manner. The routing option profile can be set for each account. Preferably each OTT entity will have an OTT account within the system within which an administrator can set the routing option profile. Additionally non OTT accounts can set routing option profiles to define how communications are routed.

The information repository functions to store and manage information about communication endpoints. A communication endpoint preferably has a record stored in a database or distributed through several database tables. An endpoint record may include various properties of a communication endpoint such as a unique identifier of the telephony endpoint the direct inbound address e.g. the phone number or short code alternative endpoint identifiers e.g. list of associated OTT services carrier origin properties a cleanliness quality score capability properties e.g. SMS MMS Fax etc. status e.g. mobile landline client application type toll free etc. screen resolution and display capabilities language service plan e.g. do they get free SMS MMS messages activity patterns e.g. when is the communication who does the endpoint communicate with what does the endpoint communicate etc. presence information for one or more routing options and or other suitable properties of a telephony endpoint. Origin properties can include NPs e.g. area code NXX e.g. three digit vanity digits of a number ISO country codes region properties and or any suitable origin properties. The records may include various sets of information depending on the information that is collected.

The information repository is preferably updated with each OTT that registers or establishes a new connection with an endpoint. Preferably a phone number is used as a primary endpoint identifier an OTT entity will create associations between a user and phone numbers of a device.

As shown in a method S for enabling multi modal communication of a preferred embodiment can include maintaining routing options of at least two transport protocols S receiving a communication request S selecting routing option S transforming content of communication request to compatible form of the selected routing option S and transmitting content to a destination endpoint on the selected routing option S. The method functions to normalize communication to be automatically communicate according to communication intent. The method can be used in transmitting an outbound communication but is preferably implemented in two communication conversations sessions so that responses to communications are similarly transformed to an appropriate transport protocol. The method is preferably used to unify communication across a plurality of communication protocols. Some exemplary communication transport protocols can include SMS MMS Fax email IP messaging push notifications PSTN voice SIP voice SIP video IP based synchronous communication and or any suitable form of communication. As shown in the method can be applied to asynchronous communication but the method can additionally or alternatively be applied to asynchronous communication as shown in or a hybrid of synchronous and asynchronous transport protocols. In addition to unifying modes of communication the method can unify different destination endpoints of a user.

In one implementation the method is used by developers applications and services to express communication intentions such as intended content of a message or intended mode of a communication session. For example an application can specify an image and text that should be delivered to an endpoint. The method operates to deliver the content of the intended media possibly transforming the final delivered format to conform to an appropriate mode of communication with the destination.

Block S which includes maintaining routing options of at least two transport protocols functions to manage at least two different modes of communication. The modes of communication are preferably divided into multiple routing options. The routing options can include different transport protocols but can additionally include different carriers suppliers of a communication channel regional routing options of a transport protocol or any suitable route variation. Information relating to the routing options can be stored in a table or database of routing option profiles. The routing option profiles can be used in selecting preferred optimal or otherwise capable routing options when communicating.

Block S which includes receiving a communication request functions to obtain an instruction for sending or establishing an outbound communication. The communication request is preferably received at a communication service which as described can be a server or machine that establish a communication or at least direct a secondary service to establish a communication. The communication service may be specifically configured for a particular medium or mode of communication such as Public Switch Telephone Network PSTN calls Session Initiation Protocol SIP voice or video calls Short Message Service SMS messages Multimedia Messaging Service MMS messages IP based messaging push notifications proprietary communication protocols and or any suitable communication medium. The communication service may be used for a plurality of communication mediums. A communication request can include communication properties which can include at least one destination endpoint one originating endpoint communication content and or other properties of the communication. The communication request can additionally include control properties such as a max price parameter a quality limit and or other properties used to gate or control communication.

In one implementation the communication request can indicate communication intent. As opposed to specific communication instructions e.g. send a SMS message to this endpoint originating from this endpoint the communication request can include intended communication content that indicates generalized objectives of the communication. The intended communication content can specify raw message content or medium of communication. In the case of asynchronous communication the request of communication intent can include content intended for delivery and the intended destination entity. The final form of the content whether the transmitted content is text a graphic a video a link to an external resource an audio message and or any suitable medium is not exclusively determined through the request as long as the content is delivered. Similarly the exact destination endpoint is not strictly defined as long as the message is delivered to the intended entity. In the case of synchronous communication the mode of communication can similarly be generalized. The communication request can include a specified mode of communication which can place limits on the suitable routing options. The possible modes can include a voice session mode where synchronous audio should be transmitted between at least two endpoints a video session mode where video and or audio should be transmitted between at least two endpoints and synchronous message transmission mode where text images videos and or other media can be delivered to a destination . A voice session mode can result in a voice session e.g. PSTN or SIP based a video session with only audio or any synchronous form of communication through which audio can be transmitted. A video session can be a video session or alternatively downgraded to just audio. An asynchronous message transmission mode can result in any executed communication that transmits desired content. Synchronous communication mediums can similarly be used when in an asynchronous message transmission mode.

Upon receiving a communication request at least a subset of information from the communication request is sent to the routing service. Preferably the subset of information sent to the routing service is sent in the form of a routing request. The subset of information includes communication properties specified in the communication request of block S. Additionally at least a subset of information from the communication request may be sent to a communication cost service. Preferably the subset of information is sent to the communication cost service in the form of a cost request. The routing request and the cost request preferably include at least the destination of the communication. The routing request and or cost request may additionally or alternatively include content of the communication account information for the entity sending the communication request the originating endpoint the mode or medium of communication and or any suitable information. The routing request and the cost request are preferably sent in parallel but may alternatively be sent sequentially or in any suitable manner. The routing request and the cost request can be independent in that how a communication is routed and the attributed costs of that communication do not directly rely on each other. One expected benefit is that the quality of communication can be increased while simulating a simplified cost model to user accounts. As described below a maximum cost parameter specified in a communication request can be accommodated after initially fulfilling the requests.

In one variation the communication properties include a specified transport mode of communication. The specified transport mode can be a set of modes of communication permitted and or blocked for the communication request. The set of operational transport modes can include a synchronous voice session mode of communication a synchronous video session mode of communication an asynchronous message transmission mode of communication and or specific permitted prohibited transport protocols e.g. SMS MMS push etc. . A specified transport mode can restrict modify or otherwise impact the selection of routing options.

Block S which includes selecting routing option functions to determine a routing option of a communication. The communication request is preferably processed through a sequence of heuristics that can be used to select appropriate routing option. Selecting a routing option can include identifying one or more routing option capable of completing the communication request and identified according to a priority heuristic. In one variation a single routing option is selected. In an alternative embodiment a priority list of routing options is generated and a routing option is selected from the list. The routing option is more specifically capable of completing the communication to a communication endpoint mapped to the specified destination endpoint. The specified endpoint may not be the receiving endpoint. A secondary endpoint associated with the specified endpoint may be targeted. For example if a phone number is specified but IP based messaging is instead used to communication with a username endpoint wherein the user of the phone number operates the username endpoint.

In querying routing options the intended communication content can be analyzed to identify suitable transport protocols. The routing options of suitable transport protocols can then be filtered according destination endpoint and intended content and or intended mode of communication. A destination can be identified as including an associated carrier a country regional location property and or device capabilities. Routing options having been reduced to routings options capable of communication intended content and capable of delivering to the intended destination can then be further filtered according to availability. Some routing options can be suffering from down time or quality issues at any given time such routing options are preferably not considered for selection.

Selection heuristics can consider many factors. The heuristics can consider content and mode of communication of a routing option reliability of a routing option feature capability of a routing option urgency compliant features price of communication user presence information user preference of communication user history of communication and or any suitable factor that impacts an appropriate routing option.

A first heuristic can give weight to a routing option based on the involved content transformations. Different transport protocols can be given different preference depending on the original form of content. For example sending a text message would give preference to a routing option involving an SMS with text over a routing option involving transforming the text to text to speech audio and playing over a PSTN phone call. The medium of intended content is preferably preserved but the medium of content can be transformed depending on available routing options and or other heuristic priorities.

A second heuristic can give weight to routing options according to quality scores reliability communication confirmation and other suitable reliability and urgency compliance features. In one variation a communication request can be accompanied by a TTL limit. The TTL limit can define a time window in which a message is delivered. Different routing options can have varying time to delivery predictions and the routing option can be selected to satisfy the TTL restriction. Additionally a communication request can include different confirmation requirements. A request may specify that an acknowledgment confirm the message was transmitted successfully or similarly that the message was read by the end user. Different transport protocols will have varying capabilities or mechanisms to provide such verification or acknowledgment. If a requested feature is not support by a routing option that routing option may not be considered.

A third heuristic can give weight to routing options that have not satisfied a communication quota or contractual obligation. A quota can be set for a time frame and a routing option has the target of satisfying the quota in that time frame. For example an SMS routing option can have a quota of five thousand messages in a month. Selection of a routing option within a priority list or prioritization within the list can be based on satisfying the quota. For example a routing option further from a quota can be prioritized above a routing option that has satisfied a quota surpassed a quota or does not include a quota as shown in . Additionally a quota can be weighted to indicate importance of the quota. For example some routing options may have a more important quota goal e.g. a routing option will be cancelled by a carrier and other routing options may have less important quota goal e.g. special discounting pricing isn t provided if not satisfied . Various rules and properties can be encoded into a routing option to facilitate relative prioritization selection of routing options. One exemplary use of a quota includes a routing option using a particular network carrier that was negotiated at an internal cost rate that has a minimum number of communications that should be met. Another exemplary use of a quota may include regulating a routing option with a rate limit of SMS messages sent in a minute allowed over a network carrier of a second routing option.

A fourth heuristic can give weight to routing options with lower internal cost e.g. payment to outside partners and or operational cost . A related heuristic can include calculating effective internal cost of a routing option. The effective internal cost is the predicted cost to the communication cost to the platform. In some cases communicating over a first transport protocol has different communication limits compared to a second transport protocol and as a result a routing option of the first transport protocol may require transmitting the intended content in one form e.g. in a single message and the routing option of the second transport protocol may require transmitting the intended content in a second form e.g. split into two or more messages . The effective internal cost can be the number of messages to transmit the intended content multiplied by the internal cost of an individual message transmitted on the routing option as shown in . The cost can be a financial cost and is frequently dependent on the specific routing option. The difference between the communication cost and the effective internal cost can be the profit of the platform for an individual communication. The priority heuristic is preferably in place to increase profits across a plurality of communications.

A fifth heuristic can give weight to routing options with particular feature capabilities e.g. message confirmation no message size restrictions multimedia support . A feature heuristic can be enforced if specified content specifies a desired delivered format.

A sixth heuristic can give considers presence information of the destination. A presence service can be integrated into the platform and provide availability of a user across multiple devices and or protocols. For example a user may be accessible through a phone voice session SMS and MMS on the phone push notifications on the phone and through an IP protocol of an application on a second browser device. Presence information can indicate if any of those channels are active prioritization preference of the channels.

A seventh heuristic can consider communication history and or destination preference. Preference of a destination can be inferred from communication. Modes of communication used to initiate outbound communication from an endpoint can be considered indicators of user preference. Alternatively a user profile can be configured with prioritization of endpoints and or protocols.

These factors and other suitable prioritization factors can be combined in any suitable manner to form a prioritization heuristic used in ranking routing options.

In one variation selecting routing option can use an account defined routing profile that defines the prioritization of routing options. In the case of routing options including a plurality of different OTT services there may be various business competitive conflicts with using particular routing options. Defined routing profile tables can facilitate selecting and prioritizing routing options from the full set of routing options. While account defined routing profiles may be one mechanism. Routing rules may additionally be automatically determined and applied. Endpoint to endpoint communication can be monitored and routing channel preference can be determined. In one variation the preference can be monitored and determined on a per endpoint basis. For example a first endpoint may prefer communicating with a second endpoint using one OTT service and communicating with a third endpoint using a second OTT service. In a simpler implementation the previous mode of communication of an endpoint can be monitored and used as a default routing option.

Block S which includes transforming content of communication request to compatible form of the selected routing option functions to convert media content of the communication to a format suitable for transmitting. In asynchronous communication the content is converted and then transmitted to the destination. In synchronous communication the content can be transcoded and streamed to a destination such that the content medium is generated in substantially realtime with the communication session. The form of the transformation is determined based on the originating format of the communication content and the selected routing option. If the routing option is the same as the originating transport protocol transformation of content may be skipped. Transformation can include translating to a text form generating a URI link to the content generating an audio version of the content generating a video version of the content satisfying protocol restrictions e.g. character limits file size limits encoding and the like segmenting into multiple messages grouping multiple content into a single object supplying unspecified metadata and or making any suitable transformation. Exemplary transformations may include SMS to MMS MMS to SMS SMS MMS to IP push proprietary IP client application SMS MMS to email fax fax email to SMS MMS IP messaging to SMS MMS Voice to SMS Voice to MMS SMS to voice Voice to video Video to voice and or any suitable form of transformation.

Block S which includes transmitting content to a destination endpoint on the selected routing option functions to establish or execute the communication. The communication is preferably implemented on the selected routing option using the transformed content. In some variations communication confirmation of delivery or of reading can be requested. The delivery and reading request can be fulfilled through the transport protocol of the selected routing option. As shown in an urgency parameter can specify that a receipt acknowledgment be made. Subsequent communications in asynchronous and synchronous forms of communication can be processed to select an appropriate routing option optionally using communication history to influence routing option selection. In asynchronous communication e.g. messaging responses can be received from the delivery endpoint. A similar process can be invoked to determine the route used to deliver the response as shown in but alternatively a routing option of the communication that prompted the initial communication response can be used. In synchronous communication the destination endpoint can be bridged with the originating endpoint.

As shown in a method S for enrolling routing option in a communication platform can include receiving a registration request of a communication provider directed at an endpoint S transmitting a registration communication to the endpoint S receiving confirmation response of the endpoint S updating an endpoint repository with the communication provider information S and signaling to the confirmation response to the communication provider S. The method functions to allow an OTT communication entity to register and verify an endpoint to associate with an account on the OTT. The OTT entity will preferably trigger the method when a user is registering for an account or pairing a new device to an account. After the new device is paired through the method the OTT entity can use the additional endpoint as an additional communication option. While phone numbers may be useable as a uniform endpoint address for different modes of communication such as PSTN SMS MMS and fax OTT account identifiers exist within the ecosystem of the OTT. As OTT providers become more widely user the communication environment can become fragmented. The method provides a common layer for OTT entities to manage the integration of multiple OTTs. The method is preferably used continually for a variety of endpoints and eventually the method can achieve a relationship graph of endpoints and OTT providers. The method S can be used with the method S above to facilitate multi modal routing and leveraging the addition and integration of OTT routing options with other modes of communication. In one variation a benefit of the method can include providing endpoint information. In another variation a benefit can provide additional measures of device verification. In another variation the endpoint repository can be used in augmenting multi modal or selective mode of communication.

Block S which includes receiving a registration request of a communication provider directed at an endpoint functions to be prompted by an OTT provider to register an endpoint on behalf of the OTT provider. Preferably the communication platform includes an API that includes one or more calls that facilitate requesting the registration of an endpoint. The registration request preferably includes a specified destination address to be registered. The destination address is preferably a phone number but the destination address may alternatively by an account identifier a username an email address or any suitable endpoint address. The registration address may additionally include a unique identifier within the scope of the provider which functions to provide a mechanism for specifying an account associated within the system of the OTT provider. The registration request is preferably made on behalf of some user of the OTT service. The provider unique identifier can be a username and email address a random alphanumeric. The provider unique identifier can add an alternative way of specifying the platform endpoint. A provider unique identifier may not be provided and the existing endpoint identifier. For example the phone number in combination with the name of the OTT provider can be used as a proxy for a provider unique identifier of the endpoint.

The registration request preferably additionally includes account information. The account information can include authentication token s an account identifier OTT identifier or any suitable source information. The OTT will preferably initiate the registration API call when a customer attempts to pair a phone number or other communication endpoint with an account on the OTT. For example within an account page on an OTT provider a user can enter a phone number and submit the number. The OTT provider will preferably send the API request to the communication platform to complete the registration. From the user standpoint the communication platform is transparent. After submitting the phone number the user will preferably receive a communication on his or her phone which the user will be able confirm. The communication platform can alternatively provide alternative interfaces to the OTT providers. For example an embeddable UI can be provided for facilitating registration user interface. The UI can be embedded in the OTT website or application e.g. as an iframe to facilitate receiving registration.

Block S which includes transmitting a registration communication to the endpoint functions to deliver a message or communicate with the endpoint. Preferably the communication platform has at least one routing option available for routing to the destination endpoint. In the variation where the destination endpoint is a phone number a SMS or MMS message can be delivered to the device. Alternatively an automated voice call can be delivered over PSTN SIP or an alternative VoIP communication protocol e.g. WebRTC . The registration communication preferably includes a code or an alternative identifier. In one variation the registration communication will include a 6 digit pin that can be entered within an application website or any suitable interface. The entering of the pin codes signals successful delivery of the registration communication and that the owner of the endpoint is confirming the registration. In another variation the registration communication includes a unique URI. When the delivered the user can click the link to confirm the registration. Since the URI is unique access of the resource can signal confirmation of the registration. Alternatively the URI may display options to confirm or deny the registration. In another variation the registration communication is a message specifying response options. The message could be a text message an image a video or any suitable media message. In another variation transmitting a registration communication includes making a voice or video call. The voice or video call can be used to receive confirmation or some form of a response during the call e.g. through DTMF or voice recognition .

Block S which includes receiving confirmation response of the endpoint functions to determine the results of the registration with the endpoint. The confirmation response preferably includes confirmation of pairing the endpoint with the OTT. The user will preferably be expecting the communication and will know that confirming will complete the process. In one variation the confirmation response is received in response to the registration communication from the destination endpoint. For example the conformation response is an SMS or MMS message reply. The message reply can include a response such as YES or NO to indicate if the endpoint should or should not be registered in association with the request. The confirmation response may alternatively be made during the registration communication if the registration communication is a synchronous communication. In the variation where a pincode is entered in an interface the interface could be one created and provided by the OTT provider or any suitable outside provider. An API call is preferably provided to inform the communication platform of the user response. The OTT provider or outside provider can use the API call to inform the communication platform.

The method can additionally include verifying a device through an endpoint repository which functions to use existing endpoint information to add an additional layer in registration. The OTT provider may not have access to information outside of their own platform but the multi modal communication aspect of the communication platform can enable insights to be pulled from previous registrations and or communications. The communication platform will preferably retain information about various endpoints in the endpoint repository. In some cases an endpoint may already be registered with other OTT entities or otherwise be known within the communication platform due to prior communication interactions. The past history of a known endpoint can be used in confirming registration. In one variation automatic verification of a destination endpoint may be enabled if the endpoint is already confirmed through another OTT. In another variation the verifying of the device may use fraud detection heuristics or other triggers to prevent confirmation of the registration.

Block S which includes updating an endpoint repository with the communication provider information functions to record the registration of an endpoint with a new OTT entity. The endpoint repository will preferably include a set of records for different endpoints. Each endpoint will preferably include a parameter or parameters that define the set of routing options. The set of routing options preferably include the OTT entities that have registered with the endpoint. An OTT registration can indicate that the user of the endpoint has paired an account of the OTT with the phone. In some situations this registration can be a signal that an application of the OTT is used by the user or at least has been used by the user.

The endpoint repository is additionally used beyond just registration but in facilitating and tracking communication through the OTT entity. The endpoint repository can be updated and maintained to signal different aspects of the endpoint and related OTT entities and other routing options. Preferably the endpoint repository will store information relating to the history of each OTT entity such as a registration timestamp time of last communication through the OTT entity on the communication platform preference rating of an OTT entity e.g. order ranking of OTT entities or routing options according to frequency of use . The endpoint repository can additionally be used in synchronizing changes amongst OTT entities. In one variation a change of registration of one OTT entity may be applied to other OTT registrations. For example if a user gets a new phone number and updates the registration for a first OTT provider then the method may include notifying a second OTT provider previously registered of the phone number change automatically migrating the updated number for the second OTT provider invalidating the registration of the second OTT provider until re registered and or any suitable action.

Block S which includes signaling the confirmation response to the communication provider functions to update the communication provider of the registration result. The signaling of the confirmation response preferably includes a confirmation that the endpoint successfully completed registration or that the registration was not successfully confirmed. Unsuccessful confirmation may simply be a denial of registration but the denial or error response may additionally include a reason such as cancellation e.g. user changes his mind or fraud reporting e.g. user did not initiate the registration and flags the request . The signaling can be performed in a variety of approaches. In a first variation the confirmation response is included in a response to the registration request API call as shown in . In another variation the confirmation response is posted or submitted to a specified resource of the OTT provider. In yet another variation a resource in the communication platform is updated and the OTT provider can poll the resource to obtain the status as shown in . For example the registration request API call may trigger a response from the communication platform that includes a resource identifier e.g. a URI . The OTT entity can poll the resource identifier until the confirmation response is obtained. Prior to receiving a confirmation response the resource identifier can return a pending response or an alternative response to indicate that the registration process is still in progress.

The method can additionally include providing endpoint information of the endpoint repository which functions to enable access use and interaction with the endpoint repository. Providing endpoint information preferably includes providing API access to at least a portion of the information of the endpoint repository. The API access preferably includes public API access that is usable by customers users. The API access may alternatively or additionally be private used within the communication platform. In one variation an API call can query a specific endpoint and retrieve information about OTT registration with the number. As discussed above the usage relating to each OTT may additionally be accessible. A portion of the API may be opened publically so that any entity can check if a particular endpoint is registered with a specific OTT entity. In another variation some or all the information may be limited to OTT associated accounts in the communication platform. The OTT entity can have a special account set up e.g. the account used to submit the registration requests . In one variation the OTT entity can query all the phone numbers registered for the OTT entity. After registration an OTT entity can additionally update registration such as canceling terminating registration.

As shown in a multitenant communication platform includes a system for enabling multi modal communication. In some embodiments the system includes a communication system a routing system and an endpoint information repository . In some embodiments the system includes a communication profile repository .

In some implementations the communication system includes a communication API module and a content converter . In some implementations the content converter is similar to the content converter of .

In some implementations the routing system includes a routing address record determination module and a communication provider selection module .

As shown in the communication platform is communicatively coupled with external systems and communications providers and and devices and . The device includes a device endpoint and the device includes a device endpoint . The external system includes an application server . The external system includes a device that has a device endpoint . The external system includes an application server and a device and the device includes a device endpoint . The device is communicatively coupled with the application server .

In some implementations the communication system is similar to the communication system of the routing system is similar to the routing system of and the endpoint information repository is similar to the endpoint information repository of .

The multitenant communication platform provides communication services to developer applications and services. In some implementations the communication platform is a telephony platform such as the one described in patent application Ser. No. 12 417 630 filed 2 Apr. 2009 entitled System and Method for Processing Telephony Sessions which is hereby incorporated in its entirety by this reference. The telephony platform preferably includes application execution in connection to communications sessions and or messages the telephony platform may additionally or alternatively provide an application programming interface API as an alternative for interacting with communication functionality of the telephony platform. The telephony platform is preferably a multitenant telephony platform that allows multiple accounts to configure telephony applications for use on the platform. The telephony can be designed for one or more mediums of communication. The telephony platform can additionally be a cloud hosted platform as a service system. The telephony platform can be a server a server cluster a collection of components on a distributed computing system or any suitable network accessible computing infrastructure.

In some implementations the system is used in combination with a text or multi media based messaging system a video or voice chat system a screensharing system and or any suitable communication platform.

The communication platform is multitenant meaning that the communication platform can be used for the processing of communication requests for accounts of the communication platform for a plurality of external systems.

As shown in the system includes the following components the communication system the routing system the endpoint information repository the profile repository the communication API module the content converter the routing address record determination module the communication provider selection module and the registration API module .

In the example embodiment of the components e.g. and of include instructions that are executed by any combination of one or more processing units. In the example embodiment each processing unit includes one or more processors communicatively coupled to one or more of a RAM ROM and machine readable storage medium the one or more processors of the processing unit receive instructions stored by the one or more of a RAM ROM and machine readable storage medium via a bus and the one or more processors execute the received instructions. In some embodiments the processing unit is an ASIC Application Specific Integrated Circuit . In some embodiments the processing unit is a SoC System on Chip . In some embodiments one processing unit includes the components of the system . In some embodiments a plurality of processing units include the components of the system . In some embodiments the one or more processing units are included in one or more server devices.

As shown in a method for a multi tenant communication platform e.g. of in accordance with an example embodiment includes at a multi tenant communication platform and responsive to authentication of a communication request e.g. of provided by an external system e.g. external systems of the communication request specifying a communication destination and account information determining a routing address record e.g. the routing address records of the communication platform that matches the communication destination of the communication request the matching routing address record associating the communication destination with a plurality of external communication providers e.g. the communication providers and of process S selecting at least one communication provider associated with the matching routing address record process S and providing a request to establish communication with the communication destination to each selected communication provider process S .

In the example embodiment of the method of is implemented in the multi tenant communication platform of . In some implementations the communication system performs the processes S and S and the routing system performs the processes S S and S. In some embodiments the method of is implemented in any suitable type of multi tenant communication platform.

In some implementations each communication provider includes at least one of an SMS service provider MMS service provider push notification service provider IP messaging service provider proprietary third party OTT messaging service provider proprietary third party OTT communication service provider PSTN service provider SIP voice service provider Video communication service provider screensharing service provider fax service provider and email service provider.

Process S which includes determining a routing address record of the communication platform that matches the communication destination of the communication request is performed responsive to process S YES at S of which functions to authenticate a communication request e.g. the communication request of provided by an external system e.g. one of the external systems and of . In some embodiments the communication request e.g. the communication request specifies a communication destination and account information.

In some implementations the account information includes an account identifier of the external system and an authentication token associated with the account identifier. In some implementations authentication of the communication request includes authenticating the communication request by using the authentication token and determining that the communication request is permitted for an account identified by the account identifier. In some implementations a communication system of the communication platform e.g. the communication system of performs the authentication of the communication request.

In some implementations in a case where the communication request is not authenticated the communication request is denied NO at process S . In some implementations the communication request is not authenticated if authentication conditions are not satisfied. In some implementations authentication conditions include at least one of the authentication token being valid the communication request being permitted for the account identified by the account identifier e.g. as specified by account permissions stored at the communication platform the authentication token being a valid authentication token for the account identifier and the communication request being a valid communication request. In some implementations in a case where the communication request is not authenticated NO at process S the communication platform provides the external system with a notification that the communication request has been denied.

Process S which includes determining a routing address record of the communication platform that matches the communication destination of the communication request functions to control the communication system of to determine the matching routing address record from among a plurality of routing address records e.g. the routing address records of stored at the communication platform in an endpoint information repository e.g. the endpoint information repository of .

In some implementations each routing address record stored at the communication platform associates a communication destination with at least one external communication provider. In some implementations each routing address record stored at the communication platform associates a communication destination with a plurality of external communication providers. In some implementations at least one routing address record stored at the communication platform associates a communication destination with a plurality of external communication providers.

In some implementations at least one of a routing address identifier and a deterministic endpoint address specified in a routing address record associates the routing address record with a communication destination. In some implementations deterministic endpoint addresses include at least one of a phone number an email address an IP address and an account identifier of a communication provider. In some implementations communication destinations include at least one of a phone number an email address an IP address and an account identifier of a communication provider In some implementations a routing address identifier includes at least one of a phone number prefix e.g. 415 555 XXXX an e mail domain e.g. domain.com and the like. In some implementations a routing address record specifying a routing address identifier is associated with all communication destinations that match the routing address identifier e.g. a prefix of the communication destination matches the routing address identifier . In some implementations a routing address record specifying a deterministic endpoint address is associated with the communication destination that matches the deterministic endpoint address e.g. the communication destination is specified in the routing address record .

In some implementations each communication provider e.g. the communication providers and of specified in a routing address record of the communication platform is a communication provider that has registered with the communication platform e.g. as described below for .

In some implementations each communication provider specified in a routing address record of the platform that specifies a deterministic endpoint address is a communication provider that has registered with the communication platform for the communication destination and that has been confirmed by a device endpoint e.g. the device endpoints of associated with the communication destination e.g. as described below for .

In some implementations each routing address record stored at the communication platform is one of a global routing address record and an account routing address record. Each account routing address record specifies an account identifier for an account of the communication platform .

In some implementations determining the matching routing address record from among the plurality of routing address records stored in the endpoint information repository includes accessing the plurality of routing address records e.g. the routing address records of stored in the endpoint information repository e.g. of and for each accessed routing address record determining whether the routing address record matches the communication destination and the account identifier of the account information of the communication request e.g. the communication request of . In some implementations in a case where a routing address record that matches both of the communication destination and the account identifier is not identified then a determination is made as to whether a global routing address record that matches the communication destination is stored at the communication platform .

In some implementations determining the matching routing address record from among the plurality of routing address records stored in the endpoint information repository includes accessing the plurality of routing address records e.g. the routing address records of stored in the endpoint information repository e.g. of and for each accessed routing address record determining whether the routing address record matches the communication destination of the communication request e.g. the communication request of . In a case where the routing address record specifies a routing address identifier a determination is made as to whether the routing address identifier matches the communication destination. In a case where the routing address record specifies a deterministic endpoint address a determination is made as to whether the communication destination that matches the deterministic endpoint address e.g. the communication destination is specified in the routing address record .

In some implementations determining the matching routing address record from among the plurality of routing address records stored in the endpoint information repository includes first determining whether at least one routing address record exists that specifies a deterministic endpoint address that matches the communication destination. In a case where a routing address record that specifies a deterministic endpoint address that matches the communication destination is not identified a second determination is made as to whether a routing address record exists that specifies a routing address identifier that matches the communication destination.

In some implementations determining the matching routing address record from among the plurality of routing address records stored in the endpoint information repository includes accessing the plurality of routing address records e.g. the routing address records of stored in the endpoint information repository e.g. of and determining routing address records that specify a deterministic endpoint address. For each routing address record that specifies a deterministic endpoint address a determination is made as to whether the deterministic endpoint address matches the communication destination of the communication request e.g. the communication request of . In a case where a matching routing address record that specifies a deterministic endpoint address is not determined routing address records that specify a routing address identifier are identified from among the stored routing address records. For each routing address record that specifies a routing address identifier a determination is made as to whether the routing address identifier matches the communication destination of the communication request.

In some implementations in a case where a matching routing address record is not determined NO at S the communication request having the unmatched communication destination is processed by performing at least one of error handling and default routing process S . In some implementations in a case where a matching routing address record is not determined NO at S the communication platform provides the external system with a notification that the communication request has been denied. In some implementations in a case where a matching routing address record is not determined NO at S the communication platform selects a default communication provider and proceeds to the process S which includes providing a request to establish communication with the communication destination to the default communication provider in a manner described below for the process S of . In some implementations in a case where a matching routing address record is not determined NO at S the communication platform determines a plurality of default communication providers and processing proceeds to the process S which includes selecting at least one communication provider from the plurality of default communication providers in a manner described below for the process S of .

Process is performed responsive to determination of a routing address record of the communication platform that matches the communication destination of the communication request YES at S . In some implementations process is performed responsive to determination of a routing address record that matches the communication destination and that is associated with a plurality of communication providers. In some implementations in a case where the matching routing address record determined at the process S is associated with one communication provider the process is not performed.

Process S which includes selecting at least one communication provider associated with the matching routing address record functions to control the routing system to select at least one communication provider specified in the matching routing address record. In some implementations selection of at least one communication provider specified in the matching routing address record is performed based on a communication profile. In some implementations selection of at least one communication provider specified in the matching routing address record is performed based on a communication profile in a case where the matching routing address record specifies a plurality of communication providers.

In some implementations the communication profile is at least one of a global communication profile and an account communication profile that is associated with the account identifier that identifies an account at the communication platform that is associated with the external system. In some implementations the account communication profile is generated based on the communication request e.g. the communication request of . In some implementations the account communication profile is included in the communication request e.g. the communication request of . In some implementations the account communication profile is generated based on an API of the communication platform e.g. an API of the communication API module an API of the profile repository of and the like . In some implementations the account communication profile is provided via an API of the communication platform e.g. an API of the communication API module an API of the profile repository of and the like .

In some implementations selection of at least one communication provider specified in the matching routing address record includes accessing a communication profile stored in the profile repository of and using the accessed communication profile to select the at least one communication provider. In some implementations accessing a communication profile stored in the profile repository includes determining whether the profile repository includes an account communication profile that specifies the communication platform account identifier of the external system that is provided in the communication request e.g. of in a case where the profile repository includes an account communication profile that specifies the account identifier of the external system the account communication profile is used to select the at least one communication provider and in a case where the repository does not include an account communication profile that specifies the account identifier of the external system a global communication profile of the platform is used to select the at least one communication provider.

In some implementations selection of at least one communication provider specified in the matching routing address record includes accessing an account communication profile from the communication request e.g. and using the accessed account communication profile to select the at least one communication provider.

In some implementations the communication profile specifies at least a priority and a weight for at least one communication provider. In some implementations the priority and weight for each communication provider specified in the communication profile are used during selection of one or more communication providers from communication providers specified in the matching routing address record.

In some embodiments the communication profile specifies parameters associated with the different communication providers such as quality score regional associations e.g. related country codes or area codes or geographic proximity quota prioritizations internal cost e.g. cost to the platform effective internal cost e.g. cost to transmit requested content considering transforming the content into multiple messages and or any suitable parameter used in selecting a communication provider.

In some embodiments the quota prioritization parameter is used to prioritize a communication provider in response to a contractual obligation. Some communication providers can be maintained through contractual obligations of meeting a quota of communications e.g. number of calls number of messages rate of communication . This quota prioritization parameter can be dynamically updated or fixed based on the communication restriction. The quota prioritization can be used to positively count towards the selection of the associated communication provider e.g. if a system wants to meet a certain quota of messages or alternatively negative impact selection e.g. if a system wants to avoid going over a limit .

In some implementations the relative properties for the associated communication providers are used to generate a communication provider priority list. In some implementations the communication provider priority list is a customized list of communication providers prioritized for a particular communication request. Multiple communication provider are prioritized in order of preference. In some implementations the listed communication providers may not have indicated preference and be a sub set of the full set of communication providers.

In some implementations an external system having an account at the communication platform can configure communication profiles which function to define communication providers and communication provider preferences for particular accounts and or subsets of communication within an account of the communication platform .

In some implementations communication providers e.g. OTT s may be registered for a communication destination and since most of the communication provider registration is achieved organically based on user activity there will not be a uniform set of options across all communication destinations. Additionally an external system e.g. of a communication provider such as for example an OTT provider having an account at the communication platform can configure a communication profile for its account at the platform to allow communication originating from the external system to be terminated in particular communication provider services. For example social network A having an account at the communication platform may not want messages to automatically rerouted to social network B if social network A is not registered. In some implementations a communication profile can exist for a particular communication provider. In some implementations a communication profile identifies approved or conversely prohibited communication providers for communications relating to a particular communication provider. Additionally the set of approved communication providers can be prioritized so that communication can default to the next highest priority if the first communication provider is not suitable for a particular communication. For example an OTT communication provider may want the communication to first be completed using the OTT communication provider but if that is not available an MMS communication provider is used then an SMS communication provider then finally a second selected OTT communication provider. In this example a third OTT communication provider may not be part of the communication profile and accordingly communication will not be terminated in the third OTT for the subset of communications related to the communication profile. In some implementations the communication profile can specify different options for different forms of communication. For example text messages may be defined to prioritize the communication providers in one manner while media messages prioritize communication providers in a second manner. The communication profile can be set for each account of the communication platform . Preferably each OTT communication provider will have an OTT account within the communication platform within which an administrator can set the communication profile. Additionally non OTT accounts at the communication platform can set communication profiles to define how communications are routed.

Process S which includes providing a request to establish communication with the communication destination to each selected communication provider functions to control the communication platform to provide the request to establish communication with each selected communication provider e.g. the communication providers and of in accordance with the communication request e.g. the communication request of . In some implementations each communication provider e.g. the communication providers and receiving the request from the communication platform establishes communication with at least one device e.g. the devices and corresponding to the communication destination of the communication request e.g. the communication request of . In some implementations each communication provider e.g. the communication providers and receiving the request from the communication platform establishes communication with at least one device endpoint e.g. the device endpoints and of a device e.g. the devices and corresponding to the communication destination of the communication request.

In some implementations the communication API module of the communication system of receives the communication request from the external system and the external system provides the communication request via an API request. In some implementations the process S is performed by the determination module of the routing system . In some implementations the process S is performed by the selection module of the routing system . In some implementations the content converter of the communication system converts content of the communication request based on selection of the at least one communication provider at the process S. In some implementations the content converter of the communication system converts content in a manner similar to that described above for the content converter of .

In some embodiments the communication platform generates each routing address record by performing a process in accordance with . For each communication provider e.g. the communication providers and of the communication platform transmits a registration communication to a device endpoint e.g. the device endpoints of associated with the communication destination responsive to a registration request that identifies the communication provider and the device endpoint associated with the communication destination process S .

In some implementations the communication provider provides the registration request to the communication platform by using the registration API module of the endpoint information repository of .

The communication platform specifies the communication provider in the routing address record stored by the endpoint information repository in association with at least one of the communication destination and the corresponding device endpoint responsive to an endpoint conformation response provided by at least one of the device endpoint and the communication provider process S . The communication platform provides a registration confirmation response to the communication provider responsive to the endpoint confirmation response received by the communication platform process S . In the implementation shown in the device endpoint provides the endpoint conformation response to the communication platform . In the implementation shown in the device endpoint provides the endpoint conformation response to the communication provider and the communication provider provides the endpoint conformation response to the communication platform .

Thus the communication platform confirms a communication provider for each communication destination registered for the communication provider in accordance with the process described above for . In accordance with the process described above for the communication platform specifies the confirmed communication provider in the routing address record that corresponds to the registration request to register the communication provider for the communication destination.

In some implementations responsive to the confirmation response e.g. provided by the communication platform to the communication provider at the process S the communication provider associates the communication destination with a user account of a user of the communication provider and the communication provider stores the association at the communication provider.

The process of functions to allow a communication provider to register and verify an endpoint e.g. to associate with an account on the communication provider. The communication provider will preferably trigger the process of or B when a user is registering for an account at the communication provider or pairing a new device to an account at the communication provider. After the new device endpoint is paired through the registration process the communication platform can use the communication provider as an additional communication provider available for establishing communication with the device endpoint .

In some implementations the registration request includes account information of an account of the communication platform . The account information can include authentication token s an account identifier communication provider identifier or any suitable source information. The communication provider will preferably initiate the registration API call when a customer attempts to pair a phone number or other communication endpoint with an account on the communication provider . For example within an account page on a communication provider a user can enter a phone number and submit the number. The communication provider will preferably send the API request to the communication platform to complete the registration. From the user standpoint the communication platform is transparent. After submitting the phone number the user will preferably receive a communication on his or her phone which the user will be able confirm. The communication platform can alternatively provide alternative interfaces to the communication providers. For example an embeddable UI can be provided for facilitating registration user interface. The UI can be embedded in the communication provider website or application e.g. as an iframe to facilitate receiving registration.

In some implementations the process S functions to deliver a message or communicate with the device endpoint . Preferably the communication platform has at least one communication provider available for establishing communication with the device endpoint . In implementations in which the device endpoint is a phone number a SMS or MMS message can be delivered to the device endpoint . Alternatively an automated voice call can be delivered over PSTN SIP or an alternative VoIP communication protocol e.g. WebRTC .

In some implementations the registration communication includes a code or an alternative identifier. In some implementations the registration communication includes a 6 digit pin that can be entered within an application website or any suitable interface. The entering of the pin codes signals successful delivery of the registration communication and that the owner of the device endpoint is confirming the registration. In some implementations the registration communication includes a unique URI. When the delivered the user can click the link to confirm the registration. Since the URI is unique access of the resource can signal confirmation of the registration. Alternatively the URI may display options to confirm or deny the registration. In some implementations the registration communication is a message specifying response options. The message could be a text message an image a video or any suitable media message. In some implementations transmitting a registration communication includes making a voice or video call. The voice or video call can be used to receive confirmation or some form of a response during the call e.g. through DTMF or voice recognition .

In some implementations the process functions to determine the results of the registration with the device endpoint . The confirmation response preferably includes confirmation of pairing the device endpoint with the communication provider . The user will preferably be expecting the communication and will know that confirming will complete the process. In some implementations the confirmation response is received from the device endpoint in response to the registration communication . For example the conformation response is an SMS or MMS message reply. The message reply can include a response such as YES or NO to indicate if the endpoint should or should not be registered in association with the request. The confirmation response may alternatively be made during the registration communication if the registration communication is a synchronous communication. In implementations in which a pincode is entered in an interface the interface could be one created and provided by the communication provider or any suitable outside provider. An API call is preferably provided to inform the communication platform of the user response. The communication provider or outside provider can use the API call to inform the communication platform e.g. as shown in .

The registration process can additionally include verifying a device through an endpoint repository e.g. the endpoint information repository of which functions to use existing endpoint information to add an additional layer in registration. The communication provider may not have access to information outside of their own platform but the multi modal communication aspect of the communication platform can enable insights to be pulled from previous registrations and or communications. The communication platform will preferably retain information about various endpoints in the endpoint repository . In some cases an endpoint may already be registered with other communication providers or otherwise be known within the communication platform due to prior communication interactions. The past history of a known endpoint can be used in confirming registration. In some implementations automatic verification of a device endpoint e.g. may be enabled if the endpoint is already confirmed through another communication provider. In some implementations the verifying of the device may use fraud detection heuristics or other triggers to prevent confirmation of the registration.

In some implementations the process S functions to record the registration of an endpoint e.g. with a new communication provider e.g. . The endpoint repository will preferably include a set of records for different endpoints. Each endpoint record will preferably include a parameter or parameters that define the set of communication providers. The set of communication providers preferably include the communication providers that have registered with the endpoint. A communication provider registration can indicate that the user of the endpoint has paired an account of the communication provider with the phone. In some situations this registration can be a signal that an application of the communication provider is used by the user or at least has been used by the user.

In some implementations the endpoint repository is used beyond registration but in facilitating and tracking communication through the communication provider. The endpoint repository can be updated and maintained to signal different aspects of the endpoint and related communication providers. In some implementations the endpoint repository stores information relating to the history of each communication provider such as a registration timestamp time of last communication through the communication provider on the communication platform preference rating of an communication provider e.g. order ranking of communication providers according to frequency of use . In some implementations the endpoint repository is used in synchronizing changes amongst communication providers. In some implementations a change of registration of one communication provider may be applied to other communication provider registrations. For example if a user gets a new phone number and updates the registration for a first communication provider then the process may include notifying a second communication provider previously registered of the phone number change automatically migrating the updated number for the second communication provider invalidating the registration of the second communication provider until re registered and or any suitable action.

In some implementations the process S functions to update the communication provider of the registration result. In some implementations the signaling of the confirmation response includes a confirmation that the endpoint successfully completed registration or that the registration was not successfully confirmed. Unsuccessful confirmation may simply be a denial of registration but the denial or error response may additionally include a reason such as cancellation e.g. user changes his mind or fraud reporting e.g. user did not initiate the registration and flags the request . The signaling can be performed in a variety of approaches. In a first variation the confirmation response is included in a response to the registration request API call . In another variation the confirmation response is posted or submitted to a specified resource of the communication provider . In yet another variation a resource in the communication platform is updated and the communication provider can poll the resource to obtain the status. For example the registration request API call may trigger a response from the communication platform that includes a resource identifier e.g. a URI . The communication provider can poll the resource identifier until the confirmation response is obtained. Prior to receiving a confirmation response the resource identifier can return a pending response or an alternative response to indicate that the registration process is still in progress.

In some implementations the registration process includes providing endpoint information of the endpoint repository which functions to enable access use and interaction with the endpoint repository e.g. via the API module . Providing endpoint information preferably includes providing API access to at least a portion of the information of the endpoint repository . The API access preferably includes public API access that is usable by customers users. The API access may alternatively or additionally be private used within the communication platform . In one variation an API call can query a specific endpoint and retrieve information about communication provider registration with the endpoint. As discussed above the usage relating to each communication provider may additionally be accessible. A portion of the API may be opened publically so that any entity can check if a particular endpoint is registered with a specific communication provider. In another variation some or all the information may be limited to communication provider associated accounts in the communication platform . The communication provider can have a special account set up e.g. the account used to submit the registration requests . In one variation the communication provider can query all the phone numbers registered for the communication provider. After registration a communication provider can additionally update registration such as canceling terminating registration.

A method for a multi tenant communication platform e.g. of in accordance with an example embodiment includes at a multi tenant communication platform e.g. the platform of receiving a request e.g. the communication request of to establish communication the request being provided by an external system e.g. the external systems and specifying a communication destination and an account identifier of the external system determining whether the account identifier is a valid account identifier of an account that is permitted to establish communication by using the communication platform. Responsive to a determination that the account identifier is a valid account identifier of an account that is permitted to establish communication by using the communication platform at least one communication provider e.g. the communication providers and is determined for the communication destination based on an a routing address record e.g. the routing address records of matching the communication destination. The matching routing address record associates the communication destination with one or more communication providers and the routing address record is stored at the communication platform e.g. in the endpoint information repository of . Each communication provider e.g. the providers is external to the communication platform . One or more of the determined at least one communication provider is selected and a request to establish communication with the communication destination is provided to each selected communication provider. The communication platform generates the matching routing address record based on registration information e.g. request and response of provided to the communication platform for the communication destination by each determined communication provider. The communication destination matches at least one of a routing address identifier and a deterministic endpoint address specified in the matching routing address record.

In some embodiments the methods disclosed herein are implemented in the multi tenant communication platform of . In some embodiments the methods are implemented in any suitable type of multi tenant communication platform.

The bus interfaces with the processors A N the main memory e.g. a random access memory RAM a read only memory ROM a processor readable storage medium a display device a user input device and a network device .

In some implementations the system includes at least one of a central processing unit processor and a multi processor unit MPU .

The processors A N and the main memory form a processing unit . In some embodiments the processing unit includes one or more processors communicatively coupled to one or more of a RAM ROM and machine readable storage medium the one or more processors of the processing unit receive instructions stored by the one or more of a RAM ROM and machine readable storage medium via a bus and the one or more processors execute the received instructions. In some embodiments the processing unit is an ASIC Application Specific Integrated Circuit . In some embodiments the processing unit is a SoC System on Chip . In some embodiments the processing unit includes one or more of the communication system the routing system the endpoint information repository and the profile repository .

The network adapter device provides one or more wired or wireless interfaces for exchanging data and commands between the system and other devices such as devices of the external systems the communication providers and and the devices and . Such wired and wireless interfaces include for example a universal serial bus USB interface Bluetooth interface Wi Fi interface Ethernet interface near field communication NFC interface and the like.

Machine executable instructions in software programs such as an operating system application programs and device drivers are loaded into the memory of the processing unit from the processor readable storage medium the ROM or any other storage location. During execution of these software programs the respective machine executable instructions are accessed by at least one of processors A N of the processing unit via the bus and then executed by at least one of processors A N. Data used by the software programs are also stored in the memory and such data is accessed by at least one of processors A N during execution of the machine executable instructions of the software programs.

The processor readable storage medium is one of or a combination of two or more of a hard drive a flash drive a DVD a CD an optical disk a floppy disk a flash storage a solid state drive a ROM an EEPROM an electronic circuit a semiconductor memory device and the like. The processor readable storage medium includes an operating system software programs device drivers the communication system the routing system the endpoint information repository and the profile repository .

The system and methods of the preferred embodiment and variations thereof can be embodied and or implemented at least in part as a machine configured to receive a computer readable medium storing computer readable instructions. The instructions are preferably executed by computer executable components preferably integrated with the communication system. The computer readable medium can be stored on any suitable computer readable media such as RAMs ROMs flash memory EEPROMs optical devices CD or DVD hard drives floppy drives or any suitable device. The computer executable component is preferably a general or application specific processor but any suitable dedicated hardware or hardware firmware combination device can alternatively or additionally execute the instructions.

As a person skilled in the art will recognize from the previous detailed description and from the figures and claims modifications and changes can be made to the preferred embodiments of the invention without departing from the scope of this invention defined in the following claims.

