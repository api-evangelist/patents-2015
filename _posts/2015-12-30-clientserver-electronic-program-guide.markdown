---

title: Client-server electronic program guide
abstract: A client-server interactive television program guide system is provided. An interactive television program guide client is implemented on user television equipment. The interactive television program guide provides users with an opportunity to define expressions that are processed by the program guide server. The program guide server may provide program guide data, schedules reminders, schedules program recordings, and parentally locks programs based on the expressions. Users' viewing histories may be tracked. The program guide server may analyze the viewing histories and generates viewing recommendations, targets advertising, and collects program ratings information based on the viewing histories.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09426509&OS=09426509&RS=09426509
owner: Rovi Guides, Inc.
number: 09426509
owner_city: San Carlos
owner_country: US
publication_date: 20151230
---
This application is a continuation of U.S. patent application Ser. No. 13 303 964 filed Nov. 23 2011 which is a continuation of U.S. patent application Ser. No. 11 894 748 filed Aug. 20 2007 now U.S. Pat. No. 8 087 050 which is a continuation of U.S. patent application Ser. No. 11 355 536 filed Feb. 15 2006 which is a continuation of U.S. patent application Ser. No. 10 298 274 filed May 21 2002 now U.S. Pat. No. 7 065 709 which is a divisional of U.S. patent application Ser. No. 09 374 043 filed Aug. 13 1999 now U.S. Pat. No. 6 898 762 which claims the benefit of U.S. provisional patent application No. 60 097 538 filed Aug. 21 1998. All of these prior applications are hereby incorporated by reference in their entireties.

This invention relates to interactive television program guide systems and more particularly to interactive television program guide systems based on client server arrangements.

Cable satellite and broadcast television systems provide viewers with a large number of television channels. Users have traditionally consulted printed television program schedules to determine the programs being broadcast at a particular time. More recently interactive television program guides have been developed that allow television program information to be displayed on a user s television. Interactive television program guides which are typically implemented on set top boxes allow users to navigate through television program listings using a remote control. In a typical program guide various groups of television program listings are displayed in predefined or user selected categories. Program listings are typically displayed in a grid or table. On line program guides have been proposed that require users to navigate the Internet to access program listings.

Client server based program guides have been proposed in which program listings are stored on a server at a cable system headend. The server provides the program listings to program guide clients implemented on the set top boxes of a number of users associated with each headend. As users navigate within a program listings grid the server provides program listings to the client for display. Such systems may be limited in their functionality due to their limited use of the resources of the server.

It is therefore an object of the present invention to provide an interactive television program guide system in which server resources are used to provide enhanced program guide features not provided by conventional set top box based or client server based program guides.

This and other objects of the present invention are accomplished in accordance with the principles of the present invention by providing a client server based interactive television program guide system in which a main facility e.g. a satellite uplink facility or a facility that feeds such an uplink facility provides data from one or more data sources to a number of television distribution facilities such as cable system headends broadcast distribution facilities satellite television distribution facilities or other suitable distribution facilities. Some of the data sources may be located at different facilities and have their data provided to the main facility for localization and distribution or may provide their data to the television distribution facilities directly. The data provided to the television distribution facilities includes television programming data e.g. titles channels content information rating information program identifiers series identifiers or any other information associated with television programming and other program guide data for additional services other than television program listings e.g. weather information associated Internet web links computer software etc. . The main facility and other sources may provide the program guide data to the television distribution facilities via a satellite link a telephone network link a cable or fiber optic link a microwave link an Internet link a combination of such links or any other suitable communications link.

Each television distribution facility has a program guide server. If desired program guide servers may also be located at cable system network nodes or other facilities separate from the television distribution facilities or other distribution facilities. Each program guide server stores the program guide data provided by the main facility and provides access to the program guide data to program guide clients implemented on the user television equipment of a number of users associated with each television distribution facility. The program guide servers may also store user data such as user preference profiles parental control settings record and reminder settings viewing history and other suitable data.

Providing program guide data with a program guide server and storing user data on the server may provide users with opportunities to perform various functions that may enhance the users television viewing experience. Users may for example set user preference profiles or other favorites that are stored by the program guide server and used by the server to customize the program guide viewing experience for the user. The program guide server may filter program guide data based on the user preference profiles. Only data that is of interest to the user may then be provided to the guide client thereby tending to minimize the memory requirements of the user s television equipment and lessen the bandwidth requirements of the local distribution network.

A client server based architecture may also provide users with the ability to search and sort through program related information in ways that might not otherwise be possible due to the limited processing and storage capabilities of the users television equipment. If desired users may be provided with access to program guide data without requiring them to navigate the Internet. Users may for example define sophisticated boolean or natural language expressions having one or more criteria for searching through and sorting program guide data scheduling reminders automatically recording programs and parentally controlling programs. The criteria may also be derived by the program guide server or program guide client from user profiles or by monitoring usage of the program guide. The criteria may be stored on the program guide server. Users may be provided with an opportunity to access modify or delete the expressions.

The program guide server may also track the users viewing histories to provide a user customized program guide experience. Programs or series of episodes users have watched may be identified and used by the program guide for example to inform users when there are showings in the series that the users have not watched. The program guide may for example provide viewing recommendations based on a user s viewing history and if appropriate on user preference profiles or other criteria stored by the program guide server. The program guide may also target advertisements toward users based on the viewing histories or criteria and may track the viewing of programs to generate viewership ratings.

Further features of the invention its nature and various advantages will be more apparent from the accompanying drawings and the following detailed description of the preferred embodiments.

An illustrative system in accordance with the present invention is shown in . Main facility may provide program guide data from data source to interactive television program guide equipment via communications link . There may be multiple program guide data sources in main facility but only one has been shown to avoid over complicating the drawing. If desired program guide data sources may be located at facilities separate from main facility such as at local information services and may have their data provided to main facility for localization and distribution. Data sources may be any suitable computer or computer based system for obtaining data e.g. manually from an operator electronically via a computer network or other connection or via storage media and placing the data into electronic form for distribution by main facility . Link may be a satellite link a telephone network link a cable or fiber optic link a microwave link an Internet link a combination of such links or any other suitable communications link. Video signals may also be transmitted over link if desired.

Local information service may be any suitable facility for obtaining data particular to a localized region and providing the data to main facility or interactive television program guide equipment over communications links . Local information service may be for example a local weather station that measures weather data a local newspaper that obtains local high school and college sporting information or any other suitable provider of information. Local information service may be a local business with a computer for providing main facility with for example local ski reports fishing conditions menus etc. or any other suitable provider of information. Link may be a satellite link a telephone network link a cable or fiber optic link a microwave link an Internet link a combination of such links or any other suitable communications link. Additional data sources may be located at other facilities for providing main facility with non localized data e.g. non localized program guide data over link .

The program guide data transmitted by main facility to interactive television program guide equipment may include television programming data e.g. program identifiers times channels titles descriptions series identifiers etc. and other data for services other than television program listings e.g. help text pay per view information weather information sports information music channel information associated Internet web links associated software etc. . There are preferably numerous pieces or installations of interactive television program guide equipment although only one is shown in to avoid over complicating the drawing.

Program guide data may be transmitted by main facility to interactive television program guide equipment using any suitable approach. Data files may for example be encapsulated as objects and transmitted using a suitable Internet based addressing scheme and protocol stack e.g. a stack which uses the user datagram protocol UDP and Internet protocol IP . Systems in which program guide data is transmitted from a main facility to television distribution facilities are described for example in Gollahon et al. U.S. patent application Ser. No. 09 332 624 filed Jun. 11 1999 which is hereby incorporated by reference herein in its entirety.

A client server based interactive television program guide is implemented on interactive television program guide equipment . Three illustrative arrangements for interactive television program guide equipment are shown in . shows an illustrative arrangement for interactive television program guide equipment in which a program guide server obtains program guide data directly from main facility . shows an illustrative arrangement for interactive television program guide equipment in which a program guide server obtains program guide data from main facility or some other facility e.g. local information service via the Internet. In either of these approaches users may be provided with opportunities to access program guide data without having to navigate the Internet if desired. As shown in interactive program guide television equipment may include television distribution facility and user television equipment .

Television distribution facility may have program guide distribution equipment and program guide server . Distribution equipment is equipment suitable for providing program guide data from program guide server to user television equipment over communications path . Distribution equipment may include for example suitable transmission hardware for distributing program guide data on a television channel sideband in the vertical blanking interval of a television channel using an in band digital signal using an out of band digital signal over a dedicated computer network or Internet link or by any other data transmission technique suitable for the type of communications path . Analog or digital video signals e.g. television programs may also be distributed by distribution equipment to user television equipment over communications paths on multiple analog or digital television channels. Alternatively videos may be distributed to user television equipment from some other suitable distribution facility such as a cable system headend a broadcast distribution facility a satellite television distribution facility or any other suitable type of television distribution facility.

Communications paths may be any communications paths suitable for distributing program guide data. Communications paths may include for example a satellite link a telephone network link a cable or fiber optic link a microwave link an Internet link a data over cable service interface specification DOCSIS link a combination of such links or any other suitable communications link. Communications paths preferably have sufficient bandwidth to allow television distribution facility or another distribution facility to distribute television programming to user television equipment . There are typically multiple pieces of user television equipment and multiple associated communications paths although only one piece of user television equipment and communications path are shown in to avoid over complicating the drawings. If desired television programming and program guide data may be provided over separate communications paths.

Program guide server may be based on any suitable combination of server software and hardware. Program guide server may retrieve program guide data or video files from storage device in response to program guide data or video requests generated by an interactive television program guide client implemented on user television equipment . As shown in program guide server may include processing circuitry and storage device . Processing circuitry may include any suitable processor such as a microprocessor or group of microprocessors and other processing circuitry such as caching circuitry video decoding circuitry direct memory access DMA circuitry input output I O circuitry etc.

Storage device may be a memory or other storage device such as random access memory RAM flash memory a hard disk drive etc. that is suitable for storing the program guide data transmitted to television distribution facility by main facility . User data such as user preference profiles preferences parental control settings record and reminder settings viewing histories and other suitable data may also be stored on storage device by program guide server . Program guide data and user data may be stored on storage device in any suitable format e.g. a Structured Query Language SQL database . If desired storage may also store video files for playing back on demand.

Processing circuitry may process requests for program guide data by searching the program guide data stored on storage device for the requested data retrieving the data and providing the retrieved data to distribution equipment for distribution to user television equipment . Processing circuitry may also process storage requests generated by the program guide client that direct program guide server to store user data. Alternatively program guide server may distribute program guide data to and receive user data from user television equipment directly. If communications paths include an Internet link DOCSIS link or other high speed computer network link e.g. 10 BaseT 100 BaseT 10 BaseF T1 T3 etc. for example processing circuitry may include circuitry suitable for transmitting program guide and user data and receiving program guide data and storage requests over such a link.

Program guide server may communicate with user television equipment using any suitable communications protocol. For example program guide server may use a communications protocol stack that includes transmission control protocol TCP and Internet protocol IP layers sequenced packet exchange SPX and internetwork packet exchange IPX layers Appletalk transaction protocol ATP and datagram delivery protocol DDP layers DOCSIS or any other suitable protocol or combination of protocols. User television equipment may also include suitable hardware for communicating with program guide server over communications paths e.g. Ethernet cards modems digital analog or cable etc. 

The program guide client on user television equipment may retrieve program guide data from and store user data on program guide server using any suitable client server based approach. The program guide may for example pass SQL requests as messages to program guide server . In another suitable approach the program guide may invoke remote procedures that reside on program guide server using one or more remote procedure calls. Program guide server may execute SQL statements for such invoked remote procedures. In still another suitable approach client objects executed by the program guide may communicate with server objects executed by program guide server using for example an object request broker ORB . This may involve using for example Microsoft s Distributed Component Object Model DCOM approach. As used herein record requests and storage requests are intended to encompass any of these types of inter process or inter object communications or any other suitable type of inter process or inter object communication.

Another suitable arrangement for interactive television program guide equipment is shown in . Interactive television program guide equipment may include for example television distribution facility having program guide server and Internet service system . A program guide client application may run on personal computer . The client may access program guide server via Internet service system and communications path . Personal computer may include processing circuitry memory storage device communications device and monitor .

Processing circuitry may include any suitable processor such as a microprocessor or group of microprocessors and other processing circuitry such as caching circuitry direct memory access DMA circuitry input output I O circuitry etc. Processing circuitry may also include suitable circuitry for displaying television programming. Personal computer may include for example a PC TV card. Memory may be any suitable memory such as random access memory RAM or read only memory ROM that is suitable for storing the computer instructions and data. Storage device may be any suitable storage device such as a hard disk floppy disk drive flash RAM card recordable CD ROM drive or any other suitable storage device. Communications device may be any suitable communications device such as a conventional analog modem or cable modem.

An illustrative arrangement for user television equipment of is shown in . User television equipment of receives analog video or a digital video stream and data program guide data or any suitable combination thereof from television distribution facility at input . During normal television viewing a user tunes set top box to a desired television channel. The signal for that television channel is then provided at video output . The signal supplied at output is typically either a radio frequency RF signal on a predefined channel e.g. channel 3 or 4 or a analog demodulated video signal but may also be a digital signal provided to television on an appropriate digital bus e.g. a bus using the Institute of Electrical and Electronics Engineers IEEE 1394 standard not shown . The video signal at output is received by optional secondary storage device .

The interactive television program guide client may run on set top box on television if television has suitable processing circuitry and memory on a suitable analog or digital receiver connected to television or on digital storage device if digital storage device has suitable processing circuitry and memory. The interactive television program guide client may also run cooperatively on a suitable combination of these devices. Interactive television application systems in which a cooperative interactive television program guide application runs on multiple devices are described for example in Ellis U.S. patent application Ser. No. 09 186 598 filed Nov. 5 1998 which is hereby incorporated by reference herein in its entirety.

Secondary storage device can be any suitable type of analog or digital program storage device or player e.g. a videocassette recorder a digital versatile disc DVD player etc. . Program recording and other features may be controlled by set top box using control path . If secondary storage device is a videocassette recorder for example a typical control path involves the use of an infrared transmitter coupled to the infrared receiver in the videocassette recorder that normally accepts commands from a remote control such as remote control . Remote control may be used to control set top box secondary storage device and television .

If desired a user may record programs program guide data or a combination thereof in digital form on optional digital storage device . Digital storage device may be a writeable optical storage device such as a DVD player capable of handling recordable DVD discs a magnetic storage device such as a disk drive or digital tape or any other digital storage device. Interactive television program guide systems that have digital storage devices are described for example in Hassell et al. U.S. patent application Ser. No. 09 157 256 filed Sep. 17 1998 which is hereby incorporated by reference herein in its entirety.

Digital storage device can be contained in set top box or it can be an external device connected to set top box via an output port and appropriate interface. Digital storage device may for example be contained in local media server . If necessary processing circuitry in set top box formats the received video audio and data signals into a digital file format. Preferably the file format is an open file format such as the Moving Picture Experts Group MPEG MPEG 2 standard or the Moving Joint Photographic Experts Group MJPEG standard. The resulting data is streamed to digital storage device via an appropriate bus e.g. a bus using the Institute Electrical and Electronics Engineers IEEE 1394 standard and is stored on digital storage device . In another suitable approach an MPEG 2 data stream or series of files may be received from distribution equipment and stored.

Television receives video signals from secondary storage device via communications path . The video signals on communications path may either be generated by secondary storage device when playing back a prerecorded storage medium e.g. a videocassette or a recordable digital video disc by digital storage device when playing back a pre recorded digital medium may be passed through from set top box may be provided directly to television from set top box if secondary storage device is not included in user television equipment or may be received directly by television . During normal television viewing the video signals provided to television correspond to the desired channel to which a user has tuned with set top box . Video signals may also be provided to television by set top box when set top box is used to play back information stored on digital storage device .

Set top box may have communications device for communicating with program guide server over communications path . Communications device may be a modem e.g. any suitable analog or digital standard cellular or cable modem network interface card e.g. an Ethernet card Token ring card etc. a combination of such devices or any other suitable communications device. Television may also have such a suitable communications device if desired.

Set top box may have memory . Memory may be any memory or other storage device such as a random access memory RAM read only memory ROM flash memory a hard disk drive a combination of such devices etc. that is suitable for storing program guide client instructions and program guide data for use by the program guide client.

A more generalized embodiment of user television equipment of is shown in . As shown in program guide data from television distribution facility and programming are received by control circuitry of user television equipment . The functions of control circuitry may be provided using the set top box arrangement of . Alternatively these functions may be integrated into an advanced television receiver personal computer television PC TV such as shown in or any other suitable arrangement. If desired a combination of such arrangements may be used.

User television equipment may also have secondary storage device and digital storage device for recording programming. Secondary storage device can be any suitable type of analog or digital program storage device e.g. a videocassette recorder a digital versatile disc DVD etc. . Program recording and other features may be controlled by control circuitry . Digital storage device may be for example a writeable optical storage device such as a DVD player capable of handling recordable DVD discs a magnetic storage device such as a disk drive or digital tape or any other digital storage device.

User television equipment may also have memory . Memory may be any memory or other storage device such as a random access memory RAM read only memory ROM flash memory a hard disk drive a combination of such devices etc. that is suitable for storing program guide client instructions and program guide data for use by control circuitry .

User television equipment of may also have communications device for supporting communications between the program guide client and program guide server and via communications path . Communications device may be a modem e.g. any suitable analog or digital standard cellular or cable modem network interface card e.g. an Ethernet card Token ring card etc. a combination of such devices or any other suitable communications device.

A user controls the operation of user television equipment with user interface . User interface may be a pointing device wireless remote control keyboard touch pad voice recognition system or any other suitable user input device. To watch television a user instructs control circuitry to display a desired television channel on display device . To access the functions of the program guide a user instructs the program guide implemented on interactive television program guide equipment to generate a main menu or other desired program guide display screen for display on display device . If desired the program guide client running on user television equipment may provide users with access to program guide features without requiring them to navigate the Internet.

The program guide may provide users with an opportunity to access program guide features through a main menu. A main menu screen such as illustrative main menu screen of may include menu of selectable program guide features . If desired program guide features may be organized according to feature type. In menu for example program guide features have been organized into three columns. The column labeled TV GUIDE is for listings related features the column labeled MSO SHOWCASE is for multiple system operator MSO related features and the column labeled VIEWER SERVICES is for viewer related features. The interactive television program guide may generate a display screen for a particular program guide feature when a user selects that feature from menu .

Main menu screen may include one or more selectable advertisements . Selectable advertisements may for example include text and graphics advertising pay per view programs or other programs or products. When a user selects a selectable advertisement the program guide may display information e.g. pay per view information or take other actions related to the content of the advertisement. Pure text advertisements may be presented if desired as illustrated by selectable advertisement banner .

Main menu screen may also include other screen elements. The brand of the program guide product may be indicated for example using a product brand logo graphic such as product brand logo graphic . The identity of the television service provider may be presented for example using a service provider logo graphic such as service provider logo graphic . The current time may be displayed in clock display region . In addition a suitable indicator such as indicator graphic may be used to indicate to a user that mail from a cable operator is waiting for a user if the program guide supports messaging functions.

The interactive television program guide may provide a user with an opportunity to view television program listings. A user may indicate a desire to view program listings by for example positioning highlight region over a desired program guide feature . Alternatively the program guide may present program listings when a user presses a suitable key e.g. a guide key on remote control . When a user indicates a desire to view television program listings the program guide client requests listings from program guide server and generates an appropriate program listings screen for display on display device . Program listings screens may be overlaid on a program being viewed by a user or overlaid on a portion of the program in a browse mode. Program listings screens are described for example in Knudson et al. U.S. patent application Ser. No. 09 357 941 filed Jul. 16 1999 which is hereby incorporated by reference herein in its entirety.

A program listings screen may contain one or more groups or lists of program listings organized according to one or more organization criteria e.g. by time by channel by program category etc. . The program guide may for example provide a user with an opportunity to view listings by time by channel according to a number of categories e.g. movies sports children etc. or may allow a user to search for a listing by title. Program listings may be displayed using any suitable list table grid or other suitable display arrangement. If desired program listings screens may include selectable advertisements product brand logo graphics service provider brand graphics clocks or any other suitable indicator or graphic.

A user may indicate a desire to view program listings by time channel or category by for example selecting a selectable feature from menu . In response the program guide client may issue one or more requests to program guide server for listings in the selected category if such listings are not already cached in memory . Program guide server may retrieve program guide data stored on storage device on another server or from Internet service system and provide the data to the program guide client via program guide distribution equipment .

The program guide client may display program listings in a suitable program listings screen on user television equipment . illustrates the display of program listings by time. Program listings screen of may include highlight region which highlights the current program listing . A user may position highlight region by entering appropriate commands with user interface . For example if user interface has a keypad a user can position highlight region using up and down arrow keys on remote control . A user may select a listing by for example pressing on the OK or info key on remote control . Alternatively a touch sensitive screen trackball voice recognition device or other suitable device may be used to move highlight region or to select program listings without the use of highlight region . In still another approach a user may speak a television program listing into a voice request recognition system. These methods of selecting program listings are merely illustrative. Any other suitable approach for selecting program listings may be used if desired.

A user may view additional listings for the time slot indicated in timebar by for example pressing an up or down arrow or a page up or page down key on remote control . The user may also see listings for the next 24 hour period or the last 24 hour period by pressing a day forward or day backward key on remote control respectively. If there are no listings starting exactly 24 hours in the indicated direction the program guide may pick programs starting at either closer or further than 24 hours away. If desired the program guide may require a user to scroll through advertisement banner . A user may view program listings for other time slots by for example pressing right and left arrows on remote control .

The program guide may provide users with an opportunity to view program listings sorted by category. A user may for example press a special category key on remote control e.g. movies sports children etc. select a selectable category feature from main menu screen or may indicate a desire to view program listings by category using any other suitable approach. is an illustrative program listings screen in which program listings for movies are displayed. is an illustrative program listings screen in which program listings for sports related programming are displayed. is an illustrative program listings screen in which program listings for children s programs are displayed.

In program listings display screens such as those shown in for example program listings within lists may be divided into predefined time slots such as into 30 minute time slots. Between each time slot separator may be displayed to indicate to a user that a user has scrolled or paged program listings from one time slot to the next. In for example a user is scrolling from program listings in the 11 30 PM to the 12 00 AM time slot. This is indicated by the display of the name of the next week day. In for example a user is scrolling from program listings in the 12 30 PM time slot to program listings in the 1 00 PM time slot. If desired separators may be displayed only for those timeslots for which there are listings. When the user scrolls within listings highlight region may skip separator . also illustrate how the program guide may display an advertisement banner so that a user is required to scroll past the banner to access additional program listings.

The program listings screens of and have also been shown as including various other screen elements. Program listings display screens may include for example selectable advertisements advertisement banners brand logos service provider logos clocks message indicators or any other suitable screen element. The program guide may provide users with access to selectable advertisements in response to for example a user pressing left arrows to move highlight region to highlight a selectable advertisement. In the illustrative program listings screens of and the program guide may also adjust the time displayed in timebar as the user scrolls or pages through program listings to reflect the time of the program listing at the top of the list.

The program guide client may provide a user with an opportunity to define sophisticated boolean or natural language expressions of one or more criteria. Such criteria may include for example attribute type and attribute information that is provided by program guide server . The user defined expressions may be stored by program guide server for searching through and sorting program guide data scheduling reminders automatically recording programs and parentally controlling programs. Criteria may also be derived by the program guide server or program guide client from user profiles or by monitoring usage of the program guide or advertising. Program guide server may also use expressions to obtain other types of information or programs. Program guide server may obtain for example video on demand programs web site links games chat group links merchandise information or any other suitable information or programming from data sources located at main facility or other facilities. The program guide client may provide users with an opportunity to access modify or delete the expressions if desired.

A user may indicate a desire to search program guide data by for example selecting selectable Search feature of main menu . In response the program guide client may display a criteria screen such as illustrative criteria screen and of . The program guide client may display criteria screen of to provide a user with an opportunity to define a boolean expression. The user may construct a boolean expression by selecting criteria such as attribute types attributes logical operators and sorting criteria. User selectable criteria may also include what program guide server searches for such as for example program listings program information web sites video on demand videos software or any other suitable program guide data other information or videos.

Users may define expressions by for example arrowing up or down between criteria arrowing left or right to choose an attribute attribute type or logical operator and pressing a suitable key to indicate that the user is finished e.g. an OK key . In the example of the user has constructed a boolean expression for all action programs that have the actor Bruce Willis that start between 7 00 P and 11 00 P and that end between 9 00 P and 1 30 A on the current day. has not been shown as including criteria for selecting what program guide server searches for to avoid over complicating the drawing.

The program guide client may display criteria screen of to provide a user with an opportunity to construct a natural language expression. The user may enter a natural language phrase such as List in alphabetical order all action programs starring Bruce Willis and that start today between 7 00 P and 11 00 P and that end between 9 00 P and 1 30 A using user interface .

The program guide client may submit the user defined boolean expression or the natural language expression to program guide server for processing. Program guide server may process the expression and provide the resulting program guide data e.g. program listings program information software Internet links etc. or video programs to the program guide client for display. shows an illustrative program listings screen that may be displayed by the program guide client in response to the expressions defined in and

Users may also indicate a desire to have program guide server automatically process expressions by for example saving defined expressions as agents. A user may indicate a desire to save an expression as an agent by for example selecting Save As Agent selectable feature of after defining a boolean or natural language expression. The program guide client may automatically highlight Save As Agent selectable feature when a user indicates that the user is finished defining an expression e.g. by pressing an OK key . If desired the program guide client may provide the user with an opportunity to name the agent.

Users may access saved expressions or agents by for example selecting selectable Agent feature of main menu . In response the program guide client may display a list of saved expressions or agents. An illustrative agents screen is shown in . A user may indicate a desire to view program listings by for example positioning highlight region over the desired expression and pressing an OK key on remote control . In response to a user indicating a desire to access an expression the program guide client may submit the user defined expression to program guide server for processing. Program guide server may process the expression and provide program listings to the program guide client for display in a program listings screen. For example if a user saved the boolean expression of named it Bruce Willis and then indicated a desire to access listings for the expression the program guide client may display the listings screen of .

In still another approach the program guide client may provide the expression to program guide server in response to the user saving the expression as an agent. Program guide server may store the expression and monitor the data stored on storage device for program guide listings program information other information software videos etc. that match the expression. Program guide server may also query other sources for program guide data and videos that match the expression via for example the Internet. Program guide server may obtain the program guide data other information or videos from storage device or other sources and provide them to the program guide client when the user indicates a desire to access the agent. Alternatively program guide server may provide the program guide data other information or videos to the program guide client automatically when the user accesses a feature of the program guide that would display such information. In still another suitable approach program guide server may provide for example program identifiers and air times to the program guide client for use in generating program reminders that indicate found programs.

The program guide may also provide users with an opportunity to define user preferences that allow users to customize their program guide experience. Systems in which interactive television program guides provide users with opportunities to define user preference profiles are described for example in Ellis et al. U.S. patent application Ser. No. 09 034 934 filed Mar. 4 1998 which is hereby incorporated by reference herein in its entirety. Users may indicate a desire to set up user preference profiles for example by selecting a selectable Setup feature from main menu of . When a user selects a selectable Setup feature from main menu the program guide client may display a setup screen such as illustrative setup screen of .

Setup screen may provide a user with an opportunity to set up various guide features set parental control features set features of set top box set audio features set the screen position set user preference profiles or to set up any other feature or suitable combination of features. The user may indicate a desire to set up a user preference profile by for example selecting User Profile feature . When the user indicates a desire to set up a user preference profile the program guide client may display a user preference profile setup screen such as the preference profile setup screens shown in . This method of defining user profiles is only illustrative as any suitable method may be used.

In practice there may be multiple users associated with each user television equipment . The program guide may provide users with the ability to set up multiple user preference profiles. Users may switch between user preference profiles by for example selecting preference profile selector and arrowing right or left to select the desired user preference profile. In for example the user has selected Preference profile which may correspond to a particular user.

User preference profiles may include criteria such as preference attributes and preference levels . Preference attributes may be organized by type. Attribute types and attributes may be programmed into the program guide client or may be retrieved by the program guide client from program guide server . In the former approach the available attribute types and attributes may remain static until the program guide client is updated. In the latter approach the available attribute types and attributes may be dynamic. Suitable attribute types and attributes may be provided at any time by main facility or television distribution facility . Each time a user indicates a desire to set up a user preference profile the program guide client may query program guide server for the available attribute types and attributes. When a user indicates a desire to set up a user preference profile in either approach the program guide client may query program guide server for the user preference profiles associated with that program guide client.

Preference levels that may be used to indicate the user s interest or disinterest in a given preference attribute include strong like weak like strong dislike weak dislike mandatory appropriate e.g. for closed captioning for a deaf person illegal appropriate e.g. for R rated programs for a child and don t care neutral . After the user indicates that he or she is finished defining a profile e.g. by pressing an OK key or remote control the program guide client may provide the preference profile data to program guide server for use in providing program guide data. The user may arrow down again to select additional criteria or arrow up to edit criteria that has already been selected. The user may delete an attribute by for example setting its preference level to don t care. 

The user may activate or deactivate one or more defined preference profiles by for example selecting selectable Profile feature from main menu of . The program guide client may respond by for example querying program guide server for any defined preference profiles providing the user with a list of preference profiles and providing the user with an opportunity to activate or deactivate one or more preference profiles as shown in . A user may deactivate a preference profile by for example setting the profile to non active. A user may set a preference profile as active to varying degrees. For example a user may set a profile as active by setting the profile to wide moderate or narrow scope.

The program guide client may also indicate to program guide server which profiles are activated or deactivated. The program guide server may use for example the attributes of one or more user preference profiles as additional criteria when retrieving data in response to data requests from the program guide client. If multiple preference profiles are used simultaneously program guide server may reconcile any conflicts using any suitable approach. Interactive television program guide systems that resolve conflicts among multiple active user preference profiles are described for example in above mentioned Ellis et al. U.S. patent application Ser. No. 09 034 934 filed Mar. 4 1998.

When the user activates Profile and sets it to the widest scope program guide server may provide program guide data for programs that have all mandatory attributes and no illegal attributes. For example Seinfeld The Shining ER Terminator and My Stepmother is an Alien are included in the widest preference scope because they have the only mandatory attribute that is specified in Profile closed captioning as set in . In addition they have no preference attributes with a preference level of illegal R rating TV MA rating or NC 17 rating as set in . The Night at the Opera is not included because it does not have a mandatory attribute closed captioning . Dante s Peak is not included because it has a illegal rating R . An illustrative program listings screen that may be displayed by the program guide client with such limited data is shown in ER has not been listed because presumably it would be in a different time block .

When the user activates Profile and sets it to the moderate scope program guide server may provide program guide data for programs that have no preference attributes with an associated preference level of disliked that have all mandatory attributes and that have no illegal attributes. The Shining is not included because horrors have a preference level of weak dislike as set in . Dante s Peak is not included because it has an R rating which has an attribute level of illegal as set in . Night at the Opera is not included because it is not closed captioned which is a mandatory attribute as set in . The Terminator for example is not within the moderate scope of Profile because the preference attribute of horror in Profile has an associated preference level of weak dislike and the preference attribute of Schwarzenegger an actor in the program Terminator has an associated preference level of strong dislike as set in respectively . Seinfeld and ER are included because they do not have any disliked attributes.

When faced with two different preference levels associated with the same program the program guide uses the stronger of the two. My Stepmother is an Alien is included for example because it has a strong like preference attribute that outweighs the weak dislike . An illustrative program listings screen that may be displayed by the program guide client with such limited program guide data is shown in . In practice a listings screen generated based on a profile that is set to moderate scope may typically include a larger number of program listings depending on the mandatory attributes set by the user.

When the user activates Profile and sets it to the narrow preference scope program guide server may provide program guide data for all liked programs that are not more disliked and that have all mandatory attributes and no illegal attributes. The Shining is not included because it has a weakly disliked attribute horror. Terminator is not included because it has a strongly disliked attribute Arnold Schwarzenegger. My Stepmother is an Alien is included because the strongly liked attribute of comedy has priority over the weakly disliked attribute of horror. Dante s Peak is not included because it has a rating of R. Night at the Opera is not included because it is not closed captioned. ER is not within the narrow scope because it does not have any liked attributes. It is at best neutral. An illustrative program listings screen that may be displayed by the program guide client with such limited program guide data is shown in

The program guide may also provide users with an opportunity to schedule reminders using boolean or natural language expressions having one or more criteria. If desired program guide server may schedule reminders based on user preference profiles and agents. Reminders may be scheduled for individual programs or series of programs. Systems in which reminders are set for series of programs are described for example in Knudson et al. U.S. patent application Ser. No. 09 330 792 filed Jun. 11 1999 which is hereby incorporated by reference herein in its entirety.

A user may indicate a desire to schedule a reminder by for example selecting a selectable Reminders feature from main menu of . In response the program guide may display a criteria screen. Illustrative criteria screens and are shown in . The program guide client may display criteria screen of to provide a user with an opportunity to set reminders according to a boolean type expression. The user may construct a boolean expression by selecting criteria such as attribute types attributes and logical operators. The user may make such selections for example using any suitable combination of right left up or down arrow key sequences to sequence through the attribute types attributes and logical operators. In the example of the user has defined a boolean expression to schedule reminders for comedies that star Gary Shandling and that have a rating less than R. In the example of the user has defined a similar natural language expression.

The program guide client may submit the user defined boolean or natural language expression to program guide server for processing. Program guide server may process the expression and schedule reminders for all of the programs that meet the expression. Program reminders may be scheduled using any suitable approach. In one suitable approach program guide server may store program identifiers and air times and send messages to the program guide client at an appropriate time before a program starts. In another suitable approach program guide server may process an expression and provide program identifiers and air times to the program guide client. The program guide client may for example maintain a list of program identifiers and display program reminders at an appropriate time before the programs start.

The program guide may remind a user that a program is airing at the time a program airs. In an alternative approach the program guide may remind a user at some predetermined period of time before the program airs that a program is going to air. show illustrative program reminder lists . In reminder list is overlaid on top of the currently display television program to provide a user with the opportunity to view a reminder while still viewing a portion of the television program that a user is watching. In reminder list is shown overlaid on top of a program listings display screen. The program guide may provide a user with an opportunity to scroll through reminder list by for example using remote control arrow keys. The program guide may hide the reminder list when for example a user selects hide reminder feature . The guide may also display reminder list if for example the user presses an OK key at any time while watching TV.

The program guide may also provide users with an opportunity to schedule programs for recording by secondary storage device or digital storage device using boolean or natural language expressions. If desired program guide server may schedule programs for recording based on user preference profiles or agents. Programs may also be scheduled for recording by program guide server . Program guide systems in which programs are recorded by a remote server are described for example in Ellis et al. U.S. patent application Ser. No. 09 332 244 filed Jun. 11 1999 which is hereby incorporated by reference herein in its entirety.

A user may indicate a desire to schedule a program for recording by for example selecting a selectable Record feature from main menu of . In response the program guide may display a criteria screen such as illustrative criteria screens and of . The program guide client may display criteria screen of to provide a user with an opportunity to schedule a program for recording according to a boolean type expression. The user may construct a boolean expression by selecting criteria such as attribute types attributes and logical operators. The user may make such selections for example using any suitable combination of right left up or down arrow key sequences to sequence through the attribute types attributes and logical operators. In the example of the user has defined a boolean expression to schedule for recording comedies that star Gary Shandling and that have a rating less than R. In the example of the user has defined a similar natural language expression with similar criteria.

The program guide client may submit the user defined boolean or natural language expression to program guide server for processing. Program guide server may process the expression and schedule all of the programs that meet the expression for recording. Recording by program guide server may be performed for example as described in above mentioned Ellis et al. U.S. patent application Ser. No. 09 332 244 filed Jun. 11 1999. In another suitable approach program guide server may process the expression and provide program identifiers and air times to the program guide client. The program guide client may for example maintain a list of program identifiers and program air times and may instruct optional secondary storage device or digital storage device to record the programs.

The program guide may also provide users with an opportunity to parentally control titles programs or channels using boolean or natural language expressions. If desired program guide server may parentally control programs based on user preference profiles. A user may indicate a desire to parentally control titles programs or channels by for example selecting a selectable Parents feature from main menu of . In response the program guide may display a criteria screen such as illustrative criteria screens and of . The program guide client may display criteria screen of to provide a user with an opportunity to control programs for example according to a boolean type expression. The user may construct a boolean type expression by selecting criteria such as attribute types attributes and logical operators. The user may make such selections for example using any suitable combination of right left up or down arrow key sequences to sequence through the attribute types attributes and logical operators. In the example of the user has defined a boolean expression to lock out comedies that star Gary Shandling and that have a rating less than R. In the example of the user has defined a similar natural language expression with similar criteria.

The program guide client may submit the user defined boolean or natural language expression to program guide server for processing. Program guide server may process the expression determine all of the programs that meet the expression and indicate the programs that are locked to the program guide client when providing program listings to the program guide client using a suitable indicator e.g. locked tag contained in the listings information . The program guide client may for example indicate that a program is locked by displaying lock indicator when displaying locked listings in a listing screen as shown for example in . By placing the processing and storage burdens of locking programs on program guide server instead of user television equipment more titles may be locked than would otherwise because of the limited processing and storage resources of user television equipment . If desired titles programs or channels may also be locked using conventional parental control techniques. Program guide systems that provide users with an opportunity to parentally control titles programs or channels are described for example in above mentioned Knudson et al. U.S. patent application Ser. No. 09 357 941 filed Jul. 16 1999.

Program guide server may also record the viewing histories of users on storage device . Viewing histories may be created using any suitable approach. The program guide client may for example keep track of all of the programs that a user watches for longer than a predefined time and record the household that the guide client is running in the current active preference profile or profiles the program or its identifier and how long the user watched the program. The program guide client may also track when users order pay per view programs record programs and schedule reminders for programs and may also provide this information to program guide server as part of the viewing histories. Other types of information may also be included in the viewing histories. User defined expressions for example may be stored by program guide server to track what types of programs users search for. In addition user demographic values may be calculated by program guide server and used to more accurately target advertisements or recommend programs. Systems in which user demographic values are calculated are described for example in Knudson et al. U.S. patent application Ser. No. 09 139 777 filed Aug. 25 1998 which is hereby incorporated by reference herein in its entirety.

The program guide client may provide the viewing history information to program guide server continuously e.g. each time the program guide client determines that a user has watched a program for the predefined time periodically in response to polls or requests from program guide server or with any other suitable frequency. If desired the program guide client may also monitor advertisement usage such as what selectable advertisements users have selected. Program guide systems in which user viewing activities and advertisement usage are tracked are described for example in Thomas et al. U.S. patent application Ser. No. 09 139 798 filed Aug. 25 1998 which is hereby incorporated by reference herein in its entirety.

The program guide may process user profiles along with the viewer histories to present a more customized viewing experience to the user. The program guide may for example identify which programs or series episodes users have watched. Program guide server may for example identify episodes that users have not yet watched and may indicate such episodes to the program guide client when the program guide client requests program listings. The program guide client in turn may indicate that a program is new to a household by for example displaying a suitable icon or changing the display characteristics of a listing e.g. changing its color . shows for example the display of New indicator in list to indicate to a user that the user has not seen a particular episode of Saturday Night Live. Program guide server may also calculate ratings such as Nielsen ratings based on the viewing histories and provide such information to interested parties.

The program guide may also use the viewing history and user preferences to target the user with advertisements. Program guide systems in which users are targeted with advertisements are described for example in Knudson et al. U.S. patent application Ser. No. 09 034 939 filed Mar. 4 1998 which is hereby incorporated by reference herein in its entirety. Targeted advertisements may contain text graphics or video. Targeted advertisements may also be active objects containing various user selectable options. For example a targeted advertisement may allow the user to request that additional information on a product be mailed to the user s home may allow the user to purchase a product or may allow the user to view additional information on a product using the program guide. Targeted advertisements may be displayed in any suitable program guide display screen. The program guide client may for example display targeted advertisements in criteria or profile screens based on a displayed criteria profile or agent. Selectable advertisements and advertisement banner for example may be targeted advertisements.

The program guide may make personalized viewing recommendations based on the viewing histories preference profiles or any suitable combination thereof. Program guide server may for example construct relational database expressions from the viewing histories that define expressions for the program categories and ratings for programs that users have watched scheduled reminders for searched for or ordered the most. Program guide server may then apply user preference profile criteria to the programs and generate personal viewing recommendations. In still another suitable approach program guide server or the program guide client may filter viewing recommendations that are generated by main facility or television distribution facility based on similar expressions profiles viewing histories etc.

Assume for the purpose of illustration that a user has run the expression illustrated in and has set the user profiles of program guide server may determine that the movie Armageddon meets the criteria of the expression that was run and also meets the criteria of the current user profile. Armageddon is a movie strong like an action strong like and does not have an illegal rating it is rated PG 13 . Program guide server may indicate the movie Armageddon or its identifier and its air time to the program guide client and indicate to the client e.g. using a second identifier that a viewer recommendation for the movie is to be displayed. The program guide client may display a viewer recommendation overlay such as overlay shown in over a program the user is watching or over a program guide display screen respectively. The user may press a suitable key on remote control e.g. an info key to access additional information for a recommended program. An illustrative additional information screen is shown in . Additional program information screens are described for example in above mentioned Knudson et al. U.S. patent application Ser. No. 09 357 941 filed Jul. 16 1999. The program guide client may tune user television equipment to the channel on which a recommended viewing is aired when for example a user selects Yes . If desired recommendations may include a suitable graphic such as a graphic indicating the recommended program.

Program guide data is provided from program guide server to the program guide client and is displayed by the program guide client at steps and respectively. Program guide server or the program guide client may use preference profiles to filter out undesirable program guide data. This may be accomplished using any suitable approach. Program guide server may for example only provide program listings information or other program guide data that meets the preference profile or profiles to the program guide client step . Alternatively program guide server may provide program guide data other information or videos to the program guide client and the program guide client may filter the data other information or videos by displaying only those elements that meet the preference profile or profiles step .

Program guide server may perform additional functions based on preference profiles if desired. Program guide server may for example lock programs according to preference profiles step automatically record programs according to preference profiles step schedule reminders based on preference profiles step or target advertising based on preference profiles step . If desired program guide server may also provide viewing recommendations based on preference profiles at step . Step may also include filtering viewing recommendations based on preference profiles provided by main facility or television distribution facility step .

If the user indicated a desire to save an expression as an agent at step program guide server may save the expression as an agent at step . Otherwise program guide server may process the expression step using any suitable approach. This may depend on how the expression was provided by the program guide client. If boolean or natural language expressions were provided as text files for example program guide server may parse the expressions and construct a suitable database expression. Alternatively database expressions may have been provided by the program guide client. In either approach program guide server may search its database or databases at other facilities for program guide data e.g. program listings additional program information etc. other information e.g. software Internet links etc. or videos e.g. video on demand videos and may provide the results to the program guide client at step . At step the program guide client may display the results on user television equipment .

If the user indicated a desire to save the expression as an agent at step . Program guide server may save the expression as an agent using any suitable approach. Agents may be maintained for example in a database that program guide server monitors periodically. If desired the agent may be forwarded to other servers at other facilities thereby providing a user with the ability to monitor multiple databases for program guide data other information or videos. Agents may be run automatically e.g. databases may be queried on one or more servers at step . Step may be performed periodically each time a database is updated or with any other suitable frequency. Program guide server may provide its results and the results of other servers if desired to the program guide client at step . The program guide client may display the results at . The results may be displayed for example in the form of reminders for which reminder information was provided at step .

Program guide server may process the expression step using any suitable approach depending on how the expression was provided to program guide server from the program guide client. If boolean or natural language expressions were provided as text files for example program guide server may parse the expressions and construct a suitable database expression. Alternatively database expressions may have been provided to program guide server from the program guide client. In either approach program guide server may search its database or databases at other facilities and may provide the results to the program guide client or use the results to perform any suitable program guide function.

Reminders may be scheduled based on the results of the search step . Program guide server may for example store reminder information e.g. program identifiers and air times at step and send messages to the program guide client at an appropriate time before a program starts. In another suitable approach program guide server may process an expression and provide program identifiers and air times to the program guide client. The program guide client may for example maintain a list of program identifiers and display program reminders at an appropriate time before the programs start.

Programs may also be automatically recorded by program guide server or user television equipment based on the results of the expression step . Program guide server may for example provide program identifiers and air times to the program guide client. The program guide client may for example maintain a list of program identifiers and program air times and may instruct optional secondary storage device or digital storage device to record the programs at the appropriate time.

Programs may be parentally locked based on the expression results step . Program guide server may for example store parental control information e.g. program identifiers in a database table or list of programs to be locked at step . Program guide server may indicate to the program guide client that programs are locked when providing program listings to the program guide client. Alternatively program guide server may indicate to the program guide client the programs that were found as a result of the expression. The program guide client may lock the programs locally using any suitable approach. The program guide client may for example indicate that a program is locked by displaying lock indicator when displaying locked listings in a listing screen as shown for example in .

The viewing history tracked in steps may be stored on program guide server at step . If desired user defined expressions that are processed by program guide server may also be stored on program guide server step . User demographic values may be calculated by program guide server at step . The viewing history and its expressions and user demographic values may be used by program guide server to perform any suitable function. Program guide server may for example collect program rating information step or target advertising step .

Program guide server may search its or another server s database for programs that are consistent with the viewing history step . If desired program guide server may find programs that are also consistent with preference profiles stored by program guide server step . Program guide server may perform any suitable function using the results of the search. Program guide server may for example identify episodes of programs that are new to a user step or provide viewing recommendations in the form of for example reminders or recommendations for non program items e.g. software Internet links etc. step .

The foregoing is merely illustrative of the principles of this invention and various modifications can be made by those skilled in the art without departing from the scope and spirit of the invention.

