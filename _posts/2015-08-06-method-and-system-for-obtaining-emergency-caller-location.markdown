---

title: Method and system for obtaining emergency caller location
abstract: Methods and systems for obtaining the location of a caller during an emergency or other telephone call. Before or during a call, a phone system can obtain from one or more sources a subscriber access line identity associated with a subscriber location record that includes a subscriber access line identity attribute and a subscriber location attribute. A phone system can send a query that includes the subscriber access line identity to a subscriber location query system that returns a subscriber location record or a subscriber location to the phone system. The phone system can then display the caller location information to a phone system, an agent or operator so that emergency services can be quickly and accurately dispatched. Using similar procedure and a memory, phone systems can also determine if a subscriber phone has or is changing location. Methods for testing the emergency call capabilities of a subscriber access line.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09510175&OS=09510175&RS=09510175
owner: TP LAB, INC.
number: 09510175
owner_city: Palo Alto
owner_country: US
publication_date: 20150806
---
This invention relates generally to telecommunications more specifically to a method and system to provide location information for voice calls.

Around the world there are many emergency telephone numbers. For example in the United States of America the three digit telephone number 911 is designated as the universal emergency telephone number. In the case of an emergency a person can call 911 to reach an operator who can dispatch appropriate emergency services. To help provide the timeliest response it is helpful and often necessary to have the location of the caller reported to the emergency service dispatcher. This is feature is of utmost importance when the caller is a young child someone who is very ill or injured or otherwise unable to effectively communicate their location to the emergency services dispatcher. For these services to function properly the telephone service provider must have means of identifying and reporting the location of the emergency caller.

In a typical scenario when a subscriber subscribes to a residential telephone service from a service provider the service provider assigns a telephone number for that subscription and allocates an access line to the subscriber s residence for the service. The access line connects to a telephone system of the residential telephone service. A user connects a telephone to the access line and uses the telephone to receive the residential telephone service.

The location of the subscription is the connecting point of the access line and the telephone. The location is typically the street address of the subscriber s residence. The service provider submits the telephone number and the location of the subscription to create a record in an Automatic Location identity ALI database. The record maps the telephone number to the location of the subscription. One of the usages of ALI database is for Emergency call purpose.

When a caller uses the telephone to make an emergency call by dialing 911 the telephone system determines the telephone number associated with the subscription. The telephone system sends a call request to a 911 selective router telephone system. The call request includes the telephone number.

The 911 selective router telephone system receives the telephone number in the call request and retrieves from the ALI database the location of the subscription based on the telephone number. The location is presumably where the caller of the emergency call is. The 911 selective router telephone system uses the location to select a Public Safety Answering Point PSAP which is a telephone system. The 911 selective router telephone system further sends the emergency call request to the PSAP. The call request also includes the telephone number.

The PSAP presents the emergency call to an emergency call agent. The PSAP also retrieves from the ALI database the location of the subscription based on the telephone number in the emergency call request and informs the emergency call agent of the location from which the call originated. The agent uses the location to dispatch emergency personnel and services.

Recently various service providers have been rolling out new telephone services. These telephone services include cellular telephone services and Voice over IP VoIP telephone services. Although these telephone services are not the same as traditional residential telephone services they are either marketed as residential telephone services or subscribers use them as if they are equivalent to residential telephone services. Many consumers mistakenly assume that 911 or emergency services will be available in these new telephone services as they are in traditional residential telephone services. However this is often not the case. Cellular and VoIP telephone services due to their ability to move from one physical location to another present a fairly complex problem when it come to providing emergency call services. Especially when those services are highly dependent on knowing from whence the emergency call is being made.

In the case of VoIP telephone service a user receives VoIP telephone service by connecting an IP telephone to a VoIP telephone system via the Internet. In one scenario the IP telephone may be connected to a home DSL broadband Internet access gateway. It is also possible to connect the same IP telephone to a neighbor s Cable Modem broadband Internet access gateway. As a further convenience is it also possible to connect an IP telephone to the IP network of a hotel during an out of town trip. In each example the IP telephone is used to receive VoIP telephone service. While the convenience of being able to travel to any location with an appropriate Internet access there is a danger associated with assuming that emergency services will be available on the IP telephone as on a regular telephone. To illustrate this danger consider the following scenario.

While out of town a user has an accident or encounters an emergency. The user calls 911 on an IP telephone that they have brought from home. The user assumes the 911 emergency call center would know her location and expects emergency services to arrive in a short period of time. When the emergency call is not answered or when emergency services do not arrive in an hour the user panics. Whilst in the hotel the user s spouse calls the user s IP telephone number from their home concerned that emergency services were dispatched to their home for her whilst she is away. From the IP telephone service the emergency dispatch services had no way of knowing her location.

As shown in the new telephone services there is a need for a fundamentally new solution to provide the correct location of a caller during an emergency call.

Embodiments of the present include systems and methods for obtaining the location of a caller during a telephone call.

In one embodiment a phone system obtains the subscriber access line identity of a subscriber access line and sends it to a subscriber location query system which then returns a subscriber location or a subscriber location record.

In another embodiment subscriber phone equipment or phone can store a subscriber access line identity. The subscriber line identity stored in the subscriber phone equipment or phone can be used to retrieve the subscriber location record with the corresponding subscriber access line identity stored its subscriber access line identity attribute and a known location stored in its subscriber location attribute to compare to subscriber access line identities obtained during calls to determine if the subscriber phone equipment has changed location.

In yet another embodiment the emergency call capabilities of a subscriber access line are determined by an emergency call test module sending out a test signal or query to a subscriber access line module a phone system or subscriber access line.

Additional embodiments will be evident from the following detailed description and accompanying drawings which provide a better understanding of the nature and advantages of the present invention

Subscriber access line module manages the association between a subscriber access line and the subscriber access line identity that identifies the subscriber access line . In one embodiment subscriber access line module includes a Master Distribution Frame MDF . In another embodiment subscriber access line module includes a Digital Access Line Access Module DSLAM . In yet another embodiment subscriber access line module includes a Digital Loop Carrier DLC . In a different embodiment subscriber access line module includes Cable Headend equipment such as a Cable Modem Termination System CMTS or a Cable Data Modem Termination System CDMTS . In another embodiment subscriber access line module includes radio network access equipment such as base stations and base station controllers BSC .

In one embodiment subscriber access line includes a copper local loop. In another embodiment subscriber access line includes a coaxial cable. In another embodiment subscriber access line includes a radio frequency band. In one embodiment subscriber access line includes a multiplex channel within the radio frequency band. In another embodiment the multiplex channel is based on Time Division Multiplexing Access TDMA technology. In another embodiment the multiplex channel is based on Code Division Multiplexing Access CDMA technology. In yet another embodiment the multiplex channel is based on Frequency Division Multiplexing Access FDMA technology.

Subscriber location query system sends the result in response to the query. In one embodiment the result is the subscriber location extracted from the subscriber location attribute of the selected subscriber location record . In another embodiment the result is one or more of the selected subscriber location record .

In one embodiment subscriber location query system receives the query from a network. In one embodiment the network is a Signaling System 7 SS7 network. In another embodiment the network is an Internet Protocol IP network. In yet another embodiment subscriber location query system receives the query over a circuitry connection. In a different embodiment subscriber location query system receives the query over an Application Programming Interface API . In a one embodiment subscriber location query system receives the query via a standard base database access protocol. In another embodiment subscriber location query system receives the query via a proprietary protocol.

Subscriber phone equipment connects to a subscriber access line module over a subscriber access line . A phone connects to subscriber access line module over the subscriber access line . Subscriber access line module connects to a phone system . A user uses phone to make a call.

Phone system receives and processes the call from phone . Phone system determines the subscriber access line identity of the subscriber access line as to where phone is connected.

In one embodiment phone system determines the subscriber access line identity by correlating the resources in phone system . In one embodiment the resources include a line card and a port. In another embodiment the resources include a multiplexing channel in the communications media between phone system and subscriber access line module .

In another embodiment phone system determines the subscriber access line identity by querying subscriber access line module . In one embodiment phone system queries subscriber access line module during processing of the call. In another embodiment phone system queries subscriber access line module before the call.

In another embodiment phone system connects to subscriber phone equipment . Subscriber phone equipment obtains the subscriber access line identity of subscriber access line from subscriber access line module . Phone system determines the subscriber access line identity by querying subscriber phone equipment . In one embodiment phone system queries subscriber phone equipment during processing of the call. In another embodiment phone system queries subscriber phone equipment before the call.

In yet another embodiment phone stores includes or otherwise has the subscriber access line identity of subscriber access line . Phone system determines the subscriber access line identity from phone . In one embodiment phone system determines the subscriber access line identity from phone during processing of the call. In another embodiment phone system determines the subscriber access line identity from phone before the call.

In phone system connects to a subscriber location query system . Phone system sends a query to subscriber location query system . The query includes the determined subscriber access line identity. Phone system receives a subscriber location from subscriber location query system .

In one embodiment phone system connects to another phone system . Phone system sends a call request to phone system . In one embodiment phone system includes the determined subscriber access line identity in the call request. phone system receives the determined subscriber access line identity from phone system . Phone system determines the subscriber location from the received subscriber access line identity by querying subscriber location query system .

A user makes an emergency call by dialing an emergency number at phone . In one embodiment the emergency number is Emergency . In another embodiment the emergency number is 999 . In yet another embodiment the emergency number is 911 . Phone system receives the emergency call and determines the subscriber access line identity of subscriber access line as illustrated in .

Phone system routes the emergency call to emergency response phone system and sends the determined subscriber access line identity to emergency response phone system .

Emergency response phone system receives the emergency call and the subscriber access line identity. Emergency response phone system determines the subscriber location by querying the subscriber location query system using the received subscriber access line identity. Emergency response phone system presents the emergency call including the subscriber location to an agent. The agent dispatches emergency personnel to subscriber location. In one embodiment the agent dispatches emergency personnel to the street address indicated in the subscriber location. In an embodiment the agent dispatches emergency personnel to the cubical of a building indicated in the subscriber location. In a different embodiment the agent dispatches emergency personnel to search in the geophysical location indicated in the subscriber location.

In one embodiment emergency call test module queries subscriber access line module . Subscriber access line module responds with an indication whether or not an emergency call can be made. Emergency call test module checks the indication. If the indication is positive emergency call test module determines that an emergency call can be made using the subscriber access line .

In another embodiment subscriber phone equipment connects to phone system . Emergency call test module queries phone system . Phone system responds with an indication whether or not an emergency call can be made. Emergency call test module checks the indication. If the indication is positive emergency call test module determines that an emergency call can be made using the subscriber access line .

In one embodiment emergency call test module sends an off hook signal towards subscriber access line and checks for an indication of a dial tone. If the indication is positive emergency call test module determines that an emergency call can be made using the subscriber access line .

In one embodiment emergency call test module repeats the process a multiple times before determining if an emergency call can be made using the subscriber access line .

In one embodiment subscriber phone equipment connects to a telephone. Subscriber phone equipment informs the telephone if an emergency call can be made using the subscriber access line .

In one embodiment subscriber phone equipment further includes an emergency call test indicator . Emergency call test module connects to an emergency call test indicator . In one embodiment emergency call test indicator includes a visual indicator such as a light or display.

In one embodiment emergency call test indicator includes a LED as the visual indicator. If emergency call test module determines that an emergency call can be made using the subscriber access line emergency call test module turns the LED or other visual indicator to green. In one embodiment if emergency call test module cannot determine an emergency call can be made using the subscriber access line emergency call test module turns the LED to red.

In another embodiment emergency call test indicator includes a text display panel. If emergency call test module determines an emergency call can be made using the subscriber access line emergency call test module displays emergency call Test Succeeds on the display panel. In one embodiment emergency call test module cannot determine that an emergency call can be made using the subscriber access line emergency call test module displays emergency call Test fails on the display panel.

In one embodiment emergency call test module determines repeatedly if an emergency call can be made using the subscriber access line . In one embodiment emergency call test module performs the process every 30 minutes. In another embodiment emergency call test module performs the process every hour. In yet another embodiment emergency call test module performs the process when subscriber phone equipment powers up. In a different embodiment emergency call test module performs the process when a telephone call is made.

A Method of Determining Whether or not Subscriber Phone Equipment has Changed Location Based on Subscriber Access Line Identity

In one embodiment location test module determines whether or not subscriber phone equipment has changed location by examining the subscriber access line identity of subscriber access line . Subscriber phone equipment connects to subscriber access line module over subscriber access line . Subscriber access line module connects to a phone system .

In one embodiment location test module connects to datastore . Datastore stores a stored subscriber access line identity . The stored subscriber access line identity is a subscriber access line identity identifying a subscriber access line with subscriber location being the correct location of the subscriber phone equipment . In one embodiment datastore is a flash memory. In another embodiment datastore is a hard disk. In yet another embodiment datastore is a memory.

Location test module obtains the stored subscriber access line identity and stores the stored subscriber access line identity in datastore . In one embodiment the stored subscriber access line identity is determined when the service provider establishes a service for the subscriber. In one embodiment during service establishment the service provider informs the location test module of the stored subscriber access line identity . In another embodiment location test module obtains from subscriber access line module the stored subscriber access line identity . In another embodiment stored subscriber access line identity is determined during a service change. In another scenario the subscriber moves subscriber phone equipment to a new location and submits a new address to the service provider. The service provider determines a new stored subscriber access line identity . In another embodiment the service provider informs the location test module of the new stored subscriber access line identity . In yet another embodiment location test module obtains from subscriber access line module the new stored subscriber access line identity .

In one embodiment location test module connects to a phone system . Location test module obtains the stored subscriber line identity from phone system .

In one embodiment location test module connects to a phone . Location test module obtains stored subscriber access line identity from phone .

In one embodiment location test module is informed when a new stored subscriber line identity is available. In another embodiment location test module checks for a new stored subscriber line identity . In an embodiment location test module checks every 5 minutes. In a different embodiment location test module checks every hour.

Location test module determines whether or not subscriber phone equipment has changed location by matching the stored subscriber access line identity against the subscriber access line identity of subscriber access line . If the match succeeds location test module concludes that subscriber phone equipment has not changed location.

In one embodiment location test module obtains the subscriber access line identity of subscriber access line from subscriber access line module . In another embodiment location test module obtains the subscriber access line identity of subscriber access line from phone system . In yet a different embodiment location test module obtains the subscriber access line identity of subscriber access line from phone .

A Method of Determining Whether or not Subscriber Phone Equipment has Changed Location in Voice Over IP VoIP Phone Services

In one embodiment phone connects to phone system based on VoIP service. Phone has an IP address. Phone has an IP address as seen by phone system .

In one embodiment location test module sends a message to phone . In one embodiment phone responds with an indication about whether or not the IP address of phone has changed. In another embodiment phone responds with an indication about whether or not the IP address of phone as seen by phone system has changed. Location test module can determine based on the indication received from phone whether or not subscriber phone equipment has changed location.

In one embodiment location test module sends a message to phone system . In one embodiment phone system responds with an indication about whether or not the IP address of phone has changed. In another embodiment phone system responds with an indication about whether or not the IP address of phone as seen by phone system has changed. Location test module can determine based on the indication received from phone whether or not subscriber phone equipment has changed location.

In one embodiment location test module sends a message to phone and a message to phone system . Location test module concludes that subscriber phone equipment has not changed location if phone responds that the IP address of phone has not changed and phone system responds that the IP address of phone as seen by phone system has not changed.

In another embodiment location test module tests whether or not subscriber phone equipment has changed location every 30 minutes. In another embodiment location test module tests whether or not subscriber phone equipment has changed location every hour. In yet another embodiment location test module tests whether or not subscriber phone equipment has changed location when subscriber phone equipment powers up. In a different embodiment location test module tests whether or not subscriber phone equipment has changed location when a user makes a telephone call.

In one embodiment subscriber phone equipment connects to phone . Subscriber phone equipment informs phone whether or not subscriber phone equipment has changed location. In one embodiment subscriber phone equipment further includes a location test indicator . Location test module connects to the location test indicator .

In according to one embodiment location test indicator includes a visual indicator such as a light or a display. In one embodiment the visual indicator is an LED. If location test module determines that subscriber phone equipment has not changed location location test module turns the LED to green. In one embodiment if location test module cannot determine that subscriber phone equipment has not changed location location test module turns the LED to red. In another embodiment the visual indicator is a display panel. If location test module determines that subscriber phone equipment has not changed location location test module displays Location correct on the display panel. If location test module cannot determine that subscriber phone equipment has not changed location location Test module displays Location may be incorrect on the display panel.

In one embodiment subscriber phone equipment includes an emergency call test module and a location test module. Subscriber phone equipment can perform both tests provided for by the emergency call test module and the location test module. In one embodiment subscriber phone equipment further connects to a test indicator. The test indicator can include a visual indicator such as a light or a display.

In one embodiment emergency call test module determines whether or not an emergency call can be made and location test module determines whether or not subscriber phone equipment has changed location. In one embodiment emergency call test module determines that an emergency call can be made and determines that subscriber phone equipment has not changed locations then subscriber phone equipment turns the visual indicator such as an LED to green. In another embodiment emergency call test module determines that an emergency call can be made and location test module cannot determine whether or not subscriber phone equipment has changed location then subscriber phone equipment turns the visual indicator such as an LED to yellow. In yet another embodiment emergency call test module cannot determine that an emergency call can be made and location test module determines that subscriber phone equipment has not changed location subscriber phone equipment turns the LED to amber. In one other embodiment emergency call test module cannot determine that an emergency call can be made and location test module cannot determine that subscriber phone equipment has not changed location subscriber phone equipment turns the LED to red.

In a different embodiment the test indicator visual indicator is a display panel. Subscriber phone equipment displays corresponding messages on the display panel based on the combined test results of emergency call test module and location test module.

While a user is making an emergency call the user may move from a location to another location. The phone system handling the call can discover from time to time the subscriber access line identity of the subscriber access line to which the phone is connected. In one embodiment after obtaining a subscriber access line identity the phone system sends the subscriber access line identity to the emergency response phone system. In another embodiment the phone system detects a change in subscriber access line identity and sends the new subscriber access line identity to the emergency response phone system. The emergency response phone system further presents to the agent with an updated subscriber location.

In when a phone makes an emergency call phone routes the emergency call to a phone system . In one embodiment the telephone service is a VoIP service. The VoIP service provider is typically not the service provider for the subscriber access line . In one embodiment the subscriber access line service provider offers telephone services and has a plurality of phone system from the subscriber access line service provider. When a user makes an emergency call the user can select a phone system from the subscriber access line service provider to handle the emergency call.

In one embodiment the phone recognizes the emergency call and routes the emergency call to a phone system from the subscriber access line service provider. In another embodiment the phone is connected to the subscriber phone equipment . The subscriber phone equipment recognizes the emergency call and routes the emergency call to a phone system from the subscriber access line service provider.

In another embodiment the subscriber access line module recognizes the emergency call and routes the emergency call to a phone system from the subscriber access line service provider.

The above description applies to emergency calls that require subscriber location information. However there are many other scenarios in which would be helpful advantageous or necessary to obtain the subscriber location of a telephone call. In one embodiment phone system can use subscriber access line identities to determine the location information for calls such as location specific directory services marketing information for premium pay per use phone services and toll free service calls.

Described herein are techniques for methods and systems of obtaining the location of a caller during an emergency phone call. In the following description for purposes of explanation numerous examples and specific details are set forth in order to provide a thorough understanding of the present invention. It will be evident however to one skilled in the art that the present invention as defined by the claims may include some or all of the features in these examples alone or in combination with other features described below and may further include obvious modifications and equivalents of the features and concepts described herein.

