---

title: Managing network connections
abstract: A remote server and network connectable printer arrangement is provided. The remote server can send a job availability message via a first communication protocol to the network connectable printer to cause the network connectable printer to establish a network connection. The remote server may then send a print job to the network connectable printer over the network. The network connectable printer may then print the print job and then terminate the connection thereafter.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09361052&OS=09361052&RS=09361052
owner: Hewlett-Packard Development Company L.P.
number: 09361052
owner_city: Houston
owner_country: US
publication_date: 20150518
---
This application is a Continuation of U.S. patent application Ser. No. 13 247 158 filed Sep. 28 2011 entitled MANAGING NETWORK CONNECTIONS issued as U.S. Pat. No. 9 036 185 on May 19 2015 which is hereby incorporated by reference in its entirety.

Certain network connectable printers are capable of sending and receiving communications and printable content via the Internet without being connected to a desktop computer laptop computer or other host computing device. Such functionality can provide considerable flexibility and efficiencies for a user as the user may have the ability to download and print content at familiar and unfamiliar printers without the complication of first establishing a connection with a host.

Internet connectable printers are frequently configured to have an always on connection to a remote server or server system via the internet e.g. over a Transmission Control Protocol TCP based or Extensible Messaging and Presence Protocol XMPP based connection. The printer establishes an internet connection on printer boot and may retain the connection with the remote server system through the operating lifetime of the printer.

While the always on connection has the attribute of an established connection to the remote server system such a connection consumes network bandwidth even at times the printer is inactive. From a server system perspective these bandwidth costs can significantly impact scalability as the server system may be simultaneously connected with millions of network connectable printers. From the perspective of the network connectable printer another disadvantage of the always on printer is that it will draw more power to maintain an active state and thus may be more expensive to operate than a standalone printer that is routinely turned off between print jobs. Further an always on network connected printer can be more susceptible to security attacks than a printer that is turned off between print jobs.

Accordingly various embodiments described herein were developed in an effort to allow internet connectable printers to connect to the internet when a print job arrives at the remote server for printing at the printer. It should be noted that while the disclosure is discussed frequently with reference to internet connectable printers the teachings of the present disclosure are not so limited and can be applied to any network connectable printer. According to embodiments described herein a message is received at a network connectable printer from a first computer system via a first communication protocol. In response to receipt of the message a connection is established via a second communication protocol between the printer and the network. A print job is received at the printer via the connection and is caused to print at the printer. After the print job is printed the connection is terminated. By limiting network connectivity in this manner the printer is protected from security threats and consumes less power and the remote server system frees up bandwidth as compared to systems that have printers connected to the network via an always on architecture.

As used herein a network connectable printer refers to a printer that can be connected to a network to be capable of obtaining content sending and receiving messages accessing network content and or accessing applications via a network. In examples the network may be a proprietary network a secured network an open network an intranet an extranet an internet or the Internet. Printer or printing device refers to any electronic device that prints and includes multifunctional electronic devices that perform additional functions such as scanning and or copying. An instant message refers to a message sent via a real time text or other messaging system.

Computing device includes a connection management service . Connection management service represents generally any combination of hardware and programming configured to manage connections between a printer and a network in order that the printer can receive print jobs. In one example a connection management service at printer receives a message from computer system via a first communication protocol that is temporary and or requires less printer and computer system processing resources as compared to the protocol by which the printer receives print jobs. In an example the first protocol may be a Short Message Service SMS protocol or other text messaging protocol. The received message instructs printer to establish a connection between printer and network via a second communication protocol e.g. XMPP protocol or a TCP based Session Initiation Protocol SIP protocol. In response to receipt of the message connection management service establishes the connection. After establishment of the connection connection management service receives a print job via the connection and causes the print job to print at printer . After printing of the print job connection management service terminates the connection.

The functions and operations described with respect to computer system may be implemented as a computer readable storage medium containing instructions executed by a processor e.g. processor and stored in a memory e.g. memory . In a given implementation processor may represent multiple processors and memory may represent multiple memories. Processor represents generally any instruction execution system such as a computer processor based system or an ASIC Application Specific Integrated Circuit a computer or other system that can fetch or obtain instructions or logic stored in memory and execute the instructions or logic contained therein. Memory represents generally any memory configured to store program instructions and other data.

Connection management service represents generally any combination of hardware and programming configured to manage connections between printer and network in order that the printer will receive print jobs. Connection management service includes a message receipt module connection establishment module job receipt module print module and connection termination module .

Message receipt module receives a message from smart phone computing system via a SMS text messaging protocol. In this example the message instructs printer that a print job is available to be obtained from server system via the internet . In this example the job available message was received at smart phone from server system which stores at job storage module print jobs to be distributed to internet connected printers.

Connection establishment module in response to receipt of the job available message via SMS establishes a connection between the printer and the internet via the XMPP communication protocol. In other examples the connection may be a TCP based SIP protocol or other communication protocol appropriate for transporting print jobs and operating communications between printer and server system .

After the establishment of the XMPP connection job receipt module receives the print job via the connection. After receipt of the print job print module in conjunction with print component causes printing of the print job at printer . In this example immediately after printing of the job connection termination module terminates the XMPP connection . In other examples the XMPP connection is terminated after printer prints the print job and performs post printing operations such as sending data relating to the printing of the job to server system and or performing a calibration routine.

Smart phone represents generally any mobile or portable computing device capable of communicating with printer . In this example the job available message is communicated by smart phone via SMS protocol. In embodiments the communication may be via a Bluetooth connection infrared connection Wi Fi connection or a connection via another communication protocol that is distinct from the XMPP protocol used in establishing the connection .

The functions and operations described with respect to connection management service and printer may be implemented as a computer readable storage medium containing instructions executed by a processor e.g. processor and stored in a memory e.g. memory . In a given implementation processor may represent multiple processors and memory may represent multiple memories.

Connection management service represents generally any combination of hardware and programming configured to manage connections between printer and internet in order that the printer will receive print jobs via the internet. Connection management service includes subscription module message receipt module connection establishment module job receipt module print module and connection termination module .

Subscription module sends a subscription message to server system . The message subscribes or registers internet connectable printer with a subscription registry at server system . In an example the subscription message is sent as a result of a user or administrator instruction made at a touchpad or other user interface at printer . The subscription message may be sent via any networking protocol including but not limited to Transmission Control Protocol Internet Protocol TCP IP HyperText Transfer Protocol HTTP Simple Mail Transfer Protocol SMTP Extensible Messaging and Presence Protocol XMPP and or Session Initiation Protocol SIP . In another embodiment the subscription message may be sent to server system as a result of a user or administrator instruction made at a computing device distinct from printer e.g. a desktop computer laptop computer table computer mobile computing device or other computing system that is connected to internet . After registration server system sends a job available message to internet connectable printer whenever there is a print job available at server system for download and printing by printer .

Message receipt module receives a message from server system via a SMS text messaging protocol. In this example the message instructs printer that a print job is available to be obtained from server system via the internet .

Connection establishment module in response to receipt of the job available message from server system via SMS protocol establishes a connection between the printer and the internet via SIP over a TCP communication protocol. In other examples the connection may be a XMPP protocol or other communication protocol appropriate for transporting print jobs and operating communications between printer and server system .

After the establishment of the SIP over a TCP connection job receipt module receives the print job via the connection. After receipt of the print job print module causes printing of the print job at printer . In this example connection termination module terminates the SIP over a TCP connection after printing of the job and the communication of data relating to the print job to the server system .

The functions and operations described with respect to connection management service and printer may be implemented as a computer readable storage medium containing instructions executed by a processor e.g. processor and stored in a memory e.g. memory . In a given implementation processor may represent multiple processors and memory may represent multiple memories.

Connection management service represents generally any combination of hardware and programming configured to manage connections between printer and internet in order that the printer will receive print jobs. Connection management service includes a message receipt module connection establishment module job receipt module print module and connection termination module .

Message receipt module receives a start print procedure message from smart phone computing system via a LAN protocol in response to the smart phone detecting a proximity from the phone to printer . In examples the LAN protocol may be but is not limited to a Bluetooth Wi Fi or infrared communication protocol. Smart phone utilizes a proximity detection service to detect the proximity. In an example the proximity detection service may detect the proximity by recognizing that the smart phone and the printer have connected via the Bluetooth Wi Fi infrared or other connection with a known effective distance. Utilizing a known effective range for the applicable communication protocol the service can estimate the proximity between the smart phone and the printer . For example if the detection service has information that the range of Bluetooth connection is less than or equal to thirty two feet and the service detects a Bluetooth connection the service may conclude that the smart phone is within a proximity of less than or equal to thirty two feet from the printer . Based on the assumption that the user of the smart phone is also within a thirty two foot proximity to the printer the smart phone sends the start print procedure message to printer . In another example the proximity detection service utilizes Global Positioning System GPS programming and sends the start print procedure message to printer upon detecting that smart phone is within a certain proximity to the GPS coordinates of printer .

In this example message is a message to start print procedure and therefore does not explicitly instruct printer to establish an XMPP connection with server system . The start print procedure was generated at the smartphone in response to receipt of a job available message at the smart phone from server system .

Message receipt module compares the received start print procedure message to a database of messages that are to be interpreted as instructions to establish the XMPP connection and finds the start print procedure message in the database of accepted messages. Thus the start print procedure message is interpreted as a message to establish the XMPP connection .

Connection establishment module in response to receipt of the start print procedure message via the LAN protocol establishes a connection between the printer and the internet via XMPP communication protocol. In other examples the connection may be a TCP based SIP protocol or other communication protocol appropriate for transporting print jobs and operating communications between printer and server system .

After the establishment of the XMPP connection job receipt module receives the print job from server system via the connection. After receipt of the print job print module causes printing of the print job at printer . After printing of the job connection termination module terminates the XMPP connection .

Smart phone represents generally any mobile or portable computing device capable of communicating with printer . In this example the start print procedure message is communicated by smart phone via a LAN protocol. In other embodiments the communication may be via a Bluetooth Wi Fi infrared or other communication protocol that is distinct from the XMPP protocol used in establishing the connection .

The functions and operations described with respect to connection management service and printer may be implemented as a computer readable storage medium containing instructions executed by a processor e.g. processor and stored in a memory e.g. memory . In a given implementation processor may represent multiple processors and memory may represent multiple memories.

Connection management service represents generally any combination of hardware and programming configured to manage connections between printer and network in order that the printer will receive print jobs via the network in a manner that conserves bandwidth and power and reduces security threats to the system. Connection management service includes subscription module message receipt module connection establishment module job receipt module print module and connection termination module .

Subscription module sends a subscription message to IM server system . The message subscribes or registers network connectable printer with IM server system such that IM server system sends a job available message to network connectable printer whenever the IM Server system receives a message from server system that there is a print job available for download and printing by printer . The job available message received at IM server system from server system may be received via any networking protocol including but not limited to Transmission Control Protocol Internet Protocol TCP IP HyperText Transfer Protocol HTTP Simple Mail Transfer Protocol SMTP Extensible Messaging and Presence Protocol XMPP and or Session Initiation Protocol SIP . Message receipt module receives a message from IM Server System via an instant messaging. In this example the message instructs printer that a print job is available to be obtained from server system via the network .

Connection establishment module in response to receipt of the job available message from IM server system via an instant message establishes a connection between the printer and the network via XMPP communication protocol. In other examples the connection may be a SIP over a TCP protocol or other communication protocol appropriate for transporting print jobs and operating communications between printer and server system .

After the establishment of the XMPP connection job receipt module receives the print job via the connection. After receipt of the print job print module causes printing of the print job at printer . After printing of the job connection termination module terminates the XMPP connection .

IM server system represents generally any computing device or system of computing devices configured to communicate with printer and server system via the network . In this example IM server system sends the job available message to printer via the instant messaging protocol as a result receipt of subscription message or and receipt of job available message from server system .

The functions and operations described with respect to connection management service and printer may be implemented as a computer readable storage medium containing instructions executed by a processor e.g. processor and stored in a memory e.g. memory . In a given implementation processor may represent multiple processors and memory may represent multiple memories.

In an example server system sends to the PAIM server system via network a message that a print job is available at server system for retrieval by printer . Pursuant to a subscription arrangement between PAIM server system and enterprise server system the PAIM server system sends a message to the enterprise server system via network . The message indicates that a print job is available at server system for retrieval by printer . Responsive to receipt of the message from the PAIM server system the enterprise server system sends a job available message to the printer . In an embodiment the messages sent by the server system the PAIM server system and the enterprise server system are a same message. In another embodiment the messages sent by the server system the PAIM server system and the enterprise server system are not same message.

Printer is shown to include a network interface print component and a connection management service . Network interface represents generally any combination of hardware and programming configured for electronically connecting printer to the enterprise network . Print component represents generally any combination of hardware and programming configured to produce printed output. Connection management service represents generally any combination of hardware and programming configured to manage connections between printer and network in order that the printer can receive print jobs. Connection management service includes a message receipt module connection establishment module job receipt module print module and connection termination module .

Message receipt module receives a message from enterprise server system over the network via a User Datagram Protocol UDP based SIP protocol. In this example the message instructs printer that a print job is available to be obtained via the network .

Connection establishment module in response to receipt of the job available message via the UDP based SIP protocol establishes a connection between the printer and the enterprise network via XMPP communication protocol. In other examples the connection may be a TCP based SIP protocol or other communication protocol appropriate for transporting print jobs and operating communications between printer and server system .

After the establishment of the XMPP connection job receipt module receives the print job via the connection. After receipt of the print job print module causes printing of the print job at printer . After printing of the job connection termination module terminates the XMPP connection .

The functions and operations described with respect to connection management service and printer may be implemented as a computer readable storage medium containing instructions executed by a processor e.g. processor and stored in a memory e.g. memory . In a given implementation processor may represent multiple processors and memory may represent multiple memories.

Continuing with the flow diagram of in response to receipt of the message a connection is established between the printer and the network via a second communication protocol block . Referring back to message receipt module or may be responsible for implementing block .

Continuing with the flow diagram of the printer receives a print job via the connection block . Referring back to job receipt module or may be responsible for implementing block .

Continuing with the flow diagram of printing of the print job is caused to occur at the printer block . Referring back to print module or may be responsible for implementing block .

Continuing with the flow diagram of the connection between the printer and the first computer system is terminated after the print job is printed block . Referring back to connection termination module or may be responsible for implementing block .

Although the flow diagram of shows specific orders of execution the orders of execution may differ from that which is depicted. For example the order of execution of two or more blocks may be scrambled relative to the order shown. Also two or more blocks shown in succession may be executed concurrently or with partial concurrence. All such variations are within the scope of the present disclosure.

Various modifications may be made to the disclosed embodiments and implementations without departing from their scope. Therefore the illustrations and examples herein should be construed in an illustrative and not a restrictive sense.

