---

title: Device, method, and user interface for processing intensity of touch contacts
abstract: An electronic device includes a touch-sensitive surface. The electronic device includes one or more sensors to detect intensity of contacts with the touch-sensitive surface. The device detects a first touch input on the touch-sensitive surface, and, in response to detecting the first touch input on the touch-sensitive surface, determines a first intensity applied by the first touch input on the touch-sensitive surface. The device identifies a first intensity model identifier from a plurality of predefined intensity model identifiers, and, in accordance with the first intensity applied by the first touch input on the touch-sensitive surface and one or more thresholds associated with the first intensity model identifier, determines a first touch characterization parameter. Subsequent to determining the first touch characterization parameter, the device sends first touch information to the first software application. The first touch information includes the first intensity model identifier and the first touch characterization parameter.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09645669&OS=09645669&RS=09645669
owner: APPLE INC.
number: 09645669
owner_city: Cupertino
owner_country: US
publication_date: 20150929
---
This application is a continuation application of U.S. patent application Ser. No. 14 868 285 filed Sep. 28 2015 entitled Device Method and User Interface for Processing Intensity of Touch Contacts which claims priority to U.S. Provisional Patent Application Ser. No. 62 129 937 filed Mar. 8 2015 entitled Device Method and User Interface for Processing Intensity of Touch Contacts both of which are incorporated by reference herein in their entireties.

This relates generally to electronic devices with touch sensitive surfaces including but not limited to electronic devices with touch sensitive surfaces and sensors to detect intensity of contacts on the touch sensitive surfaces.

The use of touch sensitive surfaces as input devices for computers and other electronic computing devices has increased significantly in recent years. Exemplary touch sensitive surfaces include touchpads and touch screen displays. Such surfaces are widely used to manipulate user interface objects on a display.

In addition to the presence or absence of a contacts or touches on the touchpads and touch screen displays intensity of contacts can be used to manipulate user interface objects on a display.

However processing intensity of contacts can be cumbersome and inefficient. For example processing intensity of contacts require complex instructions which can lead to increased computational load increased size of software applications and increased power consumption. These create a significant burden on the use of intensity of contacts in electronic devices.

Accordingly there is a need for electronic devices with faster more efficient methods and interfaces for processing touch inputs. Such methods and interfaces optionally complement or replace conventional methods for processing touch inputs. Such methods and interfaces reduce the number extent and or nature of the inputs from a user and produce a more efficient human machine interface. For battery operated devices such methods and interfaces conserve power and increase the time between battery charges.

The above deficiencies and other problems associated with user interfaces for electronic devices with touch sensitive surfaces are reduced or eliminated by the disclosed devices. In some embodiments the device is a desktop computer. In some embodiments the device is portable e.g. a notebook computer tablet computer or handheld device . In some embodiments the device is a personal electronic device e.g. a wearable electronic device such as a watch . In some embodiments the device has a touchpad. In some embodiments the device has a touch sensitive display also known as a touch screen or touch screen display . In some embodiments the device has a graphical user interface GUI one or more processors memory and one or more modules programs or sets of instructions stored in the memory for performing multiple functions. In some embodiments the user interacts with the GUI primarily through stylus and or finger contacts and gestures on the touch sensitive surface. In some embodiments the functions optionally include image editing drawing presenting word processing spreadsheet making game playing telephoning video conferencing e mailing instant messaging workout support digital photographing digital videoing web browsing digital music playing note taking and or digital video playing. Executable instructions for performing these functions are optionally included in a non transitory computer readable storage medium or other computer program product configured for execution by one or more processors.

In accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface. The method includes detecting a touch input on the touch sensitive surface in response to detecting the touch input on the touch sensitive surface determining an intensity of the touch input on the touch sensitive surface and in accordance with the intensity of the touch input on the touch sensitive surface and one or more preselected intensity thresholds determining an intensity stage of the touch input. The intensity stage of the touch input is selected from a plurality of predefined intensity stages. The method also includes processing the touch input based on the intensity stage of the touch input.

In accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface. The electronic device stores a first software application. The method includes detecting a first touch input on the touch sensitive surface in response to detecting the first touch input on the touch sensitive surface determining a first intensity applied by the first touch input on the touch sensitive surface identifying a first intensity model identifier from a plurality of predefined intensity model identifiers in accordance with the first intensity applied by the first touch input on the touch sensitive surface and one or more thresholds associated with the first intensity model identifier determining a first touch characterization parameter and subsequent to determining the first touch characterization parameter sending first touch information to the first software application. The first touch information includes the first intensity model identifier and the first touch characterization parameter.

In accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface. The electronic device stores a first software application. The method includes detecting a first touch input on a first touch region of the touch sensitive surface identifying a first intensity model identifier associated with the first touch region of the touch sensitive surface from a plurality of predefined intensity model identifiers in response to detecting the first touch input on the first touch region of the touch sensitive surface determining a first intensity applied by the first touch input on the first touch region of the touch sensitive surface in accordance with the first intensity applied by the first touch input on the touch sensitive surface and one or more thresholds associated with the first intensity model identifier determining a first touch characterization parameter and subsequent to determining the first touch characterization parameter sending first touch information to the first software application. The first touch information includes the first touch characterization parameter. The method also includes detecting a second touch input on a second touch region of the touch sensitive surface. The second touch region of the touch sensitive surface is distinct from the first touch region of the touch sensitive surface. The method further includes identifying a second intensity model identifier associated with the second touch region of the touch sensitive surface from the plurality of predefined intensity model identifiers and in response to detecting the second touch input on the second touch region of the touch sensitive surface determining a second intensity applied by the second touch input on the second touch region of the touch sensitive surface in accordance with the second intensity applied by the second touch input on the touch sensitive surface and one or more thresholds associated with the second intensity model identifier determining a second touch characterization parameter and subsequent to determining the second touch characterization parameter sending second touch information to the first software application. The second touch information includes the second touch characterization parameter.

In accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface. The method includes detecting a touch input on the touch sensitive surface and in response to detecting the touch input in accordance with a determination that the touch input is at a location on the touch sensitive surface that is associated with a first intensity model of a plurality of different intensity models processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface and the first intensity model and in accordance with a determination that the touch input is at a location on the touch sensitive surface that is associated with a second intensity model different from the first intensity model processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface and the second intensity model.

In accordance with some embodiments a method is performed at an electronic device with a display a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface. The electronic device stores a first software application. The method includes displaying a user interface that includes two or more display regions including a first display region and a second display region and while displaying the user interface detecting a first intensity applied by a touch input at a first location on the touch sensitive surface that corresponds to the first display region detecting a movement of the touch input across the touch sensitive surface from the first location on the touch sensitive surface to a second location on the touch sensitive surface that corresponds to the second display region after detecting the movement of the touch input from the first location on the touch sensitive surface to the second location on the touch sensitive surface detecting a second intensity applied by the touch input at the second location on the touch sensitive surface and in response to detecting the second intensity applied by the touch input at the second location on the touch sensitive surface in accordance with a determination that the first intensity does not satisfy a first intensity threshold processing the second intensity in accordance with one or more intensity thresholds associated with the second display region and in accordance with a determination that the first intensity satisfies the first intensity threshold processing the second intensity in accordance with one or more intensity thresholds associated with the first display region.

In accordance with some embodiments a method is performed at an electronic device in communication with a plurality of input devices including a first input device that is configured to generate tactile outputs in response to inputs and a second input device that is configured to generate tactile outputs. The method includes receiving an indication of an input detected by a respective input device of the plurality of input devices and in response to receiving the indication of the input providing information describing the input to an application running on the device that enables the application to react to the input. The method further includes receiving a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and in response to receiving the reaction to the input from the application causing the generation of a respective tactile output. In accordance with a determination that the reaction was triggered by the first input device the respective tactile output is generated at the first input device based on the reaction to the input from the application and in accordance with a determination that the reaction was triggered by the second input device the respective tactile output is generated at the second input device based on the reaction to the input from the application.

In accordance with some embodiments an electronic device includes a display a first input device that is configured to generate tactile outputs in response to inputs a second input device that is configured to generate tactile outputs one or more processors memory and one or more programs wherein the one or more programs are stored in the memory and configured to be executed by the one or more processors. The one or more programs including instructions for receiving an indication of an input detected by a respective input device of the plurality of input devices and in response to receiving the indication of the input providing information describing the input to an application running on the device that enables the application to react to the input. The one or more programs further include instructions for receiving a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and in response to receiving the reaction to the input from the application causing the generation of a respective tactile output. In accordance with a determination that the reaction was triggered by the first input device the respective tactile output is generated at the first input device based on the reaction to the input from the application and in accordance with a determination that the reaction was triggered by the second input device the respective tactile output is generated at the second input device based on the reaction to the input from the application.

In accordance with some embodiments a non transitory computer readable storage medium stores one or more programs the one or more programs comprising instructions which when executed by an electronic device having a display a first input device that is configured to generate tactile outputs in response to inputs and a second input device that is configured to generate tactile outputs cause the device to perform the aforementioned method or any of the other methods described herein.

In accordance with some embodiments a method is performed at an electronic device in communication with one or more input devices that are configured to generate tactile outputs in response to inputs. The method includes receiving an indication of an input detected by a respective input device of the one or more input devices and in response to receiving the indication of the input providing information describing the input to an application running on the device that enables the application to react to the input. The method further includes receiving a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input. In response to receiving the reaction to the input from the application the electronic device performs a set of operations including comparing an input time for the reaction to an output time for the reaction. With respect to the comparing the input time for the reaction corresponds to a time at which the input was detected by the respective input device and the output time for the reaction corresponds to a time at which a tactile output corresponding to the reaction is configured to be generated at the respective input device. The set of operations performed in response to receiving the reaction to the input from the application further includes determining whether tactile output criteria have been met wherein the tactile output criteria include a criterion that is met when an input time is less than a predetermined amount of time before the output time and in accordance with a determination that the tactile output criteria have been met causing generation at the respective input device of a tactile output corresponding to the reaction from the application. On the other hand the set of operations performed in response to receiving the reaction to the input from the application includes in accordance with a determination that the tactile output criteria have not been met forgoing generation at the respective input device of the tactile output corresponding to the reaction from the application.

In accordance with some embodiments an electronic device includes a display one or more input devices that are configured to generate tactile outputs in response to inputs one or more processors memory and one or more programs wherein the one or more programs are stored in the memory and configured to be executed by the one or more processors. The one or more programs including instructions for receiving an indication of an input detected by a respective input device of the one or more input devices and in response to receiving the indication of the input providing information describing the input to an application running on the device that enables the application to react to the input. The one or more programs further include instructions for receiving a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and in response to receiving the reaction to the input from the application performing a set of operations including comparing an input time for the reaction to an output time for the reaction. With respect to the comparing the input time for the reaction corresponds to a time at which the input was detected by the respective input device and the output time for the reaction corresponds to a time at which a tactile output corresponding to the reaction is configured to be generated at the respective input device. The set of operations performed in response to receiving the reaction to the input from the application further includes determining whether tactile output criteria have been met wherein the tactile output criteria include a criterion that is met when an input time is less than a predetermined amount of time before the output time and in accordance with a determination that the tactile output criteria have been met causing generation at the respective input device of a tactile output corresponding to the reaction from the application. On the other hand the set of operations performed in response to receiving the reaction to the input from the application includes in accordance with a determination that the tactile output criteria have not been met forgoing generation at the respective input device of the tactile output corresponding to the reaction from the application.

In accordance with some embodiments a non transitory computer readable storage medium stores one or more programs the one or more programs comprising instructions which when executed by an electronic device having a display one or more input devices that are configured to generate tactile outputs in response to inputs cause the device to perform the aforementioned method or any of the other methods described herein.

In accordance with some embodiments an electronic device includes a touch sensitive surface unit to receive contacts one or more sensor units to detect intensity of contacts with the touch sensitive surface unit and a processing unit coupled with the touch sensitive surface unit and the one or more sensor units. The processing unit is configured to detect a touch input on the touch sensitive surface unit in response to detecting the touch input on the touch sensitive surface unit determine an intensity of the touch input on the touch sensitive surface unit in accordance with the intensity of the touch input on the touch sensitive surface unit and one or more preselected intensity thresholds determine an intensity stage of the touch input wherein the intensity stage of the touch input is selected from a plurality of predefined intensity stages and process the touch input based on the intensity stage of the touch input.

In accordance with some embodiments an electronic device includes a touch sensitive surface unit to receive contacts one or more sensor units to detect intensity of contacts with the touch sensitive surface unit and a processing unit coupled with the touch sensitive surface unit and the one or more sensor units. The processing unit is configured to detect a first touch input on the touch sensitive surface unit in response to detecting the first touch input on the touch sensitive surface unit determine a first intensity applied by the first touch input on the touch sensitive surface unit identify a first intensity model identifier from a plurality of predefined intensity model identifiers in accordance with the first intensity applied by the first touch input on the touch sensitive surface unit and one or more thresholds associated with the first intensity model identifier determine a first touch characterization parameter and subsequent to determining the first touch characterization parameter send first touch information to a first software application wherein the first touch information includes the first intensity model identifier and the first touch characterization parameter.

In accordance with some embodiments an electronic device includes a display unit configured to display a touch sensitive surface unit to receive contacts one or more sensor units to detect intensity of contacts with the touch sensitive surface unit and a processing unit coupled with the touch sensitive surface unit and the one or more sensor units. The processing unit is configured to detect a first touch input on a first touch region of the touch sensitive surface unit identify a first intensity model identifier associated with the first touch region of the touch sensitive surface unit from a plurality of predefined intensity model identifiers and in response to detecting the first touch input on the first touch region of the touch sensitive surface unit determine a first intensity of the first touch input on the first touch region of the touch sensitive surface unit in accordance with the first intensity applied by the first touch input on the touch sensitive surface unit and one or more thresholds associated with the first intensity model identifier determine a first touch characterization parameter and subsequent to determining the first touch characterization parameter send first touch information to a first software application wherein the first touch information includes the first touch characterization parameter. The processing unit is also configured to detect a second touch input on a second touch region of the touch sensitive surface unit wherein the second touch region of the touch sensitive surface unit is distinct from the first touch region of the touch sensitive surface unit identify a second intensity model identifier associated with the second touch region of the touch sensitive surface unit from the plurality of predefined intensity model identifiers and in response to detecting the second touch input on the second touch region of the touch sensitive surface unit determine a second intensity applied by the second touch input on the second touch region of the touch sensitive surface unit in accordance with the second intensity applied by the second touch input on the touch sensitive surface unit and one or more thresholds associated with the second intensity model identifier determine a second touch characterization parameter and subsequent to determining the second touch characterization parameter send second touch information to the first software application wherein the second touch information includes the second touch characterization parameter.

In accordance with some embodiments an electronic device includes a touch sensitive surface unit to receive contacts one or more sensor units to detect intensity of contacts with the touch sensitive surface unit and a processing unit coupled with the touch sensitive surface unit and the one or more sensor units. The processing unit is configured to detect a touch input on the touch sensitive surface unit and in response to detecting the touch input in accordance with a determination that the touch input is at a location on the touch sensitive surface unit that is associated with a first intensity model of a plurality of different intensity models processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface unit and the first intensity model and in accordance with a determination that the touch input is at a location on the touch sensitive surface unit that is associated with a second intensity model different from the first intensity model processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface unit and the second intensity model.

In accordance with some embodiments an electronic device includes a display unit configured to display a user interface a touch sensitive surface unit to receive contacts one or more sensor units to detect intensity of contacts with the touch sensitive surface unit and a processing unit coupled with the display unit the touch sensitive surface unit and the one or more sensor units. The processing unit is configured to enable display of a user interface that includes two or more display regions including a first display region and a second display region on the display unit and while displaying the user interface detect a first intensity applied by a touch input at a first location on the touch sensitive surface unit that corresponds to the first display region detect a movement of the touch input across the touch sensitive surface unit from the first location on the touch sensitive surface unit to a second location on the touch sensitive surface unit that corresponds to the second display region after detecting the movement of the touch input from the first location on the touch sensitive surface unit to the second location on the touch sensitive surface unit detect a second intensity applied by the touch input at the second location on the touch sensitive surface unit and in response to detecting the second intensity applied by the touch input at the second location on the touch sensitive surface unit in accordance with a determination that the first intensity does not satisfy a first intensity threshold process the second intensity in accordance with one or more intensity thresholds associated with the second display region and in accordance with a determination that the first intensity satisfies the first intensity threshold process the second intensity in accordance with one or more intensity thresholds associated with the first display region.

In accordance with some embodiments an electronic device includes a display unit configured to display a user interface and a plurality of input units including a first input unit that is configured to generate tactile outputs in response to inputs and a second input unit that is configured to generate tactile outputs. The electronic device further includes an input indication receiving unit configured to receive an indication of an input detected by a respective input unit of the plurality of input units and an information providing unit configured to provide in response to receiving the indication of the input information describing the input to an application running on the electronic device that enables the application to react to the input. The electronic device further includes a reaction receiving unit configured to receive a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and a causing unit configured to cause in response to receiving the reaction to the input from the application the generation of a respective tactile output. In accordance with a determination that the reaction was triggered by the first input unit the respective tactile output is generated at the first input unit based on the reaction to the input from the application and in accordance with a determination that the reaction was triggered by the second input unit the respective tactile output is generated at the second input unit based on the reaction to the input from the application.

In accordance with some embodiments an electronic device includes a display unit configured to display a user interface hierarchy and one or more input units that are configured to generate tactile outputs in response to inputs. The electronic device further includes an input indication receiving unit configured to receive an indication of an input detected by a respective input unit of the one or more input units and an information providing unit configured to provide in response to receiving the indication of the input information describing the input to an application running on the electronic device that enables the application to react to the input. The electronic device further includes a reaction receiving unit configured to receive a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and a causing unit configured to cause in response to receiving the reaction to the input from the application the performance of a set of operations including comparing an input time for the reaction to an output time for the reaction. With respect to the comparing the input time for the reaction corresponds to a time at which the input was detected by the respective input device and the output time for the reaction corresponds to a time at which a tactile output corresponding to the reaction is configured to be generated at the respective input device. The set of operations performed in response to receiving the reaction to the input from the application further includes determining whether tactile output criteria have been met wherein the tactile output criteria include a criterion that is met when an input time is less than a predetermined amount of time before the output time and in accordance with a determination that the tactile output criteria have been met causing generation at the respective input device of a tactile output corresponding to the reaction from the application. On the other hand the set of operations performed in response to receiving the reaction to the input from the application includes in accordance with a determination that the tactile output criteria have not been met forgoing generation at the respective input device of the tactile output corresponding to the reaction from the application.

In accordance with some embodiments an electronic device includes a touch sensitive surface one or more sensors to detect intensity of contacts with the touch sensitive surface optionally a display one or more processors and memory. The memory stores one or more programs that are configured to be executed by the one or more processors. The one or more programs include instructions for performing or causing performance of the operations of any of the methods described herein. In accordance with some embodiments a computer readable storage medium stores therein instructions which when executed by an electronic device with a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface cause the device to perform or cause performance of the operations of any of the methods described herein. In accordance with some embodiments a graphical user interface on an electronic device with a display a touch sensitive surface one or more sensors to detect intensity of contacts with the touch sensitive surface a memory and one or more processors to execute one or more programs stored in the memory includes one or more of the elements displayed in any of the methods described herein which are updated in response to inputs as described in any of the methods described herein. In accordance with some embodiments an electronic device includes a touch sensitive surface one or more sensors to detect intensity of contacts with the touch sensitive surface optionally a display and means for performing or causing performance of the operations of any of the methods described herein. In accordance with some embodiments an information processing apparatus for use in an electronic device with a touch sensitive surface one or more sensors to detect intensity of contacts with the touch sensitive surface and optionally a display includes means for performing or causing performance of the operations of any of the methods described herein.

In accordance with some embodiments at least one of the aforementioned input devices has a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface. Furthermore in some embodiments any of the aforementioned methods includes displaying on the display a user interface for the electronic device and detecting an input or sequence of inputs on the touch sensitive surface of one of the input devices. Optionally any of the aforementioned methods includes detecting changes in characteristics of a respective contact that is continuously detected on the touch sensitive surface.

Thus electronic devices with displays one or more input devices that are configured to generate tactile outputs in response to inputs e.g. including one or more input devices having touch sensitive surfaces and one or more sensors to detect intensity of contacts with the touch sensitive surface are provided with faster more efficient methods and interfaces for performing an operation in accordance with a selected mode of operation thereby increasing the effectiveness efficiency and user satisfaction with such devices. Such methods and interfaces may complement or replace conventional methods for performing an operation in accordance with a selected mode of operation.

Many electronic devices have user interfaces in which multiple operations are optionally performed in response to gestures performed using one or more input devices. In many contexts in addition to providing the user with visual feedback on a display to let the user know how the electronic device has responded to those gestures it would be beneficial to provide a tactile output or tactile feedback. For example such tactile feedback could inform the user as to when a gesture has meet predefined criteria for performing a particular operation and or could inform the user as to when a gesture has violated predefined criteria e.g. for performing a particular operation or more generally for using a particular application or manipulating a user interface . The embodiments described below improve on methods for provide tactile feedback in response to an input received detected by a respective input device. For example some embodiments described below have one or more components separate from an application that responds to information describing an input for processing and routing inputs to the application for receiving a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and for then determining how to implement or otherwise handle the reaction received from the application.

In accordance with some embodiments in response to detecting a touch input the electronic device processes a touch input based on an intensity stage of the touch input. More specifically the device determines the intensity stage of the touch input e.g. at a contact intensity module so that a software application that is separate from the contact intensity module does not need to determine the intensity stage of the touch input on its own.

In accordance with some embodiments in response to detecting a touch input the electronic device determines a touch characterization parameter for the touch input e.g. at a contact intensity module and sends the touch characterization parameter to a software application that is separate from the contact intensity module so that the software application does not need to directly process raw data for the touch input. More specifically the electronic device uses an intensity model to determine the touch characterization parameter.

In accordance with some embodiments in which intensity models are mapped to different regions of a touch sensitive surface in response to a touch input the electronic device uses an intensity model that corresponds to a location of the touch input to determine a touch characterization parameter. More specifically different intensity models are used for different regions.

In accordance with some embodiments in response to detecting movement of a touch input the electronic device determines whether the touch input has latched to a particular region of the user interface. If the touch input is latched the electronic device processes the touch input based on an intensity model associated with the latched region. If the touch input is not latched the electronic device processes the touch input based on an intensity model associated with a current position of a touch input or a cursor .

In accordance with some embodiments in which the electronic device is in communication with a plurality of input devices including a first input device that is configured to generate tactile outputs in response to inputs and a second input device that is configured to generate tactile outputs in response to receiving the reaction to the input from the application the device causes the generation of a respective tactile output at the same input device as the input device from which an input was received that triggered the reaction. More specifically in accordance with a determination that the reaction was triggered by the first input device the respective tactile output is generated at the first input device based on the reaction to the input from the application and in accordance with a determination that the reaction was triggered by the second input device the respective tactile output is generated at the second input device based on the reaction to the input from the application.

In accordance with some embodiments in which the electronic device is in communication with one or more input devices that are configured to generate tactile outputs in response to inputs in response to receiving the reaction to the input from the application the device performs a set of operations. The set of operations include operations that conditionally cancel or forgo generation of a tactile output corresponding to the reaction from the application in accordance with a determination that tactile output criteria have not been met. The tactile output criteria include a criterion that is met when an input time is less than a predetermined amount of time before the output time.

Below illustrate exemplary devices. illustrate exemplary user interfaces for processing touch inputs. illustrate a flow diagram of a method of processing a touch input based an intensity stage of the touch input in accordance with some embodiments. is a flow diagram illustrating a method of processing touch information that includes an intensity stage of a touch input in accordance with some embodiments. illustrate a flow diagram of a method of processing touch inputs based on intensity model identifiers in accordance with some embodiments. is a flow diagram illustrating a method of processing touch information based on an intensity model identifier in accordance with some embodiments. illustrate a flow diagram of a method of processing touch inputs in different regions based on distinct intensity models in accordance with some embodiments. illustrate a flow diagram of a method of processing a touch input based on an intensity model associated with a location of the touch input in accordance with some embodiments. illustrate a flow diagram of a method of processing a touch input based on whether the touch input has latched on to a particular region in accordance with some embodiments. are flow diagrams illustrating a method of routing a tactile output to an input device of a plurality of input devices in accordance with some embodiments. are flow diagrams illustrating a method of conditionally canceling or forgoing generation of a tactile output at a respective input device in accordance with some embodiments. The user interfaces in are used to illustrate the processes in .

Reference will now be made in detail to embodiments examples of which are illustrated in the accompanying drawings. In the following detailed description numerous specific details are set forth in order to provide a thorough understanding of the various described embodiments. However it will be apparent to one of ordinary skill in the art that the various described embodiments may be practiced without these specific details. In other instances well known methods procedures components circuits and networks have not been described in detail so as not to unnecessarily obscure aspects of the embodiments.

It will also be understood that although the terms first second etc. are in some instances used herein to describe various elements these elements should not be limited by these terms. These terms are only used to distinguish one element from another. For example a first contact could be termed a second contact and similarly a second contact could be termed a first contact without departing from the scope of the various described embodiments. The first contact and the second contact are both contacts but they are not the same contact unless the context clearly indicates otherwise.

The terminology used in the description of the various described embodiments herein is for the purpose of describing particular embodiments only and is not intended to be limiting. As used in the description of the various described embodiments and the appended claims the singular forms a an and the are intended to include the plural forms as well unless the context clearly indicates otherwise. It will also be understood that the term and or as used herein refers to and encompasses any and all possible combinations of one or more of the associated listed items. It will be further understood that the terms includes including comprises and or comprising when used in this specification specify the presence of stated features integers steps operations elements and or components but do not preclude the presence or addition of one or more other features integers steps operations elements components and or groups thereof.

As used herein the term if is optionally construed to mean when or upon or in response to determining or in response to detecting depending on the context. Similarly the phrase if it is determined or if a stated condition or event is detected is optionally construed to mean upon determining or in response to determining or upon detecting the stated condition or event or in response to detecting the stated condition or event depending on the context.

Embodiments of electronic devices user interfaces for such devices and associated processes for using such devices are described. In some embodiments the device is a portable communications device such as a mobile telephone that also contains other functions such as PDA and or music player functions. Exemplary embodiments of portable multifunction devices include without limitation the iPhone iPod Touch and iPad devices from Apple Inc. of Cupertino Calif. Other portable electronic devices such as laptops or tablet computers with touch sensitive surfaces e.g. touch screen displays and or touchpads are optionally used. It should also be understood that in some embodiments the device is not a portable communications device but is a desktop computer with a touch sensitive surface e.g. a touch screen display and or a touchpad .

In the discussion that follows an electronic device that includes a display and a touch sensitive surface is described. It should be understood however that the electronic device optionally includes one or more other physical user interface devices such as a physical keyboard a mouse and or a joystick.

The device typically supports a variety of applications such as one or more of the following a note taking application a drawing application a presentation application a word processing application a website creation application a disk authoring application a spreadsheet application a gaming application a telephone application a video conferencing application an e mail application an instant messaging application a workout support application a photo management application a digital camera application a digital video camera application a web browsing application a digital music player application and or a digital video player application.

The various applications that are executed on the device optionally use at least one common physical user interface device such as the touch sensitive surface. One or more functions of the touch sensitive surface as well as corresponding information displayed on the device are optionally adjusted and or varied from one application to the next and or within a respective application. In this way a common physical architecture such as the touch sensitive surface of the device optionally supports the variety of applications with user interfaces that are intuitive and transparent to the user.

Attention is now directed toward embodiments of portable devices with touch sensitive displays. is a block diagram illustrating portable multifunction device with touch sensitive display system in accordance with some embodiments. Touch sensitive display system is sometimes called a touch screen for convenience and is sometimes simply called a touch sensitive display. Device includes memory which optionally includes one or more computer readable storage mediums memory controller one or more processing units CPUs peripherals interface RF circuitry audio circuitry speaker microphone input output I O subsystem other input or control devices and external port . Device optionally includes one or more optical sensors . Device optionally includes one or more intensity sensors for detecting intensity of contacts on device e.g. a touch sensitive surface such as touch sensitive display system of device . Device optionally includes one or more tactile output generators for generating tactile outputs on device e.g. generating tactile outputs on a touch sensitive surface such as touch sensitive display system of device or touchpad of device . These components optionally communicate over one or more communication buses or signal lines .

As used in the specification and claims the term tactile output refers to physical displacement of a device relative to a previous position of the device physical displacement of a component e.g. a touch sensitive surface of a device relative to another component e.g. housing of the device or displacement of the component relative to a center of mass of the device that will be detected by a user with the user s sense of touch. For example in situations where the device or the component of the device is in contact with a surface of a user that is sensitive to touch e.g. a finger palm or other part of a user s hand the tactile output generated by the physical displacement will be interpreted by the user as a tactile sensation corresponding to a perceived change in physical characteristics of the device or the component of the device. For example movement of a touch sensitive surface e.g. in a touch sensitive display or trackpad is optionally interpreted by the user as a down click or up click of a physical actuator button. In some cases a user will feel a tactile sensation such as an down click or up click even when there is no movement of a physical actuator button associated with the touch sensitive surface that is physically pressed e.g. displaced by the user s movements. As another example movement of the touch sensitive surface is optionally interpreted or sensed by the user as roughness of the touch sensitive surface even when there is no change in smoothness of the touch sensitive surface. While such interpretations of touch by a user will be subject to the individualized sensory perceptions of the user there are many sensory perceptions of touch that are common to a large majority of users. Thus when a tactile output is described as corresponding to a particular sensory perception of a user e.g. an up click a down click roughness unless otherwise stated the generated tactile output corresponds to physical displacement of the device or a component thereof that will generate the described sensory perception for a typical or average user.

It should be appreciated that device is only one example of a portable multifunction device and that device optionally has more or fewer components than shown optionally combines two or more components or optionally has a different configuration or arrangement of the components. The various components shown in are implemented in hardware software firmware or a combination thereof including one or more signal processing and or application specific integrated circuits.

Memory optionally includes high speed random access memory and optionally also includes non volatile memory such as one or more magnetic disk storage devices flash memory devices or other non volatile solid state memory devices. Access to memory by other components of device such as CPU s and the peripherals interface is optionally controlled by memory controller .

Peripherals interface can be used to couple input and output peripherals of the device to CPU s and memory . The one or more processors run or execute various software programs and or sets of instructions stored in memory to perform various functions for device and to process data.

In some embodiments peripherals interface CPU s and memory controller are optionally implemented on a single chip such as chip . In some other embodiments they are optionally implemented on separate chips.

RF radio frequency circuitry receives and sends RF signals also called electromagnetic signals. RF circuitry converts electrical signals to from electromagnetic signals and communicates with communications networks and other communications devices via the electromagnetic signals. RF circuitry optionally includes well known circuitry for performing these functions including but not limited to an antenna system an RF transceiver one or more amplifiers a tuner one or more oscillators a digital signal processor a CODEC chipset a subscriber identity module SIM card memory and so forth. RF circuitry optionally communicates with networks such as the Internet also referred to as the World Wide Web WWW an intranet and or a wireless network such as a cellular telephone network a wireless local area network LAN and or a metropolitan area network MAN and other devices by wireless communication. The wireless communication optionally uses any of a plurality of communications standards protocols and technologies including but not limited to Global System for Mobile Communications GSM Enhanced Data GSM Environment EDGE high speed downlink packet access HSDPA high speed uplink packet access HSUPA Evolution Data Only EV DO HSPA HSPA Dual Cell HSPA DC HSPDA long term evolution LTE near field communication NFC wideband code division multiple access W CDMA code division multiple access CDMA time division multiple access TDMA Bluetooth Wireless Fidelity Wi Fi e.g. IEEE 802.11a IEEE 802.11ac IEEE 802.11ax IEEE 802.11b IEEE 802.11g and or IEEE 802.11n voice over Internet Protocol VoIP Wi MAX a protocol for e mail e.g. Internet message access protocol IMAP and or post office protocol POP instant messaging e.g. extensible messaging and presence protocol XMPP Session Initiation Protocol for Instant Messaging and Presence Leveraging Extensions SIMPLE Instant Messaging and Presence Service IMPS and or Short Message Service SMS or any other suitable communication protocol including communication protocols not yet developed as of the filing date of this document.

Audio circuitry speaker and microphone provide an audio interface between a user and device . Audio circuitry receives audio data from peripherals interface converts the audio data to an electrical signal and transmits the electrical signal to speaker . Speaker converts the electrical signal to human audible sound waves. Audio circuitry also receives electrical signals converted by microphone from sound waves. Audio circuitry converts the electrical signal to audio data and transmits the audio data to peripherals interface for processing. Audio data is optionally retrieved from and or transmitted to memory and or RF circuitry by peripherals interface . In some embodiments audio circuitry also includes a headset jack e.g. . The headset jack provides an interface between audio circuitry and removable audio input output peripherals such as output only headphones or a headset with both output e.g. a headphone for one or both ears and input e.g. a microphone .

I O subsystem couples input output peripherals on device such as touch sensitive display system and other input or control devices with peripherals interface . I O subsystem optionally includes display controller optical sensor controller intensity sensor controller haptic feedback controller and one or more input controllers for other input or control devices. The one or more input controllers receive send electrical signals from to other input or control devices . The other input or control devices optionally include physical buttons e.g. push buttons rocker buttons etc. dials slider switches joysticks click wheels and so forth. In some alternate embodiments input controller s are optionally coupled with any or none of the following a keyboard infrared port USB port stylus and or a pointer device such as a mouse. The one or more buttons e.g. optionally include an up down button for volume control of speaker and or microphone . The one or more buttons optionally include a push button e.g. .

Touch sensitive display system provides an input interface and an output interface between the device and a user. Display controller receives and or sends electrical signals from to touch sensitive display system . Touch sensitive display system displays visual output to the user. The visual output optionally includes graphics text icons video and any combination thereof collectively termed graphics . In some embodiments some or all of the visual output corresponds to user interface objects.

Touch sensitive display system has a touch sensitive surface sensor or set of sensors that accepts input from the user based on haptic and or tactile contact. Touch sensitive display system and display controller along with any associated modules and or sets of instructions in memory detect contact and any movement or breaking of the contact on touch sensitive display system and converts the detected contact into interaction with user interface objects e.g. one or more soft keys icons web pages or images that are displayed on touch sensitive display system . In some exemplary embodiments a point of contact between touch sensitive display system and the user corresponds to a finger of the user or a stylus.

Touch sensitive display system optionally uses LCD liquid crystal display technology LPD light emitting polymer display technology or LED light emitting diode technology although other display technologies are used in other embodiments. Touch sensitive display system and display controller optionally detect contact and any movement or breaking thereof using any of a plurality of touch sensing technologies now known or later developed including but not limited to capacitive resistive infrared and surface acoustic wave technologies as well as other proximity sensor arrays or other elements for determining one or more points of contact with touch sensitive display system . In some exemplary embodiments projected mutual capacitance sensing technology is used such as that found in the iPhone iPod Touch and iPad from Apple Inc. of Cupertino Calif.

Touch sensitive display system optionally has a video resolution in excess of 100 dpi. In some embodiments the touch screen video resolution is in excess of 400 dpi e.g. 500 dpi 800 dpi or greater . The user optionally makes contact with touch sensitive display system using any suitable object or appendage such as a stylus a finger and so forth. In some embodiments the user interface is designed to work with finger based contacts and gestures which can be less precise than stylus based input due to the larger area of contact of a finger on the touch screen. In some embodiments the device translates the rough finger based input into a precise pointer cursor position or command for performing the actions desired by the user.

In some embodiments in addition to the touch screen device optionally includes a touchpad not shown for activating or deactivating particular functions. In some embodiments the touchpad is a touch sensitive area of the device that unlike the touch screen does not display visual output. The touchpad is optionally a touch sensitive surface that is separate from touch sensitive display system or an extension of the touch sensitive surface formed by the touch screen.

Device also includes power system for powering the various components. Power system optionally includes a power management system one or more power sources e.g. battery alternating current AC a recharging system a power failure detection circuit a power converter or inverter a power status indicator e.g. a light emitting diode LED and any other components associated with the generation management and distribution of power in portable devices.

Device optionally also includes one or more optical sensors . shows an optical sensor coupled with optical sensor controller in I O subsystem . Optical sensor s optionally include charge coupled device CCD or complementary metal oxide semiconductor CMOS phototransistors. Optical sensor s receive light from the environment projected through one or more lens and converts the light to data representing an image. In conjunction with imaging module also called a camera module optical sensor s optionally capture still images and or video. In some embodiments an optical sensor is located on the back of device opposite touch sensitive display system on the front of the device so that the touch screen is enabled for use as a viewfinder for still and or video image acquisition. In some embodiments another optical sensor is located on the front of the device so that the user s image is obtained e.g. for selfies for videoconferencing while the user views the other video conference participants on the touch screen etc. .

Device optionally also includes one or more contact intensity sensors . shows a contact intensity sensor coupled with intensity sensor controller in I O subsystem . Contact intensity sensor s optionally include one or more piezoresistive strain gauges capacitive force sensors electric force sensors piezoelectric force sensors optical force sensors capacitive touch sensitive surfaces or other intensity sensors e.g. sensors used to measure the force or pressure of a contact on a touch sensitive surface . Contact intensity sensor s receive contact intensity information e.g. pressure information or a proxy for pressure information from the environment. In some embodiments at least one contact intensity sensor is collocated with or proximate to a touch sensitive surface e.g. touch sensitive display system . In some embodiments at least one contact intensity sensor is located on the back of device opposite touch screen display system which is located on the front of device .

Device optionally also includes one or more proximity sensors . shows proximity sensor coupled with peripherals interface . Alternately proximity sensor is coupled with input controller in I O subsystem . In some embodiments the proximity sensor turns off and disables touch sensitive display system when the multifunction device is placed near the user s ear e.g. when the user is making a phone call .

Device optionally also includes one or more tactile output generators . shows a tactile output generator coupled with haptic feedback controller in I O subsystem . Tactile output generator s optionally include one or more electroacoustic devices such as speakers or other audio components and or electromechanical devices that convert energy into linear motion such as a motor solenoid electroactive polymer piezoelectric actuator electrostatic actuator or other tactile output generating component e.g. a component that converts electrical signals into tactile outputs on the device . In some embodiments tactile output generator s receive tactile feedback generation instructions from haptic feedback module and generates tactile outputs on device that are capable of being sensed by a user of device . In some embodiments at least one tactile output generator is collocated with or proximate to a touch sensitive surface e.g. touch sensitive display system and optionally generates a tactile output by moving the touch sensitive surface vertically e.g. in out of a surface of device or laterally e.g. back and forth in the same plane as a surface of device . In some embodiments at least one tactile output generator sensor is located on the back of device opposite touch sensitive display system which is located on the front of device .

Device optionally also includes one or more accelerometers . shows accelerometer coupled with peripherals interface . Alternately accelerometer is optionally coupled with an input controller in I O subsystem . In some embodiments information is displayed on the touch screen display in a portrait view or a landscape view based on an analysis of data received from the one or more accelerometers. Device optionally includes in addition to accelerometer s a magnetometer not shown and a GPS or GLONASS or other global navigation system receiver not shown for obtaining information concerning the location and orientation e.g. portrait or landscape of device .

In some embodiments the software components stored in memory include operating system communication module or set of instructions contact motion module or set of instructions graphics module or set of instructions haptic feedback module or set of instructions text input module or set of instructions Global Positioning System GPS module or set of instructions and applications or sets of instructions . Furthermore in some embodiments memory stores device global internal state as shown in . Device global internal state includes one or more of active application state indicating which applications if any are currently active display state indicating what applications views or other information occupy various regions of touch sensitive display system sensor state including information obtained from the device s various sensors and other input or control devices and location and or positional information concerning the device s location and or attitude.

Operating system e.g. iOS Darwin RTXC LINUX UNIX OS X WINDOWS or an embedded operating system such as VxWorks includes various software components and or drivers for controlling and managing general system tasks e.g. memory management storage device control power management etc. and facilitates communication between various hardware and software components.

Communication module facilitates communication with other devices over one or more external ports and also includes various software components for handling data received by RF circuitry and or external port . External port e.g. Universal Serial Bus USB FIREWIRE etc. is adapted for coupling directly to other devices or indirectly over a network e.g. the Internet wireless LAN etc. . In some embodiments the external port is a multi pin e.g. 30 pin connector that is the same as or similar to and or compatible with the 30 pin connector used in some iPhone iPod Touch and iPad devices from Apple Inc. of Cupertino Calif. In some embodiments the external port is a Lightning connector that is the same as or similar to and or compatible with the Lightning connector used in some iPhone iPod Touch and iPad devices from Apple Inc. of Cupertino Calif.

Contact motion module optionally detects contact with touch sensitive display system in conjunction with display controller and other touch sensitive devices e.g. a touchpad or physical click wheel . Contact motion module includes various software components for performing various operations related to detection of contact e.g. by a finger or by a stylus such as determining if contact has occurred e.g. detecting a finger down event determining an intensity of the contact e.g. the force or pressure of the contact or a substitute for the force or pressure of the contact determining if there is movement of the contact and tracking the movement across the touch sensitive surface e.g. detecting one or more finger dragging events and determining if the contact has ceased e.g. detecting a finger up event or a break in contact . Contact motion module receives contact data from the touch sensitive surface. Determining movement of the point of contact which is represented by a series of contact data optionally includes determining speed magnitude velocity magnitude and direction and or an acceleration a change in magnitude and or direction of the point of contact. These operations are optionally applied to single contacts e.g. one finger contacts or stylus contacts or to multiple simultaneous contacts e.g. multitouch multiple finger contacts . In some embodiments contact motion module and display controller detect contact on a touchpad.

Contact motion module optionally detects a gesture input by a user. Different gestures on the touch sensitive surface have different contact patterns e.g. different motions timings and or intensities of detected contacts . Thus a gesture is optionally detected by detecting a particular contact pattern. For example detecting a finger tap gesture includes detecting a finger down event followed by detecting a finger up lift off event at the same position or substantially the same position as the finger down event e.g. at the position of an icon . As another example detecting a finger swipe gesture on the touch sensitive surface includes detecting a finger down event followed by detecting one or more finger dragging events and subsequently followed by detecting a finger up lift off event. Similarly tap swipe drag and other gestures are optionally detected for a stylus by detecting a particular contact pattern for the stylus.

Graphics module includes various known software components for rendering and displaying graphics on touch sensitive display system or other display including components for changing the visual impact e.g. brightness transparency saturation contrast or other visual property of graphics that are displayed. As used herein the term graphics includes any object that can be displayed to a user including without limitation text web pages icons such as user interface objects including soft keys digital images videos animations and the like.

In some embodiments graphics module stores data representing graphics to be used. Each graphic is optionally assigned a corresponding code. Graphics module receives from applications etc. one or more codes specifying graphics to be displayed along with if necessary coordinate data and other graphic property data and then generates screen image data to output to display controller .

Haptic feedback module includes various software components for generating instructions e.g. used by haptic feedback controller to produce tactile outputs using tactile output generator s at one or more locations on device in response to user interactions with device .

Text input module which is optionally a component of graphics module provides soft keyboards for entering text in various applications e.g. contacts e mail IM browser and any other application that needs text input .

GPS module determines the location of the device and provides this information for use in various applications e.g. to telephone for use in location based dialing to camera as picture video metadata and to applications that provide location based services such as weather widgets local yellow page widgets and map navigation widgets .

Applications optionally include the following modules or sets of instructions or a subset or superset thereof 

Examples of other applications that are optionally stored in memory include other word processing applications other image editing applications drawing applications presentation applications JAVA enabled applications encryption digital rights management voice recognition and voice replication.

In conjunction with touch sensitive display system display controller contact module graphics module and text input module contacts module includes executable instructions to manage an address book or contact list e.g. stored in application internal state of contacts module in memory or memory including adding name s to the address book deleting name s from the address book associating telephone number s e mail address es physical address es or other information with a name associating an image with a name categorizing and sorting names providing telephone numbers and or e mail addresses to initiate and or facilitate communications by telephone video conference e mail or IM and so forth.

In conjunction with RF circuitry audio circuitry speaker microphone touch sensitive display system display controller contact module graphics module and text input module telephone module includes executable instructions to enter a sequence of characters corresponding to a telephone number access one or more telephone numbers in address book modify a telephone number that has been entered dial a respective telephone number conduct a conversation and disconnect or hang up when the conversation is completed. As noted above the wireless communication optionally uses any of a plurality of communications standards protocols and technologies.

In conjunction with RF circuitry audio circuitry speaker microphone touch sensitive display system display controller optical sensor s optical sensor controller contact module graphics module text input module contact list and telephone module videoconferencing module includes executable instructions to initiate conduct and terminate a video conference between a user and one or more other participants in accordance with user instructions.

In conjunction with RF circuitry touch sensitive display system display controller contact module graphics module and text input module e mail client module includes executable instructions to create send receive and manage e mail in response to user instructions. In conjunction with image management module e mail client module makes it very easy to create and send e mails with still or video images taken with camera module .

In conjunction with RF circuitry touch sensitive display system display controller contact module graphics module and text input module the instant messaging module includes executable instructions to enter a sequence of characters corresponding to an instant message to modify previously entered characters to transmit a respective instant message for example using a Short Message Service SMS or Multimedia Message Service MMS protocol for telephony based instant messages or using XMPP SIMPLE Apple Push Notification Service APNs or IMPS for Internet based instant messages to receive instant messages and to view received instant messages. In some embodiments transmitted and or received instant messages optionally include graphics photos audio files video files and or other attachments as are supported in a MMS and or an Enhanced Messaging Service EMS . As used herein instant messaging refers to both telephony based messages e.g. messages sent using SMS or MMS and Internet based messages e.g. messages sent using XMPP SIMPLE APNs or IMPS .

In conjunction with RF circuitry touch sensitive display system display controller contact module graphics module text input module GPS module map module and music player module workout support module includes executable instructions to create workouts e.g. with time distance and or calorie burning goals communicate with workout sensors in sports devices and smart watches receive workout sensor data calibrate sensors used to monitor a workout select and play music for a workout and display store and transmit workout data.

In conjunction with touch sensitive display system display controller optical sensor s optical sensor controller contact module graphics module and image management module camera module includes executable instructions to capture still images or video including a video stream and store them into memory modify characteristics of a still image or video and or delete a still image or video from memory .

In conjunction with touch sensitive display system display controller contact module graphics module text input module and camera module image management module includes executable instructions to arrange modify e.g. edit or otherwise manipulate label delete present e.g. in a digital slide show or album and store still and or video images.

In conjunction with RF circuitry touch sensitive display system display system controller contact module graphics module and text input module browser module includes executable instructions to browse the Internet in accordance with user instructions including searching linking to receiving and displaying web pages or portions thereof as well as attachments and other files linked to web pages.

In conjunction with RF circuitry touch sensitive display system display system controller contact module graphics module text input module e mail client module and browser module calendar module includes executable instructions to create display modify and store calendars and data associated with calendars e.g. calendar entries to do lists etc. in accordance with user instructions.

In conjunction with RF circuitry touch sensitive display system display system controller contact module graphics module text input module and browser module widget modules are mini applications that are optionally downloaded and used by a user e.g. weather widget stocks widget calculator widget alarm clock widget and dictionary widget or created by the user e.g. user created widget . In some embodiments a widget includes an HTML Hypertext Markup Language file a CSS Cascading Style Sheets file and a JavaScript file. In some embodiments a widget includes an XML Extensible Markup Language file and a JavaScript file e.g. Yahoo Widgets .

In conjunction with RF circuitry touch sensitive display system display system controller contact module graphics module text input module and browser module the widget creator module includes executable instructions to create widgets e.g. turning a user specified portion of a web page into a widget .

In conjunction with touch sensitive display system display system controller contact module graphics module and text input module search module includes executable instructions to search for text music sound image video and or other files in memory that match one or more search criteria e.g. one or more user specified search terms in accordance with user instructions.

In conjunction with touch sensitive display system display system controller contact module graphics module audio circuitry speaker RF circuitry and browser module video and music player module includes executable instructions that allow the user to download and play back recorded music and other sound files stored in one or more file formats such as MP3 or AAC files and executable instructions to display present or otherwise play back videos e.g. on touch sensitive display system or on an external display connected wirelessly or via external port . In some embodiments device optionally includes the functionality of an MP3 player such as an iPod trademark of Apple Inc. .

In conjunction with touch sensitive display system display controller contact module graphics module and text input module notes module includes executable instructions to create and manage notes to do lists and the like in accordance with user instructions.

In conjunction with RF circuitry touch sensitive display system display system controller contact module graphics module text input module GPS module and browser module map module includes executable instructions to receive display modify and store maps and data associated with maps e.g. driving directions data on stores and other points of interest at or near a particular location and other location based data in accordance with user instructions.

In conjunction with touch sensitive display system display system controller contact module graphics module audio circuitry speaker RF circuitry text input module e mail client module and browser module online video module includes executable instructions that allow the user to access browse receive e.g. by streaming and or download play back e.g. on the touch screen or on an external display connected wirelessly or via external port send an e mail with a link to a particular online video and otherwise manage online videos in one or more file formats such as H.264. In some embodiments instant messaging module rather than e mail client module is used to send a link to a particular online video.

Each of the above identified modules and applications correspond to a set of executable instructions for performing one or more functions described above and the methods described in this application e.g. the computer implemented methods and other information processing methods described herein . These modules i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules are optionally combined or otherwise re arranged in various embodiments. In some embodiments memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

In some embodiments device is a device where operation of a predefined set of functions on the device is performed exclusively through a touch screen and or a touchpad. By using a touch screen and or a touchpad as the primary input control device for operation of device the number of physical input control devices such as push buttons dials and the like on device is optionally reduced.

The predefined set of functions that are performed exclusively through a touch screen and or a touchpad optionally include navigation between user interfaces. In some embodiments the touchpad when touched by the user navigates device to a main home or root menu from any user interface that is displayed on device . In such embodiments a menu button is implemented using a touchpad. In some other embodiments the menu button is a physical push button or other physical input control device instead of a touchpad.

Event sorter receives event information and determines the application and application view of application to which to deliver the event information. Event sorter includes event monitor and event dispatcher module . In some embodiments application includes application internal state which indicates the current application view s displayed on touch sensitive display system when the application is active or executing. In some embodiments device global internal state is used by event sorter to determine which application s is are currently active and application internal state is used by event sorter to determine application views to which to deliver event information.

In some embodiments application internal state includes additional information such as one or more of resume information to be used when application resumes execution user interface state information that indicates information being displayed or that is ready for display by application a state queue for enabling the user to go back to a prior state or view of application and a redo undo queue of previous actions taken by the user.

Event monitor receives event information from peripherals interface . Event information includes information about a sub event e.g. a user touch on touch sensitive display system as part of a multi touch gesture . Peripherals interface transmits information it receives from I O subsystem or a sensor such as proximity sensor accelerometer s and or microphone through audio circuitry . Information that peripherals interface receives from I O subsystem includes information from touch sensitive display system or a touch sensitive surface.

In some embodiments event monitor sends requests to the peripherals interface at predetermined intervals. In response peripherals interface transmits event information. In other embodiments peripheral interface transmits event information only when there is a significant event e.g. receiving an input above a predetermined noise threshold and or for more than a predetermined duration .

In some embodiments event sorter also includes a hit view determination module and or an active event recognizer determination module .

Hit view determination module provides software procedures for determining where a sub event has taken place within one or more views when touch sensitive display system displays more than one view. Views are made up of controls and other elements that a user can see on the display.

Another aspect of the user interface associated with an application is a set of views sometimes herein called application views or user interface windows in which information is displayed and touch based gestures occur. The application views of a respective application in which a touch is detected optionally correspond to programmatic levels within a programmatic or view hierarchy of the application. For example the lowest level view in which a touch is detected is optionally called the hit view and the set of events that are recognized as proper inputs are optionally determined based at least in part on the hit view of the initial touch that begins a touch based gesture.

Hit view determination module receives information related to sub events of a touch based gesture. When an application has multiple views organized in a hierarchy hit view determination module identifies a hit view as the lowest view in the hierarchy which should handle the sub event. In most circumstances the hit view is the lowest level view in which an initiating sub event occurs i.e. the first sub event in the sequence of sub events that form an event or potential event . Once the hit view is identified by the hit view determination module the hit view typically receives all sub events related to the same touch or input source for which it was identified as the hit view.

Active event recognizer determination module determines which view or views within a view hierarchy should receive a particular sequence of sub events. In some embodiments active event recognizer determination module determines that only the hit view should receive a particular sequence of sub events. In other embodiments active event recognizer determination module determines that all views that include the physical location of a sub event are actively involved views and therefore determines that all actively involved views should receive a particular sequence of sub events. In other embodiments even if touch sub events were entirely confined to the area associated with one particular view views higher in the hierarchy would still remain as actively involved views.

Event dispatcher module dispatches the event information to an event recognizer e.g. event recognizer . In embodiments including active event recognizer determination module event dispatcher module delivers the event information to an event recognizer determined by active event recognizer determination module . In some embodiments event dispatcher module stores in an event queue the event information which is retrieved by a respective event receiver module .

In some embodiments operating system includes event sorter . Alternatively application includes event sorter . In yet other embodiments event sorter is a stand alone module or a part of another module stored in memory such as contact motion module .

In some embodiments application includes a plurality of event handlers and one or more application views each of which includes instructions for handling touch events that occur within a respective view of the application s user interface. Each application view of the application includes one or more event recognizers . Typically a respective application view includes a plurality of event recognizers . In other embodiments one or more of event recognizers are part of a separate module such as a user interface kit not shown or a higher level object from which application inherits methods and other properties. In some embodiments a respective event handler includes one or more of data updater object updater GUI updater and or event data received from event sorter . Event handler optionally utilizes or calls data updater object updater or GUI updater to update the application internal state . Alternatively or additionally one or more of the application views includes one or more respective event handlers . Also in some embodiments one or more of data updater object updater and GUI updater are included in a respective application view .

A respective event recognizer receives event information e.g. event data from event sorter and identifies an event from the event information. Event recognizer includes event receiver and event comparator . In some embodiments event recognizer also includes at least a subset of metadata and event delivery instructions which optionally include sub event delivery instructions .

Event receiver receives event information from event sorter . The event information includes information about a sub event for example a touch or a touch movement. Depending on the sub event the event information also includes additional information such as location of the sub event. When the sub event concerns motion of a touch the event information optionally also includes speed and direction of the sub event. In some embodiments events include rotation of the device from one orientation to another e.g. from a portrait orientation to a landscape orientation or vice versa and the event information includes corresponding information about the current orientation also called device attitude of the device.

Event comparator compares the event information to predefined event or sub event definitions and based on the comparison determines an event or sub event or determines or updates the state of an event or sub event. In some embodiments event comparator includes event definitions . Event definitions contain definitions of events e.g. predefined sequences of sub events for example event event and others. In some embodiments sub events in an event include for example touch begin touch end touch movement touch cancellation and multiple touching. In one example the definition for event is a double tap on a displayed object. The double tap for example comprises a first touch touch begin on the displayed object for a predetermined phase a first lift off touch end for a predetermined phase a second touch touch begin on the displayed object for a predetermined phase and a second lift off touch end for a predetermined phase. In another example the definition for event is a dragging on a displayed object. The dragging for example comprises a touch or contact on the displayed object for a predetermined phase a movement of the touch across touch sensitive display system and lift off of the touch touch end . In some embodiments the event also includes information for one or more associated event handlers .

In some embodiments event definition includes a definition of an event for a respective user interface object. In some embodiments event comparator performs a hit test to determine which user interface object is associated with a sub event. For example in an application view in which three user interface objects are displayed on touch sensitive display system when a touch is detected on touch sensitive display system event comparator performs a hit test to determine which of the three user interface objects is associated with the touch sub event . If each displayed object is associated with a respective event handler the event comparator uses the result of the hit test to determine which event handler should be activated. For example event comparator selects an event handler associated with the sub event and the object triggering the hit test.

In some embodiments the definition for a respective event also includes delayed actions that delay delivery of the event information until after it has been determined whether the sequence of sub events does or does not correspond to the event recognizer s event type.

When a respective event recognizer determines that the series of sub events do not match any of the events in event definitions the respective event recognizer enters an event impossible event failed or event ended state after which it disregards subsequent sub events of the touch based gesture. In this situation other event recognizers if any that remain active for the hit view continue to track and process sub events of an ongoing touch based gesture.

In some embodiments a respective event recognizer includes metadata with configurable properties flags and or lists that indicate how the event delivery system should perform sub event delivery to actively involved event recognizers. In some embodiments metadata includes configurable properties flags and or lists that indicate how event recognizers interact or are enabled to interact with one another. In some embodiments metadata includes configurable properties flags and or lists that indicate whether sub events are delivered to varying levels in the view or programmatic hierarchy.

In some embodiments a respective event recognizer activates event handler associated with an event when one or more particular sub events of an event are recognized. In some embodiments a respective event recognizer delivers event information associated with the event to event handler . Activating an event handler is distinct from sending and deferred sending sub events to a respective hit view. In some embodiments event recognizer throws a flag associated with the recognized event and event handler associated with the flag catches the flag and performs a predefined process.

In some embodiments event delivery instructions include sub event delivery instructions that deliver event information about a sub event without activating an event handler. Instead the sub event delivery instructions deliver event information to event handlers associated with the series of sub events or to actively involved views. Event handlers associated with the series of sub events or with actively involved views receive the event information and perform a predetermined process.

In some embodiments data updater creates and updates data used in application . For example data updater updates the telephone number used in contacts module or stores a video file used in video player module . In some embodiments object updater creates and updates objects used in application . For example object updater creates a new user interface object or updates the position of a user interface object. GUI updater updates the GUI. For example GUI updater prepares display information and sends it to graphics module for display on a touch sensitive display.

In some embodiments event handler s includes or has access to data updater object updater and GUI updater . In some embodiments data updater object updater and GUI updater are included in a single module of a respective application or application view . In other embodiments they are included in two or more software modules.

It shall be understood that the foregoing discussion regarding event handling of user touches on touch sensitive displays also applies to other forms of user inputs to operate multifunction devices with input devices not all of which are initiated on touch screens. For example mouse movement and mouse button presses optionally coordinated with single or multiple keyboard presses or holds contact movements such as taps drags scrolls etc. on touch pads pen stylus inputs movement of the device oral instructions detected eye movements biometric inputs and or any combination thereof are optionally utilized as inputs corresponding to sub events which define an event to be recognized.

Device optionally also includes one or more physical buttons such as home or menu button . As described previously menu button is optionally used to navigate to any application in a set of applications that are optionally executed on device . Alternatively in some embodiments the menu button is implemented as a soft key in a GUI displayed on the touch screen display.

In some embodiments device includes the touch screen display menu button push button for powering the device on off and locking the device volume adjustment button s Subscriber Identity Module SIM card slot head set jack and docking charging external port . Push button is optionally used to turn the power on off on the device by depressing the button and holding the button in the depressed state for a predefined time interval to lock the device by depressing the button and releasing the button before the predefined time interval has elapsed and or to unlock the device or initiate an unlock process. In some embodiments device also accepts verbal input for activation or deactivation of some functions through microphone . Device also optionally includes one or more contact intensity sensors for detecting intensity of contacts on touch sensitive display system and or one or more tactile output generators for generating tactile outputs for a user of device .

Device typically includes one or more processing units also called herein CPU s and processors one or more network or other communications interfaces memory and one or more communication buses for interconnecting these components. Communication buses optionally include circuitry sometimes called a chipset that interconnects and controls communications between system components.

Device includes input output I O interface comprising display which is a touch screen display in some embodiments. In some embodiments I O interface is coupled to the one or more processing units and or memory through a peripherals interface not shown in . I O interface also optionally includes a keyboard and or mouse or other pointing device and touchpad tactile output generator for generating tactile outputs on device e.g. similar to tactile output generator s described above with reference to contact intensity sensors similar to contact intensity sensor s described above with reference to and or other sensors e.g. optical acceleration proximity and or touch sensitive sensors .

Memory includes high speed random access memory such as DRAM SRAM DDR RAM or other random access solid state memory devices and optionally includes non volatile memory such as one or more magnetic disk storage devices optical disk storage devices flash memory devices or other non volatile solid state storage devices. Memory optionally includes one or more storage devices remotely located from CPU s .

In some embodiments memory stores programs modules and data structures analogous to the programs modules and data structures stored in memory of portable multifunction device or a subset thereof. Furthermore memory optionally stores additional programs modules and data structures not present in memory of portable multifunction device . For example memory of device optionally stores drawing module presentation module word processing module website creation module disk authoring module and or spreadsheet module while memory of portable multifunction device optionally does not store these modules.

In some embodiments the operating system includes one or more device modules also called device drivers . The one or more device modules include software components that operate or control particular hardware devices included in or in communication with the multifunction device e.g. touchpad tactile output generators intensity sensors and other sensors shown in and or trackpad and its components shown in .

Each of the above identified elements in are optionally stored in one or more of the previously mentioned memory devices. Each of the above identified modules corresponds to a set of instructions for performing a function described above. The above identified modules or programs i.e. sets of instructions need not be implemented as separate software programs procedures or modules and thus various subsets of these modules are optionally combined or otherwise re arranged in various embodiments. In some embodiments memory optionally stores a subset of the modules and data structures identified above. Furthermore memory optionally stores additional modules and data structures not described above.

The trackpad includes touch sensitive surface . In some embodiments the trackpad includes one or more intensity sensors to detect intensity of contacts on the touch sensitive surface . In some embodiments the trackpad includes one or more tactile output generators . In some embodiments the trackpad includes one or more processors to process signals from the touch sensitive surface and the one or more intensity sensors if included and control operations of the one or more tactile output generators if included. In some embodiments the one or more processors include Intensity Sensors Controller and or Haptic Feedback Controller described above with respect to . In some embodiments the one or more processors are configured to detect contact and any movement or breaking of the contact on the touch sensitive surface and convert the detected contact into predefined user inputs such as predefined touch gestures which are processed by software applications to initiate interaction with user interface objects e.g. one or more soft keys icons web pages or images that are displayed on touch sensitive display system . In some embodiments the touchpad also includes a touch sensitive surface and one or more processors similar to the one or more processors of the trackpad .

The trackpad includes Communication Module to transmit information to the one or more processing units through the Peripherals Interface and or receive instructions from the one or more processing units and or the Peripherals Interface .

In some embodiments the trackpad includes other sensors such as a proximity sensor an accelerometer etc.

In some embodiments the multifunction device shown in includes one or more tactile output generators as shown in .

The trackpad includes one or more of a touch sensitive surface one or more intensity sensors one or more tactile output generators and a communication module as described above with respect to . In some of the embodiments in which the trackpad includes one or more processors the trackpad includes a firmware that includes instructions for execution by the one or more processors to process signals from the touch sensitive surface and or the intensity sensors and operate the tactile output generators . In some embodiments the one or more processors process raw signals from the touch sensitive surface and or the intensity sensors and transmit processed information e.g. coordinates of contacts and intensity of contacts etc. to the processors for further processing e.g. in accordance with the operating system device drivers and or the applications such as identifying a touch gesture and normalizing the intensity of contacts. In some embodiments the processed information is sent via the peripherals interface from the communication module to the processors . In some embodiments the processed information is transmitted by the processors to the processors without sending the raw signals from the touch sensitive surface and or the intensity sensors . In some embodiments the one or more processors further process the processed information to obtain mapped information e.g. information for an identified gesture normalized intensity etc. and sends the mapped information to the processors . This reduces the work load of the processors . In some embodiments the processors are multi purpose processing units e.g. CPUs APUs etc. and the processors are application specific processing units e.g. application specific integrated circuits ASICs and or field programmable gate arrays FPGA which may be more power efficient than multi purpose processing units.

In some embodiments information received through the peripherals interface is processed by the processors using the communication module and then using the device drivers . For example information based on signals measured by the touch sensitive surface is routed to a device driver that corresponds to the touch sensitive surface and information based on signals measured by the one or more intensity sensors is routed to a device driver that corresponds to the one or more intensity sensors . In some embodiments a single device driver that corresponds to the trackpad includes instructions for handling the information based on signals measured by the touch sensitive surface and the information based on signals measured by the one or more intensity sensors .

In some embodiments the processors sends instructions to the trackpad e.g. in accordance with the applications to generate a tactile output using a device driver that corresponds to the tactile output generators .

In some embodiments the device drivers are separate from the operating system as illustrated in . In some embodiments the device drivers are included in the operating system . In some embodiments the communication module is separate from the operating system . In some embodiments the communication module is included in the operating system .

Hardware e.g. electronic circuitry of the device is at the base level of the architecture. Hardware can include various hardware interface components such as the components depicted in . For example Hardware includes Touch Sensitive Surface and the one or more Intensity Sensors described above with respect to . At least some of the other elements and of the architecture are software procedures or portions of software procedures that process inputs received from Hardware and generate various outputs that are presented through a hardware user interface e.g. one or more of a display speakers device vibration actuator etc. .

Firmware is used to communicate with Hardware . In some embodiments Firmware includes device drivers. Firmware is used to receive and process input data received from Hardware . In some embodiments at least a portion of Hardware and Firmware is implemented in Trackpad .

In some embodiments Operating System OS communicates with Firmware . OS can process raw input data or processed data received from Firmware .

Application Programming Interfaces APIs are software procedures that are used to communicate with OS or Device Drivers of . In some embodiments APIs are included in the device s operating system but at a level above its core OS. APIs are designed for use by Applications running on the electronic devices or apparatuses discussed herein. Application software includes one or more applications .

While each layer in the architecture can utilize the layer underneath it that is not always required. For example in some embodiments Applications may directly communicate with OS . In some embodiments Applications and API cannot directly access Firmware or Hardware as these layers are considered private. Applications usually direct calls API which in turn accesses OS Firmware and Hardware .

In application communicates with contact motion module . In some embodiments contact motion module is implemented in OS . In some embodiments contact motion module is separate from OS . In some embodiments contact motion module is implemented in firmware .

In some embodiments contact module includes event sorter . In some embodiments contact intensity module includes contact intensity module that detects intensity of a contact on a touch sensitive surface.

In some embodiments contact motion module stores a plurality of intensity models . In some embodiments the plurality of intensity models e.g. two or more intensity models or alternatively three or more intensity models is used by contact intensity module . A respective intensity model in the plurality of intensity models includes one or more of the following or a superset or subset thereof 

In some embodiments intensity thresholds include one or more intensity thresholds for one or more intensity stages e.g. etc. . For example intensity thresholds include an activation threshold for entering a respective intensity stage. In some embodiments intensity thresholds include a release threshold for exiting from the respective intensity stage. In some embodiments the release threshold for the respective intensity stage is identical to the activation threshold for the respective intensity stage. In some embodiments the release threshold for the respective intensity stage is distinct from the activation threshold for the respective intensity stage. In some embodiments intensity thresholds include one or more transition intensity thresholds . For example intensity thresholds may include a transition intensity threshold associated with the activation threshold which is used to indicate that a contact of certain intensity is in a transition range from the activation threshold . Additionally or alternatively intensity thresholds may include a transition intensity threshold associated with the release threshold which is used to indicate that a contact of certain intensity is in a transition range from the release threshold . In some embodiments intensity thresholds include tactile output parameters which indicate whether or not a tactile output is to be generated that intensity of a contact crosses one of the intensity thresholds and if a tactile output is to be generated what type of a tactile output is to be generated e.g. intensity duration and waveform of the tactile output .

In some embodiments information sent by application to contact motion module especially contact intensity module of contact motion module includes one or more of the following or a subset or superset thereof 

In some embodiments information sent by contact motion module especially contact intensity module of contact motion module includes one or more of the following or a subset or superset thereof 

These information to and or from contact motion module need not be transmitted concurrently. For example in some embodiments availability information is sent separately from characterization parameters by contact intensity module . In another example tactile output trigger is transmitted separately from tracking region in some embodiments.

In some embodiments information exchanged between application and contact motion module is transmitted through Application Programming Interface s .

Although illustrates communication between contact motion module and application contact motion module can be in communication with multiple different applications e.g. contacts module telephone module video conference module e mail client module instant messaging module workout support module camera module image management module browser module calendar module widget modules search module video and music player module drawing module presentation module word processing module website creation module disk authoring module spreadsheet module that are configured to receive contact information e.g. touch events that include contact information . In some embodiments contact motion module is also in communication with third party applications. In some embodiments contact motion module controls for multiple applications how press inputs are interpreted e.g. changing intensity thresholds . This allows press inputs to be interpreted consistently across the multiple applications e.g. providing consistent trackpad configurations and or providing consistent tactile outputs .

Attention is now directed towards embodiments of user interfaces UI that are optionally implemented on portable multifunction device .

It should be noted that the icon labels illustrated in are merely exemplary. For example in some embodiments icon for video and music player module is labeled Music or Music Player. Other labels are optionally used for various application icons. In some embodiments a label for a respective application icon includes a name of an application corresponding to the respective application icon. In some embodiments a label for a particular application icon is distinct from a name of an application corresponding to the particular application icon.

Additionally while the following examples are given primarily with reference to finger inputs e.g. finger contacts finger tap gestures finger swipe gestures etc. it should be understood that in some embodiments one or more of the finger inputs are replaced with input from another input device e.g. a mouse based input or a stylus input . For example a swipe gesture is optionally replaced with a mouse click e.g. instead of a contact followed by movement of the cursor along the path of the swipe e.g. instead of movement of the contact . As another example a tap gesture is optionally replaced with a mouse click while the cursor is located over the location of the tap gesture e.g. instead of detection of the contact followed by ceasing to detect the contact . Similarly when multiple user inputs are simultaneously detected it should be understood that multiple computer mice are optionally used simultaneously or a mouse and finger contacts are optionally used simultaneously.

As used herein the term focus selector refers to an input element that indicates a current part of a user interface with which a user is interacting. In some implementations that include a cursor or other location marker the cursor acts as a focus selector so that when an input e.g. a press input is detected on a touch sensitive surface e.g. touchpad in or touch sensitive surface in while the cursor is over a particular user interface element e.g. a button window slider or other user interface element the particular user interface element is adjusted in accordance with the detected input. In some implementations that include a touch screen display e.g. touch sensitive display system in or the touch screen in that enables direct interaction with user interface elements on the touch screen display a detected contact on the touch screen acts as a focus selector so that when an input e.g. a press input by the contact is detected on the touch screen display at a location of a particular user interface element e.g. a button window slider or other user interface element the particular user interface element is adjusted in accordance with the detected input. In some implementations focus is moved from one region of a user interface to another region of the user interface without corresponding movement of a cursor or movement of a contact on a touch screen display e.g. by using a tab key or arrow keys to move focus from one button to another button in these implementations the focus selector moves in accordance with movement of focus between different regions of the user interface. Without regard to the specific form taken by the focus selector the focus selector is generally the user interface element or contact on a touch screen display that is controlled by the user so as to communicate the user s intended interaction with the user interface e.g. by indicating to the device the element of the user interface with which the user is intending to interact . For example the location of a focus selector e.g. a cursor a contact or a selection box over a respective button while a press input is detected on the touch sensitive surface e.g. a touchpad or touch screen will indicate that the user is intending to activate the respective button as opposed to other user interface elements shown on a display of the device .

As used in the specification and claims the term intensity of a contact on a touch sensitive surface refers to the force or pressure force per unit area of a contact e.g. a finger contact or a stylus contact on the touch sensitive surface or to a substitute proxy for the force or pressure of a contact on the touch sensitive surface. The intensity of a contact has a range of values that includes at least four distinct values and more typically includes hundreds of distinct values e.g. at least 256 . Intensity of a contact is optionally determined or measured using various approaches and various sensors or combinations of sensors. For example one or more force sensors underneath or adjacent to the touch sensitive surface are optionally used to measure force at various points on the touch sensitive surface. In some implementations force measurements from multiple force sensors are combined e.g. a weighted average or a sum to determine an estimated force of a contact. Similarly a pressure sensitive tip of a stylus is optionally used to determine a pressure of the stylus on the touch sensitive surface. Alternatively the size of the contact area detected on the touch sensitive surface and or changes thereto the capacitance of the touch sensitive surface proximate to the contact and or changes thereto and or the resistance of the touch sensitive surface proximate to the contact and or changes thereto are optionally used as a substitute for the force or pressure of the contact on the touch sensitive surface. In some implementations the substitute measurements for contact force or pressure are used directly to determine whether an intensity threshold has been exceeded e.g. the intensity threshold is described in units corresponding to the substitute measurements . In some implementations the substitute measurements for contact force or pressure are converted to an estimated force or pressure and the estimated force or pressure is used to determine whether an intensity threshold has been exceeded e.g. the intensity threshold is a pressure threshold measured in units of pressure . Using the intensity of a contact as an attribute of a user input allows user access to additional device functionality that may otherwise not be readily accessible by the user on a reduced size device with limited real estate for displaying affordances e.g. on a touch sensitive display and or receiving user input e.g. via a touch sensitive display a touch sensitive surface or a physical mechanical control such as a knob or a button .

In some embodiments contact motion module uses a set of one or more intensity thresholds to determine whether an operation has been performed by a user e.g. to determine whether a user has clicked on an icon . In some embodiments at least a subset of the intensity thresholds are determined in accordance with software parameters e.g. the intensity thresholds are not determined by the activation thresholds of particular physical actuators and can be adjusted without changing the physical hardware of device . For example a mouse click threshold of a trackpad or touch screen display can be set to any of a large range of predefined thresholds values without changing the trackpad or touch screen display hardware. Additionally in some implementations a user of the device is provided with software settings for adjusting one or more of the set of intensity thresholds e.g. by adjusting individual intensity thresholds and or by adjusting a plurality of intensity thresholds at once with a system level click intensity parameter .

As used in the specification and claims the term characteristic intensity of a contact refers to a characteristic of the contact based on one or more intensities of the contact. In some embodiments the characteristic intensity is based on multiple intensity samples. The characteristic intensity is optionally based on a predefined number of intensity samples or a set of intensity samples collected during a predetermined time period e.g. 0.05 0.1 0.2 0.5 1 2 5 10 seconds relative to a predefined event e.g. after detecting the contact prior to detecting liftoff of the contact before or after detecting a start of movement of the contact prior to detecting an end of the contact before or after detecting an increase in intensity of the contact and or before or after detecting a decrease in intensity of the contact . A characteristic intensity of a contact is optionally based on one or more of a maximum value of the intensities of the contact a mean value of the intensities of the contact an average value of the intensities of the contact a top 10 percentile value of the intensities of the contact a value at the half maximum of the intensities of the contact a value at the 90 percent maximum of the intensities of the contact or the like. In some embodiments the duration of the contact is used in determining the characteristic intensity e.g. when the characteristic intensity is an average of the intensity of the contact over time . In some embodiments the characteristic intensity is compared to a set of one or more intensity thresholds to determine whether an operation has been performed by a user. For example the set of one or more intensity thresholds may include a first intensity threshold and a second intensity threshold. In this example a contact with a characteristic intensity that does not exceed the first threshold results in a first operation a contact with a characteristic intensity that exceeds the first intensity threshold and does not exceed the second intensity threshold results in a second operation and a contact with a characteristic intensity that exceeds the second intensity threshold results in a third operation. In some embodiments a comparison between the characteristic intensity and one or more intensity thresholds is used to determine whether or not to perform one or more operations e.g. whether to perform a respective option or forgo performing the respective operation rather than being used to determine whether to perform a first operation or a second operation.

In some embodiments a portion of a gesture is identified for purposes of determining a characteristic intensity. For example a touch sensitive surface may receive a continuous swipe contact transitioning from a start location and reaching an end location e.g. a drag gesture at which point the intensity of the contact increases. In this example the characteristic intensity of the contact at the end location may be based on only a portion of the continuous swipe contact and not the entire swipe contact e.g. only the portion of the swipe contact at the end location . In some embodiments a smoothing algorithm may be applied to the intensities of the swipe contact prior to determining the characteristic intensity of the contact. For example the smoothing algorithm optionally includes one or more of an unweighted sliding average smoothing algorithm a triangular smoothing algorithm a median filter smoothing algorithm and or an exponential smoothing algorithm. In some circumstances these smoothing algorithms eliminate narrow spikes or dips in the intensities of the swipe contact for purposes of determining a characteristic intensity.

The user interface figures e.g. described below optionally include various intensity diagrams that show the current intensity of the contact on the touch sensitive surface relative to one or more intensity thresholds e.g. a contact detection intensity threshold IT a latching intensity threshold IT an activation intensity threshold IT and or one or more other intensity thresholds . This intensity diagram is typically not part of the displayed user interface but is provided to aid in the interpretation of the figures. In some embodiments a light press intensity threshold e.g. a lower intensity threshold corresponds to an intensity at which the device will perform operations typically associated with clicking a button of a physical mouse or a trackpad. In some embodiments a deep press intensity threshold e.g. a higher intensity threshold corresponds to an intensity at which the device will perform operations that are different from operations typically associated with clicking a button of a physical mouse or a trackpad. In some embodiments when a contact is detected with a characteristic intensity below the light press intensity threshold e.g. and above a nominal contact detection intensity threshold ITbelow which the contact is no longer detected the device will move a focus selector in accordance with movement of the contact on the touch sensitive surface without performing an operation associated with the light press intensity threshold or the deep press intensity threshold. Generally unless otherwise stated these intensity thresholds are consistent between different sets of user interface figures.

In some embodiments the response of the device to inputs detected by the device depends on criteria based on the contact intensity during the input. For example for some light press inputs the intensity of a contact exceeding a first intensity threshold during the input triggers a first response. In some embodiments the response of the device to inputs detected by the device depends on criteria that include both the contact intensity during the input and time based criteria. For example for some deep press inputs the intensity of a contact exceeding a second intensity threshold during the input greater than the first intensity threshold for a light press triggers a second response only if a delay time has elapsed between meeting the first intensity threshold and meeting the second intensity threshold. This delay time is typically less than 200 ms in duration e.g. 40 100 or 120 ms depending on the magnitude of the second intensity threshold with the delay time increasing as the second intensity threshold increases . This delay time helps to avoid accidental deep press inputs. As another example for some deep press inputs there is a reduced sensitivity time period that occurs after the time at which the first intensity threshold is met. During the reduced sensitivity time period the second intensity threshold is increased. This temporary increase in the second intensity threshold also helps to avoid accidental deep press inputs. For other deep press inputs the response to detection of a deep press input does not depend on time based criteria.

In some embodiments one or more of the input intensity thresholds and or the corresponding outputs vary based on one or more factors such as user settings contact motion input timing application running rate at which the intensity is applied number of concurrent inputs user history environmental factors e.g. ambient noise focus selector position and the like. Exemplary factors are described in U.S. patent application Ser. Nos. 14 399 606 and 14 624 296 which are incorporated by reference herein in their entireties.

For example illustrates a dynamic intensity threshold that changes over time based in part on the intensity of touch input over time. Dynamic intensity threshold is a sum of two components first component that decays over time after a predefined delay time p from when touch input is initially detected and second component that trails the intensity of touch input over time. The initial high intensity threshold of first component reduces accidental triggering of a deep press response while still allowing an immediate deep press response if touch input provides sufficient intensity. Second component reduces unintentional triggering of a deep press response by gradual intensity fluctuations of a touch input. In some embodiments when touch input satisfies dynamic intensity threshold e.g. at point in the deep press response is triggered.

An increase of characteristic intensity of the contact from an intensity below the light press intensity threshold to an intensity between the light press intensity threshold and the deep press intensity threshold is sometimes referred to as a light press input. An increase of characteristic intensity of the contact from an intensity below the deep press intensity threshold to an intensity above the deep press intensity threshold is sometimes referred to as a deep press input. An increase of characteristic intensity of the contact from an intensity below the contact detection intensity threshold ITto an intensity between the contact detection intensity threshold ITand the light press intensity threshold ITis sometimes referred to as detecting the contact on the touch surface. A decrease of characteristic intensity of the contact from an intensity above the contact detection intensity threshold ITto an intensity below the contact detection intensity threshold ITis sometimes referred to as detecting liftoff of the contact from the touch surface. In some embodiments ITis zero. In some embodiments ITis greater than zero. In some illustrations a shaded circle or oval is used to represent intensity of a contact on the touch sensitive surface. In some illustrations a circle or oval without shading is used represent a respective contact on the touch sensitive surface without specifying the intensity of the respective contact.

In some embodiments described herein one or more operations are performed in response to detecting a gesture that includes a respective press input or in response to detecting the respective press input performed with a respective contact or a plurality of contacts where the respective press input is detected based at least in part on detecting an increase in intensity of the contact or plurality of contacts above a press input intensity threshold. In some embodiments the respective operation is performed in response to detecting the increase in intensity of the respective contact above the press input intensity threshold e.g. the respective operation is performed on a down stroke of the respective press input . In some embodiments the press input includes an increase in intensity of the respective contact above the press input intensity threshold and a subsequent decrease in intensity of the contact below the press input intensity threshold and the respective operation is performed in response to detecting the subsequent decrease in intensity of the respective contact below the press input threshold e.g. the respective operation is performed on an up stroke of the respective press input .

In some embodiments the device employs intensity hysteresis to avoid accidental inputs sometimes termed jitter where the device defines or selects a hysteresis intensity threshold with a predefined relationship to the press input intensity threshold e.g. the hysteresis intensity threshold is X intensity units lower than the press input intensity threshold or the hysteresis intensity threshold is 75 90 or some reasonable proportion of the press input intensity threshold . Thus in some embodiments the press input includes an increase in intensity of the respective contact above the press input intensity threshold and a subsequent decrease in intensity of the contact below the hysteresis intensity threshold that corresponds to the press input intensity threshold and the respective operation is performed in response to detecting the subsequent decrease in intensity of the respective contact below the hysteresis intensity threshold e.g. the respective operation is performed on an up stroke of the respective press input . Similarly in some embodiments the press input is detected only when the device detects an increase in intensity of the contact from an intensity at or below the hysteresis intensity threshold to an intensity at or above the press input intensity threshold and optionally a subsequent decrease in intensity of the contact to an intensity at or below the hysteresis intensity and the respective operation is performed in response to detecting the press input e.g. the increase in intensity of the contact or the decrease in intensity of the contact depending on the circumstances .

For ease of explanation the description of operations performed in response to a press input associated with a press input intensity threshold or in response to a gesture including the press input are optionally triggered in response to detecting an increase in intensity of a contact above the press input intensity threshold an increase in intensity of a contact from an intensity below the hysteresis intensity threshold to an intensity above the press input intensity threshold a decrease in intensity of the contact below the press input intensity threshold or a decrease in intensity of the contact below the hysteresis intensity threshold corresponding to the press input intensity threshold. Additionally in examples where an operation is described as being performed in response to detecting a decrease in intensity of a contact below the press input intensity threshold the operation is optionally performed in response to detecting a decrease in intensity of the contact below a hysteresis intensity threshold corresponding to and lower than the press input intensity threshold. As described above in some embodiments the triggering of these responses also depends on time based criteria being met e.g. a delay time has elapsed between a first intensity threshold being met and a second intensity threshold being met .

Attention is now directed towards embodiments of user interfaces UI and associated processes that may be implemented on an electronic device such as portable multifunction device or device with a display a touch sensitive surface and one or more sensors to detect intensity of contacts with the touch sensitive surface.

Cursor is also displayed on display . Cursor is an example of a focus selector. A user may move cursor on display e.g. using touch sensitive surface of the device to bring focus to an element displayed on display e.g. a user interface object an icon a link etc. by moving a contact on touch sensitive surface . shows movement of contact down and to the left on touch sensitive surface that causes the device to move cursor down and to the left on display .

When the intensity of contact increases from an intensity below the first intensity threshold to an intensity above the first intensity threshold the device expands icon to show an animation of converting icon into preview interface . In accordance with a determination that the intensity of contact satisfies e.g. is above the first intensity threshold contact is deemed to be in stage 1. The stage progress value is updated for stage 1. In some embodiments an intensity that corresponds to the first intensity threshold is deemed to correspond to 0 or 0 stage progress value for stage 1 and an intensity that corresponds to a second intensity threshold e.g. IT is deemed to correspond to 100 or 1 stage progress value for stage 1.

In although the intensity of contact has not changed from Figure SI due to the change in the intensity thresholds contact is deemed to be in stage 2. Thus preview interface ceases to fill window e.g. preview interface is reduced from the enlarged preview interface shown in .

In some embodiments the intensity thresholds are predefined or preselected for respective regions. For example in icon is associated with a first intensity model that includes a first set of intensity thresholds and an email icon e.g. through is associated with a second intensity model that is distinct from the first intensity model and includes a second set of intensity thresholds. also shows that at least a portion of a user interface of a second software application e.g. a drawing application is also shown. In the user interface of the second software application is associated with a third intensity model that is distinct from the first intensity model and the second intensity model and includes a third set of intensity threshold.

In some embodiments for a contact starting from the region tactile outputs are suppressed even when the contact moves to a location that corresponds to a selection region on display.

Although are described above with respect to recognition of handwritten characters similar methods devices and user interfaces may be used for recognition of hand drawn content sometimes called or including handwritten content of a different type e.g. recognition of shapes or a combination of shapes and characters letters .

In addition although illustrate a user interface of a handwriting input tool region with a plurality of selection regions in some embodiments a drawing region without any selection regions is used. For example when character recognition or shape recognition is not needed the plurality of selection regions may be omitted. In some embodiments a single intensity model is used for the entire handwriting input tool region.

As described below the method simplifies processing of touch inputs. The method reduces the computational burden on a software application thereby creating a more efficient electronic device. In addition the size of the software application is reduced thereby occupying less storage space and memory.

In response to detecting the touch input on the touch sensitive surface the device determines an intensity of the touch input e.g. a force applied by the touch input on the touch sensitive surface e.g. Intensity of Contact .

In accordance with the intensity of the touch input on the touch sensitive surface and one or more preselected intensity thresholds the device determines an intensity stage of the touch input. For example contact is determined to be in stage 1 in . The intensity stage of the touch input is selected from a plurality of predefined intensity stages e.g. stages 1 2 and 3 . In some embodiments the plurality of predefined intensity stages includes three or more distinct intensity stages. In some embodiments the plurality of predefined intensity stages includes three or more non overlapping intensity stages.

In some embodiments determining the intensity stage of the touch input includes comparing the intensity of the touch input with the one or more preselected intensity thresholds. In some embodiments determining the intensity stage of the touch input depends on a previous intensity stage of the touch input. For example if the touch input has been in stage 2 the intensity of the touch input is compared with an activation intensity threshold for stage 3 to determine whether the touch input transitions to stage 3 and with a release intensity threshold for stage 2 to determine whether the touch input transitions to stage 1. In some embodiments the determination of the intensity stage of the touch input is performed by the contact motion module e.g. the contact intensity module in the contact motion module .

In some embodiments the intensity stage of the touch input is determined in accordance with the intensity of the touch input on the touch sensitive surface the one or more predefined intensity thresholds and time based criteria described above. As explained above for some deep press inputs the intensity of a contact exceeding a second intensity threshold during the input greater than the first intensity threshold for a light press triggers a second response only if a delay time has elapsed between meeting the first intensity threshold and meeting the second intensity threshold.

In some embodiments the device stores a first software application e.g. E mail Client Module . The intensity stage of the touch input is determined by a contact intensity module that is distinct and separate from the first software application e.g. a firmware embedded in a touch sensitive input device such as a trackpad that include the touch sensitive surface an operating system etc. . For example in contact intensity module in contact motion module sends touch information which in some embodiments include intensity stage to application .

In some embodiments the device sends to the first software application from the contact intensity module touch information that identifies the intensity stage of the touch input e.g. in touch information including intensity stage is sent from contact intensity module to application .

In some embodiments the device sends information from the contact intensity module the information indicating that the intensity of the touch input is available to the first software application e.g. availability information .

In some embodiments the device repeats the operations of determining an intensity of the touch input determining an intensity stage of the touch input and sends touch information while the touch input is detected on the touch sensitive surface. In some embodiments the operations are repeated at a predefined interval or a predefined frequency . For example the device repeats such operations while a contact remains on the touch sensitive surface.

In some embodiments the device determines one or more intensity based progress values of the touch input based on an intensity range associated with the determined intensity stage and sends touch information to the first software application e.g. touch information in . The touch information includes the one or more intensity based progress values of the touch input e.g. stage progress value and transition progress value and information identifying the intensity stage of the touch input e.g. intensity stage .

In some embodiments the one or more intensity based progress values of the touch input include a transition progress value of the touch input e.g. transition progress value . In some embodiments the transition progress value indicates a normalized intensity required for a transition to an intensity stage that is adjacent to the determined intensity stage.

In some embodiments the one or more intensity based progress values of the touch input include a stage progress value of the touch input e.g. stage progress value . In some embodiments the stage progress value indicates a normalized intensity that is based on the intensity of the touch input and predefined intensity thresholds for the determined intensity stage.

In some embodiments in response to detecting the touch input the device determines a first intensity applied by the touch input on the touch sensitive surface e.g. intensity of contact in . In accordance with a determination that the first intensity applied by the touch input on the touch sensitive surface does not satisfy a stage activation intensity threshold for a second intensity stage the device determines that the touch input is in a first intensity stage that is distinct from the second intensity stage e.g. in contact remains in stage 1 . In some embodiments the second intensity stage is adjacent to the first intensity stage. In some embodiments the method includes sending first touch information that identifies the first intensity stage of the touch input to the first software application. Subsequent to determining that the touch input is in the first intensity stage the device determines a second intensity applied by the touch input on the touch sensitive surface e.g. intensity of contact in . The second intensity is distinct from the first intensity. In some embodiments the device determines that an intensity applied by the touch input on the touch sensitive surface has changed from the first intensity to the second intensity. In accordance with a determination that the second intensity applied by the touch input on the touch sensitive surface satisfies the stage activation intensity threshold for the second intensity stage e.g. intensity of contact is above IT in the device determines that the touch input is in the second intensity stage e.g. in contact is in stage 2 .

In some embodiments subsequent to determining that the touch input is in the second intensity stage the device determines a third intensity applied by the touch input on the touch sensitive surface e.g. intensity of contact in . The third intensity is distinct from the second intensity. In accordance with a determination that the third intensity does not satisfy a stage release intensity threshold for the second intensity stage e.g. intensity of contact is above IT in distinct from the stage activation intensity threshold for the second intensity stage e.g. IT in the device determines that the touch input remains in the second intensity stage e.g. contact remains in stage 2 in . Subsequent to determining that the touch input remains in the second intensity stage the device determines a fourth intensity applied by the touch input on the touch sensitive surface e.g. intensity of contact in . The fourth intensity is distinct from the third intensity. In accordance with a determination that the fourth intensity satisfies the stage release intensity threshold for the second intensity stage e.g. IT in the device determines that the touch input is in the first intensity stage e.g. contact is in stage 1 in .

In some embodiments subsequent to determining that the touch input remains in the second intensity stage the device determines a third intensity applied by the touch input on the touch sensitive surface e.g. intensity of contact in . The third intensity is distinct from the second intensity. In accordance with a determination that the third intensity satisfies a stage activation threshold for the third intensity stage e.g. IT in distinct from the stage activation intensity threshold for the second intensity stage the device determines that the touch input is in the third intensity stage e.g. contact is in stage 3 in .

In some embodiments subsequent to determining that the touch input is in the third intensity stage the device determines a fourth intensity applied by the touch input on the touch sensitive surface e.g. intensity of contact in . The fourth intensity is distinct from the third intensity. In accordance with a determination that the fourth intensity satisfies a stage release intensity threshold for the third intensity stage e.g. intensity of contact is below IT in distinct from the stage activation threshold for the third intensity stage the device determines that the touch input is in the second intensity stage.

In some embodiments the device identifies an intensity model identifier from a plurality of predefined intensity model identifiers e.g. exemplary intensity models and corresponding intensity model identifiers described in Appendix A . The intensity stage of the touch input is selected from a plurality of intensity stages that correspond to the identified intensity model identifier.

The device processes the touch input based on the intensity stage of the touch input e.g. generates a tactile output .

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the touch input processing described above with reference to method optionally have one or more of the characteristics of the touch input processing based on a touch characterization parameter described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

In addition one of ordinary skill in the art would recognize that many modifications and variations are possible in view of the above teachings.

For example in accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface. The electronic device includes one or more sensors to detect intensity of contacts with the touch sensitive surface e.g. the touch sensitive surface includes one or more sensors to detect the intensity of contacts with the touch sensitive surface . In some embodiments the touch sensitive surface is integrated with a display. In some embodiments the touch sensitive surface is separate from the display. The method includes in response detecting the touch input on the touch sensitive surface determining an intensity of the touch input on the touch sensitive surface and in accordance with the intensity of the touch input on the touch sensitive surface and one or more preselected intensity thresholds a transition progress value of the touch input. The method also includes processing the touch input based on the transition progress value of the touch input.

For another example in accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface. The electronic device includes one or more sensors to detect intensity of contacts with the touch sensitive surface e.g. the touch sensitive surface includes one or more sensors to detect the intensity of contacts with the touch sensitive surface . In some embodiments the touch sensitive surface is integrated with a display. In some embodiments the touch sensitive surface is separate from the display. The method includes in response detecting the touch input on the touch sensitive surface determining an intensity of the touch input on the touch sensitive surface and in accordance with the intensity of the touch input on the touch sensitive surface and one or more preselected intensity thresholds a stage progress value of the touch input. The method also includes processing the touch input based on the stage progress value of the touch input.

The device displays a user interface on the display e.g. a user interface of an email application is displayed in .

While displaying the user interface the device receives at the first software application from a contact intensity module distinct from the first software application touch information that identifies an intensity stage of a touch input detected on the touch sensitive surface e.g. application receives touch information from contact intensity module .

The device updates the user interface in accordance with at least the intensity stage of the touch input e.g. an animation is shown in .

In some embodiments the device displays an animation corresponding to a transition to or from a predefined intensity state of the touch input the animation corresponding to an intensity based progress value of the touch input. For example the animation illustrated in corresponds to a stage progress value of contact . In some embodiments the touch information received at the first software application from the contact intensity module also identifies the intensity based progress value of the touch input.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the intensity stage described above with reference to method optionally have one or more of the characteristics of the intensity stage described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

As described below the method simplifies processing of touch inputs. The method reduces the computational burden on a software application thereby creating a more efficient electronic device. In addition the size of the software application is reduced thereby occupying less storage space and memory.

In response to detecting the first touch input on the touch sensitive surface the device determines a first intensity applied by the first touch input on the touch sensitive surface e.g. intensity of contact in .

The device identifies a first intensity model identifier from a plurality of predefined intensity model identifiers.

In some embodiments identifying the first intensity model identifier includes identifying the first software application as corresponding to the touch input and identifying an intensity model identifier registered by or for or corresponding to the first software application as the first intensity model identifier. For example the device may identify use info in intensity models and identify an intensity model identifier registered by the first software application.

In some embodiments in response to detecting the first touch input on the touch sensitive surface the device generates a tactile output in accordance with the intensity applied by the first touch input on the touch sensitive surface and the one or more thresholds associated with the first intensity model identifier e.g. a tactile output is generated when intensity of a contact crosses one of the intensity thresholds . In some embodiments a tactile output can be generated by either the contact intensity module or the first software application e.g. the contact intensity and or the first software application may send instructions to one or more tactile output generators to initiate the generation of a tactile output .

In accordance with the first intensity applied by the first touch input on the touch sensitive surface and one or more thresholds associated with the first intensity model identifier the device determines a first touch characterization parameter e.g. intensity stage transition progress or stage progress . In some embodiments the intensity thresholds are adjusted based on historical user actions. For example if a user repeatedly applying high intensity that exceeds certain criteria intensity thresholds are increased for the user.

In some embodiments the device selects a set of thresholds e.g. intensity thresholds from a plurality of sets of thresholds in accordance with the identified intensity model identifier and determines the touch characterization parameter in accordance with the selected set of thresholds. For example the touch characterization parameter may be determined using the set of thresholds e.g. associated with a first intensity model identifier shown in or the set of thresholds e.g. associated with a second intensity model identifier shown in .

In some embodiments the device identifies one or more or alternatively two or more intensity ranges in accordance with the identified intensity model identifier and determines a touch characterization parameter in accordance with the one or more identified intensity ranges. For example intensity ranges may be used instead of or in addition to using intensity thresholds to determine one or more touch characterization parameters.

Subsequent to determining the first touch characterization parameter the device sends first touch information to the first software application. The first touch information includes the first intensity model identifier and the first touch characterization parameter e.g. in touch information includes intensity model identifier and characterization parameters .

In some embodiments sends a stream of intensity events to the first software application each intensity event corresponding to an intensity applied by the touch input at a corresponding time.

In some embodiments the device receives one or more instructions from the first software application to generate a tactile output e.g. tactile output trigger . In response to receiving the one or more instructions from the software application the device generates the tactile output in accordance with the one or more instructions from the software application.

In some embodiments while continuing to detect the first touch input on the touch sensitive surface the device receives one or more instructions to use an intensity model that corresponds to a second intensity model identifier that is distinct from the first intensity model identifier e.g. from the first software application . For example in application sends intensity model identifier to be used by contact intensity module for a specified range of locations e.g. tracking region on the display. Subsequent to receiving the one or more instructions to use the intensity model that corresponds to the second intensity model identifier the device determines a second intensity applied by the first touch input on the touch sensitive surface and processes the first touch input based on the second intensity model identifier. For example in icon and email icon are associated with distinct intensity models and the first touch input once moved on the touch sensitive surface to a location that corresponds to email icon is processed based on an intensity model associated with email icon such as a second intensity model . In some embodiments or in some circumstances the first intensity and the second intensity are identical. Even though the first intensity and the second intensity are identical the device may respond differently based on the intensity thresholds in the intensity models. In some embodiments or some circumstances the second intensity and the first intensity are distinct.

In some embodiments the device determines that the first touch input has ceased to be detected on the touch sensitive surface e.g. a complete lift off of the first touch input or reduced intensity below a detection threshold and detects a subsequent touch input. The device identifies a second intensity model identifier based on a location of the subsequent touch input e.g. a location on touch sensitive surface or a corresponding location on display .

In some embodiments while continuing to detect the first touch input on the touch sensitive surface subsequent to processing the first touch input based on the second intensity model identifier the device receives one or more instructions to use an intensity model that corresponds to a third intensity model identifier that is distinct from the first intensity model identifier and the second intensity model identifier e.g. from the first software application . Subsequent to receiving the one or more instructions to use the intensity model that corresponds to the third intensity model identifier the device determines a third intensity applied by the first touch input on the touch sensitive surface and processes the first touch input based on the third intensity model identifier. In some embodiments the third intensity corresponds to the second intensity. In some embodiments the third intensity and the second intensity are identical.

In some embodiments the device determines that the first touch input has ceased to be detected on the touch sensitive surface. Subsequent to determining that the first touch input has ceased to be detected on the touch sensitive surface the device detects a second touch input on the touch sensitive surface that is separate from the first touch input and processes the second touch input based on the first intensity model identifier. For example as shown in the second intensity model expires e.g. the device switches back to the first intensity model upon the lift off of the first touch input. In some embodiments the device selects the first intensity model identifier based on a location of the second touch input.

In some embodiments processing the touch input based on the second intensity model identifier includes in accordance with the second intensity applied by the touch input on the touch sensitive surface and one or more thresholds associated with the second intensity model identifier determining a second touch characterization parameter e.g. intensity stage stage progress value and or transition progress value in . The second touch characterization parameter is distinct from the first touch characterization parameter. For example the touch characterization parameter e.g. stage transition progress stage progress etc. has changed because the intensity model identifier and the corresponding intensity model has changed regardless of whether the intensity of the touch input has changed. Processing the touch input also includes subsequent to determining the second touch characterization parameter sending second touch information to the first software application. The second touch information includes the second intensity model identifier and the second touch characterization parameter.

In some embodiments processing the touch input based on the second intensity model identifier includes foregoing generation of a tactile output in accordance with the second intensity failing to satisfying the one or more thresholds associated with the second intensity model identifier. The electronic device e.g. the touch sensitive surface of the electronic device is configured to generate a tactile output in accordance with the second intensity satisfying at least one of the one or more thresholds associated with the first intensity model identifier. For example as shown in when intensity of contact decreases below a previous release intensity threshold ITbut remains above a current release intensity threshold IT the device foregoes generating a tactile output even though the device would have generated a tactile output if the previous release intensity threshold ITwere used.

In some embodiments subsequent to detecting the first touch input the device receives one or more instructions to use an intensity model that corresponds to a second intensity model identifier that is distinct from the first intensity model identifier e.g. from the first software application . Subsequent to receiving the one or more instructions to use the intensity model that corresponds to the second intensity model identifier the device detects a second touch input on the touch sensitive surface and in response to detecting the second touch input on the touch sensitive surface determines a second intensity applied by the second touch input on the touch sensitive surface. The device also processes the second touch input based on the second intensity model identifier.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the touch characterization parameter described above with reference to method optionally have one or more of the characteristics of the intensity stage described herein with reference to other methods described herein e.g. method and . For brevity these details are not repeated here.

In addition one of ordinary skill in the art would recognize that many modifications and variations are possible in view of the above teachings.

For example in accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface. The electronic device includes one or more sensors to detect intensity of contacts with the touch sensitive surface e.g. the touch sensitive surface includes one or more sensors to detect the intensity of contacts with the touch sensitive surface and the electronic device stores a first software application. In some embodiments the touch sensitive surface is integrated with a display. In some embodiments the touch sensitive surface is separate from the display. The method is performed using instructions other than instructions in the first software application e.g. using a contact intensity module . The method includes detecting a touch input on a touch sensitive surface and in response to detecting the touch input on the touch sensitive surface determining an intensity applied by the touch input on the touch sensitive surface. The method also includes selecting a set of thresholds from a plurality of sets of thresholds for the touch input. At least one set of thresholds of the plurality of sets of thresholds includes multiple thresholds. The method further includes determining a touch characterization parameter of the touch input in accordance with the selected set of thresholds and sending touch information to the first software application. The touch information includes the touch characterization parameter.

In some embodiments the set of thresholds is selected based on a location of the touch input. In some embodiments the behavior identifier is selected based on the location of the touch input.

In accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface. The electronic device includes one or more sensors to detect intensity of contacts with the touch sensitive surface e.g. the touch sensitive surface includes one or more sensors to detect the intensity of contacts with the touch sensitive surface and the electronic device stores a first software application. In some embodiments the touch sensitive surface is integrated with a display. In some embodiments the touch sensitive surface is separate from the display. The method is performed using instructions other than instructions in the first software application e.g. using a contact intensity module . The method includes detecting a touch input on a touch sensitive surface and in response to detecting the touch input on the touch sensitive surface determining an intensity applied by the touch input on the touch sensitive surface. The method also includes selecting a set of intensity ranges from a plurality of sets of intensity ranges for the touch input. In some embodiments at least one set of intensity ranges of the plurality of sets of intensity ranges includes multiple intensity ranges. The method further includes determining a touch characterization parameter of the touch input in accordance with the selected set of intensity ranges and sending touch information to the first software application. The touch information includes the touch characterization parameter.

The device registers a first intensity model identifier of a plurality of predefined force model identifiers.

In some embodiments the device registers a second intensity model identifier of the plurality of predefined force model identifiers. The first intensity model identifier is registered with respect to a first region of the user interface of the first software application and the second intensity model identifier is registered with respect to a second region of the user interface of the first software application that is distinct from the first region of the user interface of the first software application. In some embodiments the first and second regions can be overlapping but still distinct.

In some embodiments the device concurrently displays a user interface of a second software application while displaying the user interface of the first software application and registers a third intensity model identifier of the plurality of predefined force model identifiers. The third intensity model identifier is registered with respect to a region of the user interface of the second software application that is distinct from the first region of the user interface of the first software application.

Subsequent to the registering the device receives touch information that includes the first intensity model identifier and a touch characterization parameter and in response to receiving the touch information the device updates a user interface of the first software application in accordance with the touch characterization parameter.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the touch characterization parameter described above with reference to method optionally have one or more of the characteristics of the touch characterization parameter described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

In addition one of ordinary skill in the art would recognize that many modifications and variations are possible in view of the above teachings.

For example in accordance with some embodiments a method is performed at an electronic device with a touch sensitive surface. The electronic device includes one or more sensors to detect intensity of contacts with the touch sensitive surface e.g. the touch sensitive surface includes one or more sensors to detect the intensity of contacts with the touch sensitive surface and the electronic device stores a first software application. In some embodiments the touch sensitive surface is integrated with a display. In some embodiments the touch sensitive surface is separate from the display. The method includes registering first and second intensity model identifiers of a plurality of predefined intensity model identifiers and subsequent to the registering receiving touch information that includes a respective intensity model identifier and a touch characterization parameter. The respective intensity model identifier is the first intensity model identifier or the second intensity model identifier. The method also includes updating a user interface of the first software application in accordance with the touch characterization parameter and the respective force model identifier.

As described below the method simplifies processing of touch inputs. The method reduces the computational burden on a software application thereby creating a more efficient electronic device. In addition the size of the software application is reduced thereby occupying less storage space and memory.

In some embodiments prior to detecting a first touch input the device displays a user interface that includes a first display region and a second display region e.g. a user interface of a first software application and a user interface of a second software application as shown in . The first display region corresponds to a first touch region of the touch sensitive surface and the second display region corresponds to a second touch region of the touch sensitive surface e.g. in the user interface of the first software application corresponds to location A on touch sensitive surface and the user interface of the second software application corresponds to location B on touch sensitive surface .

In some embodiments the first display region corresponds to a user interface of the first software application and the second display region corresponds to a user interface of a second software application e.g. as shown in . In some embodiments both the first display region and the second display region correspond to the first software application e.g. icon and email icon in .

The device detects a first touch input on a first touch region of the touch sensitive surface e.g. contact in .

The device identifies a first intensity model identifier associated with the first touch region of the touch sensitive surface from a plurality of predefined intensity model identifiers e.g. an intensity model identifier that corresponds an intensity model with intensity thresholds IT IT and IT etc. as shown in .

In response to detecting the first touch input on the first touch region of the touch sensitive surface the device determines a first intensity applied by the first touch input on the first touch region of the touch sensitive surface e.g. intensity of contact in .

In accordance with the first intensity applied by the first touch input on the touch sensitive surface and one or more thresholds associated with the first intensity model identifier the device determines a first touch characterization parameter e.g. stage transition progress or stage progress .

Subsequent to determining the first touch characterization parameter the device sends first touch information to the first software application e.g. touch information is sent from contact motion module in . The first touch information includes the first touch characterization parameter.

The device detects a second touch input on a second touch region of the touch sensitive surface e.g. contact in . The second touch region of the touch sensitive surface is distinct from the first touch region of the touch sensitive surface.

The device identifies a second intensity model identifier associated with the second touch region of the touch sensitive surface from the plurality of predefined intensity model identifiers e.g. an intensity model identifier that corresponds an intensity model with intensity thresholds ITand IT as shown in .

In response to detecting the second touch input on the second touch region of the touch sensitive surface the device determines a second intensity applied by the second touch input on the second touch region of the touch sensitive surface e.g. intensity of contact in .

In accordance with the second intensity applied by the second touch input on the touch sensitive surface and one or more thresholds associated with the second intensity model identifier the device determines a second touch characterization parameter e.g. stage transition progress or stage progress .

Subsequent to determining the second touch characterization parameter the device sends second touch information to the first software application e.g. touch information is sent from contact motion module in . The second touch information includes the second touch characterization parameter.

In some embodiments in response to detecting the first touch input on the first touch region of the touch sensitive surface the device generates a first tactile output in accordance with the first intensity applied by the first touch input on the touch sensitive surface and the one or more thresholds associated with the first intensity model identifier e.g. a tactile output is generated when intensity of contact crosses the intensity threshold ITin . In response to detecting the second touch input on the second touch region of the touch sensitive surface the device generates a second tactile output in accordance with the second intensity applied by the second touch input on the touch sensitive surface and the one or more thresholds associated with the second intensity model identifier e.g. a tactile output is generated when intensity of contact crosses the intensity threshold ITin .

In some embodiments at least a portion of the first touch region overlaps with at least a portion of the second touch region. For example as shown in the user interface of the first software application and the user interface of the second software application at least partially overlap. Thus the corresponding touch regions also overlap at least partially.

In some embodiments the device detects a third touch input on an overlapping touch region of the touch sensitive surface that corresponds to an overlap of the first touch region and the second touch region e.g. contact in . The device selects an intensity model identifier between the first intensity model identifier and the second intensity model identifier for the overlapping touch region and in response to detecting the third touch input on the overlapping touch region determines a third intensity applied by the third touch input on the overlapping touch region of the touch sensitive surface. In accordance with the third intensity applied by the third touch input on the overlapping touch region of the touch sensitive surface and one or more thresholds associated with the selected intensity model identifier the device determines a third touch characterization parameter e.g. stage transition progress or stage progress . Subsequent to determining the third touch characterization parameter the device sends third touch information to the first software application. The third touch information includes the third touch characterization parameter. For example if a first intensity model associated with the first software application is selected intensity of contact is processed based on the first intensity model e.g. . If a second intensity model associated with the second software application is selected intensity of contact is processed based on the second intensity model e.g. .

In some embodiments both the first intensity model identifier and the second intensity model identifier are associated with priorities applicable to the overlapping touch region and the intensity model identifier is selected based on the priority of the first intensity model identifier and the priority of the second intensity model identifier for the overlapping touch region e.g. priority of each respective intensity model and in . In some embodiments the priority of an intensity model is explicitly assigned e.g. the priority is stored in a dedicated data field such as priority in . In some embodiments the priority of an intensity model is indicated by its position within a list or group of intensity models e.g. an intensity model positioned first in intensity models in has a higher priority than an intensity model positioned second in intensity models .

In some embodiments the device foregoes determination of a touch characterization parameter in accordance with the third intensity and one or more thresholds associated with an intensity model identifier that has not been selected between the first intensity model identifier and the second intensity model identifier. For example in a touch characterization parameter is determined in accordance with the first intensity model and the device foregoes determination of a touch characterization parameter in accordance with the second intensity model.

In some embodiments the first intensity model identifier has been selected for the overlapping region. Subsequent to detecting the third touch input the device detects a fourth touch input on the overlapping region of the touch sensitive surface e.g. contact . The device selects the second intensity model identifier for the overlapping touch region e.g. based on one or more instructions from a software application . In response to detecting the fourth touch input on the overlapping touch region the device determines a fourth intensity applied by the fourth touch input on the overlapping touch region of the touch sensitive surface. In accordance with the fourth intensity applied by the fourth touch input on the overlapping touch region of the touch sensitive surface and the one or more thresholds associated with the second intensity model identifier the device determines a fourth touch characterization parameter e.g. an intensity stage a stage progression value and or a transition progress value of contact in . Subsequent to determining the touch characterization parameter the device sends fourth touch information to the first software application. The fourth touch information includes the fourth touch characterization parameter.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the touch characterization parameter described above with reference to method optionally have one or more of the characteristics of the touch characterization parameter described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

In addition one of ordinary skill in the art would recognize that many modifications and variations are possible in view of the above teachings.

For example in some embodiments a method is performed at an electronic device with a touch sensitive surface. The electronic device includes one or more sensors to detect intensity of contacts with the touch sensitive surface e.g. the touch sensitive surface includes one or more sensors to detect the intensity of contacts with the touch sensitive surface and the electronic device stores a first software application. In some embodiments the touch sensitive surface is integrated with a display. In some embodiments the touch sensitive surface is separate from the display. The method includes displaying a user interface that includes a first display region and a second display region that is distinct from the first display region and while displaying the user interface detecting a first touch input at a location on the touch sensitive surface that corresponds to the first display region e.g. while a cursor is displayed over the first display region in the user interface . The method also includes in response to detecting the first touch input at a location on the touch sensitive surface that corresponds to the first display region determining a first intensity applied by the first touch input on the touch sensitive surface in accordance with the first intensity applied by the first touch input on the touch sensitive surface and a first set of one or more thresholds associated with the first display region determining a first touch characterization parameter e.g. stage transition progress or stage progress and subsequent to determining the first touch characterization parameter sending first touch information to the first software application. The first touch information includes the first touch characterization parameter. The method further includes detecting a second touch input at a location on the touch sensitive surface that corresponds to the second display region and in response to detecting the second touch input at a location on the touch sensitive surface that corresponds to the second display region determining a second intensity applied by the second touch input on the touch sensitive surface in accordance with the second intensity applied by the second touch input on the touch sensitive surface and a second set of one or more thresholds associated with the second display region determining a second touch characterization parameter e.g. stage transition progress or stage progress and subsequent to determining the second touch characterization parameter sending second touch information to the first software application. The second touch information includes the second touch characterization parameter.

As described below the method simplifies processing of touch inputs. The method reduces the computational burden on a software application thereby creating a more efficient electronic device. In addition the size of the software application is reduced thereby occupying less storage space and memory.

In response to detecting the touch input the device in accordance with a determination that the touch input is at a location on the touch sensitive surface that is associated with a first intensity model of a plurality of different intensity models processes the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface and the first intensity model e.g. without processing the touch input in accordance with the second intensity model . The device in accordance with a determination that the touch input is at a location on the touch sensitive surface that is associated with a second intensity model different from the first intensity model processes the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface and the second intensity model e.g. without processing the touch input in accordance with the first intensity model . For example in in accordance with a determination that contact is detected in region contact is processed based on a first intensity model without processing contact based on a second intensity model associated with region . In in accordance with a determination that contact is detected in region contact is processed based on the second intensity model without processing contact based on the first intensity model associated with region .

In some embodiments the device processes the touch input in accordance with an intensity applied by the touch input and the first intensity model includes providing contact intensity information to a user interface application e.g. a first software application without generating a tactile output for the touch input e.g. a stage progress value of contact in is provided to application in for determining a width of a graphical element such as a pen stroke and a tactile output is suppressed for contacts in region . Processing the touch input in accordance with an intensity applied by the touch input and the second intensity model includes conditionally generating a tactile output for the touch input e.g. in a tactile output is generated when the intensity crosses a certain intensity threshold for region .

In some embodiments during the touch input the electronic device detects application of a respective intensity on the touch sensitive surface that is attributed to the touch input. Processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface and the first intensity model includes providing to a user interface application first touch input state information that indicates that the touch input has applied the respective intensity on the touch sensitive surface without generating a tactile output for the touch input e.g. a stage progress value of contact in is provided to application as shown in for determining a width of a graphical element such as a pen stroke and a tactile output is suppressed for contacts in region . Processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface and the second intensity model includes providing to a user interface application second touch input state information that indicates that the touch input has applied the respective intensity on the touch sensitive surface and generating a tactile output for the touch input e.g. a stage progress value a transition progress value of contact in or a discrete indication that a corresponding user interface element has been activated .

In some embodiments the first touch input state information includes a continuously variable representation of intensity of the touch input e.g. a value that varies as the intensity of the touch input changes such as a stage progress value or a transition progress value . The second touch input state information includes an indication that the intensity of the touch input is within a range of values that correspond to activation of a user interface element that corresponds to the location on the touch sensitive surface that is associated with the second intensity model e.g. a discrete indication that does not vary as the intensity of the touch input changes so long as the intensity of the touch input is maintained within a predefined range of intensity values and indicates whether a button or other affordance has been selected .

In some embodiments the device detects a first touch input on a first touch region e.g. a non tactile feedback region of the touch sensitive surface e.g. contact in . The device also identifies a first intensity model identifier associated with the first touch region of the touch sensitive surface from a plurality of predefined intensity model identifiers e.g. the first intensity model identifier corresponds to the first intensity model . In response to detecting the first touch input on the first touch region of the touch sensitive surface the device determines a first intensity applied by the first touch input on the first touch region of the touch sensitive surface and in accordance with the first intensity applied by the first touch input on the touch sensitive surface and the first intensity model identifier processes the first touch input and foregoes generation of a tactile output for the first touch input e.g. a graphical element corresponding to a movement of contact is displayed in . The device detects a second touch input on a second touch region e.g. a tactile feedback region of the touch sensitive surface e.g. contact in . The second touch region of the touch sensitive surface is distinct from the first touch region of the touch sensitive surface. The device identifies a second intensity model identifier associated with the second touch region of the touch sensitive surface from the plurality of predefined intensity model identifiers e.g. the second intensity model identifier corresponds to the second intensity model . In response to detecting the second touch input on the second touch region of the touch sensitive surface the device determines a second intensity applied by the second touch input on the second touch region of the touch sensitive surface and in accordance with the second intensity applied by the second touch input on the touch sensitive surface and the second intensity model identifier processes the second touch input e.g. a corresponding character is inserted into a document as shown in and conditionally generates a tactile output for the second touch input in accordance with the second touch input and one or more model parameters associated with the second intensity model identifier e.g. one or more model parameters in the second intensity model .

In some embodiments conditionally generating the tactile output for the second touch input includes foregoing generation of the tactile output for the second touch input in accordance with a determination that the second touch input fails to satisfy one or more criteria corresponding to the one or more model parameters associated with the second intensity model identifier. For example in some embodiments a tactile output is not generated when a touch input does not cross an intensity threshold.

In some embodiments the first intensity model identifier indicates that no tactile output is to be generated for a touch input on the first touch region of the touch sensitive surface.

In some embodiments the electronic device stores a first software application and the first user input and the second user input are detected while the electronic device displays a user interface of the first software application e.g. a user interface of a word processing software application as shown in .

In some embodiments the user interface of the first software application includes a handwriting input tool region e.g. a character input tool region e.g. a handwriting input tool region in . In some embodiments the handwriting input tool region is distinct from the user interface of the first software application and the handwriting input tool region overlays the user interface of the first software application e.g. a user interface of a word processing software application . In some embodiments the handwriting input tool region is separate from the user interface of the first software application.

In some embodiments the handwriting input tool region includes a plurality of selection regions and at least a respective selection region of the one or more selection regions corresponds to the second touch region e.g. a tactile feedback region of the touch sensitive surface. For example in selection region corresponds to touch region . In some embodiments the one or more selection regions collectively correspond to the second touch region.

In some embodiments the handwriting input tool region includes a handwriting input region and the handwriting input region corresponds to the first touch region e.g. a potential non tactile feedback region of the touch sensitive surface. For example in handwriting input region corresponds to region .

In some embodiments in response to detecting the first touch input on the first touch region of the touch sensitive surface the device displays one or more graphical elements e.g. pen strokes such as in in the handwriting input region in accordance with the first touch input.

In some embodiments in response to detecting the first touch input on the first touch region e.g. a potential non tactile feedback region of the touch sensitive surface the device displays a plurality of groups of characters in the plurality of selection regions e.g. characters in selection regions through in . A respective group of characters is selected based on the one or more displayed graphical elements in the handwriting input region and the respective group of characters is displayed in a respective selection region e.g. characters such as Chinese Korean and Japanese characters that correspond to displayed pen strokes . In response to detecting the second user input on the second touch region of the touch sensitive surface at a location that corresponds to the respective selection region the device selects the respective group of characters e.g. in in response to contact in region the character in a corresponding selection region is selected . In some embodiments in response to detecting the second user input on the second touch region of the touch sensitive surface at a location that corresponds to the respective selection region and subsequent to selecting the respective group of characters the device displays the respective group of characters in the user interface of the first software application other than the handwriting input tool region e.g. in in response to contact on region the character in a corresponding selection region is inserted into the document .

In some embodiments processing the first touch input detected on the first touch region of the touch sensitive surface includes determining that the first touch input has satisfied a drawing intensity threshold and in accordance with a determination that the first touch input has exceeded the drawing intensity threshold displaying the one or more graphical elements in the handwriting input region in accordance with the first touch input. A first terminal region of a respective graphical element of the one or more graphical elements corresponds to a location where the first touch input has been determined to satisfy the drawing intensity threshold. For example as shown in drawing of a graphical element is initiated in response to intensity of contact satisfying the drawing intensity threshold IT.

In some embodiments processing the first touch input detected on the first touch region of the touch sensitive surface includes while continuing to detect the first touch input on the touch sensitive surface continuing to update the one or more graphical elements in the handwriting input region in accordance with the first touch input regardless of whether the first touch input has ceased to satisfy the drawing intensity threshold. For example as shown in once the drawing of a graphical element is initiated the drawing continues even if intensity of contact falls below the drawing intensity threshold.

In some embodiments processing the first touch input detected on the first touch region of the touch sensitive surface includes detecting that the first touch input has ceased to be detected on the touch sensitive surface and detecting that the first touch input has resumed contact with the touch sensitive surface within a predefined time interval subsequent to the first touch input ceasing to be detected on the touch sensitive surface. Processing the first touch input also includes in response to the first touch input resuming contact with the touch sensitive surface within the predefined time interval subsequent to the first touch input ceasing to be detected on the touch sensitive surface updating the one or more graphical elements in the handwriting input region in accordance with the first touch input. For example as shown in even if contact breaks contact with touch sensitive surface while following a path on touch sensitive surface and subsequent contact continues the path the paths of contact and contact are treated as a single path.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the intensity model described above with reference to method optionally have one or more of the characteristics of the intensity model described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

As described below the method simplifies processing of touch inputs. The method reduces the computational burden on a software application thereby creating a more efficient electronic device. In addition the size of the software application is reduced thereby occupying less storage space and memory.

The device displays a user interface that includes two or more display regions including a first display region and a second display region e.g. icon and email icon in .

While displaying the user interface the device detects a first intensity applied by a touch input at a first location on the touch sensitive surface that corresponds to the first display region e.g. intensity of contact in .

In some embodiments in response to detecting the first intensity applied by the touch input the device processes the first intensity in accordance with the one or more intensity thresholds associated with the first display region e.g. in intensity of contact is processed in accordance with intensity thresholds associated with icon .

In some embodiments processing the first intensity in accordance with the one or more intensity thresholds associated with the first display region includes displaying an animation that corresponds to a change in intensity applied by the touch input from a prior intensity to the first intensity e.g. from intensity detected prior to detecting the first intensity to the first intensity e.g. icon is visually distinguished in . For example the device displays a pre latch animation that indicates that the user is interacting with a particular control in the first display region such as a change in appearance of a first button in the first display region that is proximate to a focus selector. This pre latch animation is optionally presented at a rate that is dependent on a rate of change in the intensity of the contact or magnitude of intensity of the contact so as to provide feedback to the user as to their progress toward activating the button or latching onto the button.

The device detects a movement of the touch input across the touch sensitive surface from the first location on the touch sensitive surface to a second location on the touch sensitive surface that corresponds to the second display region e.g. while a cursor is displayed over the first display region e.g. movement of contact in . In some embodiments the movement of the touch input across the touch sensitive surface from the first location on the touch sensitive surface to the second location on the touch sensitive surface is detected after detecting the first intensity applied by the touch input at the first location.

In some embodiments in response to detecting the movement of the touch input from the first location on the touch sensitive surface to the second location on the touch sensitive surface the device displays an animation that corresponds to a change in intensity applied by the touch input e.g. from an intensity detected prior to detecting the first intensity to the first intensity . For example the device displays a pre latch animation that indicates that the user is interacting with a particular control in the second display region such as a change in appearance of a second button in the second display region that is proximate to a focus selector. This pre latch animation is optionally presented at a rate that is independent of a rate of change in the intensity of the contact so as to catch the animation up to a current point in the pre activation animation that corresponds to a current intensity of the contact.

After detecting the movement of the touch input from the first location on the touch sensitive surface to the second location on the touch sensitive surface the device detects a second intensity applied by the touch input at the second location on the touch sensitive surface e.g. intensity of contact in .

In response to detecting the second intensity applied by the touch input at the second location on the touch sensitive surface the device in accordance with a determination that the first intensity does not satisfy a first intensity threshold e.g. a latching intensity threshold processes the second intensity in accordance with one or more intensity thresholds associated with the second display region e.g. in contact is processed based on intensity thresholds associated with email icon .

In some embodiments the first intensity threshold is distinct from an activation intensity threshold. In some embodiments the device detects a touch input at a location on the touch sensitive surface that corresponds to the first display region and in response to detecting the touch input determines an intensity applied by the touch input on the touch sensitive surface. In accordance with a determination that the intensity applied by the touch input on the touch sensitive surface satisfies the activation intensity threshold the device initiates activation of the first software element e.g. sends to the first software element one or more instructions to activate the first software element .

In some embodiments processing the second intensity in accordance with the one or more intensity thresholds associated with the second display region includes displaying an animation that corresponds to a change in intensity applied by the touch input on the touch sensitive surface e.g. from the first intensity to the second intensity . For example the device displays a pre activation animation corresponding to the user interface element in the second display region such as a button press animation that indicates that a button in the second display region will be activated if the intensity of the contact increases above the button activation intensity threshold. This pre activation animation is optionally presented at a rate that is dependent on a rate of change in the intensity of the contact or magnitude of intensity of the contact so as to provide feedback to the user as to their progress toward activating the button.

In some embodiments processing the second intensity in accordance with one or more intensity thresholds associated with the second display region includes activating a second control associated with the second display region e.g. when the contact meets activation criteria that include a criterion that is met when the contact exceeds an activation intensity threshold for the second control .

In response to detecting the second intensity applied by the touch input at the second location on the touch sensitive surface the device in accordance with a determination that the first intensity satisfies the first intensity threshold processes the second intensity in accordance with one or more intensity thresholds associated with the first display region e.g. in contact is processed based on intensity thresholds associated with icon .

In some embodiments the one or more intensity thresholds associated with the first display region are different from the one or more intensity thresholds associated with the second display region e.g. the first display region and the second display region are both associated with different intensity models .

In some embodiments the one or more intensity thresholds associated with the first display region are the same as the one or more intensity thresholds associated with the second display region e.g. the first display region and the second display region are both associated with a same intensity model .

In some embodiments processing the second intensity in accordance with the one or more intensity thresholds associated with the first display region includes displaying an animation that corresponds to a change in intensity applied by the touch input on the touch sensitive surface e.g. from the first intensity to the second intensity . For example the device displays a pre activation animation corresponding to a user interface element in the first display region such as a pre button press animation that indicates that a button in the first display region will be activated if the intensity of the contact increases above a button activation intensity threshold. This pre activation animation is optionally presented at a rate that is dependent on a rate of change in the intensity applied by the touch input or magnitude of the intensity applied by the touch input so as to provide feedback to the user as to their progress toward activating the button.

In some embodiments processing the second intensity in accordance with one or more intensity thresholds associated with the first display region includes activating a first control associated with the first display region e.g. when the contact meets activation criteria that include a criterion that is met when the contact exceeds an activation intensity threshold for the first control .

In some embodiments the device sends first touch information to the first software application in accordance with a determination that the first intensity satisfies a reporting intensity threshold that is distinct from the first intensity threshold. The first touch information includes one or more touch parameters that correspond to the first intensity. In some embodiments the first intensity threshold requires a higher intensity than the reporting intensity threshold. In some embodiments the method includes in accordance with a determination that the first intensity does not satisfy the reporting intensity threshold foregoing sending the first touch information. The device sends second touch information to the first software application in accordance with a determination that the second intensity satisfies the reporting intensity threshold. The second touch information includes one or more touch parameters that correspond to the second intensity.

In some embodiments a first display region of the two or more display regions is associated with a first software element of the first software application and a second display region of the two or more display regions is associated with a second software element of the second software application.

In some embodiments in accordance with the determination that the first intensity does not satisfy the first intensity threshold e.g. not latched on the first display region the second touch information is sent to the second software element without sending the second touch information to the first software element.

In some embodiments in accordance with the determination that the first intensity satisfies the first intensity threshold e.g. latched on the first display region the second touch information is sent to the first software element without sending the second touch information to the second software element.

In some embodiments in accordance with the determination that the first intensity satisfies the reporting intensity threshold the first touch information is sent to the first software element. In some embodiments the first touch information is sent to the first software element without sending the first touch information to the second software element.

In some embodiments in response to detecting the touch input the device updates the user interface in accordance with the first touch information using the first software application prior to the first intensity satisfying the first intensity threshold. In some embodiments updating the user interface in accordance with the first touch information using the first software application includes displaying an animation that indicates detection of the touch input. For example the animation may be used to inform the user as to the intensity required to achieve latching. In some embodiments updating the user interface in accordance with the first touch information using the first software application includes displaying an animation that indicates increase and or decrease in an intensity applied by the touch input on the touch sensitive surface.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the intensity thresholds described above with reference to method optionally have one or more of the characteristics of the intensity thresholds described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

Optionally but typically the device displays on a display that is part of the device or in communication with the device a user interface for the electronic device. Examples of such user interfaces being displayed by an electronic device are shown in . In some embodiments the user interface includes two of more display regions including a first display region and a second display region. Typically the user interface continues to be displayed throughout performance of method although content of the user interface may change for example in response to inputs by a user of the electronic device. Furthermore the device is in communication with a plurality of input devices including a first input device e.g. a first input device having a first touch sensitive surface that includes one or more sensors to detect intensity of contacts with the first touch sensitive surface that is configured to generate tactile outputs in response to inputs and a second input device e.g. a second input device having a second touch sensitive surface that includes one or more sensors to detect intensity of contacts with the second touch sensitive surface that is configured to generate tactile outputs. Non limiting examples of the first input device are a trackpad and touch sensitive display and non limiting examples of the second input device are a trackpad and touch sensitive display.

The device receives an indication of an input detected by a respective input device of the plurality of input devices. In some embodiments the touch input can be a finger touch input by a person s finger or a stylus touch input. In response to receiving the indication of the input the device provides information describing the input to an application running on the device that enables the application to react to the input. For example a touch event specifying the movement if any location intensity etc. of one or more contacts is provided to an application. In some embodiments the touch event provided to the application includes a plurality of lists such as two or more of a list of all touches currently detected by input devices in communication with the device a list of all touches associated with a particular view of an application and a list of changed touches comprising touches for which at least one parameter or aspect e.g. location and or intensity has changed since a prior touch event was provided to the application.

The device receives a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input. For example in some circumstances the input includes lateral movement and the reaction of the application includes moving a graphical user interface object across a display.

In response to receiving the reaction to the input from the application the device causes the generation of a respective tactile output. More specifically in accordance with a determination that the reaction was triggered by the first input device the respective tactile output is generated at the first input device e.g. touch screen display based on the reaction to the input from the application and in accordance with a determination that the reaction was triggered by the second input device e.g. trackpad the respective tactile output is generated at the second input device based on the reaction to the input from the application.

In some embodiments in response to receiving the reaction to the input from the application the device determines which input device of the plurality of input devices triggered the reaction from the application. For example in the context of which includes both a trackpad and touch sensitive display the device determines which of the trackpad and touch sensitive display triggered the reaction from the application. In some embodiments that determination is made by the application. For example in some circumstances inputs may be received concurrently or during overlapping time periods from two or more input devices and the application may make the determination as to which of the input devices triggered the reaction. Continuing with this example the input from one of the input devices may be used by the application to select a mode of operation or select an option while the input from another one of the input devices triggers the reaction and it is the application that makes this determination.

More specifically and consistent with what has been described above in some embodiments when the reaction was triggered by the first input device the tactile output at the first input device is generated without causing generation of any tactile output at the second input device and when the reaction was triggered by the second input device the tactile output at the second input device is generated without causing generation of any tactile output at the first input device.

In some embodiments the information describing the input includes a respective identifier for the respective device the reaction to the input includes the respective identifier for the respective device and determining that the reaction was triggered by the first input device includes determining that the respective identifier is an identifier for the first input device. Similarly the determination that the reaction was triggered by the second input device includes determining that the respective identifier is an identifier for the second input device. Furthermore in some embodiments the respective identifier is part of an input event e.g. a touch event that describes the input. Thus in such embodiments the module s that initially process inputs from the input devices and that generate or cause the generation of tactile outputs and the application that responds to such inputs utilize distinct identifiers for each of the input devices in communication with the device. In some embodiments this facilitates routing tactile feedback to the input device determined e.g. see to have triggered the reaction from the application.

In some embodiments the device is configured to cause the generation of tactile outputs at the plurality of input devices in response to changes in intensity of contacts on the input devices in accordance with one or more intensity models. For example this is described in greater detail above with reference to methods and . Furthermore in some circumstances the respective tactile output is generated without reference to the one or more intensity models. The following is a non limiting set of examples of such circumstances. In one example the tactile feedback requested by an application is in response to a lateral movement of a touch input that moves one object adjacent to near over or partially over another object and the tactile feedback concerns the lateral movement but not the intensity of the contact corresponding to the touch input. Another example in a respective tactile output is generated without reference to the one or more intensity models is a movement of the touch input that results in the application adjusting the position of an object for example snapping the object to a horizontal and or vertical position defined by a grid or guide. Yet another example in a respective tactile output is generated without reference to the one or more intensity models is a movement of the touch input that violates a predefined rule or condition e.g. a movement of the touch input that is construed by the application to be an instruction to move an object over another object in violation of a rule or that satisfies a predefined rule or condition e.g. a movement of the touch input that is construed by the application to be an instruction to move an object over another object thereby initiating or enabling an action such as adding the object to a collection changing a property of the moved object or the other object etc.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the contacts user interface objects tactile outputs intensity thresholds and focus selectors described above with reference to method optionally have one or more of the characteristics of the contacts user interface objects tactile outputs intensity thresholds and focus selectors described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

Method enables and or facilitates the use of complex application software for which tactile outputs can be generated and enables the use of tactile feedback by a broad range of applications that can be executed by the electronic device. The method also reduces the cognitive burden on a user when performing an operation in conjunction with an application by providing limiting the provision of tactile feedback to circumstances in which the tactile feedback will be intuitively meaningful and forgoing the provision of tactile feedback in circumstances in which the tactile feedback might be confusing to the user or even mis informative due to latency between the input that cause the application s reaction and the time at which the tactile output would be generated.

In a non limiting example the generation of a reaction to an input by an application may be delayed by connectivity issues a stalled process executing on the same device or another device a failed procedure call to another application or module or any of a potentially large number of circumstances. In at least some situations when that delay results in a time difference between the input time at which the input was detected by a respective input device and an output time for the reaction by the application that exceeds a predetermined amount of time the method forgoes generation of the tactile output corresponding to the reaction from the application.

Method therefore facilitates efficient use of the electronic device and the application thereby creating a more efficient human machine interface. For battery operated electronic devices enabling a user to perform an operation in accordance with a selected mode of operation faster and more efficiently conserves power and increases the time between battery charges.

Optionally but typically the device displays on a display that is part of the device or in communication with the device a user interface for the electronic device. Examples of such user interfaces being displayed by an electronic device are shown in . In some embodiments the user interface includes two of more display regions including a first display region and a second display region. Typically the user interface continues to be displayed throughout performance of method although content of the user interface may change for example in response to inputs by a user of the electronic device. Furthermore the device is in communication with a plurality of input devices including a first input device e.g. a first input device having a first touch sensitive surface that includes one or more sensors to detect intensity of contacts with the first touch sensitive surface that is configured to generate tactile outputs in response to inputs and a second input device e.g. a second input device having a second touch sensitive surface that includes one or more sensors to detect intensity of contacts with the second touch sensitive surface that is configured to generate tactile outputs. Non limiting examples of an input device of the one or more input devices is a trackpad or touch sensitive display.

The device receives an indication of an input detected by a respective input device of the one or more of input devices. In some embodiments the touch input can be a finger touch input by a person s finger or a stylus touch input. In response to receiving the indication of the input the device provides information describing the input to an application running on the device that enables the application to react to the input. For example a touch event specifying the movement if any location intensity etc. of one or more contacts is provided to an application. In some embodiments the touch event provided to the application includes a plurality of lists such as two or more of a list of all touches currently detected by input devices in communication with the device a list of all touches associated with a particular view of an application and a list of changed touches comprising touches for which at least one parameter or aspect e.g. location and or intensity has changed since a prior touch event was provided to the application.

The device receives a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input. For example in some circumstances the input includes movement and the reaction of the application includes moving a graphical user interface object across a display.

In response to receiving the reaction to the input from the application the device performs a set of operations including comparing an input time for the reaction to an output time for the reaction wherein the input time for the reaction corresponds to a time at which the input was detected by the respective input device and the output time for the reaction corresponds to a time at which a tactile output corresponding to the reaction is configured to be generated at the respective input device. Stated another way the comparing operation compares an input time for the input detected by the respective input device to an output time for the reaction. The set of operations performed by the device also includes determining whether tactile output criteria have been met wherein the tactile output criteria include a criterion that is met when an input time is less than a predetermined amount of time before the output time causing generation at the respective input device of a tactile output corresponding to the reaction from the application in accordance with a determination that the tactile output criteria have been met and forgoing generation at the respective input device of the tactile output corresponding to the reaction from the application in accordance with a determination that the tactile output criteria have not been met. In some embodiments the tactile output criteria also include tactile output routing criteria to enable tactile outputs to be generated at the device that detected an input that caused the tactile output to be generated e.g. as described in greater detail above with reference to method .

In some embodiments the input time for the reaction e.g. the input time for the input detected by the respective input device is stored by the device in response to receiving the indication of the input from the respective input device. Thus the device monitors input times to ensure that stale tactile outputs are not generated at the respective input device.

In some embodiments the input time for the reaction e.g. the input time for the input detected by the respective input device is received from the application along with the reaction to the input. Thus in these embodiments the application monitors input times and provides input time information to the device to ensure that stale tactile outputs are not generated at the respective input device.

In some embodiments the output time for the reaction is a time at which a tactile output for the reaction would be scheduled by the device. Thus in at least some such embodiments the output time is a computed time in the near future that is either the time at which the tactile output would be generated or is a time that the tactile output is scheduled to be generated. The later times are not necessarily identical since in some embodiments the actual tactile output generation time may not be entirely predictable or schedulable.

In some embodiments the output time for the reaction is a time at which the application requested that a tactile output be generated at the respective input device. In these embodiments the output time is determined by the time that the application posts transfers or otherwise communicates its request to generate a tactile output.

In some embodiments the device is configured to cause the generation of tactile outputs at the plurality of input devices in response to changes in intensity of contacts on the input devices in accordance with one or more intensity models. For example this is described in greater detail above with reference to methods and . Furthermore in some circumstances the respective tactile output is generated without reference to the one or more intensity models. A non limiting set of examples of such circumstances are described above with respect to operation of method .

In some embodiments the predetermined amount of time that is used to determine whether the tactile output criteria have been met has a first value in a normal mode of operation and a second value larger than the first value in an accessibility mode of operation. In these embodiments in the accessibility mode a slower reaction time to user inputs is acceptable as is slower tactile output in response to user inputs at the one or more input devices.

It should be understood that the particular order in which the operations in have been described is merely exemplary and is not intended to indicate that the described order is the only order in which the operations could be performed. One of ordinary skill in the art would recognize various ways to reorder the operations described herein. Additionally it should be noted that details of other processes described herein with respect to other methods described herein e.g. methods and are also applicable in an analogous manner to method described above with respect to . For example the contacts user interface objects tactile outputs intensity thresholds and focus selectors described above with reference to method optionally have one or more of the characteristics of the contacts user interface objects tactile outputs intensity thresholds and focus selectors described herein with reference to other methods described herein e.g. methods and . For brevity these details are not repeated here.

The operations in the information processing methods described above are optionally implemented by running one or more functional modules in information processing apparatus such as general purpose processors e.g. as described above with respect to or application specific chips.

In accordance with some embodiments shows a functional block diagram of electronic device configured in accordance with the principles of the various described embodiments. The functional blocks of the device are optionally implemented by hardware software firmware or a combination thereof to carry out the principles of the various described embodiments. It is understood by persons of skill in the art that the functional blocks described in are optionally combined or separated into sub blocks to implement the principles of the various described embodiments. Therefore the description herein optionally supports any possible combination or separation or further definition of the functional blocks described herein.

As shown in electronic device includes touch sensitive surface unit configured to receive contacts and one or more sensor units configured to detect intensity of contacts with the touch sensitive surface unit . Processing unit is coupled with the touch sensitive surface unit and the one or more sensor units . In some embodiments electronic device includes display unit configured to display a user interface and processing unit is coupled with display unit . In some embodiments processing unit includes detecting unit determining unit identifying unit touch input processing unit sending unit and repeating unit .

The processing unit configured to detect a touch input on the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit in response to detecting the touch input on the touch sensitive surface unit determine an intensity of the touch input on the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units and in accordance with the intensity of the touch input on the touch sensitive surface unit and one or more preselected intensity thresholds determine an intensity stage of the touch input e.g. with the determining unit wherein the intensity stage of the touch input is selected from a plurality of predefined intensity stages and process the touch input based on the intensity stage of the touch input e.g. with the touch input processing unit .

In some embodiments the electronic device stores a first software application and the intensity stage of the touch input is determined by a contact intensity module that is distinct and separate from the first software application.

In some embodiments the processing unit is configured to send to the first software application from the contact intensity module touch information that identifies the intensity stage of the touch input e.g. with the sending unit .

In some embodiments the processing unit is configured to send information from the contact intensity module the information indicating that the intensity of the touch input is available to the first software application e.g. with the sending unit .

In some embodiments the processing unit is configured to repeat the operations of determining an intensity of the touch input determining an intensity stage of the touch input and sending touch information while the touch input is detected on the touch sensitive surface unit e.g. with the repeating unit the determining unit the sending unit and or the touch sensitive surface unit .

In some embodiments the processing unit is configured to determine one or more intensity based progress values of the touch input based on an intensity range associated with the determined intensity stage e.g. with the determining unit and send touch information to the first software application e.g. with the sending unit wherein the touch information includes the one or more intensity based progress values of the touch input and information identifying the intensity stage of the touch input.

In some embodiments the one or more intensity based progress values of the touch input include a transition progress value of the touch input.

In some embodiments the one or more intensity based progress values of the touch input include a stage progress value of the touch input.

In some embodiments the processing unit is configured to in response to detecting the touch input determine a first intensity applied by the touch input on the touch sensitive surface unit e.g. with the determining unit in accordance with a determination that the first intensity applied by the touch input on the touch sensitive surface unit does not satisfy a stage activation intensity threshold for a second intensity stage determine that the touch input is in a first intensity stage that is distinct from the second intensity stage e.g. with the determining unit subsequent to determining that the touch input is in the first intensity stage determine a second intensity applied by the touch input on the touch sensitive surface unit e.g. with the determining unit wherein the second intensity is distinct from the first intensity and in accordance with a determination that the second intensity applied by the touch input on the touch sensitive surface unit satisfies the stage activation intensity threshold for the second intensity stage determine that the touch input is in the second intensity stage e.g. with the determining unit .

In some embodiments the processing unit is configured to subsequent to determining that the touch input is in the second intensity stage determine a third intensity applied by the touch input on the touch sensitive surface unit e.g. with the determining unit wherein the third intensity is distinct from the second intensity in accordance with a determination that the third intensity does not satisfy a stage release intensity threshold for the second intensity stage distinct from the stage activation intensity threshold for the second intensity stage determine that the touch input remains in the second intensity stage e.g. with the determining unit subsequent to determining that the touch input remains in the second intensity stage determine a fourth intensity applied by the touch input on the touch sensitive surface unit e.g. with the determining unit wherein the fourth intensity is distinct from the third intensity and in accordance with a determination that the fourth intensity satisfies the stage release intensity threshold for the second intensity stage determine that the touch input is in the first intensity stage e.g. with the determining unit .

In some embodiments the processing unit is configured to subsequent to determining that the touch input remains in the second intensity stage determine a third intensity applied by the touch input on the touch sensitive surface unit e.g. with the determining unit wherein the third intensity is distinct from the second intensity and in accordance with a determination that the third intensity satisfies a stage activation threshold for the third intensity stage distinct from the stage activation intensity threshold for the second intensity stage determine that the touch input is in the third intensity stage e.g. with the determining unit .

In some embodiments the processing unit is configured to subsequent to determining that the touch input is in the third intensity stage determine a fourth intensity applied by the touch input on the touch sensitive surface unit e.g. with the determining unit wherein the fourth intensity is distinct from the third intensity and in accordance with a determination that the fourth intensity satisfies a stage release intensity threshold for the third intensity stage distinct from the stage activation threshold for the third intensity stage determine that the touch input is in the second intensity stage e.g. with the determining unit .

In some embodiments the processing unit is configured to identify an intensity model identifier from a plurality of predefined intensity model identifiers e.g. with the identifying unit wherein the intensity stage of the touch input is selected from a plurality of intensity stages that correspond to the identified intensity model identifier.

In accordance with some embodiments shows a functional block diagram of electronic device configured in accordance with the principles of the various described embodiments. The functional blocks of the device are optionally implemented by hardware software firmware or a combination thereof to carry out the principles of the various described embodiments. It is understood by persons of skill in the art that the functional blocks described in are optionally combined or separated into sub blocks to implement the principles of the various described embodiments. Therefore the description herein optionally supports any possible combination or separation or further definition of the functional blocks described herein.

As shown in electronic device includes display unit configured to display a user interface touch sensitive surface unit configured to receive contacts one or more sensor units configured to detect intensity of contacts with the touch sensitive surface unit one or more tactile output units and processing unit coupled with display unit the touch sensitive surface unit the one or more sensor units and the one or more tactile output units . In some embodiments the processing unit includes detecting unit determining unit identifying unit generating unit selecting unit sending unit receiving unit processing unit and foregoing unit .

The processing unit is configured to detect a first touch input on the touch sensitive surface unit e.g. with the determining unit and or the touch sensitive surface unit in response to detecting the first touch input on the touch sensitive surface unit determine a first intensity applied by the first touch input on the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units identify a first intensity model identifier from a plurality of predefined intensity model identifiers e.g. with the identifying unit in accordance with the first intensity applied by the first touch input on the touch sensitive surface unit and one or more thresholds associated with the first intensity model identifier determine a first touch characterization parameter e.g. with the determining unit and subsequent to determining the first touch characterization parameter send first touch information to a first software application e.g. with the sending unit wherein the first touch information includes the first intensity model identifier and the first touch characterization parameter.

In some embodiments the processing unit is configured to in response to detecting the first touch input on the touch sensitive surface unit generate a tactile output in accordance with the intensity applied by the first touch input on the touch sensitive surface unit and the one or more thresholds associated with the first intensity model identifier e.g. with the generating unit and or the tactile output units .

In some embodiments the processing unit is configured to receive one or more instructions from the first software application to generate a tactile output e.g. with the receiving unit and in response to receiving the one or more instructions from the software application generate the tactile output in accordance with the one or more instructions from the software application e.g. with the generating unit and or the tactile output units .

In some embodiments the processing unit is configured to while continuing to detect the first touch input on the touch sensitive surface unit receive one or more instructions to use an intensity model that corresponds to a second intensity model identifier that is distinct from the first intensity model identifier e.g. with the receiving unit and subsequent to receiving the one or more instructions to use the intensity model that corresponds to the second intensity model identifier determine a second intensity applied by the first touch input on the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units and process the first touch input based on the second intensity model identifier e.g. with the processing unit .

In some embodiments the processing unit is configured to while continuing to detect the first touch input on the touch sensitive surface unit subsequent to processing the first touch input based on the second intensity model identifier receive one or more instructions to use an intensity model that corresponds to a third intensity model identifier that is distinct from the first intensity model identifier and the second intensity model identifier e.g. with the receiving unit and subsequent to receiving the one or more instructions to use the intensity model that corresponds to the third intensity model identifier determine a third intensity applied by the first touch input on the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units and process the first touch input based on the third intensity model identifier e.g. with the processing unit .

In some embodiments the processing unit is configured to determine that the first touch input has ceased to be detected on the touch sensitive surface unit e.g. with the determining unit and subsequent to determining that the first touch input has ceased to be detected on the touch sensitive surface unit detect a second touch input on the touch sensitive surface unit that is separate from the first touch input e.g. with the detecting unit and or the touch sensitive surface unit and process the second touch input based on the first intensity model identifier e.g. with the processing unit .

In some embodiments processing the touch input based on the second intensity model identifier includes in accordance with the second intensity applied by the touch input on the touch sensitive surface unit and one or more thresholds associated with the second intensity model identifier determining a second touch characterization parameter e.g. with the determining unit wherein the second touch characterization parameter is distinct from the first touch characterization parameter and subsequent to determining the second touch characterization parameter sending second touch information to the first software application e.g. with the sending unit wherein the second touch information includes the second intensity model identifier and the second touch characterization parameter.

In some embodiments processing the touch input based on the second intensity model identifier includes foregoing generation of a tactile output in accordance with the second intensity failing to satisfying the one or more thresholds associated with the second intensity model identifier e.g. with the foregoing unit the generating unit and or the tactile output units wherein the electronic device is configured to generate a tactile output in accordance with the second intensity satisfying at least one of the one or more thresholds associated with the first intensity model identifier.

In some embodiments the processing unit is configured to subsequent to detecting the first touch input receive one or more instructions to use an intensity model that corresponds to a second intensity model identifier that is distinct from the first intensity model identifier e.g. with the receiving unit and subsequent to receiving the one or more instructions to use the intensity model that corresponds to the second intensity model identifier detect a second touch input on the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit in response to detecting the second touch input on the touch sensitive surface unit determine a second intensity applied by the second touch input on the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units and process the second touch input based on the second intensity model identifier e.g. with the processing unit .

In some embodiments the processing unit is configured to send a stream of intensity events to the first software application e.g. with the sending unit each intensity event corresponding to an intensity applied by the touch input at a corresponding time.

In some embodiments the processing unit is configured to select a set of thresholds from a plurality of sets of thresholds in accordance with the identified intensity model identifier e.g. with the selecting unit and determine the touch characterization parameter in accordance with the selected set of thresholds e.g. with the determining unit .

In some embodiments the processing unit is configured to identify one or more intensity ranges in accordance with the identified intensity model identifier e.g. with the identifying unit and determine a touch characterization parameter in accordance with the one or more identified intensity ranges e.g. with the determining unit .

In some embodiments identifying the first intensity model identifier includes identifying the first software application as corresponding to the touch input and identifying an intensity model identifier registered by the first software application as the first intensity model identifier e.g. with the identifying unit .

In accordance with some embodiments shows a functional block diagram of electronic device configured in accordance with the principles of the various described embodiments. The functional blocks of the device are optionally implemented by hardware software firmware or a combination thereof to carry out the principles of the various described embodiments. It is understood by persons of skill in the art that the functional blocks described in are optionally combined or separated into sub blocks to implement the principles of the various described embodiments. Therefore the description herein optionally supports any possible combination or separation or further definition of the functional blocks described herein.

As shown in electronic device includes display unit configured to display a user interface touch sensitive surface unit configured to receive contacts one or more sensor units configured to detect intensity of contacts with the touch sensitive surface unit one or more tactile output units and processing unit coupled with display unit the touch sensitive surface unit the one or more sensor units and the one or more tactile output units . In some embodiments the processing unit includes detecting unit identifying unit determining unit sending unit generating unit selecting unit foregoing unit and display enabling unit .

The processing unit is configured to detect a first touch input on a first touch region of the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit identify a first intensity model identifier associated with the first touch region of the touch sensitive surface unit from a plurality of predefined intensity model identifiers e.g. with the identifying unit in response to detecting the first touch input on the first touch region of the touch sensitive surface unit determine a first intensity applied by the first touch input on the first touch region of the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units in accordance with the first intensity applied by the first touch input on the touch sensitive surface unit and one or more thresholds associated with the first intensity model identifier determine a first touch characterization parameter e.g. with the determining unit and subsequent to determining the first touch characterization parameter send first touch information to the first software application e.g. with the sending unit wherein the first touch information includes the first touch characterization parameter detect a second touch input on a second touch region of the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit wherein the second touch region of the touch sensitive surface unit is distinct from the first touch region of the touch sensitive surface unit identify a second intensity model identifier associated with the second touch region of the touch sensitive surface unit from the plurality of predefined intensity model identifiers e.g. with the identifying unit and in response to detecting the second touch input on the second touch region of the touch sensitive surface unit determine a second intensity applied by the second touch input on the second touch region of the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units in accordance with the second intensity applied by the second touch input on the touch sensitive surface unit and one or more thresholds associated with the second intensity model identifier determine a second touch characterization parameter e.g. with the determining unit and subsequent to determining the second touch characterization parameter send second touch information to the first software application e.g. with the sending unit wherein the second touch information includes the second touch characterization parameter.

In some embodiments the processing unit is configured to prior to detecting the first touch input enable display of a user interface that includes a first display region and a second display region e.g. with the display enabling unit and or the display unit wherein the first display region corresponds to the first touch region and the second display region corresponds to the second touch region.

In some embodiments the first display region corresponds to a user interface of the first software application and the second display region corresponds to a user interface of a second software application.

In some embodiments the processing unit is configured to in response to detecting the first touch input on the first touch region of the touch sensitive surface unit generate a first tactile output in accordance with the first intensity applied by the first touch input on the touch sensitive surface unit and the one or more thresholds associated with the first intensity model identifier e.g. with the generating unit and or the tactile output units and in response to detecting the second touch input on the second touch region of the touch sensitive surface unit generate a second tactile output in accordance with the second intensity applied by the second touch input on the touch sensitive surface unit and the one or more thresholds associated with the second intensity model identifier e.g. with the generating unit and or the tactile output units .

In some embodiments at least a portion of the first touch region overlaps with at least a portion of the second touch region.

In some embodiments the processing unit is configured to detect a third touch input on an overlapping touch region of the touch sensitive surface unit that corresponds to an overlap of the first touch region and the second touch region e.g. with the detecting unit and or the touch sensitive surface unit select an intensity model identifier between the first intensity model identifier and the second intensity model identifier for the overlapping touch region e.g. with the selecting unit and in response to detecting the third touch input on the overlapping touch region determine a third intensity applied by the third touch input on the overlapping touch region of the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units in accordance with the third intensity applied by the third touch input on the overlapping touch region of the touch sensitive surface unit and one or more thresholds associated with the selected intensity model identifier determine a third touch characterization parameter e.g. with the determining unit and subsequent to determining the third touch characterization parameter send third touch information to the first software application e.g. with the sending unit wherein the third touch information includes the third touch characterization parameter.

In some embodiments both the first intensity model identifier and the second intensity model identifier are associated with priorities applicable to the overlapping touch region and the intensity model identifier is selected based on the priorities of the first intensity model identifier and the second intensity model identifier for the overlapping touch region.

In some embodiments the processing unit is configured to forego determination of a touch characterization parameter in accordance with the third intensity and one or more thresholds associated with an intensity model identifier that has not been selected between the first intensity model identifier and the second intensity model identifier e.g. with the foregoing unit and or the determining unit .

In some embodiments the first intensity model identifier has been selected for the overlapping region e.g. by the selecting unit and the processing unit is configured to subsequent to detecting the third touch input detect a fourth touch input on the overlapping region of the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit and select the second intensity model identifier for the overlapping touch region e.g. with the selecting unit and in response to detecting the fourth touch input on the overlapping touch region determine a fourth intensity applied by the fourth touch input on the overlapping touch region of the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units in accordance with the fourth intensity applied by the fourth touch input on the overlapping touch region of the touch sensitive surface unit and the one or more thresholds associated with the second intensity model identifier determine a fourth touch characterization parameter e.g. with the determining unit and subsequent to determining the touch characterization parameter send fourth touch information to the first software application e.g. with the sending unit wherein the fourth touch information includes the fourth touch characterization parameter.

In accordance with some embodiments shows a functional block diagram of electronic device configured in accordance with the principles of the various described embodiments. The functional blocks of the device are optionally implemented by hardware software firmware or a combination thereof to carry out the principles of the various described embodiments. It is understood by persons of skill in the art that the functional blocks described in are optionally combined or separated into sub blocks to implement the principles of the various described embodiments. Therefore the description herein optionally supports any possible combination or separation or further definition of the functional blocks described herein.

As shown in electronic device includes display unit configured to display a user interface touch sensitive surface unit configured to receive contacts one or more sensor units configured to detect intensity of contacts with the touch sensitive surface unit one or more tactile output units and processing unit coupled with display unit the touch sensitive surface unit the one or more sensor units and the one or more tactile output units . In some embodiments the processing unit includes detecting unit processing unit providing unit determining unit identifying unit generating unit display enabling unit selecting unit updating unit and foregoing unit .

The processing unit is configured to detect a touch input on the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit and in response to detecting the touch input in accordance with a determination that the touch input is at a location on the touch sensitive surface unit that is associated with a first intensity model of a plurality of different intensity models process the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface unit and the first intensity model e.g. with the processing unit and in accordance with a determination that the touch input is at a location on the touch sensitive surface unit that is associated with a second intensity model different from the first intensity model process the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface unit and the second intensity model e.g. with the processing unit .

In some embodiments processing the touch input in accordance with an intensity applied by the touch input and the first intensity model includes providing contact intensity information to a user interface application without generating a tactile output for the touch input e.g. with the providing unit and processing the touch input in accordance with an intensity applied by the touch input and the second intensity model includes conditionally generating a tactile output for the touch input e.g. with the generating unit and or the tactile output units .

In some embodiments during the touch input the electronic device detects application of a respective intensity on the touch sensitive surface unit that is attributed to the touch input e.g. with the detecting unit the touch sensitive surface unit the determining unit and or the sensor units . Processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface unit and the first intensity model includes providing to a user interface application first touch input state information that indicates that the touch input has applied the respective intensity on the touch sensitive surface unit without generating a tactile output for the touch input e.g. with the providing unit and processing the touch input in accordance with an intensity applied by the touch input on the touch sensitive surface unit and the second intensity model includes providing to a user interface application second touch input state information that indicates that the touch input has applied the respective intensity on the touch sensitive surface unit e.g. with the providing unit and generating a tactile output for the touch input e.g. with the generating unit and or the tactile output unit .

In some embodiments the first touch input state information includes a continuously variable representation of intensity of the touch input and the second touch input state information includes an indication that the intensity of the touch input is within a range of values that correspond to activation of a user interface element that corresponds to the location on the touch sensitive surface unit that is associated with the second intensity model.

In some embodiments the processing unit is configured to detect a first touch input on a first touch region of the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit identify a first intensity model identifier associated with the first touch region of the touch sensitive surface unit from a plurality of predefined intensity model identifiers e.g. with the identifying unit in response to detecting the first touch input on the first touch region of the touch sensitive surface unit determine a first intensity applied by the first touch input on the first touch region of the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units and in accordance with the first intensity applied by the first touch input on the touch sensitive surface unit and the first intensity model identifier process the first touch input e.g. with the processing unit and forego generation of a tactile output for the first touch input e.g. with the foregoing unit the generating unit and or the tactile output units detect a second touch input on a second touch region of the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit wherein the second touch region of the touch sensitive surface unit is distinct from the first touch region of the touch sensitive surface unit identify a second intensity model identifier associated with the second touch region of the touch sensitive surface unit from the plurality of predefined intensity model identifiers e.g. with the identifying unit and in response to detecting the second touch input on the second touch region of the touch sensitive surface unit determine a second intensity applied by the second touch input on the second touch region of the touch sensitive surface unit e.g. with the determining unit the touch sensitive surface unit and or the sensor units and in accordance with the second intensity applied by the second touch input on the touch sensitive surface unit and the second intensity model identifier process the second touch input e.g. with the processing unit and conditionally generate a tactile output for the second touch input in accordance with the second touch input and one or more model parameters associated with the second intensity model identifier e.g. with the generating unit and or the tactile output units .

In some embodiments conditionally generating the tactile output for the second touch input includes foregoing generation of the tactile output for the second touch input in accordance with a determination that the second touch input fails to satisfy one or more criteria corresponding to the one or more model parameters associated with the second intensity model identifier e.g. with the foregoing unit the generating unit and or the tactile output units .

In some embodiments the first intensity model identifier indicates that no tactile output is to be generated for a touch input on the first touch region of the touch sensitive surface unit .

In some embodiments the electronic device stores a first software application and the first user input and the second user input are detected e.g. with the detecting unit and or the touch sensitive surface unit while the electronic device displays a user interface of the first software application e.g. with the display enabling unit and or the display unit .

In some embodiments the user interface of the first software application includes a handwriting input tool region.

In some embodiments the handwriting input tool region includes a plurality of selection regions and at least a respective selection region of the one or more selection regions corresponds to the second touch region of the touch sensitive surface unit .

In some embodiments the handwriting input tool region includes a handwriting input region and the handwriting input region corresponds to the first touch region of the touch sensitive surface unit .

In some embodiments the processing unit is configured to in response to detecting the first touch input on the first touch region of the touch sensitive surface unit enable display of one or more graphical elements in the handwriting input region in accordance with the first touch input e.g. with the display enabling unit and or the display unit .

In some embodiments the processing unit is configured to in response to detecting the first touch input on the first touch region of the touch sensitive surface unit enable display of a plurality of groups of characters in the plurality of selection regions e.g. with the display enabling unit and or the display unit wherein a respective group of characters is selected based on the one or more displayed graphical elements in the handwriting input region and the respective group of characters is displayed in a respective selection region and in response to detecting the second user input on the second touch region of the touch sensitive surface unit at a location that corresponds to the respective selection region select the respective group of characters e.g. with the selecting unit .

In some embodiments processing the first touch input detected on the first touch region of the touch sensitive surface unit includes determining that the first touch input has satisfied a drawing intensity threshold e.g. with the determining unit and in accordance with a determination that the first touch input has exceeded the drawing intensity threshold enabling display of the one or more graphical elements in the handwriting input region in accordance with the first touch input e.g. with the display enabling unit and or the display unit wherein a first terminal region of a respective graphical element of the one or more graphical elements corresponds to a location where the first touch input has been determined to satisfy the drawing intensity threshold.

In some embodiments processing the first touch input detected on the first touch region of the touch sensitive surface unit includes while continuing to detect the first touch input on the touch sensitive surface unit continue to update the one or more graphical elements in the handwriting input region in accordance with the first touch input regardless of whether the first touch input has ceased to satisfy the drawing intensity threshold e.g. with the updating unit .

In some embodiments processing the first touch input detected on the first touch region of the touch sensitive surface unit includes detecting that the first touch input has ceased to be detected on the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit and detecting that the first touch input has resumed contact with the touch sensitive surface unit within a predefined time interval subsequent to the first touch input ceasing to be detected on the touch sensitive surface unit e.g. with the detecting unit and or the touch sensitive surface unit and in response to the first touch input resuming contact with the touch sensitive surface unit within the predefined time interval subsequent to the first touch input ceasing to be detected on the touch sensitive surface unit updating the one or more graphical elements in the handwriting input region in accordance with the first touch input e.g. with the updating unit .

In accordance with some embodiments shows a functional block diagram of electronic device configured in accordance with the principles of the various described embodiments. The functional blocks of the device are optionally implemented by hardware software firmware or a combination thereof to carry out the principles of the various described embodiments. It is understood by persons of skill in the art that the functional blocks described in are optionally combined or separated into sub blocks to implement the principles of the various described embodiments. Therefore the description herein optionally supports any possible combination or separation or further definition of the functional blocks described herein.

As shown in electronic device includes display unit configured to display a user interface touch sensitive surface unit configured to receive contacts one or more sensor units configured to detect intensity of contacts with the touch sensitive surface unit and processing unit coupled with display unit the touch sensitive surface unit and the one or more sensor units . In some embodiments the processing unit includes display enabling unit detecting unit processing unit activating unit sending unit and updating unit .

The processing unit is configured to enable display of a user interface that includes two or more display regions including a first display region and a second display region e.g. with the display enabling unit and or the display unit and while displaying the user interface detect a first intensity applied by a touch input at a first location on the touch sensitive surface unit that corresponds to the first display region e.g. with the detecting unit the touch sensitive surface unit and or the sensor units detect a movement of the touch input across the touch sensitive surface unit from the first location on the touch sensitive surface unit to a second location on the touch sensitive surface unit that corresponds to the second display region e.g. with the detecting unit and or the touch sensitive surface unit after detecting the movement of the touch input from the first location on the touch sensitive surface unit to the second location on the touch sensitive surface unit detect a second intensity applied by the touch input at the second location on the touch sensitive surface unit e.g. with the detecting unit the touch sensitive surface unit and or the sensor units and in response to detecting the second intensity applied by the touch input at the second location on the touch sensitive surface unit in accordance with a determination that the first intensity does not satisfy a first intensity threshold process the second intensity in accordance with one or more intensity thresholds associated with the second display region e.g. with the processing unit and in accordance with a determination that the first intensity satisfies the first intensity threshold process the second intensity in accordance with one or more intensity thresholds associated with the first display region e.g. with the processing unit .

In some embodiments the processing unit is configured to send first touch information to the first software application in accordance with a determination that the first intensity satisfies a reporting intensity threshold that is distinct from the first intensity threshold the first touch information including one or more touch parameters that correspond to the first intensity e.g. with the sending unit and send second touch information to the first software application in accordance with a determination that the second intensity satisfies the reporting intensity threshold the second touch information including one or more touch parameters that correspond to the second intensity e.g. with the sending unit .

In some embodiments a first display region of the two or more display regions is associated with a first software element of the first software application and a second display region of the two or more display regions is associated with a second software element of the second software application.

In some embodiments in accordance with the determination that the first intensity does not satisfy the first intensity threshold the second touch information is sent to the second software element without sending the second touch information to the first software element e.g. with the sending unit .

In some embodiments in accordance with the determination that the first intensity satisfies the first intensity threshold the second touch information is sent to the first software element without sending the second touch information to the second software element e.g. with the sending unit .

In some embodiments in accordance with the determination that the first intensity satisfies the reporting intensity threshold the first touch information is sent to the first software element e.g. with the sending unit .

In some embodiments the processing unit is configured to in response to detecting the touch input update the user interface in accordance with the first touch information using the first software application prior to the first intensity satisfying the first intensity threshold e.g. with the updating unit .

In some embodiments the first intensity threshold is distinct from an activation intensity threshold.

In some embodiments the one or more intensity thresholds associated with the first display region are different from the one or more intensity thresholds associated with the second display region.

In some embodiments the one or more intensity thresholds associated with the first display region are the same as the one or more intensity thresholds associated with the second display region.

In some embodiments the processing unit is configured to in response to detecting the first intensity applied by the touch input process the first intensity in accordance with the one or more intensity thresholds associated with the first display region e.g. with the processing unit .

In some embodiments processing the first intensity in accordance with the one or more intensity thresholds associated with the first display region includes enabling display of an animation that corresponds to a change in intensity applied by the touch input from a prior intensity to the first intensity e.g. with the display enabling unit and or the display unit .

In some embodiments processing the second intensity in accordance with the one or more intensity thresholds associated with the first display region includes enabling display of an animation that corresponds to a change in intensity applied by the touch input on the touch sensitive surface unit e.g. with the display enabling unit and or the display unit .

In some embodiments processing the second intensity in accordance with the one or more intensity thresholds associated with the second display region includes enabling display of an animation that corresponds to a change in intensity applied by the touch input on the touch sensitive surface unit e.g. with the display enabling unit and or the display unit .

In some embodiments the processing unit is configured to in response to detecting the movement of the touch input from the first location on the touch sensitive surface unit to the second location on the touch sensitive surface unit enable display of an animation that corresponds to a change in intensity applied by the touch input e.g. with the display enabling unit and or the display unit .

In some embodiments processing the second intensity in accordance with one or more intensity thresholds associated with the first display region includes activating a first control associated with the first display region e.g. with the activating unit .

In some embodiments processing the second intensity in accordance with one or more intensity thresholds associated with the second display region includes activating a second control associated with the second display region e.g. with the activating unit .

In accordance with some embodiments shows a functional block diagram of an electronic device configured in accordance with the principles of the various described embodiments. The functional blocks of the device are optionally implemented by hardware software or a combination of hardware and software to carry out the principles of the various described embodiments. It is understood by persons of skill in the art that the functional blocks described in are optionally combined or separated into sub blocks to implement the principles of the various described embodiments. Therefore the description herein optionally supports any possible combination or separation or further definition of the functional blocks described herein.

As shown in an electronic device includes a display unit configured to display a user interface for the electronic device a plurality of input units including a first input unit that is configured to generate tactile outputs in response to inputs and a second input unit that is configured to generate tactile outputs. In some embodiments one or more of the input units includes one or more respective sensor unit s . The electronic device further includes a processing unit coupled to the display unit the input units and the sensors . In some embodiments the processing unit includes an input indication receiving unit configured to receive an indication of an input detected by a respective input unit of the plurality of input units and an information providing unit configured to provide in response to receiving the indication of the input information describing the input to an application running on the electronic device that enables the application to react to the input.

The processing unit further includes a reaction receiving unit configured to receive a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and a causing unit configured to cause in response to receiving the reaction to the input from the application the generation of a respective tactile output. More specifically in accordance with a determination see operation of method that the reaction was triggered by the first input device the causing unit causes the respective tactile output to be generated at the first input device based on the reaction to the input from the application and in accordance with a determination see operation of method that the reaction was triggered by the second input device the causing unit causes the respective tactile output to be generated at the second input device based on the reaction to the input from the application.

In some embodiments processing unit of electronic device is configured to cause the electronic device to perform any of the methods described above with reference to .

In accordance with some embodiments shows a functional block diagram of an electronic device configured in accordance with the principles of the various described embodiments. The functional blocks of the device are optionally implemented by hardware software or a combination of hardware and software to carry out the principles of the various described embodiments. It is understood by persons of skill in the art that the functional blocks described in are optionally combined or separated into sub blocks to implement the principles of the various described embodiments. Therefore the description herein optionally supports any possible combination or separation or further definition of the functional blocks described herein.

As shown in an electronic device includes a display unit configured to display a user interface for the electronic device and one or more input units configured to generate tactile outputs in response to inputs. In some embodiments one or more of the input units includes one or more respective sensor unit s . The electronic device further includes a processing unit coupled to display unit input units and sensors . In some embodiments processing unit includes an input indication receiving unit configured to receive an indication of an input detected by a respective input unit of the plurality of input units and an information providing unit configured to provide in response to receiving the indication of the input information describing the input to an application running on the electronic device that enables the application to react to the input.

The processing unit further includes a reaction receiving unit configured to receive a reaction to the input from the application that indicates that a tactile output is to be generated in response to the input and a causing unit configured to cause in response to receiving the reaction to the input from the application the generation of a respective tactile output. More specifically in accordance with a determination see operation of method that the reaction was triggered by the first input device the causing unit causes the respective tactile output to be generated at the first input device based on the reaction to the input from the application and in accordance with a determination see operation of method that the reaction was triggered by the second input device the causing unit causes the respective tactile output to be generated at the second input device based on the reaction to the input from the application.

In some embodiments processing unit of electronic device is configured to cause the electronic device to perform any of the methods described above with reference to .

The operations described above with reference to are optionally implemented by components depicted in and or . For example as to the operations described above with reference to receiving an indication operation providing information describing the input operation receiving a reaction to the input from the application operation and causing the generation of a tactile output operation are optionally implemented by event sorter event recognizer and event handler or by processing unit . Event monitor in event sorter detects a contact on touch sensitive display and event dispatcher module delivers the event information to application . A respective event recognizer of application compares the event information to respective event definitions and determines whether a first contact at a first location on the touch sensitive surface corresponds to a predefined event or sub event such as selection of an object on a user interface. When a respective predefined event or sub event is detected event recognizer activates an event handler associated with the detection of the event or sub event. Event handler optionally utilizes or calls data updater or object updater to update the application internal state . In some embodiments event handler accesses a respective GUI updater to update what is displayed by the application and or accesses a tactile output generator to generate a tactile output. Similarly it would be clear to a person having ordinary skill in the art how other processes can be implemented based on the components depicted in .

For another example as to the operations described above with reference to receiving an indication operation providing information describing the input operation receiving a reaction to the input from the application operation and causing the performance of operations are optionally implemented by event sorter event recognizer and event handler or by processing unit . Event monitor in event sorter detects a contact on touch sensitive display and event dispatcher module delivers the event information to application . A respective event recognizer of application compares the event information to respective event definitions and determines whether a first contact at a first location on the touch sensitive surface corresponds to a predefined event or sub event such as selection of an object on a user interface. When a respective predefined event or sub event is detected event recognizer activates an event handler associated with the detection of the event or sub event. Event handler optionally utilizes or calls data updater or object updater to update the application internal state . In some embodiments event handler accesses a respective GUI updater to update what is displayed by the application and or accesses a tactile output generator to generate a tactile output. Similarly it would be clear to a person having ordinary skill in the art how other processes can be implemented based on the components depicted in .

The foregoing description for purpose of explanation has been described with reference to specific embodiments. However the illustrative discussions above are not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in view of the above teachings. The embodiments were chosen and described in order to best explain the principles of the invention and its practical applications to thereby enable others skilled in the art to best use the invention and various described embodiments with various modifications as are suited to the particular use contemplated.

In some embodiments each stage of a fluid gesture includes three zones with specific rules governing the transition through the zones. These zones are next activated and release. In some embodiments a stage progresses through the zones in that order given the following rules 

The chart in shows the stage zones for a pulse gesture. The three zones A A and A show the related zones for stage 1. In some embodiments zone A has a stage value of 0 because the gesture is transitioning from stage 0 to stage 1 and is therefore not latched to stage 1 yet.

The Cocoa Application Framework also referred to as the Application Kit or AppKit is one of the core Cocoa frameworks. It provides functionality and associated APIs for applications including objects for graphical user interfaces GUIs event handling mechanisms application services and drawing and image composition facilities.

There are several ways to check for new features provided by the Cocoa frameworks at runtime. One is to look for a given new class or method dynamically and not use it if not there. Another is to use the global variable NSAppKitVersionNumber or in Foundation NSFoundationVersionNumber 

One typical use of this is to floor the value and check against the values provided in NSApplication.h. For instance 

Special cases or situations for version checking are also discussed in the release notes as appropriate. For instance some individual headers may also declare the versions numbers for NSAppKitVersionNumber where some bug fix or functionality is available in a given update for example 

One backward compatibility mechanism that is occasionally used in the frameworks is to check for the version of the system an application was built against and if an older system modify the behavior to be more compatible. This is done in cases where bad incompatibility problems are predicted or discovered and most of these are listed below in these notes.

Typically we detect where an application was built by looking at the version of the System Cocoa AppKit or Foundation frameworks the application was linked against. Thus as a result of relinking your application against the latest SDK you might notice different behaviors some of which might cause incompatibilities. In these cases because the application is being rebuilt we expect you to address these issues at the same time as well. For this reason if you are doing a small incremental update of your application to address a few bugs it s usually best to continue building on the same build environment and libraries used originally.

In some cases we provide defaults preferences settings which can be used to get the old or new behavior independent of what system an application was built against. Often these preferences are provided for debugging purposes only in some cases the preferences can be used to globally modify the behavior of an application by registering the values do it somewhere very early with NSUserDefaults registerDefaults .

Some Apple trackpads have the ability to report pressure. Like the rotation and magnification gestures that came before it the pressure gesture is reported as a new event type NSEventTypePressure and a new responder method void pressureChangeWithEvent NSEvent .

NSEventTypePressure is a fluid gesture. And like all fluid gestures it has a phase that describes the sequence of the pressure gesture stream.

Stage 0 The lowest stage. Generally this means the user is applying less pressure than what is required to get a mouse down. Effectively you only see one stage 0 pressure event per stream when the gesture ends.

Stage 1 Equivalent to a mouse down. NSEventTypePressure events are not posted until the user applies enough pressure that the trackpad will also issue a mouse down.

Stage 2 Equivalent to a force click. The user has applied significant additional pressure greater than what is needed for a mouse down. Stage 2 should generally be used as the trigger for an additional action. For example lookup is performed when the pressure stream transitions to stage 2. Note Generally the trackpad will actuate as the gesture transitions across stages. Note It is possible for stage to increase or decrease multiple integer values per change. For example a quick removal of the user s fingers while at stage 2 may cause stage to transition to 0 without a pressure event with stage 1. property readonly float pressure 

The pressure on the trackpad for the current stage. The range for this value is 0 1 . Each stage has a pressure curve appropriate for that stage. That is pressure may change from 0 1 for stage 1. And likewise 0 1 for stage 2.

Note Pressure of only one stage should be used. Carefully consider the use case. If variable input is useful for all cases then use the pressure during stage 1 as this is the most comfortable range for the user. If variable input is useful only in rare situations where the user input must not be ambiguous with a regular mouse click then use stage 2. Though generally for such cases use stage 2 to denote this input and ignore stage 2 pressure. Do not attempt to combine stage 1 and stage 2 pressure to get a larger range. Doing so will cause undue stress on the user s fingers. Note pressure is not appropriate for weight measurements. property readonly CGFloat stageTransition NS AVAILABLE MAC 10 10 3 

The animation value for stage transitions. Positive stageTransition describes approaching the next stage of the pressure gesture. Negative stageTransition describes approaching release of the current stage. For example as the user approaches stage 2 stageTransition will increase towards 1. The moment the gesture transitions to stage 2 stageTransition immediately return to 0 and will decrease towards 1 as the user releases pressure on the trackpad until the gesture transitions to stage 1 again. Generally only the positive stage transition values are animated.

Note stageTransition doesn t match the pressure curve. There are bands where the pressure may change but the stageTransition remains at 0. stageTransition remains at 0 until the gesture is very near a stage transition.

This property makes it possible to determine on the mouse down if pressure should be expected from the input device. Since pressure and mouse events are independent streams you sometimes need to make a decision for example a starting pressure immediately on mouse down.

The Finder spring loading feature has been expanded and adopted in more places. All application windows will spring forward automatically. Tabs will activate themselves in response to spring loading while segmented controls and buttons can be configured to respond to spring loading.

Spring loading is triggered by hovering over a spring loading capable target. The length of the hover delay is controlled via the Accessibility Mouse Trackpad system preference pane.

Using a pressure sensitive trackpad the user can also trigger spring loading by pressing harder on the trackpad during a drag. This is akin to a nested click inside of a drag. During a drag the user can press harder. The trackpad will actuate arming the spring loading under the cursor. When the user relaxes just enough to release the nested click the trackpad will actuate and trigger the spring loading without dropping the drag. Once the user triggers spring loading via a pressure sensitive trackpad the hover feature is disabled until the user starts a new drag drop operation.

Segmented controls and buttons can be configured to send their action in response to the user dragging an item. Set springLoaded to YES and the user will be able to interact with the control via force clicking or hovering during a drag.

Tab views and tab view controllers now change selection in response to force click or extended hover while the user is dragging an item.

There are new button types for pressure sensitive trackpads referred to as accelerator buttons. These act like continuous mode push buttons in that applications generally respond to them while they are held down and then stop when they are released. Their main feature is the ability to interpret variable pressure allowing the user to directly control the speed of the related action by changing the pressure they apply. This is intended to be used for things like controlling the speed of fast forward and rewind for media playback the advancement speed for week view in calendar or the zoom speed in maps.

The new button types are variants of the standard NSMomentaryLightButton and work with a variety of bezel styles. A simple call to setButtonType is all that s necessary to use them this will properly configure relevant aspects of the button. Accelerator buttons behave differently than standard NSButtons in a variety of ways. Beyond the additional API above here are the major behavioral distinctions 

All accelerator buttons will carry a state of 0 when not pressed or 1 when pressed clicked normally. The state and value will rise above 1 when pressed harder. For fine grained control over speed NSButtonTypeAccelerator exposes a doubleValue ranging from 1 when initially pressed to 1.999999 or so when fully pressed. This design allows the doubleValue and integerValue to match and avoids having to expose a separate property for the fractional part of the value.

An NSMultiLevelAcceleratorButton provides a configurable number of distinct pressure levels with tactile feedback as the user reaches each one. Clients configure the number of discrete levels by changing the new maxState property. It is always 1 for other button types but defaults to 2 for multi level accelerator buttons. Values outside the range 2 5 will be pinned and cause a warning to be logged. Values above 1 will add additional levels to the button with a light actuation on capable hardware when each one is reached. The control takes on these integer valued states during interaction with the user and sends an action message whenever they change. As an aside note that the pressures needed to reach a given level remain the same regardless of the maxState value. In other words the pressure thresholds for the allowed levels are not evenly spread across the available pressure range.

Applications respond to accelerator buttons using the traditional action handlers. They read the control s state integerValue or doubleValue and configure the speed of the related operation to match. The application is responsible for translating the floating point 0 1.99999 or integer 0 5 values into an appropriate speed for their specific use case.

Segmented controls can be configured for pressure sensitivity which can be used to accelerate user interactions. For example a zoom control may want to accelerate zooming the harder the user presses. A continuous control with a periodic interval may accelerate page turning as the periodic interval is automatically adjusted based on pressure.

The control may have its tracking mode set to NSSegmentSwitchTrackingMomentaryAccelerator. doubleValueForSelectedSegment represents the value which the individual segment would return without any segment offset as if it were a standalone accelerator button.

Behavior of momentary accelerator segmented controls vary based on the state of their continuous flag and whether or not the hardware supports pressure sensitivity. Below is a description of the behavior in each configuration.

Actions will be sent at the cell s periodic interval starting after the cell s periodic delay. Upon mouse up a final action will be sent with selectedSegment 1.

Actions will be sent at a periodic interval automatically adjusted based on pressure starting after the cell s delay. Upon mouse up a final action will be sent with selectedSegment 1. In this configuration the adjusted periodic interval is useful for accelerated page turning of content.

An initial action will be sent with doubleValueForSelectedSegment 1.0. Upon mouse up a final action will be sent with doubleValueForSelectedSegment 0.0 and selectedSegment 1.

Each time the pressure changes an action will be sent with doubleValueForSelectedSegment 1.0 pressure . Upon mouse up a final action will be sent with doubleValueForSelectedSegment 0.0 and selectedSegment 1. In this configuration the doubleValueForSelectedSegment is useful to accelerate actions such as zooming.

