---

title: System and method for enhancing locative response abilities of autonomous and semi-autonomous agents
abstract: A computer system and method according to the present invention can receive multi-modal inputs such as natural language, gesture, text, sketch and other inputs in order to simplify and improve locative question answering in virtual worlds, among other tasks. The components of an agent as provided in accordance with one embodiment of the present invention can include one or more sensors, actuators, and cognition elements, such as interpreters, executive function elements, working memory, long term memory and reasoners for responses to locative queries, for example. Further, the present invention provides, in part, a locative question answering algorithm, along with the command structure, vocabulary, and the dialog that an agent is designed to support in accordance with various embodiments of the present invention.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09542930&OS=09542930&RS=09542930
owner: Knexus Research Corporation
number: 09542930
owner_city: Oxon Hill
owner_country: US
publication_date: 20151103
---
This application claims the benefit of U.S. patent application No. 61 493 542 entitled System and Method for Enhancing Locative Response Abilities of Autonomous and Semi Autonomous Agents filed Jun. 6 2011.

Semi autonomous agents or bots can perform various actions in the physical and virtual worlds. For example in the physical world robots assemble cars and clean swimming pools and unmanned arial vehicles UAVs perform complex missions such as urban surveillance and fuel resupply missions. Likewise in the virtual world such as first person shooter games or real time strategy games and military training simulators for example bots may perform some actions based on scripted rules and low level user inputs.

The state of the art autonomous agents in physical and virtual worlds have limited conversational abilities. Moreover none are capable of answering locative queries i.e. where is . . . questions. Further an agent s autonomy i.e. its ability to operate with little or no human supervision or operation is very limited. For example UAVs require six operators to fly a mission and the virtual bots require complex and unnatural controller inputs. Additionally natural language communication with bots is limited to simple commands. For example a driver can turn on the radio in a car using voice commands but cannot ask any questions and receive answers. These challenges inherently and substantially limit the practical uses for autonomous agents.

In one aspect the present invention provides physical and virtual bots with a vastly superior level of autonomy than the current state of the art. Specifically virtual bots communicative bots in accordance with the present invention are capable of acting based on natural language commands having a task based conversation and answering locative questions. The practical applications of such bots are endless.

With regard to locative question answering one can imagine a common household scenario where a farsighted elderly person asks his her spouse Where are my reading glasses to which the spouse responds They are directly behind you on the dresser . There are two main components of such a response. First the landmarks such as you and the dresser and second the terms such as behind and on that describe the spatial relations of the target object that is reading glasses with the landmarks and possibly between the landmark objects.

To create a response to such locative questions an agent must decide which and how many landmarks to use and what spatial relations go with them. Past efforts describing landmark selection in the spatial reasoning field outline a set of selection criteria for landmarks such as it is bigger and more complex in shape than the target object immediately perceivable and less mobile. Past efforts also describe an influence model for landmark selection which include search space optimization listener location and brevity of communication. However these efforts fall short of operationalizing their approach and do not present a model that provides a clear description of how many landmarks to select. In contrast the present invention provides a computational model for landmark selection and location description generation which minimizes the listener s mental cost in locating the target object.

One of the key insights employed by the present invention is that in asking the locative question the requester is trying to reach or find the target object and the best response description is the one that minimizes the amount of search or looking around that the listener must do to locate the target object.

For example imagine a force protection unit asking a scout bot where are the insurgents The scout bot in accordance with the present invention can respond for example on the roof top of the building two blocks ahead of you. As another example a worried parent of a lost child in a museum who was previously tagged with a location sensor may ask a locator bot in accordance with the present invention where is Johnny using her cell phone. The locator bot in accordance with the present invention can respond for example in front of the drinking fountain next to the dinosaur exhibit to your right. As another example in a multiplayer video game such as Call of Duty Black Ops Call Of Duty 2011 a player could ask his virtual team mate where are you and it would provide a suitable answer.

The same approach can be used to help shoppers locate products in a retail store and the retailer can cross sell and up sell products to the shopper based on the questions they ask. No currently available system or methods provide such abilities. While there are many commercial systems for outdoor wide area navigation there is little in the way of indoor navigation support such as shopping malls large ships and public parks.

The present invention thus provides a computational approach for representing and reasoning about the locations of objects in the world to construct a response to locative queries. The present invention can be implemented in an embodied software bot a bot that can sense the world around it reason about what it senses and act that answers locative e.g. Where is . . . questions.

The present invention further provides in part an approach for implementing a Communicative Agent for Spatio Temporal Reasoning called CoASTeR in one embodiment that responds to multi modal inputs speech gesture and sketch to dramatically simplify and improve locative question answering in virtual worlds among other tasks. In one aspect the present invention provides a software system architecture workbench that includes CoASTeR. The components of an agent as provided in accordance with one embodiment of the present invention can include one or more sensors actuators and cognition elements such as interpreters executive function elements working memory long term memory and reasoners for responses to locative queries. Further the present invention provides in part a locative question answering algorithm along with the command structure vocabulary and the dialog that an agent is designed to support in accordance with various embodiments of the present invention.

As shown in the system of the present invention can be implemented in a modular client server architecture with different sets of plug and play components including one or more operator clients access server runner engine and knowledge bases . The system of the present invention is a computer based system where the components can be implemented in hardware software firmware or combinations thereof. It will be appreciated that the system of the present invention incorporates necessary processing power and memory for storing data and programming that can be employed by one or more processors to carry out the functions and communications necessary to facilitate the processes and functionalities described herein. In one embodiment the components sub components and or modules associated with the present invention can be implemented using object oriented languages such as C or Java using well defined software interfaces such that the implementation of any component can replaced by another with equivalent functionality without affecting the overall functionality of the workbench. It will be appreciated that access can be provided over a public or private network including the Internet in various embodiments of the present invention. The present invention can comprise in one embodiment computer program instructions for receiving one or more inputs determining a valid and or optimal location for a virtual object in a virtual world and placing the object in the virtual world according to the determination. The computer program instructions can also perform the other processes and algorithm elements described hereinafter. The computer program instructions can be embodied in a computer readable medium which can be any data storage device capable of storing data which can thereafter be read by a computer or computer system. Example such devices are hard drives network storage read only memory ROM random access memory RAM compact discs magnetic tapes portable storage devices such as flash drives and other optical and non optical data storage devices. The computer readable medium can also be distributed over a network connected computer system to allow the computer program instructions to be stored and executed in a distributed manner. Computers and or computer systems capable of employing the present invention include mobile communication devices and other microprocessor based devices as well as minicomputers mainframe computers and networked computers for example.

With reference to the operator client comprises the user interface layer of the architecture of the system of the present invention and includes interaction consoles such as World View console and Agent View console . The World View console permits the user to interact with the virtual environment selected by the user and the Agent View console permits the user to interact with one or more agents that will then be employed in the virtual environment. The consoles can further include input output I O devices shown generally at to promote multi modal communication including devices such as a graphical user interface GUI with a text input chat a headset with microphone to provide speech input a sketch device such as an iPad gesture input device such as Microsoft Kinect or Nintendo Wii and a display screen such as those provided by a computer television or other display unit. It will be appreciated that all I O devices may not be included in particular implementations of the present invention. The consoles can further include agent imagination console and agent cognition console . These consoles can permit a user to view the traces of reasoning algorithm operation so as to for example identify potential reasoning errors. These consoles can further be used to identify the root causes of unexpected behavior and apply adjustments to correct such behavior.

The Server Runner enables the workbench of the present invention to operate in a client server mode where multiple operator clients can either locally or remotely connect to the engine of the present invention. The engine is the core of the system of the present invention and as shown in the embodiment of the invention represented by comprises a World Engine and a Cognition Engine . The World Engine is adapted to interact with third party components not shown such as for example a game engine application programming interface API or a 3 D graphics engine API e.g. Object Oriented Graphics Rendering Engine OGRE . An agent s physical representation or its embodiment resides in the World Engine . Through its embodiment API the agent can perceive or sense the virtual world in which it interacts gather information about the objects including their position and movements for example and create events or actions that change the world. The communicative abilities and programming of the present invention can be embedded in any existing 3 D graphical software application that provides a suitable API to access and manipulate the contents of the virtual world. For example the present invention can interact with OGRE a 3 D graphical rendering engine. The Cognition Engine houses an agent s reasoning and or its cognitive ability as described in more detail below.

The Knowledge Base layer includes a variety of data and knowledge that can be employed in the system of the present invention. For example programmed models for spatial reasoning gesture models parameters for the landmark selection and or locative response algorithm in the Long Term Memory of the present invention and programmed graphical object models to retrieve and place in the virtual world can be stored in the Models and World Knowledge Base . Long Term Memory knowledge base can store dictionaries grammar rules semantics and knowledge bases such as outlined below for example.

The Environmental setup component of operator client can include a world selection sub component and an agent selection sub component for permitting the user to select a virtual world and an agent to act within the selected virtual world.

The Cognition component provides the various cognitive abilities for the agent and interfaces with the Embodiment component . In one embodiment of the present invention the Cognition component comprises the Sensor Interpreters sub component the Action Interpreters sub component the Working Memory sub component and the Executive sub component . The Sensor Interpreters sub component comprises interpreter elements that are adapted to transform raw sensory inputs such as text scene graphics and gesture signals into a logical form or mentalese. Logical forms are specialized computational representations that can be processed by reasoners or inference engines e.g. first order logic . Given the diversity of logic languages such as first order second order or higher order logics the present invention can employ in one embodiment its own internal representation language called CRL which stands for CoASTeR Representation Language . CRL is the present invention s canonical method for exchanging data across the agent sub components. In one embodiment of the present invention the syntax and the conventions of CRL are based on the ontologies and knowledge base associated with CycL developed by Cycorp Inc. of Austin Tex. in order to support its wide compatibility and acceptability among users. The present invention can include the following language components for example predicates entities logical connectives types modal operators and other higher order relations as shown in the exemplary screen display of .

The Working Memory sub component is adapted to include a version of the Belief Desires and Intentions software model BDI model as part of the working memory. Beliefs contain facts about the world as perceived by agents of the present invention. The Goals are high level objectives that the agent must accomplish and the Intentions are planned commitments to achieve the Goals.

The Executive sub component orchestrates the functioning of all of the other components in the agent s cognition. For example the Executive sub component sets the goals and activates the reasoners to plan schedule and prioritize actions. The Executive sub component includes a meta cognition component that can receive information from the Beliefs element and exchange information with the Goals element . A principal task of the meta cognition component is to based on the sensed situation set and prioritize goals to perform. For example when a command to locate an object is received from the text input the meta cognition component s goal setting algorithm can post a locative response task in the agent s belief base. The reasoners include a set of swappable components that can take CRL representations of the virtual world and decide and develop an action response for the agent for example. Reasoners can include for example path planners that help the agent decide how to move from one location to another or a locative response and or landmark selection component that helps the agent decide how to answer a locative question pertaining to an object in the world. In one embodiment of the present invention the reasoners output their decisions in CRL mentalese which is then handed off to the Action Interpreters component via Intentions element for further processing. The Action Interpreters component is adapted to transform the CRL mentalese into executable information. For example a language interpreter can transform a logical form representation of what an agent needs to say into a text form. Alternatively a scene interpreter can transform a placement decision into a scene graph.

The Long term memory of an agent comprises a variety of knowledge resources needed by the interpreters and generators. Such knowledge can include for example the lexicon for interpreting natural language or knowledge about objects in the world.

Consider an end user interacting with the system of the present invention using client . The end user is accessing a virtual world via the World Engine of engine . The end user s goal in this example is to identify the set of landmarks within the virtual world W and the corresponding spatial relations that minimize the response processing cost and maximize the chances of success for the querying agent in locating the object. The world W contains a set of objects O located in various places within W and further contains a querying agent q wherein the querying agent can issue a locative query lq requesting a responding agent r to locate the target object oin W and identify the set of landmarks as desired. The set of landmark objects O is a subset of the total set of objects O.

The present invention in one embodiment represents the following attributes for objects including agents in the world 

1. Volume The physical volume of the object given by the bounding box of the object. A bounding box can be for example a three dimensional fictional box that is just large enough to hold the target object and for which a volume calculation can readily be made. For example a cylindrical water bottle may have a cylindrical bounding box and a book may have a substantially rectangular prism bounding box for purposes of calculating their respective volumes according to the present invention. As explained later one embodiment of the present invention can assume that landmark objects e.g. objects on which something is placed such as a table typically have larger volumes than the target objects e.g. a book and that the search difficulty is a function of the relative sizes. In one embodiment of the present invention the volume can be used as a proxy for the search area that must be scanned. 2. Color and luminosity One embodiment of the present invention represents the average color of an object by its RGB red green blue value. The present invention can use this to compute the ease with which a target object can be spotted against a given background. Intuitively an object that blends with a given background is harder to spot and raises the visual search cost and vice versa. Similarly bright objects against dull backgrounds are more attention grabbing than dull objects. 3. Familiarity This represents the probability that a querying agent is familiar with the type of target objects and can recognize one when it is within its field of view. The present invention can represent familiarity in one embodiment of the present invention using a qualitative probability scale as follows have seen it a lot before or very familiar e.g. familiarity factor value of 1.0 have seen it a few times before or familiar e.g. familiarity factor value of 0.75 have seen it once or somewhat familiar e.g. familiarity factor value of 0.5 have not seen it but know of similar objects or marginally familiar e.g. familiarity factor value of 0.3 have never seen it or unfamiliar e.g. familiarity factor value of 0.2 . Inter Object Relations Representation. Given a set of objects in the W for each pair of objects e.g. landmark and target the present invention can represent the following items 1. Visibility If the target object is visible from a landmark or a chosen vantage point then the visual scanning effort remains unaffected. However if the target object is occluded or hidden then the search cost is infinite. 2. Distance The shortest distance between the bounding boxes of the two objects measured in the same units as the volume. The present invention may assume in one embodiment that the distance between the two objects has an influence on the search cost. For example the larger the distance the larger the search cost. 3. Spatial relation The type of spatial relation between the two objects. These include all the spatial relations expressed in a language. For example for English the present invention can include leftOf rightOf infrontOf behind above below under over on and in. The present invention can further attribute a different cost to each of the spatial relations denoting their contribution to search difficulty. For example on is the easiest relation to process with a cost of 1 and behind is the most difficult relation to process and assigned a cost of 5. It will be appreciated that these costs can be altered to suit the agent performance or learned by a parameter estimation technique. 4. Target Background Color The background color and luminosity in comparison to the target object from the landmark vantage point is a key factor contributing to the search cost. If the target object color is very different from the background the search cost is likely to be low and vice versa.

One example of a least cost landmark selection and response generation algorithm in accordance with the present invention is described below.

In this example the inputs can be 1 the set of objects O in the world W 2 the target object to be located o e.g. Printer the knowledge base KB containing the properties of objects in the world covering all the objects O and o the relation difficulty factor RDF values the familiarity factor F values the description length penalty parameter P and the maximum number of landmarks admissible in a response L. The Lnumber can be predetermined in accordance with one embodiment of the present invention. The output is u the least cost response utterance for the querying agent q .

1. Select the candidate landmarks CO the candidate landmarks are those objects that lie on the potential paths between q and o. A na ve approach would be to select all of the objects that lie between q and o. Further the present invention may only select those objects that are larger than o since as discussed above most target objects are smaller than the respective landmark objects. In one embodiment the present invention assumes that the requesting agent r has complete and perfect knowledge of all of the objects in the world including the location of q which is not unreasonable in a virtual world. In a physical world such as ships and retail stores for example where the electronic graphical models and simulations are available this assumption also holds to a large extent. It will be appreciated that the agent s performance may be suboptimal to the degree that the perfect knowledge assumption is violated. 2. Create the set of objects Ofor computing the inter object relations which is the union of CO q and o as represented by O CO q o. 3. Compute the inter object relations R for all of the object pairs oand o where i does not equal j and where oand oare elements of the set of objects as represented by oand o Oi j. For each pair of objects and the relation r the present invention can compute the visibility distance spatial relation and background of ofrom o. 4. Construct the cost computation tree T. The tree comprises a set of nodes N each of which may have only one parent and zero or more children. If the node does not have a parent then it is the root of the tree and if it does not have any children then it is a leaf. The requesting agent r is always the root of the tree. In one embodiment the present invention grows the tree starting from this root as follows. First the children are inserted into a node by selecting all those objects from COthat are smaller in volume than the object represented by the tree node. However this rule is not applied to the root node. These steps can be repeated until the tree depth reaches L after which ois inserted as the only child of all the existing leaf nodes. Each path in the tree starting from the root to a leaf represents the potential set of landmarks that can be used to generate a response utterance u. 5. Compute the node costs considering the querying agent ncfor all the nodes in the T These costs for a node nin the tree comprise the following elements a. Visual Area Scan Cost vasc In one embodiment the present invention assumes that the effort to visually scan the target increases in proportion to the relative sizes of the objects. Therefore the present invention can compute as follows vasc o o volumeOf o volumeOf o . This implies that when using a very large object as a reference for a tiny object it leads to a very high vasc. Furthermore if ois not visible from o then vasc . b. Distance Scan Factor dsf The present invention assumes in one embodiment that the distance from the reference to the target object contributes to the visual area scan cost. The larger the distance the larger the potential scan cost. The present invention can compute dsf o o distance o o volumeOf o . c. Relational Scan Difficulty Factor rsdf The present invention can assume that the type of relation contributes to the visual scan difficulty. For the given type of relation for a pair of objects the present invention retrieves the value rsdf o o RDF.getValue r o o . d. Target Recognition Difficulty Cost trdc The present invention can assume that the ability to recognize a target object of is inversely proportional to the q s familiarity with the object. i.e. trdc o 1 F.getValue f d . e. Target Background Contrast Cost tbcc The more the target color is different from the background the easier it is to spot during a visual scan and vice versa. Therefore the present invention can compute tbcc o 1 backgroundContrast where background contrast value ranges between 0 and 1 0 1 1 is the highest possible contrast and 0 is no contrast at all. f. Description Length Penalty Factor dlpf The present invention assumes that a shorter response description that is one with fewer landmarks is easier and cognitively less expensive for q to process and vice versa. Therefore for a node at a tree depth of d d L the present invention computes dlpf func P d where the function can be P for example. g. Parent node cost pc The cost of the parent. The present invention computes the total node costs by including and excluding the querying agent ncas follows As can be seen above the computation of node costs starts at the root. The node cost of the root q 0. Intuitively the querying agent knows itself and incurs no scanning cost to locate itself. The present invention can propagate the cost computation from the root to the leaves. 6. Select the minimum cost leaf node n The present invention obtains all of the leaf nodes from T and sequentially scans for the ones with the least node cost nc. 7. Decide whether to include q as landmark In one embodiment of the present invention if the first landmark is not within the visual field of q then q is to be included as a landmark. 8. Generate the minimum cost description u The series of landmarks from root q to the leaf are used to generate a description. In operation the present invention can be used in a variety of environments. For example if a given set O of objects in a virtual world W includes a home office a table a drawer a red book a water bottle a chair a pen a bookshelf a wall and a querying agent.

Consider a world W comprising the following objects O as illustrated in A home office which has a table with a drawer a red book and a water bottle on the table and the drawer has a pen in it . In addition the room has a chair in front of the table and a bookshelf against the wall of the office as shown in the diagram below. The querying agent q is located in front of the table shown by pin . The agent asks the helper autonomous agent Where is the red book 

The landmark selection algorithm in accordance with one embodiment of the present invention can proceed as follows. The present invention selects the candidate landmarks that lie between q and the Red Book CO Table Chair Drawer Water Bottle. Next the present invention creates the set of objects to compute the inter object relations O Table Chair Drawer Water Bottle q RedBook. The responding agent r queries the world to compute the inter object relations as shown in Table 3.

The present invention then constructs the cost computation tree and computes the node cost for all the nodes in T as shown in the exemplary diagram of cost tree computations in . In one embodiment the present invention can select the minimum cost leaf node from the tree which is book with Table as the parent with a nc 2257.57 shown in bold. On this basis the present invention can generate the response to the question as follows the book is on the table. 

Similarly when q is facing the wall i.e. located at pin the leaf node with the least cost nc 2380.21 and the resulting utterance is the book is behind you on the table. In this embodiment the q is included as landmark in the response because the first landmark i.e. the Table is not within the q s field of view. When q is located outside the room i.e. at pin the response is the book is on the table in the Office. nc 8325.97 .

In the examples above the present invention manually sets the input parameters such as those for RDF P F and L. However these parameters can be automatically learned from user response data using one of many available machine learning techniques such as genetic algorithms for example. As another example one can collect a reasonably large database of situations and responses from human users using crowd sourcing techniques such as Amazon Mechanical Turk . The acquired database can be used to perform parameter learning so as to minimize the system response error. The learned parameter values can then be use straightforwardly according to the present invention.

As another example consider a multiplayer combat training simulator where a trainee interacts with a virtual teammate in a training application which is integrated into the system of the present invention. It will be appreciated that the combat training application can be substituted by an indoor navigation assistance system without any loss of equivalent functionality. Depending on the application the trainee may or may not have access to a display such as a computer or a handheld device such as a smart phone. Further consider two possible scenarios of interaction. The first scenario involves only one modality of input. In this scenario the user speaks to a microphone or a smart phone Where is the ammunition depot The second scenario involves two modalities of input speech and gesture. In this scenario the user speaks a slightly different question into the microphone Where is that ammunition depot and points to the depot using a Wii remote or finger e.g. when the system is connected with a gesture recognition system such as Microsoft Kinect . A virtual agent in accordance with the present invention can transform this input into an answer. For example the Reasoners component of can include a landmark selection reasoner that can process and respond to a variety of commands. English can be assumed to be the language used for commands. However other natural languages could be used as well with suitable changes to speech recognition and language understanding lexicons. The command structure can include a combination of the following elements 

Linking verb This refers to the term is in its various forms such as are for plural and potentially past tense forms such as was and were .

Target object to be located This can include common terms referring to objects such as person ammunition depot and building available to the user in the application of interest. When used in combination with gesture the object may be referred by pronouns such as this that it. In linguistics this is called a diectic reference. The vocabulary of the agent covers the range of objects to be supported by the agent. The present invention can support a range of qualifiers that can further specify a target object or the set of objects. These include adjectives such as color weigh size texture etc. Examples of locative queries with the above three command structure elements are 1 Where are my glasses This query is about a household object location with a possessive pronoun my to specify a particular pair of glasses. 2 Where is Johnny This query is about a person s location. 3 Where is the dinosaur exhibit This is a query about an urban location in a museum. 4 Where is the red couch This is a query using the adjective red to specify and select a particular couch among others. 5 Where is that building This is a query demonstrating the use of pronoun that in combination with a pointing gesture. 6 Where is that This is a query using a pronoun with diexis i.e. missing object and a pointing gesture. Dialog

In the course of interpreting the user commands virtual agents in accordance with the present invention may encounter ambiguity or interpretation failure. For example when multiple targets are present in the scene or World the agent may not be able to correctly identify the target object to which the user is referring. Alternatively interpretation failure may occur if the object being referred is not available in the agent s memory. For example in the command Where is the Autonomous Systems Laboratory the agent may not know about the item Autonomous Systems Laboratory. To resolve such ambiguities and interpretation failures the agent can engage in a dialog with the end user in accordance with one embodiment of the present invention. For example the agent can query the user using questions such as Which laboratory do you mean the robots lab or the nano technology lab The user responses can be used to resolve ambiguities.

Once any ambiguities or interpretation failure is resolved the present invention can operate to respond to the locative query using a portion or all of the methods described above in connection with the previous example.

In accordance with the above it will be appreciated that the present invention provides in part a software architecture for communicative agents for spatio temporal reasoning. The present invention can be integrated with a myriad of practical applications to enable their multimodal interaction abilities and vastly improve the end user experience. It will further be appreciated that a program or programs may be provided having instructions adapted to cause a processing unit or a network of data processing units to realize elements of the above embodiments and to carry out the method of at least one of the above operations. Furthermore a computer readable medium may be provided in which a program is embodied where the program is to make a computer execute the method of the above operation. Also a computer readable medium may be provided having a program embodied thereon where the program is to make a system or device to execute functions or operations of the features and elements of the above described examples. A non transitory computer readable medium can be a magnetic or optical or other tangible medium on which a program is recorded. Additionally a computer program product may be provided including the computer readable medium.

