---

title: Client-server based interactive guide with server recording
abstract: An interactive television program guide system is provided. An interactive television program guide provides users with an opportunity to select programs for recording on a remote media server. Programs may also be recorded on a local media server. The program guide provides users with VCR-like control over programs that are played back from the media servers and over real-time cached copies of the programs. The program guide also provides users with an opportunity to designate gift recipients for whom programs may be recorded.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09226006&OS=09226006&RS=09226006
owner: Rovi Guides, Inc.
number: 09226006
owner_city: Santa Clara
owner_country: US
publication_date: 20150629
---
This application is a continuation of U.S. patent application Ser. No. 14 254 748 filed Apr. 16 2014 which is a continuation of U.S. patent application Ser. No. 13 918 689 filed Jun. 14 2013 which is a continuation of U.S. patent application Ser. No. 13 557 444 filed Jul. 25 2012 now U.S. Pat. No. 8 776 126 which is a continuation of U.S. patent application Ser. No. 13 338 014 filed Dec. 27 2011 which is a continuation of U.S. patent application Ser. No. 12 797 918 filed Jun. 10 2010 now U.S. Pat. No. 8 176 521 which is a continuation of U.S. patent application Ser. No. 10 361 478 filed Feb. 6 2003 now U.S. Pat. No. 7 761 892 which is a continuation of U.S. patent application Ser. No. 09 332 244 filed Jun. 11 1999 now abandoned which claims the benefit of U.S. provisional patent application No. 60 092 807 filed Jul. 14 1998. These prior applications are hereby incorporated by reference herein in their entireties.

This invention relates to interactive television program guide systems and more particularly to interactive television program guide systems that allow users to record programs and program guide data on a media server.

Cable satellite and broadcast television systems provide viewers with a large number of television channels. Viewers have traditionally consulted printed television program schedules to determine the programs being broadcast at a particular time. More recently interactive television program guides have been developed that allow television program information to be displayed on a user s television. Interactive television program guides allow the user to navigate through television program listings using a remote control. In a typical program guide various groups of television program listings are displayed in predefined or user defined categories. Listings are typically displayed in a list grid or table.

Program listings and other program guide data are typically provided by a satellite uplink facility to a number of cable system headends. Each headend distributes the program guide data to a number of users. Interactive television program guides are typically implemented on the users set top boxes. A typical set top box is connected to a user s television and videocassette recorder. Program guide systems that allow users to record programs are described for example in Ellis et al. U.S. patent application Ser. No. 08 924 239 filed Sep. 5 1997 which is hereby incorporated by reference herein in its entirety.

Such systems are deficient in a number of respects. The processing and storage capabilities of the set top box and videocassette recorder are generally limited. This in turn may limit the functionality of the guide. Videocassette recorders may add significantly to the cost of in home television equipment. They are mechanical systems prone to failure and their proper operation relies in part on users setting them properly i.e. remembering to put a tape in . Setting up a VCR to work cooperatively with a program guide may be a complex process in some systems and may frustrate users. In addition users cannot record multiple programs simultaneously without having multiple VCRs and recording one program while watching another typically requires additional hardware or an enhanced set top box. Systems in which program guides allow users to record one program while watching another are described for example in Lemnmons et al. U.S. patent application Ser. No. 60 089 487 filed Jun. 16 1998 which is hereby incorporated by reference herein in its entirety.

Systems that use hard disk technology to store programs have also been developed. Interactive television program guide systems that have digital storage devices are described for example in Hassell et al. U.S. patent application Ser. No. 09 157 256 filed Sep. 17 1998. Hard disk based products have also been developed by TiVo Inc. of Sunnyvale Calif. and Replay Networks Inc. of Mountainview Calif. These systems are deficient in that they require additional hardware in the user s home that may significantly increase the cost of the user s home television equipment. Such systems also do not allow users to record multiple programs simultaneously without having multiple devices in the home.

Some current television platforms support a return path between the set top boxes and the headends. Client server based program guides have been developed in which set top boxes act as clients that communicate with servers located at headends via return paths. The servers typically provide program listings information e.g. program titles and broadcast times to the set top boxes in response to requests that are generated by the set top boxes.

Video on demand VOD systems have also been developed. Such systems typically record all programs that are distributed by a headend or only a chosen subset of programs. In the former approach vast amounts of storage is required at the server to ensure that all possible videos desired by users will be available. In the latter approach users are limited to viewing only those programs that the headend operator decided to record.

In one cable television system known as The Box viewers can call a cable operator to request the airing of a particular music video from an archive of music videos. The requested videos are broadcast on a dedicated channel for all viewers to see. This approach suffers from a number of deficiencies. First users do not have the convenience of ordering programs using their television equipment. In addition viewers must wait for the airing of other viewers selections before theirs are aired. Also viewers are limited to selecting videos from only those archived. Some viewers may desire music videos that are not shared in the archive. These viewers have no way of selecting a video for archiving or viewing other videos.

In a cable television system known as Your Choice TV television programs that have previously aired are repeated on a dedicated set of television channels. Viewers may order a repeat of a program for a small fee. However the repeats are aired at scheduled times which may not be convenient for the viewer. Also desired programs may not be available to viewers because the cable system operator decides which programs to record.

It is therefore an object of the present invention to provide a program guide system that allows users to direct a server to record certain programs that later may be played back to the user on demand.

This and other objects of the present invention are accomplished in accordance with the principles of the present invention by providing a program guide system that records programs at a remote media server in response to user requests. A main facility provides program guide data to a number of television distribution facilities. The television distribution facilities distribute the program guide data to a number of interactive television program guides using any suitable approach e.g. continuously periodically in response to requests or commands etc. The interactive television program guides may be implemented wholly on the users television equipment. Alternatively the program guides may be implemented partially on the users television equipment and partially implemented on a server using a suitable client server based or distributed approach.

The remote media server may be located at a program guide distribution facility or other suitable distribution facility e.g. a cable system headend a broadcast distribution facility a satellite television distribution facility or any other suitable type of television distribution facility . The remote media server may record programs and if desired program guide data. The remote media server may also record data associated with programs such as data carried in a vertical blanking interval VBI or in a digital data track. The programs program associated data program guide data or any suitable combination thereof may be recorded in response to requests generated by the interactive television program guide. Programs recorded by the remote media server may be distributed to users using any suitable video on demand or near video on demand approach. Users may also have local media servers e.g. personal computers in their homes for recording programs and if desired program guide data.

Further features of the invention its nature and various advantages will be more apparent from the accompanying drawings and the following detailed description of the preferred embodiments.

An illustrative system in accordance with the principles of the present invention is shown in . Main facility provides program guide data from program guide data source to interactive program guide television equipment via communications link . There are preferably numerous pieces or installations of interactive program guide television equipment each linked to main facility by a respective communications link although only one such piece or installation of interactive program guide television equipment is shown in to avoid overcomplicating the drawing.

Link may be a satellite link a telephone network link a cable or fiber optic link a microwave link an Internet link a combination of such links or any other suitable communications link. If it is desired to transmit video signals over link in addition to data signals a relatively high bandwidth link such as a satellite link may generally be preferred to a relatively low bandwidth link such as a telephone line.

The program guide data transmitted by main facility to interactive program guide television equipment may include television programming data e.g. program identifiers times channels titles and descriptions and other data for services other than television program listings e.g. help text pay per view information weather information sports information music channel information associated Internet web links associated software etc. . The program guide data may also include unique identifiers for each showing of each program identifiers for program groupings e.g. series mini series orderable packages of programs etc. or any other suitable identifier. As used herein television program and programming are intended to mean any type of show or advertisement carried on a regular premium pay per view music or other type of television channel and may include movies pay per view programs sporting events music programs commercials and any other suitable type of television program.

Interactive program guide television equipment may be connected to billing system via communications link . Communications link may be any suitable communications link such as a serial connection parallel connection universal serial bus USB connection a telephone link computer network link Internet link or any other suitable communications link. Billing system receives information from interactive program guide television equipment regarding programs that are ordered recorded or played back on interactive program guide television equipment . Billing system may be any computer based system suitable for generating bills for users or crediting and debiting accounts of users based on the information received from interactive program guide television equipment .

An interactive television program guide is implemented on interactive program guide television equipment . Five illustrative arrangements for interactive program guide television equipment are shown in . As shown interactive program guide television equipment may include program guide distribution equipment located at program guide distribution facility and user television equipment .

The interactive television program guide may run totally on user television equipment using the arrangements of and or may run partially on user television equipment and partially on interactive program guide television equipment using a suitable client server or distributed processing arrangement such as those shown in and . Program guide distribution facility may be any suitable distribution facility and may have distribution equipment .

Distribution equipment of and is equipment suitable for providing program guide data to user television equipment over communications path . Distribution equipment may include for example suitable transmission hardware for distributing program guide data on a television channel sideband in the vertical blanking interval of a television channel using an in band digital signal using an out of band digital signal or by any other suitable data transmission technique. Analog or digital video signals e.g. television programs may also be distributed by distribution equipment to user television equipment over communications paths on multiple television channels. Alternatively videos may be distributed to user television equipment from some other suitable distribution facility such as a cable system headend a broadcast distribution facility a satellite television distribution facility or any other suitable type of television distribution facility.

Communications paths may be any communications paths suitable for distributing program guide data. Communications paths may include for example a satellite link a telephone network link a cable or fiber optic link a microwave link an Internet link a data over cable service interface specification DOCSIS link a combination of such links or any other suitable communications link. Communications paths preferably have sufficient bandwidth to allow program guide distribution facility or another distribution facility to distribute television programming to user television equipment . There are typically multiple pieces of user television equipment and multiple associated communications paths although only one piece of user television equipment and communications path are shown in to avoid overcomplicating the drawings. If desired television programming and program guide data may be provided over separate communications paths.

The program guide may retrieve program guide data from program guide server using any suitable client server based approach. The program guide may for example pass SQL requests as messages to program guide server . In another suitable approach the program guide may invoke remote procedures that reside on program guide server using one or more remote procedure calls. Program guide server may execute SQL statements for such invoked remote procedures. In still another suitable approach client objects executed by the program guide may communicate with server objects executed by program guide server using for example an object request broker ORB This may involve using for example Microsoft s Distributed Component Object Model DCOM approach.

The program guide implemented on interactive program guide television equipment may communicate with program guide server over communications path using any suitable network and transport layer protocols if desired. They may communicate for example using a protocol stack which includes Sequenced Packet Exchange Internetwork Packet Exchange SPX IPX layers Transmission Control Protocol Internet Protocol TCP IP layers Appletalk Transaction Protocol Datagram Delivery Protocol ATP DDP layers DOCSIS or any other suitable network and transport layer protocols.

If the program guide is implemented on user television equipment of interactive program guide television equipment as shown in Internet service system or other suitable equipment at program guide distribution facility that is connected to Internet service system may provide program guide data to user television equipment via the internet or via program guide distribution equipment using any suitable Internet based approach e.g. using the HyperText Transfer Protocol HTTP over a Transmission Control Protocol Internet Protocol TCP IP type link . If the program guide implemented on interactive program guide television equipment is a client server guide as shown in program guide server may obtain program guide data from Internet service system . The program guide may also however obtain program guide data from Internet service system via an Internet connection.

In another suitable arrangement distribution equipment may include computer equipment or other suitable hardware on which a first portion or version of the interactive television program guide is implemented. A second portion or version of the program guide may be implemented on user television equipment . The two versions or portions of the interactive program guide may communicate using any suitable peer to peer communications scheme e.g. messaging remote procedure calls etc. and perform interactive program guide functions distributively between television distribution facility and user television equipment .

Another suitable arrangement in which an on line program guide is implemented on interactive program guide television equipment is shown in . On line program guide systems are described for example in Boyer et al. U.S. patent application Ser. No. 08 938 028 filed Sep. 18 1997 which is hereby incorporated by reference herein in its entirety. The user may have personal computer PC on which a program guide client or web browser is implemented. Personal computer may be connected to Internet service system via Internet link . Internet service system may use any suitable combination of computer hardware and software capable of providing an on line program guide server application or web site.

Internet service system may be connected to remote media server of program guide distribution facility . In other suitable arrangements the recording and playback functionality of remote media server may be incorporated into Internet service system if Internet service system has suitable processing circuitry memory and storage.

Programs and program guide data may be recorded and played back on demand by remote media server in response to record and playback requests. Record and playback requests may be generated by a program guide server application or web application implemented on Internet service system . Record and playback requests may also be generated by an interactive program guide client implemented on personal computer and may be provided to remote media server by Internet service system . Programs and program guide data maybe provided by Internet service system to personal computer using a suitable real time Internet video approach e.g. using the M Bone or may be downloaded and stored by personal computer for playback.

Remote media server of and records programs program guide data or any suitable combination thereof and supplies either or both to user television equipment in response to requests generated by the program guide. Remote media server may also record program associated data such as data carried in the vertical blanking interval VBI of an analog television channel or in a digital data track on a digital television channel. Examples of program associated data are subtitles text tracks music information tracks additional video formats additional languages or other additional data. As used herein recording and playing back programming or programs may include but does not require recording and playing back program associated data. Remote media server is shown as being located at program guide distribution facility but may be located at a separate distribution facility e.g. a cable system headend a broadcast distribution facility a satellite television distribution facility or any other suitable type of television distribution facility .

Remote media server may be based on any suitable combination of hardware and software suitable for recording and playing back programs or program guide data on demand. As defined herein the phrase recording on demand refers to recording a program or program guide data in response to a user s selection of a program for recording. The actual recording of a program need not take place at the same time that such a selection is made. For example a program may be selected for recording before its scheduled broadcast time and may be recorded when the selected program is aired.

Remote media server may include processing circuitry memory and storage . Processing circuitry may include any suitable processor such as a microprocessor or group of microprocessors and other processing circuitry such as caching circuitry direct memory access DMA circuitry digitizing circuitry and input output I O circuitry. Processing circuitry may also include circuitry suitable for decoding program and data files stored on storage and converting them to suitable video signals for distribution by distribution equipment . If programming is stored as Moving Pictures Experts Group MPEG MPEG 2 files processing circuitry may include for example an MPEG 2 decoder for decoding the files and converting them to National Television Standards Committee NTSC video. In another suitable approach processing circuitry passes the MPEG 2 files to distribution equipment for distribution to users as an MPEG 2 data stream. The MPEG 2 data stream may be decoded and displayed by user television equipment .

Memory may be any memory suitable for caching and storing computer code for performing the functions of processing circuitry . Memory may be used to cache video programs portions of video programs or program guide data for processing circuitry while programs are being played back or recorded.

Storage may be any storage suitable for recording programming files and associated program guide data. One suitable arrangement for storage is shown in . The storage arrangement of is only illustrative. Storage may include any suitable recordable storage system and medium. Storage may include for example tape array optical storage tower redundant arrays of independent disks RAID any other suitable mass storage system or any suitable combination thereof. Tape array may include any suitable high speed mass storage tape array such as an 8 mm tape array. Tape array may back up or archive programs stored on optical storage tower or RAID .

Optical storage tower may be any suitable recordable optical storage system. Optical storage tower may for example record programs on recordable compact disks CDs or digital versatile disks DVDs . During playback programs and data stored on optical storage tower may be temporarily stored in virtual memory e.g. swap files on RAID for use by memory or may be provided directly to memory e.g. by suitable DMA circuitry in processing circuitry for decoding.

Storage may be measured on the order of hundreds of gigabytes terabytes or more. While this may involve a considerable amount of resources storage may still require less storage than a system that recorded every program or a large subset of them distributed by headends for every programming time slot. Because the present system typically needs to record only those programs that are selected by users less popular programs need not be routinely recorded which reduces the overall storage requirements of the system. Storage may also be less than the total storage that would be maintained by all users at their homes if each user recorded his or her own copies of programs individually. Remote media server may allocate a specific amount of storage for each user if desired. This amount may be fixed or may be configurable.

Recorded programs may be referenced by pointers that are maintained in one or more directories. A directory of pointers for each user for example may be stored in memory or RAID . User directories may also be maintained locally by the program guides. An illustrative arrangement for user directories and other directories is shown in . Each user directory may include an identifier for each program that has been recorded for the user and a pointer to the storage device on which the program was originally recorded. In this example programs and were originally recorded on optical storage tower . Programs and were originally recorded on RAID . Programs may also be recorded on tape array and different parts of a single program may be recorded on different storage devices if desired but these aspects of the invention are not shown in to avoid overcomplicating the drawing.

Each storage device may maintain a media directory and a media store . As used herein a media store is any physical or virtual partition of a storage device or storage medium that is used to store programs program guide data or any suitable combination thereof and may also include an entire storage device or storage medium having one or no partitions. Each media directory may include a list of programs recorded by the storage device. Each media directory may also include pointers to where the programs are stored in media store . If desired tape array may be used to archive programs that are stored on optional storage tower or RAID for a predefined period of time e.g. one month . In addition programs may be archived by optical storage tower for RAID not shown . PROGRAM is an example of a program that has been archived by tape array . A media directory entry may reflect the archiving by pointing to a media directory entry on tape array if desired.

Remote media server records programs and associated program guide data on storage in response to record requests generated by the program guide implemented on interactive program guide television equipment . As defined herein a record request is any command request message remote procedure call object based communication or any other type of interprocess or inter object based communication that allows the program guide to communicate information on the program that the user wishes to record to the media server.

An illustrative data flow diagram showing how programs may be recorded by remote media server is shown in . Record requests generated by program guides implemented on interactive program guide television equipment may be queued in request queue for consolidation. Consolidator may be a process running on remote media server . Consolidator consolidates multiple record requests for the same programs and places individual and group record jobs on job queue .

In practice it may not be desirable to record a program unless a certain number of users have requested it. At a predefined period of time before the requested program airs consolidator may check job queue to see if enough users have requested the program. If there are not enough users consolidator may generate a message that is distributed back to the requesting user or users by distribution equipment . When the program guide receives such a message the program guide may notify the user that the program is not being recorded. Alternatively the program guide may request that the program be recorded by a local media server such as local media server of or may record the program itself on a storage device.

Illustrative entries in job queue are also shown in . The entries may include for example the dates start times end times or durations channels and program identifiers for the programs that have been selected for recording on remote media server . The entries may also include lists of the users who have selected each program for recording. shows for example that PROGRAM has been selected for recording by user and user . If a program is popular numerous users may request that it be recorded.

Recorder may be a process running on processing circuitry of remote media server that is suitable for monitoring job queue and recording programs on storage . Processing circuitry of remote media server may include for example one or more tuners digital encoders or digital decoders for tuning to or otherwise selecting programming provided by distribution equipment and formatting the programs for recording by remote media server . Any suitable combination of analog and digital tuners and decoders are hereinafter referred to as tuners to simplify the discussion. Recorder may direct the one or more tuners to particular channels analog or digital at particular times based on entries in job queue . In this example recorder may direct a first tuner to tune to channel 4 on Dec. 21 1999 to record PROGRAM for user . Recorder may also direct a second tuner to tune to channel 5 at the same time to record PROGRAM for user and user . The upper limit on the number of tuners needed for remote media server may be the number of channels distributed by distribution equipment . Such tuners may be based on tuning and decoding circuitry implemented using one or more integrated circuits.

If desired recorder may direct processing circuitry to encode programming and program guide data as digital files e.g. MPEG 2 files or as a digital data stream e.g. an MPEG 2 data stream . Storage may record the files or data stream using for example suitable DMA techniques. Processing circuitry may compress the digital files or data stream using any suitable digital compression algorithm if desired.

The storage device on which a program has been recorded may supply recorder with a pointer to the entry in the media directory for the recorded program. This may be done automatically or in response to a query generated by recorder . If user directories are maintained by remote media server recorder may place entries in the user directories of the users who selected the program for recording. If copies of user directories are maintained locally by the program guides the program guides may for example download the user directories via program guide server or using any other suitable approach. Alternatively the program guide may just download pointers to the media directory entries. If user directories are maintained exclusively by the program guides the program guides may receive the pointer to the media directory in which the program is listed automatically in response to the record request after issuing a suitable request for the pointer or using any other suitable approach.

Remote media server retrieves programs from storage in response to retrieval requests generated by the program guides implemented on interactive program guide television equipment . Processing circuitry may process the requests by searching a user s user directory for the requested programs and then issuing a suitable retrieval command or request to storage based on the pointer in the directory. For example when user requests the playing of PROGRAM processing circuitry issues an appropriate retrieval command to optical storage tower . The program is retrieved from media store and may be passed to memory e.g. via DMA circuitry in processing circuitry for decoding by processing circuitry and distribution to user television equipment . If desired processing circuitry may pass a requested program in its digital form to distribution equipment for distribution to user television equipment .

If a requested program has been archived e.g. stored on a storage device other than the one on which the program was originally stored the original storage device may issue a suitable retrieval command to the archiving storage device in response to commands or requests generated by processing circuitry . For example when user requests the retrieval of PROGRAM for playback processing circuitry may issue a retrieval command to optical storage tower . Optical storage tower in turn examines its media directory determines that PROGRAM has been archived and issues a retrieval request to tape array . Tape array retrieves the program from its media store and transmits it to optical storage tower using any suitable interconnection e.g. a parallel connection a small computer systems interface SCSI connection e.g. wide SCSI 2 fast wide SCSI 2 ultra SCSI 3 etc. a universal serial bus USB connection or any other suitable connection . Alternatively the archiving device in this example tape array may transfer the program directly to memory e.g. via DMA circuitry in processing circuitry . If desired processing circuitry may determine whether a program has been archived and may issue a retrieval request to tape array .

During system operation multiple users may request the playback of a single program such that the playback of the program for one user overlaps the playback of the program for another user. Remote media server may simultaneously play back the same program for a number of users by for example assigning a pointer to each user that points to the user s current viewing position within the program. One suitable approach may involve caching the entire program or portions of it in digital form in memory .

As a movie progresses remote media server may increment each user s pointer. Remote media server may also pre decode a predetermined amount of time e.g. the next 5 minutes of the program so that as a user s pointer advances the video is ready for distribution by distribution equipment . If a user rewinds a movie remote media server may regress the user s pointer i.e. move it to the left and pre decode a previous portion of the movie.

If remote media server caches only portions of a program as shown in it may only cache a single copy of each portion in memory . As user advances the movie toward minute 15 for example remote media server may check to see if minutes 15 to 30 are already cached. In this example they are and the copy to which user points may be used for user one. If minutes 15 to 30 were not already cached media server may prefetch them and pre decode a suitable amount e.g. 5 minutes so that the video stream for user is not interrupted. If desired media server may continually prefetch the next 15 minutes or less of data.

Program guide data and recorded videos may be distributed by distribution equipment to user television equipment as a suitable analog video signal e.g. NTSC video or in a suitable digital format e.g. as MPEG 2 files or as an MPEG 2 data stream using any suitable approach. For example programs and program guide data may be played back by media server and distributed to user television equipment for viewing in real time. If programs and program guide data are distributed as digital data stream user television equipment may decode the data stream in real time. Such on demand programs and program guide data may be played back according to preferences that were set up by the user. In a second suitable approach programs and program guide data are distributed as one or more digital files or as a digital data stream and are stored by user television equipment for playback. In a third suitable approach programs and program guide data are played back by remote media server and distributed according to a schedule over an analog or digital channel using a suitable near video on demand NVOD approach. In still another suitable approach remote media server may record programs and program guide data on physical media such as a DVD or videocassette that are sent to the user. Any combination of these approaches or any other suitable approach may also be used.

An illustrative arrangement for user television equipment is shown in . User television equipment of receives analog video or a digital video stream from a distribution facility at input . Data from program guide distribution facility is also received at input . During normal television viewing the user tunes set top box to a desired television channel analog or digital . The signal for that television channel is then provided at video output . The signal supplied at output is typically either a radio frequency RF signal on a predefined channel e.g. channel 3 or 4 or a analog demodulated video signal but may also be a digital signal provided to television on an appropriate digital bus e.g. a bus using the Institute of Electrical and Electronics Engineers IEEE 1394 standard not shown . The video signal at output is received by optional secondary storage device .

The interactive television program guide or program guide client may run on set top box on television on optional digital storage device if television or optional digital storage device has suitable processing circuitry and memory or on a suitable analog or digital receiver connected to television . The interactive television program guide may also run cooperatively on both television and set top box . Interactive television application systems in which a cooperative interactive television program guide application runs on multiple devices are described for example in Ellis U.S. patent application Ser. No. 09 186 598 filed Nov. 5 1998 which is hereby incorporated by reference herein in its entirety.

Secondary storage device can be any suitable type of analog or digital program storage device or player e.g. a videocassette recorder a digital video disc DVD player etc. . Program recording and other features may be controlled by set top box using control path . If secondary storage device is a videocassette recorder for example a typical control path involves the use of an infrared transmitter coupled to the infrared receiver in the videocassette recorder that normally accepts commands from a remote control such as remote control . Remote control may be used to control set top box secondary storage device and television .

If desired the user may record programs program guide data or a combination thereof in digital form on optional digital storage device . Digital storage device may be a writable optical storage device such as a DVD player capable of handling recordable DVD discs a magnetic storage device such as a disk drive or digital tape or any other digital storage device. Interactive television program guide systems that have digital storage devices are described for example in Hassell et al. U.S. patent application Ser. No. 09 157 256 filed Sep. 17 1998 which is hereby incorporated by reference herein in its entirety.

Digital storage device can be contained in set top box or it can be an external device connected to set top box via an output port and appropriate interface. Digital storage device may for example be contained in local media server . If necessary processing circuitry in set top box formats the received video audio and data signals into a digital file format. Preferably the file format is an open file format such as the Moving Pictures Expert Group MPEG MPEG 2 standard or the Moving Joint Photographic Experts Group MJPEG standard. The resulting data is streamed to digital storage device via an appropriate bus e.g. a bus using the Institute Electrical and Electronics Engineers IEEE 1394 standard and is stored on digital storage device . In another suitable approach an MPEG 2 data stream or series of files may be received from distribution equipment and stored in digital storage device . For example files from television distribution facility for programs recorded by the user using remote media server may be stored. Such digital files may be played back to the user when desired.

In typical program guide systems secondary storage device or digital storage device are necessary to provide users with the ability to record programs. Such storage devices are unnecessary when practicing the current invention because users may record programs on remote media server . In practice such storage devices may be omitted from user television equipment with minimal or no effect on program guide functionality while also tending to minimize the cost of user television equipment .

Television receives video signals from secondary storage device via communications path . The video signals on communications path may either be generated by secondary storage device when playing back a prerecorded storage medium e.g. a videocassette or a recordable digital video disc by digital storage device when playing back a prerecorded digital video e.g. a video for a program that was recorded by the user at remote media server or local media server may be passed through from set top box may be provided directly to television via set top box if secondary storage device is not included in user television equipment or may be received directly by television . During normal television viewing the video signals provided to television correspond to the desired channel to which the user has tuned with set top box . Video signals may also be provided to television by set top box when set top box is used to play back information stored on digital storage device or when set top box is used to decode a digital video stream or digital files transmitted from television distribution facility .

Set top box may have communications device for communicating directly with program guide server remote media server or Internet service system over communications path . Communications device may also support communications between user television equipment and local media server via communications path if desired. Communications path may be any suitable link such as a serial or parallel link network link an Internet link DOCSIS link radio link infrared link or any other suitable wired or wireless digital or analog link.

Communications device may be a modem e.g. any suitable analog or digital standard cellular or cable modem network interface card e.g. an Ethernet card token ring card etc. or other suitable communications device. Communications device may also be a personal computer with an Internet connection such as with the arrangements shown in and . Television may also have such a suitable communications device if desired. In an alternative approach user television equipment may communicate with remote media server or Internet service system via distribution equipment using a suitable return path or communications path .

The program guide may communicate with program guide server remote media server or Internet service system over communications path using any suitable network and transport layer protocols if desired. A protocol stack may be used which includes for example Sequenced Packet Exchange Internetwork Packet Exchange SPX IPX layers Transmission Control Protocol Internet Protocol TCP IP layers Appletalk Transaction Protocol Datagram Delivery Protocol ATP DDP layers or any other suitable network and transport layer protocols. If desired DOCSIS may also be used. These protocols may also be used for communicating with local media server but in practice other suitable protocols may be used to communicate with server such as the Jini networking protocol by Sun Microsystems.

Local media server may be a device in the home of the user that is suitable for storing and playing back programs on demand. Local media server may be for example a personal computer connected to set top box via an Ethernet connection standard serial or parallel port universal serial bus an IEEE 1394 bus etc.

Local media server may have processing circuitry memory and storage . Processing circuitry may include any suitable processor such as a microprocessor or group of microprocessors and other processing circuitry such as caching circuitry direct memory access DMAL circuitry and input output I O circuitry. Processing circuitry may also include circuitry suitable for recording programs on demand. Processing circuitry may also include circuitry suitable for decoding program and data files stored on storage and converting them to suitable video signals for playback by user television equipment . If programming is stored as MPEG 2 files processing circuitry may include for example an MPEG 2 decoder for decoding the files and converting them to National Television Standards Committee NTSC Video.

Memory may be any memory suitable for caching and storing computer code for performing the functions of processing circuitry . Memory may also be used to cache video programs or portions of video programs for processing circuitry while the programs are being played for users. Storage may be any storage suitable for recording programming files and associated program guide data. Storage may for example be a suitable hard disk having a capacity measured in gigabytes or more. User directories such as user directory of may be maintained by processing circuitry and stored in memory storage or both.

An illustrative arrangement for remote control is shown in . Remote control may have any suitable buttons or keys for providing a user with an opportunity to change channels navigate within the program guide access program guide functions control a storage device or media server or any other suitable keys. More specifically the user may depress number keys to enter channel numbers parental control codes purchase codes etc. The user may depress Guide key to for example access the program guide and depress arrow keys page up key and page down key to navigate within the guide. The user may depress the PLAY key FF key REW key REC key STOP key and PAUSE key to play fast forward rewind record stop and pause programs on a media server or stage device.

A more generalized embodiment of user television equipment of is shown in . As shown in program guide data from program guide distribution facility is received by control circuitry of user television equipment . The functions of control circuitry may be provided using the set top box arrangement of . Alternatively these functions may be integrated into an advanced television receiver e.g. a digital television receiver or high definition television HDTV receiver personal computer television PC TV or any other suitable arrangement. If desired a combination of such arrangements may be used.

User television equipment of may have secondary storage device digital storage device or any suitable combination thereof for recording programming. Secondary storage device and digital storage device may be omitted if desired. Secondary storage device can be any suitable type of analog or digital program storage device e.g. a videocassette recorder a digital versatile disc DVD etc. . Program recording and other features may be controlled by control circuitry . Digital storage device may be for example a writable optical storage device such as a DVD player capable of handling recordable DVD discs a magnetic storage device such as a disk drive or digital tape or any other digital storage device.

Memory may be any memory or other storage device such as a random access memory RAM read only memory ROM flash memory a hard disk drive a combination of such devices etc. that is suitable for storing program guide application instructions and program guide data for use by control circuitry . Memory may also be used for caching videos. The program guide may also store a copy of the user directory maintained by remote media server in memory . The program guide may for example receive copies of user directory as part of the program guide data stream. In one suitable approach user directory may be automatically downloaded to the program guide whenever directory is entered such as when the user records a program deletes a program or remote media server automatically deletes a program because it has been stored for too long.

Alternatively the program guide may obtain copies of user directory from program guide server or remote media server . With another suitable approach the program guide may maintain user directory in memory . The program guide may include pointers to media directories in retrieval requests transmitted to remote media server .

User television equipment of may have communications device for supporting communications between user television equipment and remote media server or Internet service system via communications path . Communications device may also support communications between user television equipment and local media server . Communications device may be a modem e.g. any suitable analog or digital standard cellular or cable modem network interface card e.g. an Ethernet card Token ring card etc. or other suitable communications device.

The user controls the operation of user television equipment with user input device . User input device may be a pointing device wireless remote control keyboard touch pad voice recognition system pen based computer device or any other suitable user input device. To watch television the user instructs control circuitry to display a desired television channel on display device . To access the functions of the program guide the user instructs the program guide implemented on interactive program guide television equipment to generate a main menu or other desired program guide display screen for display on display device .

When a user indicates a desire to access the interactive television program guide e.g. by using a MENU key on remote control the program guide generates an appropriate program guide display screen for display on display device . A main menu screen such as illustrative main menu screen of may be generated that provides the user with access to various program guide functions. Main menu screens may contain various advertisements logos etc.

Illustrative main menu screen of includes a menu of selectable program guide features . If desired selectable features may be organized according to feature type. In menu for example program guide options have been organized into three columns. The column labeled TV GUIDE is for listings related features the column labeled MSO SHOWCASE is for multiple system operator MSO related features and the column labeled VIEWER SERVICES is for viewer related features. The interactive television program guide may generate a display screen for a particular program guide feature when the user selects that feature from menu .

Main menu screen may include one or more selectable advertisements . Selectable advertisements may for example include text and graphics advertising for pay per view programs. When the user selects a selectable advertisement the program guide may display information e.g. pay per view information or take other actions related to the content of the advertisement. Pure text advertisements may be presented if desired as illustrated by selectable advertisement banner .

Main menu screen may also include other screen elements. The brand of the program guide product may be indicated for example using a product brand logo graphic such as product brand logo graphic . The identity of the television service provider may be presented for example using a service provider logo graphic such as service provider logo graphic . The current time may be displayed in clock display region . In addition a suitable indicator such as indicator graphic may be used to indicate to the user that mail from a cable operator is waiting for the user if the program guide supports messaging functions.

One function of the interactive television program guide may be to provide the user with the opportunity to view television program listings. A user may indicate a desire to view program listings by for example positioning highlight region over a desired program guide option related to program listings e.g. the movies option . The program guide may also present program listings when the user presses a suitable key e.g. a GUIDE key on remote control . When the user indicates a desire to view television program listings the program guide may obtain program listings data from a data stream provided by program guide distribution facility from server or from memory and may generate an appropriate program listings screen for display on monitor . A program listings screen may contain one or more groups or lists of program listings organized according to one or more organization criteria e.g. by program category .

The program listings screen may be fully or partially overlaid over a program being viewed by the user. Listings may also be overlaid over or otherwise placed on the same screen as the program in a browse mode. The program guide may for example provide the user with the opportunity to view listings by time by channel according to a number of categories e.g. movies sports children etc. or may allow the user to search for a listing by title. Program listings may be displayed using any suitable list table grid or other suitable display arrangement. If desired program listings display screens may include selectable advertisements product brand logo graphics service provider brand graphics clocks or any other suitable indicator or graphic.

A user may indicate a desire to view program listings by time channel or category by for example selecting a selectable feature from menu . In response the program guide may display program listings in a suitable listings display screen. and illustrate the display of program listings by time by channel and by category respectively. The program listings display screens and of and may include highlight region which highlights the current program listing . The user may position highlight region by entering appropriate commands with user input device . For example if user input device has a keypad the user can position highlight region using up down left and right arrow keys. Remote program listings may also be panned left right up and down by positioning highlight region using the arrow keys on remote control . Alternatively a touch sensitive screen trackball voice recognition device pen based computer device or other suitable device may be used to move highlight region or to select program listings without the use of highlight region . In still another approach the user may speak a television program listing into a voice request recognition system. These methods of selecting program listings are merely illustrative. Any other suitable approach for selecting program listings or other items in the program guide may be used if desired.

The program guide may provide the user with an opportunity to view program listings for other times or channels. The user may indicate a desire to access listings for other times or channels by for example using left and right arrow keys to change time slots when program listings are presented by time as shown in or to change channels when program listings are presented by channel as shown in . In response to such an indication the program guide may for example scroll or page the program listings to display additional program listings.

The program listings screens of and may also include listings for programs recorded by or selected for recording by remote media server or local media server . Recorded programs may be displayed for example at the beginning of the listings. Programs to be recorded may be displayed in their normal position within a list and may if desired have an icon indicating them as to be recorded. shows for example a listing for a scheduled recording of I Love Lucy at 10 30 PM on Jun. 5 1999. The listing has icon that indicates the listing is for a program that is to be recorded. shows for example a comedy program listing for a recorded copy of the comedy Saturday Night Live that was recorded at 11 00 on Jun. 1 1999. shows for example a movie listing for a recorded copy of the movie Perfect Body recorded at 9 00 PM on May 31 1999.

The program guide may also provide a user with an opportunity to view pay per view program listings. A user may for example indicate a desire to view pay per view program listings by selecting the PPV Time on screen feature of main menu of . In response the program guide may display pay per view program listings by time as is illustrated by pay per view listings by time screens of . As with other listings screens a user may scroll up and down to view pay per view program listings for additional channels. A user may view program listings for additional time slots by arrowing right. A user may also for example select selectable advertisements by arrowing to the left.

The program guide may also provide a user with an opportunity to view pay per view program listings by title. A user may indicate a desire to view pay per view program listings by title by for example selecting a PPV Title selectable feature from main menu of . In response the program guide may display pay per view program listings by title as shown for example in pay per view program listings by title screen of . The program guide may provide a user with an opportunity to highlight a selectable advertisement by for example arrowing left.

The interactive program guide may allow the user to view program listings while watching television programming by for example overlaying a FLIP or BROWSE display region over a television program. shows an illustrative FLIP display that the program guide may display whenever the user changes television channels. The FLIP display may contain information associated with the current program such as the program title running time the current channel number and the current channel s call letters . The FLIP display may also include a number of graphics such as brand logo a sponsorship graphic a channel logo graphic mail indicator selectable advertisement or any other suitable graphic. The program s rating may also be displayed. If desired brand logo may be replaced with or used together with a selectable information icon. The user may for example press an INFO key on remote control to obtain additional program information for the program currently displayed in FLIP display .

FLIP display may also include rating indicator for indicating the rating of the current program. If the program guide provides a parental control feature the rating of the program on each new channel the user tunes to may be examined by the program guide to determine whether the program meets parental control settings that were previously established by the user. If the program rating is not acceptable the program guide may for example display only the FLIP banner without the program video and prompt for a parental control code.

The FLIP and BROWSE overlays of and have been shown as including a brand logo displayed at the left of the overlay. The logo may also for example promote different sponsors as the user browses program listings or flips between channels. The logos may change within the same overlay or banner if the user displays the overlay or banner for a predefined time. The logo may for example automatically rotate through a list of logo advertisements returning to the first advertisement after each advertisement in the list has been displayed. The brand logo may also be replaced by a text based advertisement.

In addition to providing the user with the opportunity to access television programming and program guide data in these and other ways the program guide may provide the user with an opportunity to record programs on demand at remote media server or local media server to view listings or directories of the programs that have been recorded or selected for recording and to play videos and associated program guide data on demand from remote media server or local media server . The program guide may also provide a user with an opportunity to record series of programs or other program groupings e.g. pay per view packages . Program guide systems that provide users with an opportunity to record program series are described for example in concurrently filed Knudson et al. U.S. patent application Ser. No. 09 330 792 which is hereby incorporated by reference herein in its entirety. Users may indicate a desire to record a program or group of programs on demand by for example pressing a RECORD key on remote control while watching a program or after highlighting its listing.

The charge displayed in overlay may be based on any suitable user billing scheme. Users may be charged for example on a per record basis based on how long a program is or may be charged a flat subscriber rate for unlimited recording within a period e.g. one per month . Program guide distribution equipment may provide the charge and other suitable program guide data e.g. the title airtime etc. to billing system . Billing system may generate a bill that is sent to the user or may automatically debit the user s account.

The program guide may provide the user with an opportunity to record pay per view programs and packages. An illustrative pay per view ordering overlay is shown in . The program guide may display pay per view ordering overlay when for example the user highlights a pay per view program listing and presses an order or other suitable key on remote control . Pay per view ordering overlay may display and ordering information and may prompt the user to order the selected pay per view program by entering a purchase code. The user may enter a purchase code using for example number keys on remote control or may cancel the purchase and return to the last screen by selecting CANCEL feature . The program guide may also provide the user with the opportunity to confirm the pay per view order using illustrative order confirmation overlay of . If desired the program guide may display order confirmation overlay of instead of pay per view ordering overlay to provide the user with the opportunity to order a pay per view program without requiring the user to enter a purchase code.

The charge displayed in overlays and may be set using any suitable approach. The charge may for example be the same whether a user watches a pay per view or records it. Alternatively the user may be charged a different fee when just recording a pay per view program. In another suitable approach charges for pay per view programs may differ depending on the length of the program. In still another suitable approach the user may pay a flat charge for recording any amount of pay per views within a predetermined period e.g. a month . The charge may be provided by program guide distribution equipment to billing system for billing the user or otherwise adjusting the user s account.

When a user indicates a desire to record a pay per view package by for example selecting a package listing from pay per view program listings screens or of and the program guide may display a package order screen such as package order screen of . Package order screen may prompt a user for a purchase code. After a user enters a correct purchase code the program guide orders the pay per view package from program guide distribution facility or another suitable distribution facility.

The charge of the package as displayed in may be set using any suitable approach. The charge may for example be the same whether a user watches each pay per view program in the package or whether the user records each program. Alternatively the user may be charged a different fee when recording one or more pay per view programs in a package than when watching them. In another approach charges for pay per view programs may differ depending on the length of each program in the package. In still another approach the user may pay a flat charge for recording any amount of pay per views within a predetermined period e.g. a month . The charge may be provided by program guide distribution equipment to billing system for billing the user or otherwise adjusting the user s account.

When a user indicates a desire to record a program or program grouping on remote media server or local media server and possibly a desire to confirm recording of the program the program guide generates a record request that is transmitted to the appropriate remote media server by communications device via communications path or . The record request may include for example an identifier for the program that the user wishes to record an identifier for the user and if desired any other information related to the program and the user. If the user indicated a desire to record a program grouping the request may include a grouping identifier or the program identifiers of the constituent programs.

At the time a selected program or program in a grouping airs which may be the time at which the program is selected for recording remote media server or local media server may record the program and any associated program guide data. Program guide data may be stored as files associated with the program using pointers. Once the selected program is recorded remote media server or local media server may provide a copy of user directory to the program guide if the program guide maintains a copy of user directories. Alternatively remote media server or local media server may provide a pointer to the location of the program on media store . In still another suitable approach user directories may be maintained solely by remote media server or local media server and provided to the program guide on request.

In practice some programs may be copy protected. Main facility program guide distribution facility or another distribution facility may for example designate some programs as not recordable. When the user indicates a desire to record a copy protected program the program guide may indicate to the user that the program cannot be recorded as shown in .

The program guide may provide the user with the opportunity to access a directory or other such list of programs that have been recorded for the user on remote media server or local media server . The user may indicate a desire to access a directory or list of recorded programs by for example pressing a DIR key on remote control or selecting a Directory feature from main menu . and show illustrative overlays that may be displayed by the program guide when the user indicates a desire to view a directory of the programs that the user has recorded on remote media server or local media server . shows overlay overlaid on top of the video of the channel that the viewer is watching. shows overlay overlaid on top of a program listings screen. Overlay may display any information related to the programming that the user has selected for recording by remote media server or local media server . Overlay may display for example the channels and titles of the recorded programs the dates and times they are recorded or any other suitable information.

Program listings for recorded programs may be organized by channel theme user or by any other suitable criteria. In practice program listings for recorded programs may be displayed in overlays based on the type of display screen over which the overlays are displayed. In for example listings are displayed by time because the display screen over which they are displayed displays program listings by time. shows listings of recorded programs in the movies category because the display screen over which they are displayed only displays listings for movies. and are illustrative and any suitable criteria may be used. In addition program listings may be displayed using display criteria or based on themes when the program listings are overlaid on top of a video the user is watching.

In another suitable approach the program guide may display a directory menu when the user for example presses a DIR key on remote control or selects a Directory feature from main menu . An illustrative directory menu screen is shown in . Directory menu screen may provide the user with an opportunity to view directories of recorded programs such as that shown in but sorted in various ways. When for example the user selects By Time feature the program guide may display a directory of recorded programs assorted according to the date and time the programs were recorded. When for example the user selects Movies feature Sports feature Children feature or Adult feature the program guide may display a directory of recorded programs for movies sports children s programs or adult programs respectively. The listed categories may be predetermined or based on movies a user has recorded. For example if a user has only recorded movies only Movies feature may be displayed. If a user has recorded movies and children s programs Movies feature and Children feature may be displayed.

The program guide may also provide the user with an opportunity to view a directory of programs that the user has selected for recording by a media server but that have not yet been recorded. shows an illustrative pending program directory screen that the program guide may display when for example the user selects Pending Selections feature from directory menu screen .

The information displayed in the listings screens of and and in overlay or in directory screens or and may be obtained by the program guide using any suitable approach. For example a copy of user directory having all of the displayed information may be stored by the program guide in memory . In still another suitable approach a copy of user directory may be maintained by the program guide that includes all program guide data related to the recorded program e.g. program listings information Internet links software etc. while a copy of user directory having a small subset of the total program guide data available for the program e.g. a program identifier and pointer is maintained by remote media server or local media server . In still another suitable approach the program guide may maintain user directory including the program guide data for the programs in the directory. Alternatively a smaller directory may be maintained having only program identifiers for example and the program guide may obtain program guide data from a continuously provided program guide data stream from program guide distribution facility or from program guide server based on the identifier. In still another suitable approach user directory may be totally maintained by remote media server or local media server and made available to the program guide on demand. These various approaches are only illustrative and any suitable approach for maintaining user directories and providing users with access to them may be used if desired.

Once the user has selected for playback a program recorded on remote media server the program guide may indicate to the user a charge for playing back the program and prompt the user to confirm the playback. shows an illustrative overlay in which such a charge is indicated and in which the user is prompted to confirm the playback. The charge displayed in overlay may be determined using any suitable approach. Users may be charged a flat rate per playback. Alternatively users may be charged based on how long a selected program is. In another suitable approach users may subscribe to a service in which users are permitted unlimited playback time for a flat fee paid on a periodic basis e.g. monthly . In still another suitable approach users may be charged a flat rate for a predetermined amount of playing back programs. The charge may be provided by program guide distribution equipment to billing system for billing the user or otherwise adjusting the user s account.

Once the user has selected a listing and indicated a desire that its associated program be played back and if necessary confirmed the playback the program guide may issue a play back request to remote media server or local media server . If desired the program may be played back without commercials. The program guide may for example provide the user with the opportunity to set a skip commercials option from a set up screen. Alternatively the user may fast forward through commercials.

If desired the program guide may instead issue a retrieval request to remote media server . In contrast to a play back request that directs remote media server to both retrieve and play back the requested program a retrieval request need not involve immediate play back. Rather the requested program may be retrieved from storage and provided to user television equipment . As used herein retrieval request is intended to mean any command request message remote procedure call object based communication or any other type of interprocess or interobject based communication whereby the program guide may communicate information to the remote media server or local media server specifying which program the user wishes to retrieve. The retrieved program may then be stored in memory digital storage device secondary storage device or on local media server . When the user wishes to view the program that has been retrieved and locally stored user television equipment may be directed to play back the program. If the retrieved program is stored on local media server the user television equipment can retrieve it and then play it or may request that local media server play it back directly.

The program guide may provide users with the opportunity to view additional information for programs recorded by remote media server or local media server . shows an illustrative full information screen that may be displayed when a user indicates a desire to view information for a program that has been recorded by remote media server or local media server . Full information screen may be displayed for example when the user presses an INFO key on remote control after highlighting a program listing in a directory or other list of recorded programs.

Full information screen may include information window in which a brief description of the recorded program may be displayed. The information displayed in information window may have been stored by remote media server or local media server when the program was recorded may have been stored by the program guide when the program was recorded may be retrieved by the program guide when full information screen is displayed or may be obtained by the program guide using any other suitable approach.

The program guide may provide users with the opportunity to play programs on demand that users have previously recorded on remote media server or local media server . Remote media server or local media server may play programs on demand in response to playback requests generated by the program guide. As used herein playback request is intended to mean any command request message remote procedure call object based communication or any other type of interprocess or inter object based communication whereby the program guide may communicate information to a media server specifying which program the user wishes to play back. The program guide may generate playback requests when a user indicates a desire to view a program that has been recorded. The user may indicate a desire to view a program that has been recorded by for example highlighting a listing in a directory or list and pressing a PLAY key on remote control .

When the user indicates a desire to view a program that has been recorded the program guide generates a playback request that is transmitted by communications device to remote media server or local media server via communications path or . The playback request may include for example an identifier for the program that the user wishes to play back an identifier for the user etc. The playback request may include a pointer to a media directory on storage if for example the program guide maintains a user directory or a copy of a user directory . Remote media server retrieves the requested program from storage and provides it to distribution equipment for distribution as a suitable video signal e.g. NTSC video MPEG 2 etc. . Local media server may retrieve the requested program from storage and provide it to user television equipment as a suitable video signal e.g. NTSC video MPEG 2 etc. . If the requested program is to be played back distribution equipment distributes the program in real time. If the requested program is merely being retrieved distribution equipment may transfer the program to user television equipment in a compressed format e.g. as a compressed video file .

Remote media server may also retrieve any recorded program guide data associated with a recorded program and may provide the retrieved data to distribution equipment or program guide server for access by the program guide. Alternatively remote media server may provide the retrieved data directly to the program guide. Local media server may provide the data to user television equipment via communications path . The program guide may access the retrieved program guide data and may present it to the user so that the user may interact with the data during playback just as when the program was originally aired. If for example associated program data is computer software that the user could have accessed when the program was originally aired the software may be downloaded by the program guide in response to an indication from the user that the user desires to access the software.

The software may be stored on for example digital storage device so that the user can access the software during playback. Such software may be for example an interactive television application such as a shopping application that allows the user to place orders for goods offered during the program.

Another example of program guide data that may be stored is an Internet link that is associated with a recorded program. The link may be retrieved by remote media server or local media server and downloaded by the program guide when the user plays back the program. The program guide may display the link in a program guide display screen or overlay. Internet links may for example be displayed in an overlay that is displayed on top of the program during playback. The program guide may provide the user with the opportunity to select the Internet link and thereby direct the program guide to launch a web browser.

The program guide may provide a user with an opportunity to parentally control programs and program guide data. The program guide may for example provide a user with an opportunity to set a parental control code and parental control criteria e.g. rating title channel etc. When a user indicates a desire to record a program on or play back a program from remote media server or local media server the program guide may compare the characteristics of the program e.g. its rating title channel etc. stored for example in a user directory with the parental control criteria. If the program does not meet the criteria e.g. its rating is too mature the program guide may prompt the user for the parental control code. The program guide may allow the user to record or playback the program only when the proper parental control code is entered. shows an illustrative overlay that the program guide may display over a television channel or program guide display screen to prompt the user for parental control code. shows overlay displayed over a television channel which has had an objectionable program blacked out by the program guide.

The program guide may provide the user with VCR like control of recorded programs. Remote control may have keys that resemble the buttons on a typical analog videocassette recorder. In another suitable approach user input device may have a keyboard with keys mapped to VCR like functions. Alternatively the user may select on screen features that correspond to such functions. Any other suitable approach for providing the user with VCR like control of recorded programs may be used. The user may for example pause stop rewind fast forward or play the program by indicating a desire to do so e.g. by pressing suitable keys on remote control .

These features may be performed locally by the program guide for example by downloading on demand programming in part or in whole to digital storage device . Alternatively the program guide may generate appropriate requests e.g. fast forward rewind skip and pause requests in real time in response to user input. Such requests may be transmitted to remote media server or local media server for processing. As used herein requests for VCR like control of recorded programs are intended to mean any command request message remote procedure call object based communication or any other type of interprocess or inter object based communication whereby the program guide may communicate information to the media server specifying which program the user wishes to control.

The program guide may also provide users with an opportunity to real time cache programs. This feature may allow users to view portions of a program that the user would otherwise not be able to view when for example the user must momentarily leave the room in which the program is being shown. A user may indicate a desire to record a program on remote media server when viewing is interrupted by for example pressing a PAUSE key on remote control . The program guide may respond for example by indicating to the user a charge for caching the program and prompting the user to confirm the recording as shown in . Once the user has confirmed the record or if there is no charge for the record the program guide may issue a record request to remote media server . Remote media server may begin recording the program at that point and until the program is finished. When the interruption is over e.g. the user returns to his or her seat the user may indicate a desire to continue watching the program. Remote media server may play back the cached copy of the program while continuing to cache the remaining portion of the aired program until the aired program is over. The user may catch up to the aired program during commercials or other progress of little interest by for example fast forwarding.

When a user indicates a desire to rewind a real time cached program to the point before which the user began recording remote media server may check storage to see if any other users have recorded the program or whether the program is otherwise still available. If there are no other copies of the program available the user may be restricted to rewinding only to the point at which the user began recording. If desired remote media server may automatically cache or otherwise temporarily record all current programs programs being viewed or programs for certain subscribers thereby providing users or subscribers with the ability to have full VCR like control of such cached or recorded programs. Local media server may cache programs in a similar manner if desired.

The program guide may also provide users with an opportunity to manage what is stored on remote media server and local media server . The program guide may for example provide users with an opportunity to delete programs that are no longer desired. The user may indicate a desire to delete a program by for example highlighting a listing for a recorded program and pressing a DEL key on remote control by selecting an on screen feature of a program guide display screen such as feature of full information screen or using any other suitable approach. When the user indicates a desire to delete a recorded program the program guide may generate a delete request that is transmitted to remote media server or local media server by communications device . Delete requests may be any suitable request message object based communication remote procedure call etc.

After receiving a delete request remote media server for users from within the same or different households or local media server for users from within the same household may determine whether more than one user has requested a copy of the selected program. If only one user has requested that the program be recorded remote media server may issue a delete command to the storage device that stores the program selected for deletion. The appropriate storage device deletes the selected program from its media store and media directories and user directory are updated accordingly. If more than one user has requested that the program be recorded remote media server may delete the entry in user directory for that program. If the program guide maintains a user directory the program guide may delete the entry. Local media servers may delete programs in a similar manner.

Remote media server and local media server may automatically delete programs if desired. This may be done for example when a program is not accessed by a user for a predetermined period of time. Remote media server and local media server may also automatically delete portions of a program that is being real time cached. For example real time caching may be limited to ten minutes of recording thereby limiting the amount of recording a user may rewind. Remote media server may for example move a program to physical media that is sent to the user. Another suitable approach involves deleting programs after all users have watched them. Users may be charged a fee for recording programs on server or server . If users are charged a fee users may be charged per unit of storage consumed per program recorded per playback or may be charged a flat fee etc.

The program guide may provide a user with an opportunity to set up various settings related to how programs are recorded on or played back from remote media server or local media server . The program guide may display a setup screen when the user indicates a desire to set up these features by for example selecting a Setup feature from main menu . An illustrative setup screen is shown in .

As shown in the user may set the audio language audio format and video format that user television equipment may play programs in. The user may change settings by for example arrowing right or left. The user may change between settings by for example arrowing up or down. Suitable audio formats may include mono stereo surround sound etc. Suitable video formats may include regular high definition television HDTV wide screen narrow screen etc. The user may also select the language in which programming audio is played if available on a digital audio track.

The program guide may include the selected language audio format and video format in record requests. Remote media server or local media server may record programs with only those indicated formats and languages if they are available as part of program data associated with the programs. Alternatively the program guide may include the selected language audio format and video format in playback requests. Remote media server or local media server may record programs with all available video and audio formats and languages and may playback programs only in the selected formats and language or any default format or language when requested.

The program guide may also allow the user to define super programs. Super programs are sequences of programs or program segments that the guide will play back sequentially in a specified order. Recording super programs on digital storage using interactive television program guides is described for example in the above mentioned Hassell et al. U.S. patent application Ser. No. 09 157 256. The user may indicate a desire to access the super program feature of the program guide by for example entering appropriate commands with user input device . If user input device is a remote control such as remote control of the user may for example use a SUPER key on remote control after highlighting a program listing in directory listing screen or may select an on screen Super Program option from a program guide display screen or from a list of on screen options that are provided by the program guide when a program listing is selected.

The program guide may also provide the user with the ability to name super programs and to store them on remote media server local media server or optional digital storage device . Entries for the named super programs may be kept in user directories maintained by remote media server local media server or the program guide and may be displayed in any suitable screen that lists directory entries for programs e.g. directory screen of . Alternatively the program guide may list super program listings in a super program directory screen i.e. a directory screen dedicated to listing super program listings . For example when directory screen is displayed by the program guide the program guide may provide the user with an opportunity to select a named super program.

When the user selects a named super program the program guide may generate a super program screen for display on display device . The program guide may also provide the user with an on screen list of options for performing super program functions e.g. playing transferring or editing the super program . When the user indicates a desire to define a super program the program guide generates a super program screen for display on display device . An illustrative super program screen is shown in and

Super program screen may be organized into three areas. Area displays a directory of programs recorded by remote media server local media server digital storage device or any combination thereof. Area indicates the super program sequence. Video feedback area displays portions of programs included in the super program. The time remaining for recording may be displayed for example to indicate to the user how much time is left on remote media server or local media server for recording in approaches where there are limits on user recording.

The three areas of super program screen may be presented only when needed. For example area may be displayed only when the program guide is providing the user with an opportunity to select a recorded program. Once the user has selected a program area may be removed and area may be displayed in its place while the program guide is providing the user with an opportunity to define a program segment for inclusion in the super program. Video feedback area may be displayed only in response to an indication by the user to the program guide to display a program segment. Thus it may not be necessary for all three areas to be displayed at once.

To define a super program the user indicates which programs are to be included in the super program sequence. The program guide may also give the user the ability to include in the current super program other previously defined super programs. Area lists the recorded programs and super programs. If the user interface is a remote control such as remote control of the user may use up and down arrow keys to select a desired program or super program. The user may also access other information associated with the entry by using an INFO key on remote control or by selecting a suitable option from an on screen options list provided by the program guide. The program guide may generate a full information screen such as full information screen of containing information associated with the selected program when the INFO key is pressed.

Whenever the user selects a program the program guide places the selected entry in the super program sequence at a defined point in the sequence e.g. at the end of the sequence . As shown in for example a first segment entry Braveheart has already been selected by the user. The user is currently selecting the second segment entry Kiss The Girls. The segment entries are listed in second area . The user then has the option of defining the play segment of the program to be played. Indicators indicate the currently defined play segment.

If the user wishes to define a play segment the user may do so for example by using markers to define the segment by moving the markers to the desired time within a program. As shown in the user uses highlight region positioned by the program guide over one of the markers to move markers to define the play segment. The program guide may display the portion of the program corresponding to markers in video feedback area as markers are individually positioned. The program guide may for example issue playback requests to remote media server or local media server that include a user pointer to the desired position in the program or off sets from the current position. Alternatively the program guide may send suitable requests to remote media server or local media server to adjust one or more user pointers on remote media server or local media server . When the user is finished defining the play segment the user may press an OK key on remote control . In response the program guide positions highlight region in first area to allow the user to define another entry in the super program sequence.

When the user has finished defining the super program the user may issue appropriate commands with user input device . If user input device is a remote control such as remote control of the user may use a PLAY key to finish editing the super program and play the super program. The user may also select an on screen Play feature from a list of on screen options provided by the program guide. The user may play the super program at any time after the super program has been defined.

When the user presses PLAY the program guide may issue a playback request to remote media server or local media server or may issue the appropriate instructions to digital storage device to read the programs and associated program data according to the defined super program sequence. The playback requests may for example contain pointers to the positions in the programs that are defined by the super program sequence. The program guide then instructs user television equipment to provide the programs in the super program and any associated data in the appropriate format for display on display device and for use by the user as if the user were viewing the programs when they were originally aired. If display device is a television for example user television equipment may convert the programs from their digital format to appropriate RF or demodulated video signals for display on monitor .

The user may store the super program for playback at a later time. The user may indicate a desire to postpone playback by for example issuing appropriate commands with user input device . If user input device is a remote control such as remote control of the user may use an EXIT key on remote control or select an on screen Exit option. The program guide may respond to an indication to postpone playback by storing the playback sequence either in memory on digital storage device remote media server or local media server . The user may later access the super program by for example selecting the super program while in directory screen . The program guide may then generate a super program screen with the previously entered selections and defined play segments and provide the user with the opportunity to add edit or re order the programs and program segments. The user plays the super program by issuing a suitable command e.g. pressing a PLAY key on remote control .

Users may also select programs for recording by remote media server or local media server by setting up search queries that define types of programs the user wants to record. The user may for example define boolean expressions that result in recording programs based on a suitable parameter or parameters. Suitable parameters may include any program guide data associated with programs such as program titles actors within programs program themes or categories program ratings text within program information fields or any other suitable program guide data.

When the user selects or designates a program for recording the program guide generates a record request step . This step may be performed concurrently with step immediately after step or sometime in the near future after step such as just prior to a program starting. When a user indicates a desire to record a program grouping the request may include a grouping identifier or the program identifiers of the constituent programs. In still another approach the program guide may generate separate record requests for each program in the grouping repeating step .

The one or more record requests are transmitted to the recording media server at step . Transmitting the record request may involve using any suitable communications protocol stack. Record requests may be transmitted using for example TCP IP IPX SPX DOCSIS or any other suitable protocol or group of protocols. If users are charged for recording program guide distribution equipment may provide billing information to billing system at step . The billing information may include the title of the program that was selected its identifier its length the charge for the record or any other suitable information. Billing system may bill the requesting user or adjust the user s account at steps and respectively.

At steps and the program and associated program guide data are recorded on the recording media server respectively. Steps and may be performed in any suitable order and may be performed concurrently if desired. Step may include recording program associated data. Step may also be performed automatically by remote media server or local media server such as when automatically real time caching programs.

The job queue may be examined at step to determine if enough users have requested each program for recording. Job queue entries may be examined for example 15 minutes before a program is scheduled to air. If too few users requested a given program the users who requested the program may be notified step and the program guide may record the program locally by using for example local media server optional digital storage device or optional secondary storage device step . Alternatively programs may be recorded on physical media and sent to users step .

At step suitable equipment at program guide distribution facility e.g. distribution equipment tunes to the channel analog or digital on which the requested program is carried. This may be done for example in response to a request by remote media server . At step the program is recorded in analog or digital format on storage in remote media server or local media server .

User directories may be updated at step . User directories may be maintained by remote media server local media server by the program guide or any combination thereof. User directories that are maintained by remote media server or local media server may be updated at step . Local media server may maintain a user directory for only those programs that it records on storage or may maintain a copy of the user directories maintained by remote media server for one or more users of a local media server .

The program guide may maintain user directories for one or more users locally in memory on optional digital storage device or on optional secondary storage device step . The user directories maintained by the program guide may reflect the programs stored by remote media server local media server or both and may also be maintained by the program guide on local media server if desired. It may be desirable for the program guide to exclusively maintain user directories. In another suitable approach however the program guide may maintain copies of user directories that are maintained by remote media server and local media server . Alternatively user directories may be maintained exclusively by remote media server or local media server and provided to the program guide on demand.

The user may select or designate a program for playback by for example selecting the listing for the program from a list or other program guide display screen. After the user designates a program for playback e.g. by selecting a listing and pressing a PLAY key on remote control the program guide generates a playback request that is transmitted to remote media server or local media server steps and . Playback requests may be transmitted using for example TCP IP IPX SPX DOCSIS or any other suitable protocol or protocols. If users are charged for playing back programs program guide distribution equipment may provide billing information to billing system at step . The billing information may include the title of the program that was selected its identifier its length the charge for the play back or any other suitable information. Billing system may bill the requesting user or adjust the user s account at steps and respectively. At steps and the program and associated program guide data are played back from the recording media server and presented to the user e.g. on the user s television of or PC of .

At step remote media server or local media server distributes the program to user television equipment for playback. The programs and their associated program guide data are played back on user television equipment or PC at step . Programs and program guide data may be distributed and played back using any suitable approach. For example programs and program guide data may be played back by media server and distributed to user television equipment for viewing in real time. If programs and program guide data are distributed as digital data stream user television equipment may decode the data stream in real time. Such on demand programs and program guide data may be distributed and played back according to preferences that were set up by the user. In a second suitable approach programs and program guide data are distributed as one or more digital files or as a digital data stream and are stored by user television equipment for playback. In a third suitable approach programs and program guide data are played back by remote media server and distributed according to a schedule over an analog or digital channel using a suitable near video on demand NVOD approach. In still another suitable approach remote media server may record programs and program guide data on physical media such as a DVD or videocassette that are sent to the user. Any combination of these approaches or any other suitable approach may also be used.

At step the program guide provides the user with VCR like control of the program. The program guide may display an overlay such as overlay of to indicate to a user when the user has stopped paused rewound or fast forwarded the program. At step remote media server or local media server may adjust the user pointer within a program portion or may move the pointer to the next program portion. User pointers may be advanced for example as a program is played back normally or when a program is being controlled such as when it is being fast forwarded. At a suitable point before a user pointer is adjusted beyond the beginning or end of a program portion the previous or next program portion may be cached step . Program guide data may be presented and represented so that it tracks the program being controlled by the user using the interactive television program guide.

Steps involved in providing the super program feature of the present invention are set forth in . The program guide records programs and associated program guide data on remote media server local media server or digital storage device at step . At step the super program sequence is defined. This may include displaying a super program screen such as super program screen of and on display device as set forth in step . Recorded programs are listed by the program guide on display device at step and the program guide provides a user with an opportunity to select the listed programs at step . At step the program guide provides the user with an opportunity to define play segments. The program guide may display a play segment indicator and marker for defining the play segment as indicated by step . At step the program guide displays a video feedback area on display device . The program guide displays the programs play segments and associated program data which are part of the super program sequence on display device according to the super program sequence at step .

The foregoing is merely illustrative of the principles of this invention and various modifications can be made by those skilled in the art without departing from the scope and spirit of the invention.

