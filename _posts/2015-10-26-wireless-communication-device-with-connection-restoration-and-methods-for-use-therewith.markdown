---

title: Wireless communication device with connection restoration and methods for use therewith
abstract: A wireless communication device includes a wireless charging circuit configurable to receive a wireless power signal from a power transmitting unit and to charge the wireless communication device under control of a processing device and in conjunction with a charging session with the power transmitting unit. A wireless interface device operates under control of the processing device to establish a wireless connection with the power transmitting unit via a connection establishment procedure, wherein the wireless connection is separate from the wireless power signal. Control data is exchanged with the power transmitting unit via the wireless connection, wherein the control data is used by the processing device to implement the charging session with the wireless charging circuit. A response is generated to a disruption event of the wireless communication device that includes implementing a restoration procedure for restoring the wireless connection, without implementing the connection establishment procedure.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09516690&OS=09516690&RS=09516690
owner: BROADCOM CORPORATION
number: 09516690
owner_city: Irvine
owner_country: unknown
publication_date: 20151026
---
The present U.S. Utility patent application claims priority pursuant to 35 U.S.C. 120 as a continuation of U.S. Utility application Ser. No. 13 965 957 entitled WIRELESS COMMUNICATION DEVICE WITH CONNECTION RESTORATION AND METHODS FOR USE THEREWITH filed Aug. 13 2013 which claims priority pursuant to 35 U.S.C. 119 e to U.S. Provisional Application No. 61 859 492 entitled WIRELESS COMMUNICATION DEVICE WITH CONNECTION RESTORATION AND METHODS FOR USE THEREWITH filed Jul. 29 2013 both of which are hereby incorporated herein by reference in their entirety and made part of the present U.S. Utility patent application for all purposes.

Various embodiments relate generally to wireless communication systems and also to wireless charging of devices.

Communication systems are known to support wireless and wireline communications between wireless and or wireline communication devices. Such communication systems range from national and or international cellular telephone systems to the Internet to point to point in home wireless networks. Each type of communication system is constructed and hence operates in accordance with one or more communication standards. For instance wireless communication systems may operate in accordance with one or more standards including but not limited to IEEE 802.11 Bluetooth Bluetooth Low Energy BLE advanced mobile phone services AMPS digital AMPS global system for mobile communications GSM code division multiple access CDMA local multi point distribution systems LMDS multi channel multi point distribution systems MMDS and or variations thereof.

The Alliance for Wireless Power A4WP has promulgated a baseline systems specification for interoperability of loosely coupled wireless power transfer for portable handheld electronic devices. This specification supports a 6.78 MHz for power transfers and a 2.4 GHz operating frequency for management data transfers.

The access points are operably coupled to the network hardware via local area network connections and . The network hardware which may be a router switch bridge modem system controller etc. provides a wide area network connection for the communication system . Each of the access points has an associated antenna or antenna array to communicate with the wireless communication devices in its area. Typically the wireless communication devices register with a particular access point to receive services from the communication system . For direct connections i.e. point to point communications wireless communication devices communicate directly via agreed upon frequencies.

Typically access points are used for in home or in building wireless networks however base stations can similarly be employed for instance for cellular telephone systems and like type systems. Regardless of the particular type of communication system each wireless communication device includes a built in radio and or is coupled to a radio.

In an embodiment one or more of the communication devices and operate over an additional wireless network such as a wireless personal area network. For example the access points and could operate in accordance with a wireless local area network protocol such as an IEEE 802.11 protocol and one or more wireless communication devices and could operate using Bluetooth. In this case IEEE 802.11 and Bluetooth communications could both use the 2.4 GHz frequency band. For instance the laptop host may communicate via Bluetooth technology such as Classic Bluetooth IEEE 802.15.1 Bluetooth LE Bluetooth 4.0 or other Bluetooth technology with a keyboard a mouse a printer a mobile phone a tablet and or a set of headphones or speakers. These devices and the laptop host may form an ad hoc Bluetooth piconet. Generally a Bluetooth piconet may comprise a master device or terminal and up to seven slave devices or terminals. In this exemplary implementation the laptop host may correspond to the master Bluetooth terminal and be coupled to one or more the peripheral devices such as a headset printer keyboard pointing device or other peripheral devices that may correspond to the slave Bluetooth terminals. Similarly cell phone host could communicate via Bluetooth technology with a Bluetooth headset and place wireless telephone calls such as a voice over IP call placed via an access point or via 3G or 4G call placed via a base station.

In an embodiment wireless connections are established between two or more wireless communication devices and or . The process of establishing a wireless connection between two devices can include several steps involving the exchange of information. In Bluetooth LE for example when the connection is disrupted for example by a system reset of a device the device would respond by restarting its advertisement. Supervision timeout on the peer device would meanwhile occur. The peer device would thereafter re issue a connection request after seeing the new advertisement. In 802.11 the association process between a station and an access point also requires information to be exchanged between the access point and the station. If the wireless connection is lost because for example a disruption occurs in communication or one device unilaterally drops the connection the connection establishment is repeated.

In an embodiment a wireless communication device is able to implement a restoration procedure that restores a wireless connection without repeating the full connection establishment. When a disrupting event occurs such as a system reset or other disruption one or more connection events as well as link synchronization information might be missing on the disrupted device. Once the disrupted device comes back online instead of advertising again for new connection establishment the device restores the wireless connection with the other device before the other device drops the connection. For example the disrupted device can open up a wide reception window on the expected channel to strive for the estimated connection event before the supervision timeout expires on the other device. When this succeeds the other device is agnostic of the disruption.

The wireless communication devices and or can include one or more features of the various embodiments described in greater detail with reference to .

A power transmitting unit is shown for wirelessly charging a number of wireless devices such as laptop host tablet host and or cellphone host . While specific devices are shown the wireless communication devices and or and corresponding peripheral devices such as a keyboard a mouse a printer a microphone headset headphones speakers or other peripheral can each be wirelessly charged via a power transmitting unit such as a power transmitting unit . While shown as a separate device the power transmitting unit can be incorporated in a server an access point an article of furniture or any other device that can be placed or is otherwise located in proximity to the devices to be charged.

In one example of operation power transmitting unit PTU can operate in accordance with a loosely coupled wireless power transfer specification such as the A4WP baseline system specification 1.0 BSS 1.0 or other wireless power transfer technology. In this embodiment the laptop host tablet host and or cellphone host operates as a power receiving unit PRU . In this example a 6.78 MHZ signal is sent from the power transmitting unit to the PRUs to transfer energy to charge each device in conjunction with a charging session for each device. Control information is exchanged between the PTU and each of the PTUs via a 2.4 GHz Bluetooth LE compatible link to control the power transfer to the PRU.

In operation a wireless connection is established been the PTU and a corresponding wireless communication device such as laptop host tablet host or cellphone host via Bluetooth LE. If a disrupting event occurs at the wireless communication device such as a system reset or other disruption the wireless communication device is able to implement a restoration procedure that restores a wireless connection without repeating the full connection establishment.

As illustrated the host module includes a processing module memory power receiving unit output interface input interface and radio interfaces and . The processing module and memory execute the corresponding instructions that are typically performed by the wireless communication device or an associated peripheral device. For example for a cellular telephone tablet Bluetooth device or WLAN node the processing module performs the corresponding communication functions in accordance with a particular cellular telephone Bluetooth or WLAN standard.

In the embodiment shown the power receiving unit wirelessly couples with a PTU such as PTU to implement wireless charging of the wireless communication device. In this embodiment power receiving unit includes a wireless charging circuit WCC to receive wireless power transfers from the PTU and to charge the battery of the wireless communication device. The PRU also includes a dedicated wireless radio unit WRU to directly engage in the exchange of control data via a wireless connection. In an additional embodiment that is described further in conjunction with the functionality of the WRU is implemented via other radio components of the wireless communication device.

In one example of operation PRU operates in accordance with a loosely coupled wireless power transfer specification such as the A4WP baseline system specification 1.0 BSS 1.0 or other wireless power transfer technology. In this example a 6.78 MHZ signal is sent from the power transmitting unit to the PRU to transfer energy to charge the wireless communication device in conjunction with a charging session. Control information is exchanged between the PTU and each of the PRU via a 2.4 GHz Bluetooth LE compatible link to control the power transfer from the PTU to the PRU .

The radio interfaces and each communicate with a processing module of the corresponding wireless interface device or . These processing modules include a media specific access control protocol MAC layer module and other processing functionality to support the features and functions of the particular wireless protocol employed by the wireless interface device and optionally to further perform additional functions and features of various embodiments as described herein.

The wireless interface devices and can include a digital to analog converter DAC an analog to digital converter ADC and a physical layer module PHY that operate via a cellular telephone standard such as a 3G or 4G or other standard an 802.11 standard a Bluetooth standard or in accordance with one or more other communication protocols. The radio interfaces and allow data to be received from and transmitted to external devices via the wireless interface devices and and antenna section . Antenna section can include a single antenna or a plurality of antennas and appropriate impedance matching circuitry diplexers switches and or other components to couple the antenna section to the wireless interface devices and . For example the wireless communication device may be a personal or laptop computer the external device may be an access point base station headset personal digital assistant cellular telephone printer fax machine joystick keyboard or desktop telephone.

For data received from one of the wireless interface devices or e.g. inbound data the radio interface or provides the data to the processing module for further processing and or routing to the output interface . The output interface provides connectivity to an output display device such as a display monitor speakers etc. such that the received data may be displayed. The radio interfaces and also provide data from the processing module to the wireless interface devices and . The processing module may receive the outbound data from an input device such as a keyboard keypad microphone etc. via the input interface or generate the data itself. For data received via the input interface the processing module may perform a corresponding host function on the data and or route it to one of the wireless interface devices or via the corresponding radio interface or .

Processing module can be implemented using a shared processing device individual processing devices or a plurality of processing devices. Such a processing device may be a microprocessor micro controller digital signal processor microcomputer central processing unit field programmable gate array programmable logic device state machine logic circuitry analog circuitry digital circuitry and or any device that manipulates signals analog and or digital based on operational instructions. The memory may be a single memory device or a plurality of memory devices. Such a memory device may be a read only memory random access memory volatile memory non volatile memory static memory dynamic memory flash memory and or any device that stores digital information. Note that when the processing module implements one or more of its functions via a state machine analog circuitry digital circuitry and or logic circuitry the memory storing the corresponding operational instructions is embedded with the circuitry comprising the state machine analog circuitry digital circuitry and or logic circuitry. While a particular bus architecture is presented in conjunction with bus other architectures are likewise possible.

In operation the wireless charging circuit receives a wireless power signal from a PTU such as PTU to charge the wireless communication device under control of the processing module or a dedicated processor of PRU and in conjunction with a charging session with the PTU. The WRU operates under control of the processing module or a dedicated processor of PRU to establish a wireless connection with the PTU via a connection establishment procedure. The WRU exchanges control data with the power transmitting unit via the wireless connection. The processing module or a dedicated processor of PRU uses the control data to implement the charging session between the PTU and the WCC .

When a disruption event occurs that creates a unilateral disconnection of the wireless connection from the power transmitting unit such as a system reset in the processing module or a dedicated processor of PRU or other disruption the WRU responds by implementing a restoration procedure in an attempt to restore the wireless connection. If the wireless connection can be restored prior to expiration of a supervisory time out period of the PTU there is no need to implement a full connection establishment procedure. Considering again the case where the wireless connection is a Bluetooth LE compatible link the restoration operates without the normal advertisement inquiry and or page procedures associated with standard connection establishment. Further the charging session can continue during the disruption event. If the WRU determines that the restoration procedure fails to restore the wireless connection the standard connection establishment procedure can be implemented in response.

While the connection restoration procedures have been described above in conjunction with the operation of PRU these procedures can also be employed in other wireless connections established in conjunction with wireless interface devices and .

In operation the wireless charging circuit receives a wireless power signal from PTU to charge the host power source under control of the processing device . The WRU also operates under control of the processing device to establish a wireless connection with the WRU of PTU via a connection establishment procedure. The WRU exchanges control data with the power transmitting unit via the wireless connection to establish a charging session. Processing device controls the operation of power supply and power amplifier to generate an RF power signal. The matching circuit couples the RF power signal to the transmit resonator for transmission. The RF power signal is received by the receive resonator rectified by rectifier and converted into a DC charging signal by DC to DC converter for charging of the host power source . Processing device monitors and controls the charging to for example avoid over voltage and under voltage conditions high temperature events and or other detrimental conditions. The functionality ascribed to processing device can be implemented via processing module or via one or more separate processing devices.

Consider again the example where the WCC operates in accordance with a loosely coupled wireless power transfer specification such as the A4WP baseline system specification 1.0 BSS 1.0 or other wireless power transfer technology. Control information is exchanged between the WCC and the PTU via a 2.4 GHz Bluetooth LE compatible link implemented via wireless interface device or . In this fashion a smartphone with an existing Bluetooth radio can use this radio for traditional Bluetooth communication as well as wireless connection in conjunction with wireless charging via wireless charging circuit . Further the connection restoration procedures previously described in conjunction with can be employed not only in the operation of Bluetooth LE used in conjunction with wireless charging but in other wireless connections established in conjunction with wireless interface devices and .

Returning to the discussion of the processing module can execute digital receiver functions and digital transmitter functions in accordance with a particular wireless communication standard via one or more dedicated processors or via a shared processor. The digital receiver functions can include but are not limited to digital intermediate frequency to baseband conversion demodulation constellation demapping decoding and or descrambling. The digital transmitter functions include but are not limited to scrambling encoding constellation mapping modulation and or digital baseband to IF conversion. In operation outbound data from the host module is processed in accordance with a particular wireless communication standard e.g. IEEE 802.11 including all current and future subsections Bluetooth etcetera to produce digital transmission formatted data that is received via the radio interface or . The digital transmission formatted data can be a digital base band signal or a digital low IF signal where the low IF typically will be in the frequency range of one hundred kilohertz to a few megahertz. The digital to analog converter converts the digital transmission formatted data from the digital domain to the analog domain. The filtering gain module filters and or adjusts the gain of the analog signal prior to providing it to the IF mixing stage . The IF mixing stage directly converts the analog baseband or low IF signal into an RF signal based on a transmitter local oscillation provided by local oscillation module . The power amplifier amplifies the RF signal to produce an outbound RF signal which is filtered by the transmitter filter module . The antenna section transmits the outbound RF signal to a targeted device such as a base station an access point peripheral PTU and or another wireless communication device.

The wireless interface device or also receives an inbound RF signal via the antenna section which was transmitted by a base station an access point PTU or another wireless communication device. The antenna section provides the inbound RF signal to the receiver filter module via the Tx Rx switch where the Rx filter bandpass filters the inbound RF signal. The Rx filter provides the filtered RF signal to low noise amplifier which amplifies the signal to produce an amplified inbound RF signal. The low noise amplifier provides the amplified inbound RF signal to the IF mixing module which directly converts the amplified inbound RF signal into an inbound low IF signal or baseband signal based on a receiver local oscillation provided by local oscillation module . The down conversion module provides the inbound low IF signal or baseband signal to the filtering gain module . The filtering gain module filters and or gains the inbound low IF signal or the inbound baseband signal to produce a filtered inbound signal.

The analog to digital converter converts the filtered inbound signal from the analog domain to the digital domain to produce digital reception formatted data. This data is passed via radio interface or to processing module which decodes descrambles demaps and or demodulates the digital reception formatted data to recapture inbound data in accordance with the particular wireless communication standard being implemented by wireless interface device.

While shows the wireless interface devices and as being implemented with separate components one or more modules or components of these devices can be implemented with shared components that operate for both wireless interface devices. For instance a single LNA and RX filter module can be used by wireless interface devices and to filter and amplify inbound RF signals a single reference oscillator such as a crystal oscillator can be used in local oscillation modules of both wireless interface devices as the basis for generating separate local oscillation signals and etcetera.

In the first connection interval of normal communication Device transmits and Device receives in a first portion of the connection interval via frequency channel f. This is followed by a second portion of the interval where Device transmits and Device receives via frequency channel f. Normal communication continues with a shift to frequency channel f where Device transmits and Device receives however this interval is interrupted by a disruption event that disrupts the operation of Device . While Device continues on with a normal transmission and reception schedule however transmission and reception by Device ceases during this period of time.

When Device emerges from the disruption event it implements a restoration procedure in an attempt to restore the wireless connection without performing a reestablishment. The restoration procedure predicts a subsequent frequency hop f of Device . The subsequent frequency hop f can be predicted based on for example the expiration of the supervisory time out period of the power transmitting unit that defines the time the device waits to drop an established connection in response to inactivity of the connection. Other information if available can be used in the prediction. For example frequencies of one or more past frequency hops that occurred prior to the disruption and or a pattern of frequency hops can be used in prediction along with any timing information that may be available. In this case Device received only a partial response in connection intervals corresponding to f. If for example Device would time out the wireless connection after four unsuccessful connection intervals Device predicts that Device will transmit at frequency f in the last connection interval before the expiration of its supervisory time out period.

Device implements an extended reception window to wait for Device to transmit at f during a subsequent connection interval. This extended window has a longer duration than the standard duration and is used to wait for Device to transmit during a subsequent connection interval at this frequency. The communication restoration interval ends when Device detects the transmission from Device and subsequently transmits its own response at f. Normal communication continues at that point.

Consider the example where Device is a PTU and Device is a wireless communication device that includes or operates as a PRU as previously described. The A4WP specification defines a 250 ms connection interval and a 1 second supervision timeout. When the connection on the PRU is disrupted for example by a system reset conventional PRUs would respond by restarting advertisement. Supervision timeout on the PTU would meanwhile occur. The PTU would thereafter re issue a connection request after seeing the new advertisement as part of the standard connection establishment procedure.

In the case of wireless communication devices described in conjunction with however the PRU implements a restoration procedure. Depending on how much time is left after a unilateral disconnection occurs on the PRU the PRU may choose not to restart the complete connection procedure. Instead PRU predicts when a supervisory timeout is expected to occur based on the time of the disruption event. The PRU looks to detect the last hop connection event from the PTU the connection interval corresponding to hop frequency f before unilateral disconnection by the PTU. PRU resynchronizes with the PTU upon the detection of such an event. The connection is therefore restored while the PTU is unaware of the disruption and charging can persistent.

In an embodiment the wireless charging session is in accordance with an Alliance for Wireless Power specification and the wireless connection is formatted in accordance with a Bluetooth Low Energy protocol. The disruption event can include a system reset of the wireless communication device. The charging session can continue during the disruption event. Restoring the wireless connection includes restoring the wireless connection before expiration of a supervisory time out period of the power transmitting unit. The wireless connection can include a plurality of frequency hops occurring in a corresponding plurality of hop intervals and restoring the wireless connection can include predicting a subsequent frequency hop of the power transmitting unit. The subsequent frequency hop can be predicted based on reviewing a past frequency hop that occurred prior to the disruption event and predicting the subsequent frequency hop based on the past frequency hop and the supervisory time out period of the power transmitting unit. Restoring the wireless connection can include extending a reception window beyond a standard duration used in a standard wireless connection interval.

As may also be used herein the term s operably coupled to coupled to and or coupling includes direct coupling between items and or indirect coupling between items via an intervening item e.g. an item includes but is not limited to a component an element a circuit and or a module where for indirect coupling the intervening item does not modify the information of a signal but may adjust its current level voltage level and or power level. As may further be used herein inferred coupling i.e. where one element is coupled to another element by inference includes direct and indirect coupling between two items in the same manner as coupled to . As may even further be used herein the term operable to or operably coupled to indicates that an item includes one or more of power connections input s output s etc. to perform when activated one or more its corresponding functions and may further include inferred coupling to one or more other items. As may still further be used herein the term associated with includes direct and or indirect coupling of separate items and or one item being embedded within another item.

As may also be used herein the terms processing module module processing circuit and or processing unit e.g. including various modules and or circuitries such as may be operative implemented and or for encoding for decoding for baseband processing etc. may be a single processing device or a plurality of processing devices. Such a processing device may be a microprocessor micro controller digital signal processor microcomputer central processing unit field programmable gate array programmable logic device state machine logic circuitry analog circuitry digital circuitry and or any device that manipulates signals analog and or digital based on hard coding of the circuitry and or operational instructions. The processing module module processing circuit and or processing unit may have an associated memory and or an integrated memory element which may be a single memory device a plurality of memory devices and or embedded circuitry of the processing module module processing circuit and or processing unit. Such a memory device may be a read only memory ROM random access memory RAM volatile memory non volatile memory static memory dynamic memory flash memory cache memory and or any device that stores digital information. Note that if the processing module module processing circuit and or processing unit includes more than one processing device the processing devices may be centrally located e.g. directly coupled together via a wired and or wireless bus structure or may be distributedly located e.g. cloud computing via indirect coupling via a local area network and or a wide area network . Further note that if the processing module module processing circuit and or processing unit implements one or more of its functions via a state machine analog circuitry digital circuitry and or logic circuitry the memory and or memory element storing the corresponding operational instructions may be embedded within or external to the circuitry comprising the state machine analog circuitry digital circuitry and or logic circuitry. Still further note that the memory element may store and the processing module module processing circuit and or processing unit executes hard coded and or operational instructions corresponding to at least some of the steps and or functions illustrated in one or more of the Figures. Such a memory device or memory element can be included in an article of manufacture.

Various embodiments have been described above with the aid of method steps illustrating the performance of specified functions and relationships thereof. The boundaries and sequence of these functional building blocks and method steps have been arbitrarily defined herein for convenience of description. Alternate boundaries and sequences can be defined so long as the specified functions and relationships are appropriately performed. Any such alternate boundaries or sequences are thus within the scope and spirit of the claims. Further the boundaries of these functional building blocks have been arbitrarily defined for convenience of description. Alternate boundaries could be defined as long as the certain significant functions are appropriately performed. Similarly flow diagram blocks may also have been arbitrarily defined herein to illustrate certain significant functionality. To the extent used the flow diagram block boundaries and sequence could have been defined otherwise and still perform the certain significant functionality. Such alternate definitions of both functional building blocks and flow diagram blocks and sequences are thus within the scope and spirit of the claims. One of average skill in the art will also recognize that the functional building blocks and other illustrative blocks modules and components herein can be implemented as illustrated or by discrete components application specific integrated circuits processors executing appropriate software and the like or any combination thereof.

A physical embodiment of an apparatus an article of manufacture a machine and or of a process that includes one or more embodiments may include one or more of the aspects features concepts examples etc. described with herein. Further from figure to figure the embodiments may incorporate the same or similarly named functions steps modules etc. that may use the same or different reference numbers and as such the functions steps modules etc. may be the same or similar functions steps modules etc. or different ones.

The term module is used in the description of the various. A module includes a functional block that is implemented via hardware to perform one or module functions such as the processing of one or more input signals to produce one or more output signals. The hardware that implements the module may itself operate in conjunction software and or firmware. As used herein a module may contain one or more sub modules that themselves are modules.

While particular combinations of various options methods functions and features have been expressly described herein other combinations of these options methods functions and features are likewise possible. The various embodiments are not limited by the particular examples disclosed herein and expressly incorporates these other combinations.

