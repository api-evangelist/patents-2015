---

title: Active signal processing personal health signal receivers
abstract: The invention provides a receiver associated with a body, e.g., located inside or within close proximity to a body, configured to receive and decode a signal from an in vivo transmitter which located inside the body. Signal receivers of the invention provide for accurate signal decoding of a low-level signal, even in the presence of significant noise, using a small-scale chip, e.g., where the chip consumes very low power. Also provided are systems that include the receivers, as well as methods of using the same.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09444503&OS=09444503&RS=09444503
owner: Proteus Digital Health, Inc.
number: 09444503
owner_city: Redwood City
owner_country: US
publication_date: 20150610
---
This application is a continuation of U.S. patent application Ser. No. 14 199 804 filed Mar. 6 2014 now U.S. Pat. No. 9 083 589 which is a continuation of U.S. patent application Ser. No. 12 515 527 filed Mar. 3 2010 now U.S. Pat. No. 8 718 193 which is a 371National Phase Application of PCT US2007 024225 filed Nov. 19 2007 which claims the benefit of U.S. Provisional Patent Application No. 60 866 581 filed Nov. 20 2006 and U.S. Provisional Patent Application No. 60 945 251 filed Jun. 20 2007 the disclosures of which applications are herein incorporated by reference.

Communications play an extremely important role in today s world. Computers telephones audio and multimedia players medical devices scientific equipment and other technology both provide and rely on various types of communications.

Communications however are susceptible to errors. In particular noisy transmission environments distort and corrupt communication data. Such environments include the human body deep space transmissions high speed transmissions and high compression storage media. Additionally devices err in signal generation and measurement related to the communication data.

As such there is a continued need for improved communication devices and systems. Of particular interest is the development of communications devices and systems that can be employed to reliably communicate information from an in vivo location.

The invention provides a receiver associated with a body e.g. located inside or within close proximity to a body configured to receive and decode a signal from an in vivo transmitter which is located inside the body. Signal receivers of the invention provide for accurate signal decoding of a low level signal even in the presence of significant noise using a small scale chip e.g. where the chip consumes very low power. Also provided are systems that include the receivers as well as methods of using the same.

The invention provides a receiver associated with a body e.g. located inside or within close proximity to a body configured to receive and decode a signal from an in vivo transmitter which is located inside the body. Signal receivers of the invention provide for accurate signal decoding of a low level signal even in the presence of significant noise using a small scale chip e.g. where the chip consumes very low power. Also provided are systems that include the receivers as well as methods of using the same.

In further describing the invention in greater detail embodiments of the signal receivers are reviewed first in greater detail followed by a discussion of systems that include the subject signal receivers methods of using the subject signal receivers and systems and various illustrative applications in which the signal receivers systems and methods find use. Also reviewed in greater detail below are kits that include the subject signal receivers.

Aspects of the invention include signal receivers configured to receive an encoded signal produced by an in vivo transmitter. Signal receivers of the invention are configured to decode an encoded signal received from an in vivo transmitter. The receivers are configured to decode the encoded signal in a low signal to noise ratio SNR environment e.g. where there may be substantial noise in addition to the signal of interest e.g. an environment having an SNR of 7.7 dB or less. The receivers are further configured to decode the encoded signal with substantially no error. In certain embodiments the signal receiver has a high coding gain e.g. a coding gain ranging from 6 dB to 12 dB such as a coding gain ranging from 8 dB to 10 dB including a coding gain of 9 dB. The signal receivers of the invention decode encoded signals with substantially no error e.g. with 10 error or less.

Signal receivers of embodiments of the invention are configured to receive an encoded signal from a pharma informatics enabled pharmaceutical composition e.g. as described in PCT application Serial No. US2006 016370 the disclosure of which is specifically incorporated herein by reference an ingestible event marker e.g. as described in provisional application Ser. No. 60 949 223 the disclosure of which is herein incorporated by reference a smart parenteral device e.g. as described in PCT US2007 15547 the disclosure of which is herein incorporated by reference or analogous device.

In certain embodiments the receiver is configured to receive a signal conductively from another component e.g. identifier of a pharmaceutical a parenteral delivery device an ingestible event marker etc. such that the two components use the body of the patient as a communication medium. To employ the body as a conduction medium for the signal the body of the patient is used as a communication medium. As such the signal that is transferred between identifier and the receiver travels through the body and requires the body as the conduction medium.

Mobile embodiments of the signal receiver include ones that are sized to be stably associated with a living subject in a manner that does not substantially impact movement of said living subject. As such embodiments of the signal receiver have dimensions that when employed with a subject such as a human subject will not cause the subject to experience any difference in its ability to move. As such in these embodiments the receiver is dimensioned such that its size does not hinder the ability of the subject to physically move. In certain embodiments the signal receiver has a small size where in certain embodiments the signal receiver occupies a volume of space of about 5 cmor less such as about 3 cmor less including about 1 cmor less. In certain embodiments the signal receiver has a chip size limit ranging from 10 mmto 2 cm.

The signal receivers of interest include both external and implantable signal receivers. In external embodiments the signal receiver is ex vivo by which is meant that the receiver is present outside of the body during use.

Where the signal receivers are external they may be configured in any convenient manner where in certain embodiments they are configured to be associated with a desirable skin location. As such in certain embodiments the external signal receivers are configured to be contacted with a topical skin location of a subject. Configurations of interest include but are not limited to patches wrist bands belts etc. For instance a watch or belt worn externally and equipped with suitable receiving electrodes can be used as signal receivers in accordance with one embodiment of the present invention. The signal receivers may provide a further communication path via which collected data can be extracted by a patient or health care practitioner. For instance an implanted collector may include conventional RF circuitry operating e.g. in the 405 MHz medical device band with which a practitioner can communicate e.g. using a data retrieval device such as a wand as is known in the art. Where the signal receiver includes an external component that component may have output devices for providing e.g. audio and or visual feedback examples include audible alarms LEDs display screens or the like. The external component may also include an interface port via which the component can be connected to a computer for reading out data stored therein. By further example it could be positioned by a harness that is worn outside the body and has one or more electrodes that attach to the skin at different locations.

In certain external embodiments the receiver is configured to be in contact with or associated with a patient only temporarily i.e. transiently for example while the pill ingestible marker etc. is actually being ingested. For example the receiver may be configured as an external device having two finger electrodes or handgrips. Upon ingestion of a pharma informatics enabled pill the patient touches the electrodes or grabs the handgrips completely a conductive circuit with the receiver. Upon emission of the signal from the pill e.g. when the pill dissolves in the stomach the signal emitted by the identifier of the pill is picked up by the receiver. Where the signal receiver includes an external component that component may have output devices for providing e.g. audio and or visual feedback examples include audible alarms LEDs display screens or the like. The external component may also include an interface port via which the component can be connected to a computer for reading out data stored therein.

In certain embodiments the external signal receiver includes miniaturized electronics which are integrated with the electrodes to form a band aid style patch with electrodes that when applied contact the skin and a battery and electronics contained in that package. The bandaid style patch may be configured to be positioned on a desirable target skin site of the subject e.g. on the chest back side of the torso etc. In these embodiments the bandaid circuitry may be configured to receive signals from devices inside of the subject e.g. from an identifier of a pharma informatics enabled pharmaceutical composition and then relay this information to an external processing device e.g. a PDA smartphone etc. as described in greater detail elsewhere. Bandaid style devices that may be readily adapted for use in the present systems include but are not limited to those described in U.S. Pat. Nos. 6 315 719 and the like the disclosures of which are herein incorporated by reference.

In certain embodiments the signal receiver i.e. signal detection component is an implantable component. By implantable is meant that the signal receiver is designed i.e. configured for implantation into a subject e.g. on a semi permanent or permanent basis. In these embodiments the signal receiver is in vivo during use. By implantable is meant that the receivers are configured to maintain functionality when present in a physiological environment including a high salt high humidity environment found inside of a body for 2 or more days such as about 1 week or longer about 4 weeks or longer about 6 months or longer about 1 year or longer e.g. about 5 years or longer. In certain embodiments the implantable circuits are configured to maintain functionality when implanted at a physiological site for a period ranging from about 1 to about 80 years or longer such as from about 5 to about 70 years or longer and including for a period ranging from about 10 to about 50 years or longer.

For implantable embodiments the signal receiver may have any convenient shape including but not limited to capsule shaped disc shaped etc. One way we would achieve the small size is by including a rechargeable battery. Because this is not a life support device it is a sensing device it could have a natural life of 2 weeks and recharge automatically off of coils in the patient s bed so that it would be constantly recharging. The signal receiver may be configured to be placed in a number of different locations e.g. the abdomen small of the back shoulder e.g. where implantable pulse generators are placed etc.

In certain implantable embodiments the signal receiver is a stand alone device in that it is not physically connected to any other type of implantable device. In yet other embodiments the signal receiver may be physically coupled to a second implantable device e.g. a device which serves as a platform for one or more physiological sensors where the device may be a lead such as a cardiovascular lead where in certain of these embodiments the cardiovascular lead includes one or more distinct physiological sensors e.g. where the lead is a multi sensor lead MSL . Implantable devices of interest further include but are not limited to implantable pulse generators e.g. ICDs neurostimulator devices implantable loop recorders etc.

Signal receivers of the invention include a signal receiver element which serves to receive the identifier emitted signal of interest. The signal receiver may include a variety of different types of signal receiver elements where the nature of the receiver element necessarily varies depending on the nature of the signal produced by the signal generation element. In certain embodiments the signal receiver may include one or more electrodes for detecting signal emitted by the signal generation element. In certain embodiments the receiver device will be provided with two electrodes that are dispersed at some distance. This distance allows the electrodes to detect a differential voltage. The distance may vary and in certain embodiments ranges from about 0.1 to about 5 cm such as from about 0.5 to about 2.5 cm e.g. about 1 cm. In certain embodiments the first electrode is in contact with an electrically conductive body element e.g. blood and the second electrode is in contact with an electrically insulative body element relative to said conductive body element e.g. adipose tissue fat . In an alternative embodiment a receiver that utilizes a single electrode is employed. In certain embodiments the signal detection component may include one or more coils for detecting signal emitted by the signal generation element. In certain embodiments the signal detection component includes an acoustic detection element for detecting signal emitted by the signal generation element.

A signal receiver may handle received data in various ways. In some embodiments the signal receiver simply retransmits the data to an external device e.g. using conventional RF communication . In other embodiments the signal receiver processes the received data to determine whether to take some action such as operating an effector that is under its control activating a visible or audible alarm transmitting a control signal to an effector located elsewhere in the body or the like. In still other embodiments the signal receiver stores the received data for subsequent retransmission to an external device or for use in processing of subsequent data e.g. detecting a change in some parameter over time . The signal receivers may perform any combination of these and or other operations using received data.

In certain embodiments the data that is recorded on the data storage element includes at least one of if not all of time date and an identifier e.g. global unique serial no. of each composition administered to a patient where the identifier may be the common name of the composition or a coded version thereof. The data recorded on the data storage element of the receiver may further include medical record information of the subject with which the receiver is associated e.g. identifying information such as but not limited to name age treatment record etc. In certain embodiments the data of interest includes hemodynamic measurements. In certain embodiments the data of interest includes cardiac tissue properties. In certain embodiments the data of interest includes pressure or volume measurements temperature activity respiration rate pH etc.

As summarized above the signal receivers can be configured to have a very small size. In certain embodiments the desired functionality of the signal receiver is achieved with one or more integrated circuits and a battery. Aspects of the invention include receivers that have at least a receiver element e.g. the form of one or more electrodes such as two spaced apart electrodes and a power generation element e.g. a battery where the battery may be rechargeable etc. as mentioned above. As such in certain embodiments the power generation element is converted to receive power wirelessly from an external location.

Additional elements that may be present in the signal receiver include but are not limited to a signal demodulator e.g. for decoding the signal emitted from the pharma informatics enabled identifier a signal transmitter e.g. for sending a signal from the signal receiver to an external location a data storage element e.g. for storing data regarding a received signal physiological parameter data medical record data etc. a clock element e.g. for associating a specific time with an event such as receipt of a signal a pre amplifier a microprocessor e.g. for coordinating one or more of the different functionalities of the signal receiver.

Aspects of implantable versions of the signal receiver will have a biologically compatible enclosure two or more sense electrodes a power source which could either be a primary cell or rechargeable battery or one that is powered by broadcast inductively to a coil. The signal receiver may also have circuitry consisting of a demodulator to decode the transmitted signal some storage to record events a clock and a way to transmit outside the body. The clock and transmit functionality may in certain embodiments be omitted. The transmitter could be an RF link or conductive link to move information from local data storage to an external data storage.

For the external signal receivers embodiments include structures that have electrodes opposed to the skin the demodulator storage and power. The communication may be wireless or performed over one or more conductive media e.g. wires optical fibers etc.

In certain embodiments the same electrodes are used for receiving and transmitting signals. One mode might be to have for example a wristwatch which is conductively in contact with the body where to move the data from the implant to the wristwatch one would send currents out the pads and those would be received by the wristwatch. There are a number of RF techniques for getting the transmission out of the body that may be employed such as inductive protocols that employ coils. Alternatively one could employ electric fields where one would use insulated electrodes not conductively contacted electrodes.

In certain embodiments the components or functional blocks of the present receivers are present on integrated circuits where the integrated circuits include a number of distinct functional blocks i.e. modules. Within a given receiver at least some of e.g. two or more up to an including all of the functional blocks may be present in a single integrated circuit in the receiver. By single integrated circuit is meant a single circuit structure that includes all of the different functional blocks. As such the integrated circuit is a monolithic integrated circuit also known as IC microcircuit microchip silicon chip computer chip or chip that is a miniaturized electronic circuit which may include semiconductor devices as well as passive components that has been manufactured in the surface of a thin substrate of semiconductor material. The integrated circuits of certain embodiments of the present invention may be hybrid integrated circuits which are miniaturized electronic circuits constructed of individual semiconductor devices as well as passive components bonded to a substrate or circuit board.

As reviewed above the signal receivers exhibit reliable decoding of an encoded signal even in the presence of substantial noise and a low SNR. This functional aspect of the receivers of the invention is provided by one or more of Coherent demodulation e.g. Costas loop demodulation accurate low overhead iterative decoding Forward Error correction and Noise Cancellation.

In one embodiment the binary code is modulated to the carrier signal using binary phase shift keying BPSK . In standard BPSK the carrier signal is modulated by shifting its phase by 0 for a binary 0 and 180 for a binary 1. Note that this is an arbitrary assignment and a phase shift of 0 may instead correspond to a binary 1 with a phase shift of 180 corresponding to a binary 0. This allows a lower signal to noise ratio SNR than frequency shift keying or amplitude shift keying allowing the binary code to be accurately decoded in the presence of a greater amount of noise. This is useful in many environments where there are many sources of noise in the same frequency spectrum such as in a hospital.

The in vivo transmission decoder can successfully decode an incoming BPSK signal with negligible error with an SNR as low as about 3 dB more specifically about 6 dB most specifically about 7.7 dB. The signal can be decoded with about 10 error in the decoded bits with an SNR as low as about 0 dB more specifically about 3 dB most specifically about 4.7 dB. The actual minimal SNR needed depends on the amount of error that is allowable. With higher allowable error the signal can be successfully decoded with a lower SNR. With error checking algorithms some error may be acceptable and the SNR could be even lower while still successfully decoding the signal.

Because the original data bit signal may be a square wave which contains some high frequency components the modulated signal may have some high frequency components as well. These can corrupt the signal depending on the sampling rate. To alleviate this an anti aliasing filter can be included in some embodiments. The anti aliasing filter can filter out the high frequency components and clean up the analog signal before sampling. Typically a low pass filter with a cutoff of one half of the sampling frequency is used.

In one embodiment of the inventive in vivo transmission decoder the receiver can have an analog to digital converter to sample the input signal. The sampling rate can be varied according to the frequency of the incoming signal noise level or other factors.

In one embodiment of the in vivo transmission decoder the sampling rate can be actively adjusted according to measured factors such as SNR. When more noise is present a higher sampling rate can be used so that the signal can still be decoded accurately. However when the SNR is higher the sampling rate can be lowered without affecting the accuracy of the recovered signal. The in vivo transmission decoder can compare the measured SNR to a threshold and use the ratio to adjust the sampling rate. There can be a lower limit past which the sampling rate won t be lowered.

In laboratory tests conducted by some of the present inventors the signal was successfully decoded in the presence of noise with a sampling rate as low as four times the frequency of the incoming signal. The in vivo transmission decoder can accurately decode the received signal with a sampling rate as low as about 2 times the frequency of the received signal more specifically about 3 times the frequency of the incoming signal most specifically about 4 times the frequency of the incoming signal. By actively adjusting the sampling rate to be as low as necessary the power used by the receiver can be conserved.

In one embodiment of the in vivo transmission decoder there is an automatic gain control AGC block which actively adjusts the gain to maximize the effectiveness of the Costas loop. The AGC block can also find the strongest frequency of the received signal and tune other components to adjust for that. This allows the receiver to actively adjust to variations in frequency and power of the incoming signal as well as drift of the signal over time.

In one embodiment the AGC block includes a Fast Fourier Transform FFT calculation which is used to find the power spectrum and strong frequency of the incoming signal. Because the AGC block needs a group of points to calculate the FFT a buffer can be used. The buffer can be set to collect a certain number of points before sending them on to the FFT for processing. The size of the buffer used can vary depending on characteristics of the incoming signal such as signal uniformity and cycle length. The buffer size should be small enough to provide fast processing and adjustment to changes in the signal but large enough that the FFT results do not vary widely with instantaneous changes in the signal.

Once the signal is buffered the signal can be passed to the FFT function. This portion computes the FFT of the input signal giving the power spectrum. The block then locates the frequency that has the highest amplitude in the FFT signal f. The FFT calculation requires a finite number of samples from the incoming signal in order to produce accurate results which is why the buffer is used. The frequency information is passed on to subsequent blocks and can be used to tune various components such as the band pass filters and voltage controlled oscillators of a Costas loop.

The AGC block also amplifies the signal adjusting the gain to achieve a predetermined signal power. The strength of the received signal will vary depending on many factors such as location and orientation of the transmitter. To adjust for this the AGC block finds the amplitude of the strongest frequency component in the power spectrum. This amplitude value is divided into a normalized power value which gives the proper gain to apply to achieve that signal strength. The original digital signal which was input into the ACG block is then amplified by the calculated gain and passed on.

The amplified digital signal can then be passed through a band pass filter before entering the Costas loop. The band pass filter can be tuned to have a center frequency equal to f the strongest frequency component found in the AGC block. This is included to clean up the signal further and eliminate noise components at frequencies that are not part of the transmitted signal. Although the transmitter is designed to output the data signal at a set carrier frequency the actual output of each unit may vary. By actively tuning the center frequency to f the band pass filter can adapt to variations in the frequency sent out by the transmitter and to frequency drift of the signal over time. The bandwidth of the band pass filter can be set to a percentage of the strongest frequency of the incoming signal. Alternatively the bandwidth can be set to a specific value.

In some embodiments there can be a first in first out block included before the FFT in the AGC block. This can be implemented in cases where the processing time of subsequent blocks is longer than the rate of the data coming in. The signal is then sent into a Costas loop for demodulation of the signal. The Costas loop reconstructs a replica of the carrier which is locked in frequency and phase to the incoming carrier so the phase of the received signal can be extracted giving an approximation of the original binary signal.

The Costas loop employed can be very similar to those known in the art with the exception that the voltage controlled oscillator is tuned to f. This allows the Costas loop to adapt to changes in the transmitted carrier frequency and lock on to the correct signal. In lab tests conducted by some of the present inventors the receiver was able to adjust to an instantaneous change of up to about 10 kHz when originally configured to receive a 100 kHz signal.

The in vivo transmission decoder can track an instantaneous change in frequency of up to about 25 of the signal frequency more specifically up to about 25 of the signal frequency most specifically up to about 10 of the incoming signal. Depending on the size of the frequency change the receiver can typically lock onto the new frequency within a few cycles of the waveform.

In another embodiment there can be an integrator added to the Costas Loop between the multiplier and the low pass filter in the VCO branch. This helps to smooth out the signal more than the low pass filter alone. In another embodiment there can be a low pass filter added to the output of the Costas loop to clean up the signal before the signal recovery block.

The Costas loop can also output the detected power of the signal. In some embodiments this can be used to tune the gain in the AGC block. This can be used in addition to or instead of the other gain adjustments.

After the signal goes through the Costas loop the signal clock must be extracted in order to determine when each bit begins and ends. One way of accomplishing this is through the use of an Early Late Gate. The Early Late Gate is a phase locked loop with two integrators which each maintain a running sum of half of the symbol period T of the incoming data. The early gate sums the data during the first half of the symbol period or from time t T 2 to t. The late gate sums the signal during the second half of the symbol period or from time t to t T 2. The late gate is then subtracted from the early gate and this difference is outputted. This output will be zero as long as a string of 0 s or 1 s is received. When there is a transition from a 1 to a 0 or from a 0 to a 1 the early late gate output becomes non zero. The next time t that the output becomes zero will be the center of the corresponding symbol.

In order to compensate for different sampling rates and signal frequencies the number of samples to use for the early and late gates is actively computed instead of using a standard value. With a signal which is set to broadcast each bit for 16 cycles of a sine wave the number of sampled points in half of the symbol period will be the time needed for 8 periods of the sine wave divided by the time between samples. Or put in different terms 8

Where Tis the time of the early gate and late gate fis the sampling frequency and fis the frequency of the transmitted signal. Frequency fc can be found by using the frequency that the VCO locks onto in the Costas loop.

When a known preamble or start sequence is sent the time that a specific bit occurs can be determined. As an example assume a preamble of a sequence of 16 zeros is followed by a known start sequence of 0010 which is then followed by an 8 bit ID sequence and a 4 bit sleep period where no signal is sent. The algorithm can first identify where the sequence of zeros occurs by looking for a period of no change in the signal. This prevents the timing problems that would occur if the receiver begins picking up the signal in the middle of a data packet. Since the period of zeros is longer than any other possible sequence of no changes the algorithm can correctly identify where this preamble occurs. Once the preamble is identified the algorithm can begin looking for the start sequence. During the first two zeros of the example start sequence the early late gate output will remain zero. The first non zero value will occur at the transition from 0 to 1. The early late gate will then cross zero again at time t the center of the 1 bit in the signal. Since the symbol period T is known once the time at which the third bit of the start bit sequence occurs is known the time for all other symbols can be determined. In this example the nsymbol will occur at t t n 3 T.

In practice the early late gate output may not be exactly zero during non transition periods but will instead hover around zero due to noise. In order to mark the non zero point a threshold is set which is above the level of noise but below the amplitude of a bit. The receiver can compare the early late gate output against this threshold and set a flag when it is crossed. Once the threshold is crossed the receiver then looks for a zero crossing in the signal.

There is a 180 phase ambiguity which is inherent in any Costas loop implementation meaning the Costas loop is just as likely to lock in to the phase of a 0 as it is a 1 . There are several ways to deal with this which are well known in the art. In one embodiment once the symbol timing is recovered the known start sequence can be looked at in the Costas loop output. Two threshold values can be used one positive and one negative. When the positive threshold is passed the index of the digital signal can be stored and compared against the index stored for the negative threshold to determine which threshold was passed first. In the case of the known start bit 0010 if the positive threshold is passed first that would indicate that a larger Costas loop output represents a 0 while a smaller output represents a 1. If the negative threshold is passed first that would indicate that a larger Costas output represents a 1 while a smaller output represents a 0. At this stage the bit sequence can be accurately extracted and the ID of the transmitter can be identified.

Other techniques for symbol timing recovery that can be utilized include differential decoding Gardner timing recovery squaring timing recovery and Mueller Mueller timing recovery.

The data from the transmitter can be repeated at regular intervals. This reduces error and allows the receiver many opportunities to decode the signal. Once the symbol recovery algorithm identifies the start bit sequence and begins reading the bits a delay can be used to restart the symbol recovery algorithm for the next data packet. Because of the Costas loop ambiguity the symbol timing recovery algorithm will need to be restarted for each data packet. Because the ID will be a known number of bits a predetermined delay can be applied.

For the purposes of demonstrating the inventive algorithm a sample data signal will be used. The data signal used for this example is a 32 bit signal. The first 16 bits are known to be all zero. The zero period is followed by a start preamble which is 0010. After the preamble is the 8 bit ID sequence. The remaining 4 bits are a quiet period. In this example the binary signal is modulated using BPSK to a carrier signal which transmits at a nominal frequency of 100 kHz. Each bit is 16 periods of the sine wave long meaning for each bit the sine wave will be in the corresponding phase for 16 periods. This corresponds to an overall time for each 32 bit signal of about 5.12 ms. It is understood that this sample data signal is only an example and the receiver algorithm can be applied to any BPSK signal. Also one of the key aspects of the inventive algorithm is that it can account for variations in the actual carrier frequency of the transmitted signal so the transmitted signal need not be extremely precise between different transmitters.

The algorithms discussed below were created using Simulink as a tool. The algorithms can then be transferred to hardware using known techniques. One such technique is to use Mathworks Real Time Workshop to convert the Simulink developed algorithm into C code. Then Texas Instruments Code Composer Studio or other similar development tool can be used to convert the C code into assembly language. The assembly language can be programmed onto a digital signal processing DSP chip such as Texas Instruments model TMS320VC5509 or a similar chip.

The buffered output is then sent to a first in first out FIFO block which manages the data to ensure that it is processed in order and will store it until the subsequent blocks are ready for it. This may be necessary because the FFT block Costas loop and Early Late Gate can take time to complete.

The data is then sent to a FFT block which calculates the fast Fourier transform of the amount of incoming data determined by the buffer . The FFT block finds the strongest frequency by finding the frequency which gives the maximum value in the FFT. This frequency is output as a variable labeled signal freq which can be used by other blocks.

The Costas loop works best when the power of the incoming signal is normalized. This is done in the FFT block also. The amplitude of the power spectrum given by the FFT at the frequency signal freq is found and compared to a constant value which represents the desired power for the Costas loop. This gives the gain which is necessary to achieve that signal power and this gain is applied. The FFT block then outputs signal which is the incoming signal amplified by the calculated gain .

This amplified signal is fed into the Costas loop . The Costas loop demodulates the BPSK signal. The Costas loop used is similar to those which are well known in the art except that the components can be actively tuned according to measured characteristics of the incoming signal. The Costas loop will be discussed in greater detail below. The Costas loop output is sent to a matlab workspace where the final symbol decoding is done including an Early Late Gate.

The FFT block in also finds and outputs the frequency at which the maximum amplitude of the power spectrum of the signal occurs. Maximum block outputs index which is the index of the data point in the digital FFT string. The index of the maximum point is divided by the buffer size in divider block . This gives the relative position of the maximum point in the range of 0 to the maximum frequency of the spectrum. Constant is one divided by the sampling time which will give the maximum frequency of the spectrum. The fractional value found in divider block is then multiplied by frequency spectrum constant to yield the absolute frequency value of the maximum power in the signal. This is set as a constant which can be used in other blocks to tune components such as filters and voltage controlled oscillators.

By actively adjusting the center frequency of the filters at the input of the Costas loop the receiver can adjust to changes in the transmit frequency while maintaining a relatively narrow band. This allows the transmitter receiver system to be used under varying conditions such as supply voltage and temperature which may alter the transmitted frequency. This is especially useful when the signal is to be transmitted and received in a poor signaling environment such as the body and areas where a lot of signal noise is present such as in hospitals.

The rest of the Costas loop is standard and well known in the art with the exception of added low pass filter integrator and power output . The added low pass filter and integrator are included to further clean up the signal but are not necessary for the Costas loop to work. Power output is included in Simulink in order to measure the signal to noise ratio SNR but does not play a part in the signal analysis in the current embodiment. In other embodiments the power output can be used to tune other components. For example the power output can be linked back to the gain stage of the FFT block in . The output of the Costas loop is essentially a filtered version of the original binary code except that the polarity can be reversed depending on whether the Costas loop locked onto a 0 or a 1. 

In certain embodiments the architecture is configured in view of the need to demodulate decode where the uncertainty in the carrier frequency is 20 where a Costas loop e.g. as described above might be able to lock onto a signal where the carrier uncertainty is 6 and where coherent detection requires a carrier uncertainty of 

In the alternative configuration illustrated in the carrier identification demodulation and decode functions are performed by a combination of ASIC FPGA Co Processor D and low power microcontroller processor E . The ASIC FPGA Co Processor implement the math intensive functions that are part of the carrier identification demodulation and decoding. These functions may include FFT filters decimation multiplication etc.

Each figure contemplates using discrete components to implement the circuitry. However 2 or more blocks in any figure may be implemented in an ASIC thereby reducing the component count and therefore the overall size. While may have a larger component count and size if implemented discretely it could also be implemented as an ASIC. Any one of the circuits illustrated in could be implemented in a single chip system on chip SOC . In certain embodiments the only limitation may be that the input referred noise on block A limits the overall performance of the system. Minimum noise requires a bi polar transistor input stage which is not possible on standard digital IC processes but found in many mixed signal processes.

The demodulation of BPSK in the presence of AWGN Additive White Gaussian Noise is performed in certain embodiments to minimize BER Bit Error Rate using coherent demodulation.

In these embodiments the in vivo transmitter facilitates the receiver coherent demodulation process by sending a pilot carrier in the front porch of each burst of BPSK modulation. This protocol provides a stable carrier at full amplitude and a reference phase that corresponds with the transmission of a 0 bit. The presence of a front porch gives a useful detection signature to the receiver and a large number of carrier cycles for accurate estimation of the carrier frequency and phase.

An additional practical use is made of the carrier frequency to simplify derivation of the data rate. The transmitted signal is formatted to have the data clock frequency an integer division of the carrier frequency. This permits easy and rapid data clock acquisition once the carrier acquisition has been accomplished.

The receiver samples the incoming signal at a rate of around 4 times the carrier frequency in certain embodiments. This signal is mixed with a DDS Direct Digital Synthesizer set to the nominal carrier frequency to create complex baseband real and imaginary components . The output of the mixer is low pass filtered and decimated. The low pass filter bandwidth must be sufficiently wide to capture frequencies in the band due to carrier oscillator uncertainty and frequency hopping dither. The frequency of the BPSK is subsequently in the vicinity of 0 Hz with a frequency accuracy of 20 .

The receiver squares the complex baseband BPSK signal to create a strong double frequency line. The front porch signal and following BPSK modulation all contribute to this line. The squared complex time domain signal is transformed to the frequency domain using an FFT Fast Fourier Transform . The peak energy bin is identified as the 2 carrier frequency. This frequency is divided by two to provide an estimate of the carrier offset frequency to about 0.1 accuracy using a 1024 point FFT.

The complex baseband signal is then mixed a second time with the determined offset frequency. The result after narrow band low pass filtering is a complex BPSK signal centered at 0 Hz with an accuracy of 0.1 . The bandwidth of the narrow band low pass filter corresponds with the half bandwidth of the BPSK signal.

The front porch signal is then extracted. The frequency offset is determined by first computing the phase phi arctan imag real of all sample points in the front porch and then estimating the slope of phi vs. time using a least mean square fit to a line. The slope of the line corresponds to the residual frequency offset. The complex baseband signal is then mixed a third time to remove this frequency offset with an accuracy better than 0.01 .

The complex signal front porch is then averaged to determine the mean imaginary and real values. The arctan mean imag mean real provides the front porch phase. A rotator factor is computed based on this phase to rotate the BPSK on to the imaginary axis with the front porch at 270 degrees.

A second averaging is then performed on the entire rotated BPSK signal to identify the center of gravity of the 90 degree data 1 and the BPSK is rotated in a similar manner to center this on the imaginary axis. The imaginary signal is then sliced to extract the data.

The sliced data is strobed with a data clock that is derived from the prior determination of the carrier frequency and apriori knowledge of the integer factor relating the carrier frequency to the data clock frequency.

In embodiments of the above protocols it is assumed that the carrier frequency holds to a sufficient accuracy in frequency and phase through the duration of the entire burst. In the event that this is not the case adaptive frequency tracking can be implemented using a decision directed carrier recovery phase locked loop such as the Costas loop as described above. The Costas loop operates by driving a rotator to maintain zero average error in phase of the baseband signal.

In certain embodiments the receivers include an accurate low overhead interative decoder also referred to herein as a communications decoder. The communications decoder provides for the first time highly accurate communications in a simple elegant and cost effective manner despite the presence of significant signal distortion due to noise and other factors. The communications decoder utilizes error correcting codes and a simple iterative process to achieve the decoding results. The communications decoder can be used across multiple and varied applications to realize a low cost high coding gain.

Broadly an embodiment of a communications decoder provides decoding capabilities for data communications. An embodiment of a communications decoder provides a high coding gain with minimal overhead. In some instances the communications decoder facilitates data transmission rates close to the theoretical maximum the Shannon Limit while minimizing processing overhead. The low overhead ensures cost effective implementations. Various implementations of the present invention include hardware software and circuitry.

Further the communications decoder is applicable to any communications environment particularly noisy communications environments and not just to receivers of signals trasmitted from in vivo transmitters. For example the communications environments include inter body and intra body communications deep space transmissions optical communications radio communications storage media multimedia devices and wireless communications. Multimedia devices include for example audio and multimedia receivers associated telephones stereos audio players and multimedia players. Deep space transmissions include satellite communication devices. Wireless communications include wireless devices such as wireless headsets audio and multimedia devices and equipment such as audio players and multimedia players telephones including mobile and cordless telephones and computers and computer related devices and components such as printers.

However for ease of description the communications decoder will be described further primarily in terms of embodiments in which it is present in a receiver of an in vivo transmitted signal.

Inter body and intra body communications include for example software circuitry and devices associated with data reception from implantable ingestible insertable and attachable medical devices associated with the human body or other living organisms. The medical devices comprise integrate or are otherwise associated with the communications decoder. One example is a receiver such as is described in PCT US2006 16370 titled Pharma Informatics System and filed on Apr. 28 2006 as well as U.S. Provisional Application Ser. No. 60 887 780 titled Signal Receivers for Pharma Informatics Systems filed on Feb. 1 2007 and U.S. Provisional Application Ser. No. 60 956 694 titled Personal Health Signal Receivers filed on Aug. 18 2007. Each of the foregoing applications is hereby incorporated by reference in its entirety.

More particularly communication between devices can be accomplished using various techniques. At origin for example an encoder device converts modulates data formatted as binary digits bits to transmission symbols associated with analog signals. A transmitter transmits the data to a receiver. At destination a receiver measures each analog signal of the analog signals. Based on the measurement a decoder converts demodulates each analog signal to a bit and assembles the converted bits into data. Some or all of the data however may be in error. One common error occurs in noisy communications environments when the noise changes the signal to a measurement that when demodulated results in a bit that does not coincide with the original bit transmitted at origin.

Using certain current error detection techniques the presence of errors in data can be detected. Current error detection techniques include the use of error correcting codes such as turbo codes and low density parity check LDPC codes.

Under existing turbo codes methods the transmitter or encoder generates three variations or sub blocks of the data the original data an encoded version of the original data and an encoded version of the permutated data. Each of the sub blocks is transmitted. The receiver converts the signals of the three sub blocks into most likely data and compares the three sets of estimated data. A decision is taken from the comparison to arrive at a final most likely decision for the decoded data. Such a method is complex and costly.

Under existing LDPC code methods the transmitter or other device encodes the original data bits with one or more error correcting codes hereinafter codes as discussed in an article entitled Low Power Digital Communication in Implantable Devices Using Volume Conduction of Biological Tissues which is incorporated here in its entirety. Heung No Lee R. J. Sclabassi Mingui Sun and Ning Yao Low Power Digital Communication in Implantable Devices Using Volume Conduction of Biological Tissues 28New York City USA August 30 Sep. 3 2006 pp. 6249 6252. The codes include parity codes Hamming codes and Golay codes. The transmitter converts the bit set to analog signals e.g. transmission symbols and transmits the transmission symbols. The receiver decodes the analog signals to the most likely bit. Put another way the receiver rounds the measurement of the transmitted signal to the nearest bit.

The rounding of the measurement to the nearest bit however does not always result in correct data. In particular noise can corrupt the signal. This can result in a signal measurement that when rounded to the nearest bit does not correspond to the original bit converted and transmitted at origin.

To ascertain if such errors have occurred an error check of the bits can be performed using the codes. Existing parity code methods employ the use of a parity code to check for parity errors at destination. The presence of a parity error suggests one or more occurrences of error in a bit set i.e. one or more converted bits at destination do not match the corresponding bit generated at origin. The actual bit or bits in error are not necessarily identified. Therefore although the bit set is known to contain one or more errors the bit set itself and thus the entire data are not accurate at destination. The data might have to be retransmitted. Retransmission of the data results in costly cumbersome operations. Further even numbers of errors in a set of bits are not necessarily identifiable using current parity code methods. Therefore the destination data can be undetectably corrupted. In addition current LDPC decoding techniques are complex and costly.

Various embodiments of the inventive communications decoder of the present invention use error correcting codes and a simple unique process to urge a measurement signal associated with a bit in error toward a measurement signal associated with the correct original bit thus improving the likelihood of identifying destination data that matches the data encoded at origin and significantly improving data accuracy at destination. The simple unique process facilitates efficient implementations. The low overhead associated with the simple unique process minimizes costs. LDPC decoding is far less complex by using the iterative communications decoder of the present invention.

Particularly in the communication environment of unencoded data or a portion of the unencoded data is encoded by the encoder module . The transmitter module transmits the encoded data via data channel . The receiver module receives the encoded data . The decoder module decodes the encoded data and generates decoded data . In various embodiments various modules are implemented individually or integrated into a particular device or software. For example the receiver module and the decoder module are integrated into a device such as a receiver and or a software module. Further various modules are fully or partially integrated with or implemented as hardware devices. For example the transmitter module is implemented as or integrated with a transmitter. In another example the decoder module is integrated as software circuitry or combinations thereof.

Generally the decoder module generates the decoded data via variations of the following technique. For each bit set of the encoded data a set of measured signals associated with the encoded data is rounded to the nearest most likely possible measurement if no noise were present e.g. to a nearest transmission symbol as further described with respect to . The set of transmission symbols is converted into a set of hard code decision values. An error check is performed on the set of hard code decision values as further described with respect to . The set of measured signals is adjusted based on an outcome of the error check of the set of hard code decision values as further described with respect to . The foregoing is performed in passes across all measured signal sets of the encoded data until a predetermined stopping condition is met. A more detailed discussion follows.

More particularly is an illustration of the unencoded data according to one embodiment. The unencoded data include all or a portion of datapoints associated with the unencoded data represented in as bits . Various embodiments include other representations.

Particularly in the unencoded data are grouped into subsets of datapoints e.g. subsets of bits . Such subsets of datapoints are sometimes referred to as bit sets . Bit sets are unstructured or structured in various arrangements. Such arrangements include matrices multidimensional hypercubes and other geometries. To illustrate the unencoded data are shown as 16 bit sets arranged in a two dimensional matrix having rows one through four R R respectively and columns one through four C C respectively .

Particularly in an error correcting code such as a parity code is associated with e.g. included in each bit set of the unencoded data i.e. rows R through R and columns C through C. For example in row R column C an error correcting code of 0 is associated with the bit set of row R even parity . In row R column C an error correcting code of 0 is associated with the bit set of row R even parity . In row R column C an error correcting code of 0 is associated with the bit set of column even parity . In row R column C a code of 0 is associated with the bit sets of row R and column C parity on parity even parity .

Various methods convert and transmit the encoded data . For example binary phase shift keying BPSK is used to transmit the encoded data over a radio channel. Each of the bits is converted to a carrier phase of 0 degrees if the bit is 0 or to a carrier phase of 180 degrees if the bit is 1. This conversion corresponds to I 1 for bits of 0 and I 1 for bits of 1 where the output signal is in the form of out cos where ltx is the baseband amplitude signal w is the radial carrier frequency t is time and Vout is the transmitted voltage. Other methods of conversion and transmission can be used including for example quaternary or quadriphase PSK QPSK or quadrature amplitude modulation QAM .

The transmitted signals are received by the receiver module . The receiver module measures the received signals. The measured signals are arranged according to the original corresponding bits sets of the encoded data .

More particularly the transmission symbols are converted to binary form demodulated to generate hard code decision values . For example a transmission symbol of 1 is converted to a bit of 0 and a transmission symbol of 1 is converted to a bit of 1 . The hard code decision value at row one R column five C of 0 is also an error correcting code i.e. parity code for the hard code decision value set .

An error check is performed using the error correcting code of the hard code decision value set . For example the parity code 0 of row one R column five C is used to determine if parity is even. In this example even parity was set originally for row R and the parity check fails.

If the hard code decision value set passes the error check each measured signal of the corresponding measured signal set is adjusted by a predetermined delta toward its corresponding nearest possible measurement if no noise were present e.g. to the transmission symbol of 1 1 nearest in value to the current measured signal.

If the hard code decision value set fails the error check each measured signal of the corresponding measured signal set is adjusted by a predetermined delta away from its corresponding nearest possible measurement if no noise were present e.g. to the nearest transmission symbol of 1 1 as shown in . In this example the hard code decision value set of failed the error check. Each measured signal of measured signal set of row one R is adjusted by a predetermined delta of 0.05 away from its nearest possible measurement if no noise were present.

In several embodiments of the communications decoder the predetermined delta is determined by simulation. The predetermined delta can vary with the iteration process and can be reduced or otherwise modified as convergence is achieved. In this respect convergence refers to convergence of a particular measured signal on a single point during iterative adjustments to the particular measured signal thus the associated parity errors begin to decrease. In this manner accuracy of the decoded data increases.

For example the predetermined delta is small enough to provide small but steady changes to a particular measured signal value until the measured signal value converges to a point where its associated parity errors begin to decrease.

In embodiments of the communications decoder each measured signal has at least two associated error correcting codes to provide multiple opportunities for adjustment during a single pass. For example if the measured signal sets are arranged in a two dimensional geometry each measured signal has two associated error correcting codes. In a three dimensional geometry each measured signal has three associated error checking codes.

The preceding steps are performed iteratively in sequence for each measured signal set of the encoded data . Completion of the iterative sequence across all measured sets of the encoded data is sometimes referred to as a pass . In a two dimensional matrix for example where the data are grouped by row and column the preceding steps are performed in sequence for each row and each column of the matrix to complete one pass.

Multiple passes can be performed to lower the probability of assignment of measured signals to a transmission value associated with a bit that does not correspond to the original bit. The multiple passes can be performed until predetermined stopping condition s are met. Depending on the delta three or four passes can be sufficient to minimize the probability of error. In this manner the communications decoder utilizes error detection correcting codes and a simple iterative process to achieve highly accurate decoding results with minimal overhead and minimal cost.

In one embodiment of the communications decoder the predetermined stopping condition includes convergence of the adjusted measured signals on their most likely transmitted value. In another embodiment the passes are stopped when no further changes occur in the hard code decision values between passes. In still another embodiment the predetermined stopping condition can be a preset number of passes. Another predetermined stopping condition is an internal check that indicates the encoded data has a high probability of being accurately decoded e.g. a cyclic redundancy check CRC is performed on the decoded data. Other predetermined stopping conditions are also possible.

Various embodiments of the communications decoder use error correcting codes such as Hamming codes or Golay codes. Hamming codes and Golay codes typically encode each bit set with multiple parity codes. In this manner an error check using the codes can identify a particular hard code decision value in error including a magnitude of directional drive of a signal measurement in error.

Thus in various embodiments of the communications decoder using Hamming codes or Golay codes error check s are performed on each hard code decision value set according to standard Hamming code or Golay codes practices. The additional information given by error correction codes such as Hamming codes or Golay codes is used to drive the adjusted measurements of detected errors away from hard coded decision values and other bits toward hard coded decision values. The above described process is performed against each measured signal set until a predetermined stopping condition is met. Although the number of codes per set of encoded data greatly increases with the use of Hamming codes or Golay codes and the overhead associated with the error checks increases convergence occurs more quickly than with data encoded with simple parity bits one parity bit per bit set .

Various embodiments are associated with QAM modulation wherein a group of bits is associated with an I Q coordinate pair. The above iteration sequence and multiple pass approach can still be applied. For example the hard code decision value is associated with the closest desired I Q pair to identify hard code decision values. The I Q pair is modified to be driven closer to upon a passed error check or further from upon a failed error check a nearest desired measurement point. Each bit associated with an I Q point drives that point as it be evaluated in the above iteration sequence. The above process can be generalized to multidimensional signal constellations such as where QAM is used by two different polarizations in microwave radio systems to create a four dimensional received constellation point.

From the DETERMINE A NEAREST POSSIBLE MEASUREMENT FOR EACH MEASURED SIGNAL IN A MEASURED SIGNAL SET OF ENCODED DATA operation flow moves to a CONVERT EACH NEAREST POSSIBLE MEASUREMENT TO A HARD CODE DECISION VALUE operation. In the CONVERT EACH NEAREST POSSIBLE MEASUREMENT TO A HARD CODE DECISION VALUE operation each nearest possible measurement associated with each measured signal in a measured signal set is converted to a corresponding hard code decision value e.g. bit or as previously discussed.

From the CONVERT EACH NEAREST POSSIBLE MEASUREMENT TO A HARD CODE DECISION VALUE operation flow moves to a PERFORM AN ERROR CHECK ON THE HARD CODE DECISION VALUES operation. In the PERFORM AN ERROR CHECK ON THE HARD CODE DECISION VALUES operation an error check is performed on the hard code decision value set as previously discussed.

From the PERFORM AN ERROR CHECK ON THE HARD CODE DECISION VALUES operation flow moves to a PASS ERROR CHECK operation. In the PASS ERROR CHECK operation a determination is made if the hard code decision value set passed the error check a passed error check or failed the error check a failed error check .

Upon the passed error check flow moves to an ADJUST EACH MEASURED SIGNAL TOWARD NEAREST POSSIBLE MEASUREMENT operation. In the ADJUST EACH MEASURED SIGNAL TOWARD NEAREST POSSIBLE MEASUREMENT operation each measured signal of the measured signal set is adjusted toward the nearest possible measurement as previously discussed.

Upon the failed error check flow moves to an ADJUST EACH MEASURED SIGNAL AWAY FROM NEAREST POSSIBLE MEASUREMENT operation. In the ADJUST EACH MEASURED SIGNAL AWAY FROM NEAREST POSSIBLE MEASUREMENT operation each measured signal of the measured signal set is adjusted away from the nearest possible measurement as previously discussed.

From either the ADJUST EACH MEASURED SIGNAL TOWARD NEAREST POSSIBLE MEASUREMENT operation or the ADJUST EACH MEASURED SIGNAL AWAY FROM NEAREST POSSIBLE MEASUREMENT operation flow moves to a MORE MEASURED SIGNAL SETS operation. In the MORE MEASURED SIGNAL SETS operation a determination is made as to whether more measured signal sets remain to be processed in the sequence as previously discussed.

Upon a determination that more measured signal sets remain flow returns to the DETERMINE A NEAREST POSSIBLE MEASUREMENT FOR EACH MEASURED SIGNAL IN A MEASURED SIGNAL SET OF ENCODED DATA operation.

Upon a determination that no more measured signals sets remain flow moves to a STOPPING CONDITION MET operation. In the STOPPING CONDITION MET operation a determination is made whether a predetermined stopping condition is met as previously discussed.

Upon a determination that a stopping condition is not met flow moves to a RESET TO FIRST MEASURED SIGNAL SET OF ENCODED DATA operation.

From the RESET TO FIRST MEASURED SIGNAL SET OF ENCODED DATA operation flow returns to the DETERMINE A NEAREST POSSIBLE MEASUREMENT FOR EACH MEASURED SIGNAL IN A MEASURED SIGNAL SET OF ENCODED DATA operation.

Upon a determination that a stopping condition is met flow exits in an EXIT operation. In this manner the decoding method utilizes error correcting codes and a simple iterative process to achieve highly accurate decoding results.

As previously discussed the encoder encodes unencoded data such as a collection of bits. The encoder encodes the unencoded data using error correcting codes codes . The codes include parity codes Hamming codes Golay codes and other codes as previously discussed. In one embodiment the encoder encodes each set of bits in the unencoded data . The encoder or the transmitter transmits the encoded data . The encoded data can be transmitted as transmission symbols associated with analog signals as previously discussed. The receiver receives and measures the signals associated with the encoded data as previously discussed.

The communications decoder rounds each set of measured signals to the nearest possible measurement if no noise were present e.g. to a nearest transmission symbol. The communications decoder converts the set of transmission symbols to a set of hard code decision values. The communications decoder performs an error check on the set of hard code decision values using an error correcting code associated with the hard code decision values. The communications decoder adjusts each measured signal in the set of measured signals based on an outcome of the error check of the set of hard code decision values. The communications decoder performs the foregoing steps across all of the sets of measured signals in multiple passes until a predetermined stopping condition is met resulting in decoded data . In this manner the decoder utilizes error correcting codes and a simple iterative process to achieve highly accurate decoding results.

Multidimensional parity codes operate at 2 dB Eb No 4 db Eb No 6 db Eb No when decoded in the described manner at an error rate of 10. These codes operate at a rate of R 0.5 50 message bits 50 parity check bits .

In addition it will be appreciated that the various operations processes and methods disclosed herein can be embodied in a machine readable medium and or a machine accessible medium compatible with a data processing system e.g. a computer system and can be performed in any order.

In certain embodiments the receiver is configured for use with an in vivo transmitter that employs FEC Forward Error Correction to provide additional gain to combat interference from other unwanted signals and noise. The error correction is simple in the transmitter and receiver and provides high coding gain. This functionality is achieved using single parity check product codes and a novel SISO Soft In Soft Out iterative decoding algorithm.

The transmitter encodes the message by arranging it in rows and columns. Each row has an appended parity bit and similarly each column has an appended parity bit. For example a 100 bit message could be arranged in a 10 by 10 bit array. Parity bits would be added to create a final 11 by 11 bit array that would then be transmitted on the channel using BPSK. For additional gain additional dimensions could be used such as three if a cube were created to arrange the message and parity bits.

The receiver decodes the message by an iterative process to achieve high coding gain. Each bit is sampled and saved in soft form. Assuming ideal samples i.e. hard decision points are normalized to 1 and 1 received bits would come in a range between say 2.0 and 2.0. A hard decision is made on all samples and parity checked. If a row or column has a parity error the samples of that row or column are repulsed from their corresponding hard decision point by a small delta. If the row or column has no parity error the samples of that row or column are attracted to their corresponding hard decision point by a small delta. Using a properly selected delta based on expected channel SNR Signal to Noise Ratio ten iterations is usually sufficient to achieve an 8 to 10 dB coding gain on AWGN Additive White Gaussian Noise . This method is easy to implement in stored program DSP or FPGA ASIC logic. It also comes within one or two dB of the Shannon limit for forward error correction given the particular coding rate.

In certain embodiments signals from in vivo transmitter devices and noise signals are maximized in different orientations. This scenario permits using noise cancellation techniques to subtract the noise signal from the pill signal to significantly enhance SNR Signal to Noise Ratio . For example it has been observed that skin probes placed laterally side to side over the stomach pick up greater pill signals while probes placed longitudinally head to toe over the stomach pick up greater external noise sources. The subtraction process uses adaptive digital filters on two sets of probes one pair lateral and one pair longitudinal to greatly enhance SNR. The details of this noise cancellation algorithm are well known and often use Widrow s LMS Least Mean Squares adaptation algorithm although many others can also be used. As such in certain embodiments noise canceling technology is employed to receive volume conduction sources that have low signal strength and high noise backgrounds.

In certain embodiments the signal receivers are part of a body associated system or network of sensors receivers and optionally other devices both internal and external which provide a variety of different types of information that is ultimately collected and processed by a processor such as an external processor which then can provide contextual data about a patient as output. For example that sensor may be a member of an in body network of devices which can provide an output that includes data about pill ingestion one or more physiological sensed parameters implantable device operation etc. to an external collector of the data. The external collector e.g. in the form of a health care network server etc. of the data then combines this receiver provided data with additional relevant data about the patient e.g. weight weather medical record data etc. and may process this disparate data to provide highly specific and contextual patient specific data.

Systems of the subject invention include in certain embodiments a signal receiver and one or more pharma informatics enabled active agent containing compositions. The pharma informatics enabled pharmaceutical composition is an active agent containing composition having an identifier stably associated therewith. In certain embodiments the compositions are disrupted upon administration to a subject. As such in certain embodiments the compositions are physically broken e.g. dissolved degraded eroded etc. following delivery to a body e.g. via ingestion injection etc. The compositions of these embodiments are distinguished from devices that are configured to be ingested and survive transit through the gastrointestinal tract substantially if not completely intact. The compositions include an identifier and an active agent carrier component where both of these components are present in a pharmaceutically acceptable vehicle.

The identifiers of the compositions may vary depending on the particular embodiment and intended application of the composition so long as they are activated i.e. turned on upon contact with a target physiological location e.g. stomach. As such the identifier may be an identifier that emits a signal when it contacts a target body i.e. physiological site. In addition or alternatively the identifier may be an identifier that emits a signal when interrogated after it has been activated. The identifier may be any component or device that is capable of providing a detectable signal following activation e.g. upon contact with the target site. In certain embodiments the identifier emits a signal once the composition comes into contact with a physiological target site e.g. as summarized above. For example a patient may ingest a pill that upon contact with the stomach fluids generates a detectable signal.

The compositions include an active agent carrier component. By active agent carrier component is meant a composition which may be a solid or fluid e.g. liquid which has an amount of active agent e.g. a dosage present in a pharmaceutically acceptable carrier. The active agent carrier component may be referred to as a dosage formulation. 

 Active agent includes any compound or mixture of compounds which produces a physiological result e.g. a beneficial or useful result upon contact with a living organism e.g. a mammal such as a human. Active agents are distinguishable from such components as vehicles carriers diluents lubricants binders and other formulating aids and encapsulating or otherwise protective components. The active agent may be any molecule as well as binding portion or fragment thereof that is capable of modulating a biological process in a living subject. In certain embodiments the active agent may be a substance used in the diagnosis treatment or prevention of a disease or as a component of a medication. In certain embodiments the active agent may be a chemical substance such as a narcotic or hallucinogen which affects the central nervous system and causes changes in behavior.

The active agent i.e. drug is capable of interacting with a target in a living subject. The target may be a number of different types of naturally occurring structures where targets of interest include both intracellular and extracellular targets. Such targets may be proteins phospholipids nucleic acids and the like where proteins are of particular interest. Specific proteinaceous targets of interest include without limitation enzymes e.g. kinases phosphatases reductases cyclooxygenases proteases and the like targets comprising domains involved in protein protein interactions such as the SH2 SH3 PTB and PDZ domains structural proteins e.g. actin tubulin etc. membrane receptors immunoglobulins e.g. IgE cell adhesion receptors such as integrins etc ion channels transmembrane pumps transcription factors signaling proteins and the like.

The active agent i.e. drug may include one or more functional groups necessary for structural interaction with the target e.g. groups necessary for hydrophobic hydrophilic electrostatic or even covalent interactions depending on the particular drug and its intended target. Where the target is a protein the drug moiety may include functional groups necessary for structural interaction with proteins such as hydrogen bonding hydrophobic hydrophobic interactions electrostatic interactions etc. and may include at least an amine amide sulfhydryl carbonyl hydroxyl or carboxyl group such as at least two of the functional chemical groups.

Drugs of interest may include cyclical carbon or heterocyclic structures and or aromatic or polyaromatic structures substituted with one or more of the above functional groups. Also of interest as drug moieties are structures found among biomolecules including peptides saccharides fatty acids steroids purines pyrimidines derivatives structural analogs or combinations thereof. Such compounds may be screened to identify those of interest where a variety of different screening protocols are known in the art.

The drugs may be derived from a naturally occurring or synthetic compound that may be obtained from a wide variety of sources including libraries of synthetic or natural compounds. For example numerous means are available for random and directed synthesis of a wide variety of organic compounds and biomolecules including the preparation of randomized oligonucleotides and oligopeptides. Alternatively libraries of natural compounds in the form of bacterial fungal plant and animal extracts are available or readily produced. Additionally natural or synthetically produced libraries and compounds are readily modified through conventional chemical physical and biochemical means and may be used to produce combinatorial libraries. Known pharmacological agents may be subjected to directed or random chemical modifications such as acylation alkylation esterification amidification etc. to produce structural analogs.

As such the drug may be obtained from a library of naturally occurring or synthetic molecules including a library of compounds produced through combinatorial means i.e. a compound diversity combinatorial library. When obtained from such libraries the drug moiety employed will have demonstrated some desirable activity in an appropriate screening assay for the activity. Combinatorial libraries as well as methods for producing and screening such libraries are known in the art and described in U.S. Pat. Nos. 5 741 713 5 734 018 5 731 423 5 721 099 5 708 153 5 698 673 5 688 997 5 688 696 5 684 711 5 641 862 5 639 603 5 593 853 5 574 656 5 571 698 5 565 324 5 549 974 5 545 568 5 541 061 5 525 735 5 463 564 5 440 016 5 438 119 5 223 409 the disclosures of which are herein incorporated by reference.

Broad categories of active agents of interest include but are not limited to cardiovascular agents pain relief agents e.g. analgesics anesthetics anti inflammatory agents etc. nerve acting agents chemotherapeutic e.g. anti neoplastic agents etc.

As summarized above the compositions of the invention further include a pharmaceutically acceptable vehicle i.e. carrier . Common carriers and excipients such as corn starch or gelatin lactose dextrose sucrose microcrystalline cellulose kaolin mannitol dicalcium phosphate sodium chloride and alginic acid are of interest. Disintegrators commonly used in the formulations of the invention include croscarmellose microcrystalline cellulose corn starch sodium starch glycolate and alginic acid.

Further details about embodiments of pharma informatics enabled pharmaceutical compositions may be found in pending PCT application PCT US2006 16370 titled Pharma Informatics System and filed on Apr. 28 2006 as well as U.S. Provisional Application Ser. Nos. 60 807 060 titled Acoustic Pharma Informatics System filed on Jul. 11 2006 60 862 925 titled Controlled Activation Pharma Informatics System filed on Oct. 25 2006 and 60 866 581 titled In Vivo Transmission Decoder filed on Nov. 21 2006 the disclosures of which are herein incorporated by reference.

In certain embodiments the systems include an external device which is distinct from the receiver which may be implanted or topically applied in certain embodiments where this external device provides a number of functionalities. Such an apparatus can include the capacity to provide feedback and appropriate clinical regulation to the patient. Such a device can take any of a number of forms. By example the device can be configured to sit on the bed next to the patient e.g. a bedside monitor. Other formats include but are not limited to PDAs smart phones home computers etc. The device can read out the information described in more detail in other sections of the subject patent application both from pharmaceutical ingestion reporting and from physiological sensing devices such as is produced internally by a pacemaker device or a dedicated implant for detection of the pill. The purpose of the external apparatus is to get the data out of the patient and into an external device. One feature of the external apparatus is its ability to provide pharmacologic and physiologic information in a form that can be transmitted through a transmission medium such as a telephone line to a remote location such as a clinician or to a central monitoring agency.

Systems of the invention enable a dynamic feedback and treatment loop of tracking medication timing and levels measuring the response to therapy and recommending altered dosing based on the physiology and molecular profiles of individual patients. For example a symptomatic heart failure patient takes multiple drugs daily primarily with the goal of reducing the heart s workload and improving patient quality of life. Mainstays of therapy include angiotensin converting enzyme ACE inhibitors blockers and diuretics. For pharmaceutical therapy to be effective it is vital that patients adhere to their prescribed regimen taking the required dose at the appropriate time. Multiple studies in the clinical literature demonstrate that more than 50 of Class II and III heart failure patients are not receiving guideline recommended therapy and of those who are titrated appropriately only 40 60 adhere to the regimen. With the subject systems heart failure patients can be monitored for patient adherence to therapy and adherence performance can be linked to key physiologic measurements to facilitate the optimization of therapy by physicians.

In certain embodiments the systems of the invention may be employed to obtain an aggregate of information that includes sensor data and administration data. For example one can combine the heart rate the respiration rate multi axis acceleration data something about the fluid status and something about temperature and derive indices that will inform about the total activity of the subject that can be used to generate a physiological index such as an activity index. For instance when there is a rise in temperature heart rate goes up a bit and respiration speeds up which may be employed as an indication that the person is being active. By calibrating this the amount of calories the person is burning at that instant could be determined. In another example a particular rhythmic set of pulses or multi axis acceleration data can indicate that a person is walking up a set of stairs and from that one can infer how much energy they are using. In another embodiment body fat measurement e.g. from impedance data could be combined with an activity index generated from a combination of measured biomarkers to generate a physiological index useful for management of a weight loss or cardiovascular health program. This information can be combined with cardiac performance indicators to get a good picture of overall health which can be combined with pharmaceutical therapy administration data. In another embodiment one might find for example that a particular pharmaceutical correlates with a small increase in body temperature or a change in the electrocardiogram. One can develop a pharmacodynamic model for the metabolism of the drug and use the information from the receiver to essentially fit the free parameters in that model to give much more accurate estimation of the levels actually present in the serum of the subject. This information could be fed back to dosing regimes. In another embodiment one can combine information from a sensor that measures uterine contractions e.g. with a strain gauge and that also monitors fetal heart rate for use as a high risk pregnancy monitor.

In certain embodiments the subject specific information that is collected using the systems of the invention may be transmitted to a location where it is combined with data from one or more additional individuals to provide a collection of data which is a composite of data collected from 2 or more e.g. 5 or more 10 or more 25 or more 50 or more 100 or more 1000 or more etc. individuals. The composite data can then be manipulated e.g. categorized according to different criteria and made available to one or more different types of groups e.g. patient groups health care practitioner groups etc. where the manipulation of data may be such as to limit the access of any given group to the type of data that group can access. For example data can be collected from 100 different individuals that are suffering from the same condition and taking the same medication. The data can be processed and employed to develop easy to follow displays regarding patient compliance with a pharmaceutical dosage regimen and general health. Patient members of the group can access this information and see how their compliance matches with other patient members of the group and whether they are enjoying the benefits that others are experiencing. In yet another embodiment doctors can also be granted access to a manipulation of the composite data to see how their patients are matching up with patients of other doctors and obtain useful information on how real patients respond to a given therapeutic treatment regiment. Additional functionalities can be provided to the groups given access to the composite data where such functionalities may include but are not limited to ability to annotate data chat functionalities security privileges etc.

In certain embodiments the system further includes an element for storing data i.e. a data storage element where this element is present on an external device such as a bedside monitor PDA smart phone etc. Typically the data storage element is a computer readable medium. The term computer readable medium as used herein refers to any storage or transmission medium that participates in providing instructions and or data to a computer for execution and or processing. Examples of storage media include floppy disks magnetic tape CD ROM a hard disk drive a ROM or integrated circuit a magneto optical disk or a computer readable card such as a PCMCIA card and the like whether or not such devices are internal or external to the computer. A file containing information may be stored on computer readable medium where storing means recording information such that it is accessible and retrievable at a later date by a computer. With respect to computer readable media permanent memory refers to memory that is permanent. Permanent memory is not erased by termination of the electrical supply to a computer or processor. Computer hard drive ROM i.e. ROM not used as virtual memory CD ROM floppy disk and DVD are all examples of permanent memory. Random Access Memory RAM is an example of non permanent memory. A file in permanent memory may be editable and re writable.

The invention also provides computer executable instructions i.e. programming for performing the above methods. The computer executable instructions are present on a computer readable medium. Accordingly the invention provides a computer readable medium containing programming for use in detecting and processing a signal generated by a composition of the invention e.g. as reviewed above.

As such in certain embodiments the systems include one or more of a data storage element a data processing element a data display element data transmission element a notification mechanism and a user interface. These additional elements may be incorporated into the receiver and or present on an external device e.g. a device configured for processing data and making decisions forwarding data to a remote location which provides such activities etc.

The above described systems are reviewed in terms of communication between an identifier on a pharmaceutical composition and a receiver. However the systems are not so limited. In a broader sense the systems are composed of two or more different modules that communicate with each other e.g. using the transmitter receiver functionalities as reviewed above e.g. using the monopole transmitter e.g. antenna structures as described above. As such the above identifier elements may be incorporated into any of a plurality of different devices e.g. to provide a communications system between two self powered devices in the body where the self powered devices may be sensors data receivers and storage elements effectors etc. In an exemplary system one of these devices may be a sensor and the other may be a communication hub for communication to the outside world. This inventive embodiment may take a number of forms. There can be many sensors many senders and one receiver. They can be transceivers so both of these can take turns sending and receiving according to known communication protocols. In certain embodiments the means of communication between the two or more individual devices is the mono polar system e.g. as described above. In these embodiments each of these senders may be configured to take turns sending a high frequency signal into the body using a monopole pulling charge into and out of the body which is a large capacitor and a conductor. The receiver a monopole receiver is detecting at that frequency the charge going into and out of the body and decoding an encrypted signal such as an amplitude modulated signal or frequency modulated signal. This embodiment of the present invention has broad uses. For example multiple sensors can be placed and implanted on various parts of the body that measure position or acceleration. Without having wires connecting to a central hub they can communicate that information through a communication medium.

As reviewed above in certain embodiments of interest the receiver element includes a semiconductor support component. Any of a variety of different protocols may be employed in manufacturing the receiver structures and components thereof. For example molding deposition and material removal e.g. planar processing techniques such as Micro Electro Mechanical Systems MEMS fabrication techniques including surface micromachining and bulk micromachining techniques may be employed. Deposition techniques that may be employed in certain embodiments of fabricating the structures include but are not limited to electroplating cathodic arc deposition plasma spray sputtering e beam evaporation physical vapor deposition chemical vapor deposition plasma enhanced chemical vapor deposition etc. Material removal techniques included but are not limited to reactive ion etching anisotropic chemical etching isotropic chemical etching planarization e.g. via chemical mechanical polishing laser ablation electronic discharge machining EDM etc. Also of interest are lithographic protocols. Of interest in certain embodiments is the use of planar processing protocols in which structures are built up and or removed from a surface or surfaces of an initially planar substrate using a variety of different material removal and deposition protocols applied to the substrate in a sequential manner. Illustrative fabrication methods of interest are described in greater detail in copending PCT application serial no. PCT US2006 016370 the disclosure of which is herein incorporated by reference.

In certain embodiments off the shelf components may be employed to fabricate the receivers. For example an off the shelf instrumentation amplifier for the input amp may be employed e.g. in bare die form. Custom logic either in an FPGA or in an ASIC that handles the demodulator the memory the microprocessor functions and all the interface functions may be used. The transmitter may be an off the shelf chip e.g. made by Zarlink in the mixed communication band which is approved for medical implants. The clock may be a stand alone clock or the device may have a microprocessor that has a clock built in.

In methods of invention a signal is first transmitted from an in vivo transmitter such as a pharma informatics enabled composition. The transmitted signal is then received by the receiver where it may be stored to a memory retransmitted to another receiver output to a user e.g. either directly or via a third device e.g. an external PDA etc.

In the methods of the subject invention in which the in vivo transmitter is a pharma informatics enabled composition an effective amount of a composition of the invention is administered to a subject in need of the active agent present in the composition where effective amount means a dosage sufficient to produce the desired result e.g. an improvement in a disease condition or the symptoms associated therewith the accomplishment of a desired physiological change etc. The amount that is administered may also be viewed as a therapeutically effective amount. A therapeutically effective amount means the amount that when administered to a subject for treating a disease is sufficient to effect treatment for that disease.

The composition may be administered to the subject using any convenient means capable of producing the desired result where the administration route depends at least in part on the particular format of the composition e.g. as reviewed above. As reviewed above the compositions can be formatted into a variety of formulations for therapeutic administration including but not limited to solid semi solid or liquid such as tablets capsules powders granules ointments solutions suppositories and injections. As such administration of the compositions can be achieved in various ways including but not limited to oral buccal rectal parenteral intraperitoneal intradermal transdermal intracheal etc. administration. In pharmaceutical dosage forms a given composition may be administered alone or in combination with other pharmaceutically active compounds e.g. which may also be compositions having signal generation elements stably associated therewith.

The subject methods find use in the treatment of a variety of different conditions including disease conditions. The specific disease conditions treatable by with the subject compositions are as varied as the types of active agents that can be present in the subject compositions. Thus disease conditions include but are not limited to cardiovascular diseases cellular proliferative diseases such as neoplastic diseases autoimmune diseases hormonal abnormality diseases infectious diseases pain management and the like.

By treatment is meant at least an amelioration of the symptoms associated with the disease condition afflicting the subject where amelioration is used in a broad sense to refer to at least a reduction in the magnitude of a parameter e.g. symptom associated with the pathological condition being treated. As such treatment also includes situations where the pathological condition or at least symptoms associated therewith are completely inhibited e.g. prevented from happening or stopped e.g. terminated such that the subject no longer suffers from the pathological condition or at least the symptoms that characterize the pathological condition. Accordingly treating or treatment of a disease includes preventing the disease from occurring in an animal that may be predisposed to the disease but does not yet experience or exhibit symptoms of the disease prophylactic treatment inhibiting the disease slowing or arresting its development providing relief from the symptoms or side effects of the disease including palliative treatment and relieving the disease causing regression of the disease . For the purposes of this invention a disease includes pain.

A variety of subjects are treatable according to the present methods. Generally such subjects are mammals or mammalian where these terms are used broadly to describe organisms which are within the class mammalia including the orders carnivore e.g. dogs and cats rodentia e.g. mice guinea pigs and rats and primates e.g. humans chimpanzees and monkeys . In representative embodiments the subjects will be humans.

In certain embodiments the subject methods as described above are methods of managing a disease condition e.g. over an extended period of time such as 1 week or longer 1 month or longer 6 months or longer 1 year or longer 2 years or longer 5 years or longer etc. The subject methods may be employed in conjunction with one or more additional disease management protocols e.g. electrostimulation based protocols in cardiovascular disease management such as pacing protocols cardiac resynchronization protocols etc lifestyle such a diet and or exercise regimens for a variety of different disease conditions etc.

In certain embodiments the methods include modulating a therapeutic regimen based data obtained from the compositions. For example data may be obtained which includes information about patient compliance with a prescribed therapeutic regimen. This data with or without additional physiological data e.g. obtained using one or more sensors such as the sensor devices described above may be employed e.g. with appropriate decision tools as desired to make determinations of whether a given treatment regimen should be maintained or modified in some way e.g. by modification of a medication regimen and or implant activity regimen. As such methods of invention include methods in which a therapeutic regimen is modified based on signals obtained from the composition s .

In certain embodiments also provided are methods of determining the history of a composition of the invention where the composition includes an active agent an identifier element and a pharmaceutically acceptable carrier. In certain embodiments where the identifier emits a signal in response to an interrogation the identifier is interrogate e.g. by a wand or other suitable interrogation device to obtain a signal. The obtained signal is then employed to determine historical information about the composition e.g. source chain of custody etc.

In yet other embodiments where the identifier is one that survives digestion the methods generally include obtaining the signal generation element of the composition e.g. by retrieving it from a subject that has ingested the composition and then determining the history of the composition from obtained signal generation element. For example where the signal generation element includes an engraved identifier e.g. barcode or other type of identifier the engraved identifier may be retrieved from a subject that has ingested the composition and then read to identify at least some aspect of the history of the composition such as last known purchaser additional purchasers in the chain of custody of the composition manufacturer handling history etc. In certain embodiments this determining step may include accessing a database or analogous compilation of stored history for the composition.

Medical embodiments of the present invention provide the clinician an important new tool in their therapeutic armamentarium automatic detection and identification of pharmaceutical agents actually delivered into the body. The applications of this new information device and system are multi fold. Applications include but are not limited to 1 monitoring patient compliance with prescribed therapeutic regimens 2 tailoring therapeutic regimens based on patient compliance 3 monitoring patient compliance in clinical trials 4 monitoring usage of controlled substances and the like. Each of these different illustrative applications is reviewed in greater detail below in copending PCT Application Serial No. PCT US2006 016370 the disclosure of which is herein incorporated by reference. Additional applications in which the subject receivers find use include but are not limited to U.S. provisional Application Ser. Nos. 60 887 780 titled Signal Receivers For Pharma Informatics Systems and filed on Feb. 1 2007 60 956 694 titled Personal Health Signal Receivers and filed on Aug. 18 2007 and 60 949 223 titled Ingestible Event Marker and filed on Jul. 11 2007 the disclosures of which applications are incorporated herein by reference.

Also provided are kits for practicing the subject methods. Kits may include one or more receivers of the invention as described above. In addition the kits may include one or more dosage compositions e.g. pharma informatics enabled dosage compositions. The dosage amount of the one or more pharmacological agents provided in a kit may be sufficient for a single application or for multiple applications. Accordingly in certain embodiments of the subject kits a single dosage amount of a pharmacological agent is present and in certain other embodiments multiple dosage amounts of a pharmacological agent may be present in a kit. In those embodiments having multiple dosage amounts of pharmacological agent such may be packaged in a single container e.g. a single tube bottle vial and the like or one or more dosage amounts may be individually packaged such that certain kits may have more than one container of a pharmacological agent.

Suitable means for delivering one or more pharmacological agents to a subject may also be provided in a subject kit. The particular delivery means provided in a kit is dictated by the particular pharmacological agent employed as describe above e.g. the particular form of the agent such as whether the pharmacological agent is formulated into preparations in solid semi solid liquid or gaseous forms such as tablets capsules powders granules ointments solutions suppositories injections inhalants and aerosols and the like and the particular mode of administration of the agent e.g. whether oral buccal rectal parenteral intraperitoneal intradermal transdermal intracheal etc. Accordingly certain systems may include a suppository applicator syringe I.V. bag and tubing electrode etc.

In certain embodiments the kits may also include an external monitor device e.g. as described above which may provide for communication with a remote location e.g. a doctor s office a central facility etc. which obtains and processes data obtained about the usage of the composition.

In certain embodiments the kits may include a smart parenteral delivery system that provides specific identification and detection of parenteral beneficial agents or beneficial agents taken into the body through other methods for example through the use of a syringe inhaler or other device that administers medicine such as described in copending application Ser. No. 60 819 750 the disclosure of which is herein incorporated by reference.

The subject kits may also include instructions for how to practice the subject methods using the components of the kit. The instructions may be recorded on a suitable recording medium or substrate. For example the instructions may be printed on a substrate such as paper or plastic etc. As such the instructions may be present in the kits as a package insert in the labeling of the container of the kit or components thereof i.e. associated with the packaging or sub packaging etc. In other embodiments the instructions are present as an electronic storage data file present on a suitable computer readable storage medium e.g. CD ROM diskette etc. In yet other embodiments the actual instructions are not present in the kit but means for obtaining the instructions from a remote source e.g. via the internet are provided. An example of this embodiment is a kit that includes a web address where the instructions can be viewed and or from which the instructions can be downloaded. As with the instructions this means for obtaining the instructions is recorded on a suitable substrate.

Some or all components of the subject kits may be packaged in suitable packaging to maintain sterility. In many embodiments of the subject kits the components of the kit are packaged in a kit containment element to make a single easily handled unit where the kit containment element e.g. box or analogous structure may or may not be an airtight container e.g. to further preserve the sterility of some or all of the components of the kit.

It is to be understood that this invention is not limited to particular embodiments described as such may vary. It is also to be understood that the terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting since the scope of the present invention will be limited only by the appended claims.

Where a range of values is provided it is understood that each intervening value to the tenth of the unit of the lower limit unless the context clearly dictates otherwise between the upper and lower limit of that range and any other stated or intervening value in that stated range is encompassed within the invention. The upper and lower limits of these smaller ranges may independently be included in the smaller ranges and are also encompassed within the invention subject to any specifically excluded limit in the stated range. Where the stated range includes one or both of the limits ranges excluding either or both of those included limits are also included in the invention.

Unless defined otherwise all technical and scientific terms used herein have the same meaning as commonly understood by one of ordinary skill in the art to which this invention belongs. Although any methods and materials similar or equivalent to those described herein can also be used in the practice or testing of the present invention representative illustrative methods and materials are now described.

All publications and patents cited in this specification are herein incorporated by reference as if each individual publication or patent were specifically and individually indicated to be incorporated by reference and are incorporated herein by reference to disclose and describe the methods and or materials in connection with which the publications are cited. The citation of any publication is for its disclosure prior to the filing date and should not be construed as an admission that the present invention is not entitled to antedate such publication by virtue of prior invention. Further the dates of publication provided may be different from the actual publication dates which may need to be independently confirmed.

It is noted that as used herein and in the appended claims the singular forms a an and the include plural referents unless the context clearly dictates otherwise. It is further noted that the claims may be drafted to exclude any optional element. As such this statement is intended to serve as antecedent basis for use of such exclusive terminology as solely only and the like in connection with the recitation of claim elements or use of a negative limitation.

As will be apparent to those of skill in the art upon reading this disclosure each of the individual embodiments described and illustrated herein has discrete components and features which may be readily separated from or combined with the features of any of the other several embodiments without departing from the scope or spirit of the present invention. Any recited method can be carried out in the order of events recited or in any other order which is logically possible.

Although the foregoing invention has been described in some detail by way of illustration and example for purposes of clarity of understanding it is readily apparent to those of ordinary skill in the art in light of the teachings of this invention that certain changes and modifications may be made thereto without departing from the spirit or scope of the appended claims.

Accordingly the preceding merely illustrates the principles of the invention. It will be appreciated that those skilled in the art will be able to devise various arrangements which although not explicitly described or shown herein embody the principles of the invention and are included within its spirit and scope. Furthermore all examples and conditional language recited herein are principally intended to aid the reader in understanding the principles of the invention and the concepts contributed by the inventors to furthering the art and are to be construed as being without limitation to such specifically recited examples and conditions. Moreover all statements herein reciting principles aspects and embodiments of the invention as well as specific examples thereof are intended to encompass both structural and functional equivalents thereof. Additionally it is intended that such equivalents include both currently known equivalents and equivalents developed in the future i.e. any elements developed that perform the same function regardless of structure. The scope of the present invention therefore is not intended to be limited to the exemplary embodiments shown and described herein. Rather the scope and spirit of present invention is embodied by the appended claims.

