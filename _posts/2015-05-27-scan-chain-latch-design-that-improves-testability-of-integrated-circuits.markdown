---

title: Scan chain latch design that improves testability of integrated circuits
abstract: A scan chain latch circuit, a method of operating a latch circuit in a scan chain, and a computer-readable medium having stored thereon a data structure defining a scan chain latch circuit for instantiation on a semiconductor die are disclosed. In an embodiment, the scan chain latch circuit comprises a first latch for holding one data value, a second latch for holding another data value, and a multiplexor. The one data value is applied to a first data input of the multiplexor and the another data value is applied to a second data input of the multiplexor. An alternating clock signal is applied to a select input of the multiplexor to control the output of the multiplexor, wherein the output of the multiplexor toggles between the two data values held in the two latches at a defined frequency.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09261561&OS=09261561&RS=09261561
owner: International Business Machines Corporation
number: 09261561
owner_city: Armonk
owner_country: US
publication_date: 20150527
---
This application is a continuation of U.S. patent application Ser. No. 13 850 555 filed Mar. 26 2013 now U.S. Pat. No. 9 086 457 issued on Jul. 21 2015 the entire contents and disclosure of which are hereby incorporated herein by reference.

This invention was made with Government support under Contract No. FA8650 11 C 7105 National Security Agency . The Government has certain rights in this invention.

The present invention relates generally to circuit testing and more particularly to scan chains used for circuit diagnostics.

Modern circuit design incorporates methods and hardware that enable circuit testing upon completion of production often referred to as design for test or design for testability DFT . One DFT technique utilizes scan chains. In a scan chain system certain latches couple together into a hardware connection known as a scan chain. The test system inputs a test pattern into the scan chain latches which the system then uses to test the functionality of the circuit. As such scan chains allow for increased testability and observability of an integrated circuit design.

Scan chains are widely used in modern IC for rapid test and debug purposes. The recent emergence of emission based test tools imposes additional requirements on scan chains. To extract useful information from emission images a high degree of control is needed over stimuli applied to a circuit under test. In this respect functionality of standard scan chains is quite limited.

Other limitations of standard scan chains include the scan chain adjacency problem and broken shorted stuck at wires. The scan chain adjacency problem is the inability to test certain logic state transitions when adjacent latches feed both inputs of the same 2 input AND NAND OR or NOR gate. A stuck at fault which is typically a manufacturing defect occurs when an input or output of a circuit is stuck at a single logic value.

Embodiments of the invention provide a scan chain latch circuit a method of operating a latch circuit in a scan chain and a computer readable medium having stored thereon a data structure defining a scan chain latch circuit for instantiation on a semiconductor die. In an embodiment the scan chain latch circuit comprises two latches and a multiplexor. Each of these two latches holds a data value and each of these data values is applied to a respective one data input of the multiplexor. A clock subcircuit applies an alternating clock signal to a select input of the multiplexor to control the output of the multiplexor so that the output of the multiplexor toggles between the two data values held in the two latches at a defined frequency.

In an embodiment the clock subcircuit applies the clock signal to the select input of the multiplexor at a specified frequency and said defined frequency is equal to the specified frequency.

In one embodiment the scan chain latch circuit has a forward mode of operation and a reverse mode of operation. In the forward mode of operation a scan in input is applied to a first of the latches the data value held in this first latch is applied to the second latch and this second latch generates a scan out signal. In the reverse mode of operation the scan in signal is applied to the second latch the data value held on this second latch is applied to the first latch and the first latch generates the scan out signal.

In an embodiment a scan direction signal is applied to the first and second latches to control whether the latch circuit is in the forward mode of operation or the reverse mode of operation.

In an embodiment the first latch includes a first latch multiplexor and the scan in signal and an output of the second latch are applied to the first latch multiplexor. The scan direction signal is applied to the first latch multiplexor to control whether the first latch holds the scan in signal or the output of the second latch.

In one embodiment the second latch includes a second latch multiplexor and the scan in reverse input and an output of the first latch are applied to the second latch multiplexor. The scan direction signal is applied to the second latch multiplexor to control whether the second latch holds the scan in reverse input or the output of the first latch.

In an embodiment the second latch includes a scan inversion multiplexor and an inverter sub circuit for applying an inversion of the output of the first latch to this scan inversion multiplexor. The output of the second multiplexor is also applied to the scan inversion multiplexor. A scan inversion signal is applied to a select input of the scan inversion multiplexor to control whether the output of the second multiplexor or the inversion of the output of the first latch is stored in the second latch.

Embodiments of the invention provide a number of important advantages. For instance embodiments of the invention support bidirectional scan chain operation. This simplifies diagnosis of broken chains and ensures that scan chain retains partial functionality when broken. Embodiments of the invention speed up toggling between two input patterns in high speed GHz without the need to reload the entire scan chain. Embodiments of the invention allow single bit data toggling cone of logic detection path delay estimation and resolve the latch adjacency problem. In addition embodiments of the invention introduce skew between inputs helping separate switching activity of closely located gates and substantially reduce image acquisition time for Time Resolved Emission TRE testing by excluding scan chain reload step.

The present invention relates to scan chains used for integrated circuit diagnostics. Scan chains are widely used in modern IC for rapid test and debug purposes. The recent emergence of emission based test tools imposes additional requirements on scan chains. To extract useful information from emission images a high degree of control is needed over stimuli applied to a circuit under test. In this respect functionality of standard scan chains is quite limited. For example to capture a time resolved emission waveform the same stimulus may have to be applied thousand or even million times. Using standard scan chain the entire scan chain would have to be reloaded every time the stimulus is reapplied. This results in unacceptably long acquisition time because the frequency of stimulus exercising is the frequency of scan chain clock hundreds of MHz divided by scan chain length.

Other limitations of standard scan chains include the scan chain adjacency problem and broken shorted stuck at wires. The scan chain adjacency problem is the inability to test certain logic state transitions. Logic testing starts by loading the scan chain with the initial pattern. And this pattern is applied to test the logic by toggling the system clocks. Due to the nature of latch adjacency certain logic state transitions cannot be generated on the output of one latch while keeping the logic state on the output of other latch. As a result the possible sequence of test patterns that can be used is limited.

Broken shorted stuck at wires pose a serious threat to standard scan chains rendering them inoperable. However for test site or prototype IC designs it would be beneficial to have robust scan chain that would retain partial functionality even when the chain is broken.

Also standard scan chain lacks in the ability to toggle a single bit while the rest of the bits are not switching. The need of single bit toggling arises in the context of emission testing where single bit toggling reveals a cone of logic affected by this bit. Collecting this kind of information from all the bits within the scan chain one by one could help create a map that would simplify further localization and identification.

Another limitation of standard scan chain is that they do not have any provision to skew toggling times between two bits. All the bits are clocked out by the same scan chain clock. Skew adjustment is a valuable control mechanism for optical diagnosing of ICs. Skew adjustment allows spreading switching activities of closely separated gates in time thus improving resolvability.

Latch circuit thus comprises two component latches and and multiplexor . Component latch includes a one bit memory and two 2 input multiplexors and and component latch includes a one bit memory and two 2 input multiplexors and .

The scan in input is applied to one input of MUX and the output of latch is applied to the other input of MUX . The select input of MUX is the scan direction signal. The data D and the output of MUX are input to MUX and the select input of this MUX is the scan enable signal. The output of MUX is applied to memory and the system clock CLK is applied to this memory to control the timing of the data storage in the memory.

The output of memory is applied to a first input of MUX to a first input of MUX and to the Scan out Reverse SOR output of latch circuit . The scan in reverse input from an adjacent latch is applied to the second input of MUX and the select input of this MUX is the scan direction signal.

The output of MUX is applied to one input of MUX and the other input of this MUX is the inversion of the output of memory . The select input of this MUX is the scan inversion signal. The output of MUX is applied to memory and the system clock CLK is also applied to this memory to control the timing of the data storage in the memory. The output of memory is the SO output of the latch and this output is also applied to MUX and to MUX . The select signal for MUX is the high speed data toggling clock C.

Latch circuit provides a number of significant features. This embodiment of the invention supports bidirectional scan chain operation may be used to speed up toggling between two input patterns GHz without the need to reload the entire scan chain and allows single bit data toggling cone of logic detection path delay estimation . This embodiment of the invention also may be used to resolve the latch adjacency problem to introduce skew between inputs helping separate switching activity of closely located gates and to reduce significantly image acquisition time for TRE by excluding scan chain reload step.

The direction of movement of data through latch is controlled by the Sc dir signal. When this signal is low as in the output of component latch is applied to component latch and data moves in the forward direction through latch circuit . When the Sc dir signal is high as in the output of component latch is applied to component latch and data moves in the reverse direction through latch circuit .

When data moves in the forward direction through latch circuit the latch input is presented on the SI input and the latch output is presented on the SO output. When data moves in the reverse direction through latch circuit the latch input is presented on the SIR input and the latch output is presented on the SOR output.

Advantages of this bidirectional movement are illustrated in which shows two chains and of latches and . With unidirectional movement shown at when a latch is not operating or is broken the input data is not able to pass through the entire chain and the chain output may be a series of 0s. Bidirectional movement shown at may be used to identify the location of the defective latch. Bidirectional movement may also be used to confirm that the other latches in the chain are working properly.

In embodiments of the invention high speed data toggling is achieved through use of the MUX and the high speed data toggling clock C. As mentioned above the output of component latch is applied to one input of MUX and the output of component latch is applied to a second input of the MUX and clock C is applied to the select input of the MUX. As clock C alternates between high and low the output Q of MUX alternates between the output of component latch and the output of component latch .

With the example shown in the output of component latch is 0 and the output of component latch is 1. The output Q of MUX alternates between 0 and 1 under the timing control of Clock C. With this arrangement the output of latch can quickly alternate between 0 and 1 without changing any of the data stored in the latch.

With reference to latch offers a complete solution to the Latch Adjacency Problem and in addition when combined with Emission based imaging TRE has several unique advantages 1 it permits toggling of a single bit anywhere along the scan chain 2 it permits direct observation of the cone of logic or sphere of influence of a given bit transition 3 it permits very high speed switching between two arbitrary test patterns effectively the two test patterns are stored in the two component latches of the superlatch and can be selected with the MUX 4 through the use of multiple MUX select signals C C etc. an arbitrary timing skew can be applied between different signal paths and 5 since two test vectors can be stored at the same time the image acquisition time for TRE can be substantially reduced by eliminating the overhead of reloading the scan chain.

In an embodiment of the invention an adjustable skew between several latches temporal resolvability can be achieved by providing the output multiplexor of each of a group of superlatches with an independent or otherwise adjustable clock input. For example the multiplexor of has a clock C. In a group of three superlatches for example as represented in the multiplexors of the three superlatches may have clocks C C and C respectively.

Embodiments of the invention address requirements imposed on scan chains by the recent emergence of emission based test tools and illustrates as an example a Picosecond Imaging Circuit Analysis PICA system that may be used to analyze an integrated circuit including scan latches of embodiments of the invention.

The PICA system exemplarily shown in includes an imaging section with a light tight enclosure for the components that detect the photon emission for the chip mounted on test board . The timing section is used to control the test sequence and analyze the photon emission image.

Thus in PICA an automated tester is used to stimulate the packaged device so that the transistors to be studied are switched repetitively. A standard infrared microscope is used to magnify and focus these devices onto the detection apparatus which may be for example a thermoelectrically cooled microchannel plate MCP photomultiplier with a position sensitive resistive anode thereby determining both the location and the time of a photon emission.

Additional details of PICA systems are disclosed in On Chip Power Supply Noise Measurement using Time Resolved emission TRE Waveforms of Light Emission from Off State Leakage current LEOSLC International Test Conference Paper 8.1 IEEE 2009 Stellari et al. and in U.S. Pat. No. 7 774 662. The disclosures of Stellari et al. and of U.S. Pat. No. 7 774 662 are hereby incorporated herein by reference in their entireties.

The description of the present invention has been presented for purposes of illustration and description and is not intended to be exhaustive or to limit the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art without departing from the scope of the invention. The embodiments were chosen and described in order to explain the principles and application of the invention and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated.

