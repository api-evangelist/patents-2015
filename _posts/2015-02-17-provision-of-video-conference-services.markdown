---

title: Provision of video conference services
abstract: Embodiments are described for provision of video conference services. In some embodiments, a service connector module of a video conference system receives a request to switch a participant user of a video conference to a communication mode for the video conference received at a participant endpoint device, the request to switch is (a) a request to switch from an unidirectional communication mode to a bidirectional communication mode, or (b) a request to switch from the bidirectional communication mode to the unidirectional communication mode, determining information on at least one distribution capability from one or more interactions with the participant endpoint device, determines a distribution scheme for the communication mode using the at least one distribution capability, sends a request to establish a connection with the endpoint device using the distribution scheme, receives a notification on establishment of the connection, and sends a request to terminate a prior connection.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09402054&OS=09402054&RS=09402054
owner: Blue Jeans Network
number: 09402054
owner_city: Mountain View
owner_country: US
publication_date: 20150217
---
This application claims priority to Indian Application No. 6197 CHE 2014 filed Dec. 8 2014 which is incorporated herein by reference.

In conventional approaches for the provision of a video conference to a large number of users e.g. thousands of users the video conference is streamed to user devices and there is limited interaction between individual users viewing the video conference and between the users and the speakers on the video conference. Typically the only interaction with the speaker and or the other users viewing the conference available to the user is by participating in an online chat associated with the event or sending email messages to particular users. As such an improved approach to the provision of video conference services that allows for more interactions between users viewing listening and speaking during the video conference is needed.

Embodiments are described for provision of video conference services. In some embodiments a service connector module of a video conference system receives a request to switch a participant user of a video conference to a communication mode for the video conference received at a participant endpoint device the request to switch is a a request to switch from an unidirectional communication mode to a bidirectional communication mode or b a request to switch from the bidirectional communication mode to the unidirectional communication mode determining information on at least one distribution capability from one or more interactions with the participant endpoint device determines a distribution scheme for the communication mode using the at least one distribution capability sends a request to establish a connection with the endpoint device using the distribution scheme receives a notification on establishment of the connection and sends a request to terminate a prior connection

Embodiments of apparatuses systems computer readable mediums and methods for the provision of video conference services with a capability to switch between a unidirectional communication mode to a bidirectional communication mode for distribution of a communication event to a participant endpoint are described. Capabilities of the participant endpoint device and or a client application used by a participant user on the endpoint device to access the video conference may be considered in order to determine a preferred distribution scheme for the participant endpoint to support the switch in communication mode. A distribution scheme may be a network infrastructure elements used a protocol a type of connection established a number of channels used and or any other aspect of the distribution of the video conference that may be selected.

A distribution scheme for a bidirectional communication mode may allow 1 a participant endpoint device to send data for contribution to a composite of data streams for the video conference that will be shared with participants of the video conference and 2 a participant endpoint device to receive the composite of data streams for the video conference and or received data streams at the endpoint device to form the composite. A distribution scheme for a unidirectional communication mode may allow a participant endpoint device to receive the composite of data streams for the video conference and or received data streams at the endpoint device to form the composite. In some embodiments the video conferencing system may support a communication event with a large number of participant endpoints. For example a video conference may be distributed in a unidirectional communication mode to thousands of participant endpoints for the communication event and distribution of a video conference to at most a hundred participant endpoints in a bidirectional communication mode.

Some embodiments provide a moderator with a capability to authorize a switch of a participant endpoint from the distribution scheme supporting a unidirectional communication mode to the distribution scheme supporting a bidirectional communication mode for the communication event and vice versa. In particular embodiments each participant user of a communication event is assigned a role by a moderator that is defined to have a particular communication mode and or responsibilities and the participant user may send requests to change their role and corresponding communication mode.

The video conference system configured in accordance with some embodiments of the present invention may provide a user interface for presentation of the received data streams for a video conference. In some embodiments the video conference system may support the operation of a video conference such as a conference with a virtual media room or virtual meeting room VMR user interface wherein each VMR user interface may present data from a plurality of endpoints e.g. devices of participants in the video conference at one or more geographic locations. Examples of approaches to video conference systems that may be practiced in some embodiments are provided in U.S. patent application Ser. No. 13 105 691 entitled Systems and Methods for Scalable Composition of Media Streams for Real Time Multimedia Communication filed on May 11 2011 issued as U.S. Pat. No. 8 482 593 on Jul. 9 2013 U.S. patent application Ser. No. 13 105 684 entitled Systems and Methods for Real time Multimedia Communications Across Multiple Standards and Proprietary Devices filed on May 11 2011 issued as U.S. Pat. No. 9 035 997 on May 19 2015 U.S. patent application Ser. No. 13 919 576 entitled Systems and Methods for Scalable Composition of Media Streams for Real time Multimedia Communication filed on Jun. 17 2013 U.S. patent application Ser. No. 13 105 699 entitled Systems and Methods for Scalable Distributed Global Infrastructure for Real time Multimedia Communication filed on May 11 2011 issued as U.S. Pat. No. 8 514 263 on Aug. 20 2013 U.S. patent application Ser. No. 13 955 646 entitled Systems and Methods for Scalable Distributed Global Infrastructure for Real time Multimedia Communication filed on Jul. 31 2013 issued as U.S. Pat. No. 9 232 191 on Jan. 5 2016 U.S. patent application Ser. No. 13 105 704 entitled Systems and Methods for Security and Privacy Controls for Videoconferencing filed on May 11 2011 issued as U.S. Pat. No. 9 041 765 on May 26 2015 U.S. patent application Ser. No. 13 105 716 entitled Systems and Methods for Shared Multimedia Experiences in Virtual Videoconference Rooms filed on May 11 2011 issued as U.S. Pat. No. 8 875 031 on Oct. 28 2014 U.S. patent application Ser. No. 13 105 719 entitled Systems and Methods for Novel Interactions with Participants in Videoconference Meetings filed on May 11 2011 issued as U.S. Pat. No. 8 885 013 on Nov. 11 2014 U.S. patent application Ser. No. 13 105 723 entitled Systems and Methods for Real time Virtual reality Immersive Multimedia Communications filed on May 11 2011 issued as U.S. Pat. No. 9 143 729 on Sep. 22 2015 and U.S. patent application Ser. No. 13 251 913 entitled Systems and Methods for Error Resilient Scheme for Low Latency H.264 Video Coding filed on Oct. 3 2011 issued as U.S. Pat. No. 9 124 757 on Sep. 1 2015 each incorporated herein by reference in its respective entirety.

The video conference system is described in more detail with reference to and as illustrated may support a variety of video conferencing feeds of audio video audio and video and or other media data streams from video conferencing participant endpoints to present a video conference. An endpoint may be any type of device including but not limited to laptops computers smartphones tablets phones audio and video conferencing system devices and or any other device capable of sending and receiving data streams over a network. Participants may use proprietary standards based communication protocols and or any other protocols with their devices and the video conference system may enable a multi party and or point to point e.g. between two endpoints video conference session among the plurality of participant endpoints.

As a non limiting example video data streams from proprietary video conference endpoints using proprietary communication protocols implemented for client applications include but are not limited to the following Microsoft Skype application Polycom video conference applications Microsoft Lync applications Google Talk applications web applications capable of real time communication and or any other application providing communication services. Video data streams from standards based video conference endpoints include but are not limited to the following H.323 and Session Initiation Protocol SIP . For bidirectional communication the video conference system may support but is not limited to the following protocols SIP H.323 and Extensible Messaging and Presence Protocol XMPP . For unidirectional communication the video conference system may support but is not limited to the following protocols Real Time Streaming Protocol RTSP Real Time Messaging Protocol RTMP IGMP and peer to peer. Additionally the video conference system may support data streams from a media gateway that converts digital media streams between disparate telecommunication networks such as from devices using public switched telephone networks PSTN SS7 and Next Generation Networks. The video conference system may also support streaming communications protocols such as HTTP Live Streaming HLS HTTP Dynamic Streaming HDS MPEG DASH and or any other streaming protocol.

Each video conference can be implemented and supported across an infrastructure of a globally distributed set of commodity servers acting as media processing nodes co located in Points of Presence POPs for Internet access wherein such a distributed architecture can support thousands of simultaneously active video conferences in a reservation less manner and that is transparent to the user participants. Each video conference provides participant users with a rich set of conferencing and collaboration interaction.

These interactions encompass the control of a video conference session its configuration the visual layout of the data streams from the conference participants customization of the user interface and adaptation of a video conference to integrate with and present data streams from different client applications e.g. chat whiteboards Microsoft Skype etc. . For a non limiting example one such use of the video conference system is to facilitate conferences between two disparate endpoints such as a client application for a proprietary system from a communication service provider e.g. a Skype client and an application for a standards based H.323 endpoint. Continuing with the example the Skype user may initiate a video conference with another user and have no knowledge of the other user s endpoint technology e.g. client application and the video conference system may host a video conference session and instantiate media processing components elements to translate data streams as needed transcode data streams as needed and create a composite of data streams received from the disparate endpoints.

A globally distributed infrastructure for the video conference system supports the sharing of the event e.g. the session among the participants at geographically distributed locations with the use of a plurality of MCUs Multipoint Control Units each configured to process the plurality of audio and or video streams from the plurality of video conference endpoints in real time. Those with skill in the art will recognize that a globally distributed infrastructure is not required to practice the invention. A geographically distributed architecture and or simply a distributed architecture may be implemented to practice the invention.

Compared to conventional video conference system approaches that require every participant to the video conference to follow the same communication standard or protocol and or use the same client application from a communication service provider a video conference supported by the globally distributed infrastructure with at least one MCU at a media server allows the participants of a video conference to participate in a multi party or point to point video conference session in device address scheme protocol and or communication service provider independent fashion. By conducting manipulation of the video and audio streams transparently in on a remote server e.g. a server of a POP that is accessible via one or more networks or networks of networks without end user involvement the proposed approach brings together video conference systems and applications of different devices different protocols of video conferencing and or different communication services from communication service providers as one integrated system. Communication service providers may include but are not limited to the following providers of Voice over Internet Protocol VoIP instant messaging services supporting voice and or data and or service provider with applications that allow for transport of information electronically.

In particular the video conference system provides the integration of services from different communication service providers e.g. Skype and Google Talk that support different addressing schemes for identifying users on devices. For example a participant user may login to a Skype client to join a video conference using a communication service identifier e.g. username Skype id and communicate with a participant user who logins to a Google Talk client using an email address. Ordinarily a communication service provider may require a user to identify each participant on the communication session with an identifier registered with the communication service e.g. communication service identifier email address username etc. so that the communication service provider may look up the address of the user endpoint to communicate and the communication service provider may not support integration with other communication services. The video conference system integrates with the communication service provider services system seamlessly for the user so that the user can login with any client application with an identifier registered with the communication service provider and participate in the video conference.

In some embodiments the endpoint for a participant using a client application is communicating with a corresponding client application for the communication service provider executing as a virtual client application on a server in the backend. A virtual client application is a client application that may be executed on a server of the video conference system to receive data streams from the client application executing on a participant endpoint device and the output or presentation of the data streams within the virtual client application may be captured and combined with other data streams to form a composite for the video conference. Examples of approaches to video conference systems that support different communication services that may be practiced in some embodiments are provided in U.S. patent application Ser. No. 13 105 684 entitled SYSTEMS AND METHODS FOR REAL TIME MULTIMEDIA COMMUNICATION ACROSS MULTIPLE STANDARDS AND PROPRIETARY DEVICES filed on May 11 2011 issued as U.S. Pat. No. 9 035 997 on May 19 2015 and U.S. patent application Ser. No. 14 217 275 METHOD AND SYSTEMS FOR INTERFACING HETEROGENOUS ENDPOINTS AND WEB BASED MEDIA SOURCES IN A VIDEO CONFERENCE filed Mar. 17 2014 each incorporated herein by reference in its respective entirety.

Hosting the video conference on at least one media server accessible on a network e.g. Internet cloud allows for the participants to initiate a video conference with any device supporting any communication protocol and any client application from a communication service provider have the system communicate with the other participants at each of their selected endpoint devices and the other participants may accept the request to join the video conference from any endpoint device using any client application from any communication service provider that he she wishes. A video conference hosted on a server accessible over the Internet cloud enables any participant to be able to upload media content to a server i.e. a node of the global distributed infrastructure accessible over the Internet e.g. in the cloud and have it be retransmitted to other participants in formats of their choice transparently with or without modifications.

In the example of the globally distributed infrastructure that supports and enables the operations of the video conference has at least one or more of the following attributes 

In some embodiments globally distributed infrastructure may be implemented with clusters of x86 servers both locally on a LAN as well as across geographies serving as the media processing nodes for the MCUs to achieve near unlimited scaling. All of the media processing nodes of the clusters e.g. and may work together forming one giant MCU. In some embodiments such clustered design makes use of network layer multicast and a novel multi bit rate stream distribution scheme to achieve the unlimited scaling. The globally distributed infrastructure is able to achieve great scalability in terms of the number of participants per call geographic distribution of callers as well as distribution of calls across multiple POPs worldwide.

By way of a non limiting example globally distributed infrastructure has the media processing node MCUs distributed around the globe in POPs e.g. United States US Network POP US Core Media POP Asia Pacific APAC Media POP APAC Network POP and European Union EU Core Media POP at data centers e.g. third party data centers to process video conference feeds coming from video conference endpoints having different communication protocols and or using different client applications from communication service providers. Those with skill in the art will recognize that an implementation of the globally distributed infrastructure for the video conference system with the same number and or geographic locations for Core Media and or Network POPs of is not required and any number of Core Media POPs and Network POPs may be used to provide a content delivery network for a video conference system. In some embodiments each Core Media POP may have the processing power e.g. servers to handle the load for that geographical region where the POP is located. Users participants connecting to the video conference system may be directed to the closest Core Media POP e.g. the connector at a POP described in more detail with that can handle the processing for the conference so as to allow them to minimize their latency.

Once the participants are in communication with a POP of the globally distributed infrastructure their conference feeds of audio and video streams can be carried on a high performance network POPs e.g. US Network POP APAC Network POP between the POPs. Additionally in some embodiments Network POPs e.g. US Network POP APAC Network POP can be used for communication e.g. traffic with users in places where a Core Media POP does not exist. By way of example an endpoint can communicate with a Network POP in a more optimal location for communication than the nearest Core Media POP and the Network POP may send forward the traffic to a Core Media POP over a private dedicated network so as to avoid use of the open Internet. The globally distributed infrastructure enables media processing nodes to act as one single system.

In some embodiments the globally distributed infrastructure may have one or more other globally distributed private networks to connect to it including but not limited to deployments of video conferencing services such as Microsoft Lync that require federation i.e. cooperation among multiple organizational entities at edge nodes and translation and decoding of several communication and transport protocols.

In some embodiments the globally distributed infrastructure may have a Micro Point of Presence MicroPOP . Endpoint may execute a client application that is used to request media processing services from a US Core Media POP as shown with or a Micro POP as shown with . Endpoint may execute a client application that can only access the Micro POP as shown with and cannot access a Core Media POP e.g. and . Hardware and or software forming a MicroPOP may be located accessible and placed into an enterprise network e.g. LAN and or WAN and offer a set of media processing services for endpoints with access to the enterprise network. An enterprise may be an organization a corporation a company a service provider a customer a population of a city or country and or any other identifiable group of users with a network. The media processing services request may be a request to join a video conference session a request to initiate a video conference session a request to continue participating in a video conference session and or any other request of media processing services offered by the video conference system.

Upon receipt of the request at the respective POP e.g. and a load balancer may determine whether load balancing is desired based on load balancing metrics. Examples of load balancing that may be practiced in some embodiments are provided in U.S. patent application Ser. No. 14 217 195 entitled PROVISION OF VIDEO CONFERENCING WITH LOAD BALANCING filed Mar. 17 2014 and incorporated herein by reference in its entirety. Examples of POPs within enterprise networks e.g. Micro POPs that may be practiced in some embodiments are provided in U.S. patent application Ser. No. 14 216 363 entitled PROVISION OF VIDEO CONFERENCING SERVICES USING A MICRO POP TO EXTEND MEDIA PROCESSING INTO ENTERPRISE NETWORKS filed Mar. 17 2014 and incorporated herein by reference in its entirety. Micro POPs may have a POP architecture in a globally distributed infrastructure for a conference system and offer a set of services to endpoints within an enterprise network.

Some components which include but are not limited to the following components user account management billing system NOC Network operation center systems for bootstrapping monitoring and node management may be run at one or more centralized but redundant management nodes in the Business Data Layer . Other components which include but are not limited to common application framework and platform e.g. Linux x86 CPUs GPUs package management clustering can be run on both the distributed nodes and the centralized management nodes.

Each of the service connector nodes in the Service Layer may receive requests for managing communication events for one or more users. Service connector modules e.g. service connectors at the service connector nodes may determine distribution schemes appropriate for a participant endpoint and may request instantiation and services of protocol connectors and other services in the Proxy Layer .

Each of the protocol connector nodes in the Proxy Layer may receive audio video data streams utilizing proprietary or standards based communication protocols and may translate the received data into a common protocol e.g. Real Time Transport Protocol RTP . The received data in the common protocol may then be sent to media servers for transcoding and composition mixing by media servers of the Worker Layer such operation of the media servers used to form composite data streams for the endpoints. Translating when needed may include receiving the data packets of a data stream communicated using a first communication protocol and retransmitting the received data packets using a second communication protocol. While the communication protocol in which the data stream is communicated is changed the actual data packets may remain unchanged. In contrast transcoding when needed may include decoding data e.g. data packets in a received first communication protocol to an intermediate format and encoding the data into a common target format for a common target communication protocol. Other implementations may provide for transcoding to be performed at the proxy layer with a protocol connector node .

In some embodiments global infrastructure provides a high level mechanism for fault tolerant protocol handling to prevent improper input from causing instability and possible security breach via protocol connector or media servers . Media processing tasks by protocol connectors and or media servers such as processing of protocol control messages and compressing audio and video streams may be isolated in one or more separate independent unprivileged processes. More specifically 

In some embodiments media servers are designed to convert and compose several videoconference feeds of video and audio streams in real time to create and render one or more composite multimedia streams for each participant to the video conference e.g. VMR . Media servers may include as its components one or more of video compositor video transcoder distributed multicast video switch audio transcoder pre processor distributed multicast audio mixer a reflector and each component may be in communication with protocol connector a service connector of a service connector node and a distributed conference session controller. In the case of video the video streams from the participants are made available at the media server in three or more forms original compressed video uncompressed raw video and a lower resolution compressed thumbnail video.

By way of example a video compositor of a module executing on a media processing node subscribes to whichever video stream it needs based on the set of videos needed to compose and be rendered to the participants. The two or more compressed forms of the video streams listed above may be transcoded by video transcoder sent by distributed multicast video switch using a multicast address on the network so that other remote media processing nodes that want these video streams can subscribe to them as needed. This scheme allows the entire cluster of nodes locally and globally to share and or exchange the audio and video streams they need in the most efficient manner. These streams could be transmitted over the public Internet over a private network or over a provisioned overlay network with service level guarantees. Using this approach video compositor may show various composites including but limited to just the active speaker two people side by side if they are having a conversation and any other custom format as requested by a participant which may include transformations of the video into other representations as well. Continuing with the example a video transcoder of media processing server encodes and decodes composite video streams efficiently where characteristics of each individual stream can be extracted during decoding.

In some embodiments video compositor not only composes the raw video stream into a composite video stream but also builds up a composite metadata field in order to apply similar operations including both 2D and 3D operations outlined in the metadata field to the individual video streams of the composite video. As a non limiting example motion vectors need to be applied with the same transformation that video compositor may apply to each raw video stream including but not limited to scaling rotation translation shearing. This metadata could be used for other non real time multimedia services including but not limited to recorded streams and annotated streams for offline search and indexing.

In some embodiments application server e.g. a user experience engine renders multimedia content including but not limited to the composite audio video stream to each of the participants to the video conference for an enhanced User Experience UE for the participants. The UE provided by the application server to the participants may comprise one or more of the following areas 

Despite the fact that most conventional video conference systems cost tens of thousands of dollars they offer very limited freedom and flexibility to the call organizer or to any participants in terms of controlling the user experience during the call. The layouts come pre configured to a select few options and the settings that can be modified during a call are also limited.

In some embodiments application server provides moderator initiated in meeting session management and control over security and privacy settings during a particular video conference call wherein such management and control features include but are not limited to muting a particular speaker at the video conference controlling and or broadcasting layouts associated with one of the video conference endpoints to all or a subset of the participants and sharing additional materials selectively with a subset of the participants for a non limiting example in an HR vertical application where multiple interviewers are interviewing one candidate in a common call .

By offering the video conferencing service over the Internet cloud application server eliminates a lot of these limitations of the conventional video conference systems. For a non limiting example application server enables participant s associated different types of video conference endpoints to talk to each other over the Internet during the video conference. For a non limiting example participants from H.323 endpoints can to talk to participants from desktop clients such as Skype and both the moderator and the participants can choose from a wide variety of options. In addition by providing the ability to terminate the service in the cloud application server enables access to a much richer set of features for a conference call that a participant can use compared to a conventional passively bridged conference call. More specifically every participant can have control of one or more of 

Using such in meeting controls a moderator can control security and privacy settings for the particular call in ways. The moderator of the call in addition to the aforementioned options has a richer suite of options to pick from through a web interface to manage and control the video conference which include but are not limited to 

In some embodiments application server enables private conferences by creating sub rooms in main VMR that any subset of the participants to the main VMR could join and have private chats. For a non limiting example participants can invite others for a quick audio video or text conversation while being on hold in the main VMR.

A shared experience of events among participants to a video conference often requires all participants to be physically present at the same place. Otherwise when it happens over the Internet the quality is often very poor and the steps needed to achieve this are quite challenging for the average person to pursue this as a viable technological option.

In some embodiments application server provides collaborative viewing of events through VMRs that can be booked and shared among the participants so that they are able to experience the joy of simultaneously participating in an event and sharing the experience together via a video conference. For a non limiting example the shared event can be a Super Bowl game that people want to enjoy with friends or a quick session to watch a few movie trailers together among a group of friends to decide which one to go watch in the theater.

In some embodiments application server utilizes the MCUs of the global infrastructure to offer an easy quick and high quality solution for event sharing. More specifically application server enables one initiating participant to invite a group of other participants for a shared video conference call via a web application. Once everyone joins in the VMR to share online videos and content an initiating participant may provide a uniform resource locator URL where the content is located and the content may be streamed into a VMR directly from the content source whether the content is local to the initiating participant device or located remotely and accessed over the Internet from a third party web site or content store. Participants may continue to have conversations with other participants while watching this content. Other features provided include but are not limited to the following altering the layout of the content in terms of where it is visible adjusting the audio level adjusting whether it should be muted or not and adjusting whether it should be paused or removed temporarily are in the control of the person sharing the content e.g. similar to the management and control by a moderator to a video conference as discussed above . Such an approach provides a compelling and novel way to watch live events among groups of people whose locations are geographically distributed yet want to experience an event together. This enables a whole new set of applications around active remote participation in live professional events such as conferences and social events such as weddings.

In some embodiments application server enables multiple views and device independent control by the participants to the video conference. Here the video endpoints each have its own user interface and in the case of hardware video systems available in conference rooms the video conference endpoints may each have a remote control that is not very easy to use. In order to make the user experience of connecting to the VMR simple user experience engine minimizes the operations that one need to carry out using the endpoints native interface and moves all of those functions to a set of interfaces running on a device familiar to most users desktop PC laptop PC mobile phone or mobile tablet and thus makes the user experience to control the VMR mostly independent of the endpoint devices user interface capabilities. With such device independent control of the video conference application server provides flexibility ease of use richness of experience and feature expansion that it allows to make the experience far more personal and meaningful to participants.

In some embodiments application server may also allow a participant to participate in and or control a video conference using multiple devices video conference endpoints simultaneously. On one device such as the video conference room system the participant can receive audio and video streams. On another device such as a laptop or tablet the same participant can send receive presentation materials chat messages etc. and also use it to control the conference such as muting one or more of the participants changing the layout on the screens of the video conference endpoints with PIP for the presentation etc. The actions on the laptop are reflected on the video conference room system since both are connected to the same VMR hosting the video conference.

Joining a video conference from H.323 endpoints today often involve cumbersome steps which must be performed via a remote control for the endpoint device. In addition to logistical issues such as locating the remote in a room there are learning curve related issues such as finding the correct number to call from the directory entering a specified code for the call from the remote etc. In some embodiments an endpoint can be setup to always just dial one number when it is turned on or woken up from sleep. Once the call is established then a different user interface such as a web application or mobile device client application can be used to select which meeting to join.

In some embodiments application server provides a user experience with a user interface rendering to the participants welcome screen content that includes but is not limited to the following an interactive welcome handshake a splash screen interactions for entering room number related info and a welcome video etc. for video conferences. To join a call from a video conference endpoint all that the moderator needs to do is to call a personal VMR number he she subscribes to. The moderator can then setup details for the call including the rich media content that would form part of the welcome handshake with other participants which may then be setup as default options for all calls hosted by the moderator. Other participants call into the VMR and enter the room number specified for the conference call. On joining the VMR they first enjoy the rich media content setup as their welcome screen including content specific to the call such as an agenda names of the parties calling in company related statistics etc. Such content could also be more generic for non business applications including any flash content including videos music animations advertisements etc. Upon joining the call the display also may show a code that is specific to the participant on his her screen which can be applied to the content on the call for content sharing. The code can also be entered from a web application used for the call or can be provided through voice or visual commands that are recognized and processed by software in the internet cloud that are then translated into actionable events.

By way of example an endpoint A may send a request to join a communication event to a service node A and a service connector A may be instantiated to manage the communication event for the endpoint . The service connector A may determine the capabilities of the endpoint A and or the role of the participant user to determine a distribution scheme for the presentation of the communication event on endpoint . The moderator may assign the role to the participant user with the invitation to the participant user and dynamically during the video conference. The role may be defined by a set of rules responsibilities and or authorized capabilities available to the participant user. For example the role may define the communication mode available to the participant user accessing the communication event with a participant endpoint device.

The communication mode may be a unidirectional communication mode bidirectional communication mode or any other communication mode. In a bidirectional communication mode data may be received from the endpoint and combined with data streams from other presenter participants for the communication event. A bidirectional communication mode is not limited to the use of a bidirectional connection with data received by the endpoint and sent to the endpoint over the same channel. Those with skill in the art will recognize that multiple channels and connections may be used to support a bidirectional communication mode. In a unidirectional communication mode data may not be received from the endpoint and or any received data from the endpoint may not be combined with other data streams from other presenter participants. A unidirectional communication mode is not limited to the use of a unidirectional connection with data sent to the endpoint with a single connection over a single channel. For example a bidirectional connection may be used for a unidirectional communication mode and the data flow from the endpoint may be muted to ensure that the data from an endpoint is not combined into the composite for the video conference.

The service connector may determine the capabilities of the endpoint to select a distribution scheme for sending data to the endpoint for the communication event. The service connector A may request instantiation use and or manage a protocol connector A and B for the endpoint to handle the distribution scheme. By way of example endpoint A may be a single channel endpoint that is capable of sending and or receiving data on a single channel for the communication event and the appropriate distribution scheme may be established for the single channel endpoint. In another example an endpoint capable of sending receiving data from multiple channels endpoint the endpoint may receive data on multiple channels that may be combined at the endpoint for the presentation of the communication event.

The service connector may also manage other connectors e.g. chat connector quiz poll connector or any other services for provision of the data for the video conference to the endpoint . Continuing with the example multichannel endpoint B may receive data streams from a chat connector and or a quiz poll connector that may be combined at the endpoint for presentation of the video conference to the user. A single channel endpoint A may have data streams from other services e.g. chat connector quiz poll connector etc. to be combined and presented to the user. In some embodiments the data streams from other services may be combined at a media server for the single channel endpoint A.

Instructions may be provided to the reflector MCU and transcoder MCU by protocol connectors A D collectively managing media processing for their respective video conference participant endpoint devices . In some embodiments a stateless reflector MCU used in combination with a transcoder MCU in a worker layer of the POP architecture in a globally distributed infrastructure for a video conferencing system. The stateless reflector MCU and transcoder MCU communicate with other elements to handle media processing for a video conferencing session including but not limited to the following elements in the worker layer business data layer other reflector MCUs and other transcoder MCUs . Examples of reflector MCU and transcoder MCU combinations that may be practiced in some embodiments are provided in U.S. patent application Ser. No. 14 216 401 PROVISION OF VIDEO CONFERENCING SERVICES USING REFLECTOR MULTIPOINT CONTROL UNITS MCU AND TRANSCODER MCU COMBINATIONS filed Mar. 17 2014 incorporated herein by reference in its respective entirety. Those with skill in the art will recognize the present invention is not restricted to just one reflector MCU communicating with one transcoder MCU and that communication can occur between any number of reflector MCUs and transcoder MCUs. By way of example one or more reflector MCUs and or transcoder MCUs can communicate with each other in a star topology. Each element may be implemented with software specially configured hardware and or any combination thereof.

Participant endpoint devices may execute or request execution of a client application on the participant device to participate in the video conference. In some embodiments one protocol connector e.g. A is instantiated per participant device to ensure that one protocol connector failure does not cause the entire video conference to fail. A new protocol connector may be instantiated and or spawned for the video conference participant endpoint device upon failure of the protocol connector.

As shown in protocol connectors may communicate with reflector MCUs transcoder MCUs e.g. using multiple data stream communication B with protocol connectors C and D and single stream communication with protocol connectors A and B etc. and other protocol connectors to ensure media processing is performed for the respective participant endpoint that the protocol connector is supporting. In some embodiments a protocol connector that is supporting an endpoint executing the client application that has the capability to create a composite of data streams for the presentation of the video conference. The stateless reflector MCU may ensure data streams are forwarded to the respective multi channel endpoint B for composition. By moving the work of creating the composite data stream to the endpoints work is moved out of the connector nodes and or media servers of the video conference system and the resources of the endpoints may be utilized where possible to create a system with scalability.

In some embodiments the endpoint B with composition capabilities may support one or more communication protocols for composition of received data streams and as a result protocol connector e.g. C may utilize a transcoder MCU to transcode data streams not supported by the client application at the participant device B to be sent for composition at the participant device B. As shown in the endpoints may support a RTP communication protocol and as such the underlying reflector may be referred to as an RTP pump. 

Multiple data stream communication may be used between the stateless reflector and the transcoder MCU to send only the necessary streams between the two MCUs. As a result legacy endpoints A may experience higher quality video conferences. If legacy endpoints A that are connected to transcoder MCU need to be visible and audible to all the endpoints connected to reflector MCU then transcoded streams for each of the endpoints are sent over to reflector MCU using multiple data stream communication. Similarly if multi channel endpoints B that are connected to the reflector MCU need to be visible and audible to all the endpoints connected to transcoder MCU then streams for each of endpoints B are sent over to the transcoder MCU using the multiple data stream communication. As a result all legacy and multi channel endpoints B get to see all endpoints that are visible and or audible in any layout and the minimal number of streams are transcoded at the transcoder MCU and traverse the multiple data stream communication path. In some embodiments protocol connectors e.g. B may communicate with other protocol connectors e.g. C in order to make adjustments in the provision of data streams to the various endpoint client applications and or other elements for media processing.

In some embodiments the request may be in the form of a request to switch roles that are defined to be associated with particular communication modes for the communication event. For example the participant user having an attendee participant role may receive the data for the communication event using a unidirectional distribution scheme may request to switch to a presenter participant role to receive and send data for the communication event using a bidirectional distribution scheme. The video conference system may send a request to a user with a moderator role to approve the request for the participant user. After the moderator user approves the request to switch roles a distribution scheme for the communication mode defined by the approved role may be selected.

Information on at least one distribution capability available for a client application and or an endpoint device may be determined from one or more interactions with the participant endpoint device . A distribution capability may include but is not limited to the following one or more protocols supported by the endpoint device and or the client application executing on the endpoint device for presentation of the video conference an accessible infrastructure element to the endpoint device whether the endpoint is a multichannel or single channel endpoint device and any other factors for determining a distribution scheme. Interactions between the participant endpoint device and the elements of the video conference system may be used to determine capabilities of the client application and or the participant endpoint device. Interactions with the participant endpoint device may be requests received and or responses received from the participant endpoint device. The interactions may be used to determine the type of endpoint device the type of client application protocols supported and or infrastructure elements accessible to the endpoint device. The interactions may be from the current session and or prior sessions with the endpoint device. A capability profile may be stored for the participant endpoint device and or client application with the capabilities of the device from prior interactions with the participant endpoint device.

By way of example the received request to switch communication modes may be used to identify the type of endpoint device the type of client application the type of operating system and or network infrastructure elements available to the endpoint device to determine the corresponding distribution capabilities of the endpoint device and or client application. In some cases information within the request may allow for identification of the endpoint device and or the client application used by the endpoint device. For example the initial request to switch communication modes may include an identifier for the endpoint device and or an identifier for the client application used by the endpoint device that allows for identification of the endpoint device the client application and corresponding protocols supported by the device and or client application. With knowledge of the type of endpoint device and or type of client application used by the endpoint device the protocol capabilities of the participant endpoint device may be determined. For example if the endpoint device is identified as a room system then the endpoint device may use the H.323 protocol. In another example if the participant endpoint device runs a particular operating system e.g. iOS and or a client application then a particular communication protocol may be supported by the operating system e.g. HLS and or client application.

In some cases the received request may indicate the infrastructure elements e.g. POPs available to the endpoint device. By way of example the received request to switch may indicate the infrastructure elements because the request to switch may be received by the service connector module from the available infrastructure elements e.g. an available MicroPOP . In some cases the infrastructure elements may be identified by an IP address or a range of IP addresses associated with an infrastructure element included with the request to switch. In another example the request to switch may be received from the endpoint device using a particular network e.g. LAN and information may be stored with the video conference system on various capabilities available for the particular network.

In other embodiments the participant endpoint device and or client application may be queried to indicate distribution capabilities that may impact the distribution scheme. A distribution capability profile may be stored on distribution capabilities for the particular participant endpoint device the particular client application the type of participant endpoint device and or the type of client application.

A distribution scheme may be determined for the communication mode using the received information on the at least one distribution capability . The selection of a distribution scheme may be based upon various criteria including but not limited to the following the capabilities of the participant endpoint device proximity or access of the endpoint to an infrastructure element e.g. access to a MicroPOP status and or load for infrastructure elements preferences for the communication event preferences for a participant user preferences for a particular endpoint device or client application or cost associated with a distribution scheme e.g. monetary costs costs to overall system . For example in the simplest case for a single channel endpoint that supports an H.323 protocol or PSTN a switch in communication modes may require a distribution scheme 1 muting a data flow from the endpoint to achieve a unidirectional communication mode or 2 allow the data flow received from the endpoint to be combined into the composite to achieve the bidirectional communication mode.

In other cases if the client application supports a particular protocol e.g. has HLS player viewer or HDS player viewer then the distribution scheme may need to accommodate the endpoint device supported protocol e.g. HDS HLS RTMP . By way of further example if an endpoint device supports the HDS protocol e.g. has an Adobe System Flash player then the distribution scheme may be to send the composite to the endpoint device using HDS. In some cases the composite stream may be sent to the endpoint device using a Content Delivery Network CDN such as Akamai Content Delivery Network.

In some embodiments the infrastructure elements accessible to the endpoint device may determine the distribution scheme for the endpoint device. For a unidirectional communication mode an endpoint device may have access to infrastructure elements that may determine the selected distribution scheme for the endpoint device. Infrastructure elements accessible to the endpoint that may determine the appropriate distribution scheme include but are not limited to the following 1 an endpoint device may have access to a MicroPOP with a reflector MCU within their enterprise network 2 an endpoint device may have access to a network e.g. LAN with other endpoints requesting the video conference and the video conference may be multicast to the requesting endpoint devices on the network and 3 an endpoint device may have access to a network supporting resource sharing e.g. peer to peer network .

Infrastructure element profiles may be stored for particular networks MicroPOPs and or other infrastructure elements to help determine the distribution scheme. The profile may store information on endpoint devices currently accessing the communication event to allow for resource sharing or multicasting availability for the participant endpoint device. The infrastructure element profile may store historical information on the particular distribution schemes available for the participant endpoint device. After identification of the infrastructure element accessible to the participant endpoint device the infrastructure element profile may be accessed to determine a preferred distribution scheme.

In some embodiments distribution scheme selection may be limited by the available distribution capabilities and there may be only one possible distribution scheme for support of the communication mode. For example distribution schemes available to a particular endpoint device e.g. a H.323 room system may be limited to use of particular protocol and a specific connection may continue to be used. Other times the participant endpoint device may have multiple distribution schemes available and the service connector module of the video conference system may determine the preferred distribution scheme from available options. This may be determined using any available data by the service connector modules including but not limited to the following logged data on past successful schemes currently supported distribution schemes for endpoint device with similar distribution capabilities e.g. on the same network availability of resources e.g. workload on a particular MicroPOP costs associated with support e.g. cost for using third party services versus negligible cost of using MicroPOP and or any other data that may impact the distribution of the composite data stream for the communication event.

A request to establish a connection with the endpoint device in accordance with the communication mode using the distribution scheme may be sent to the endpoint device . The service connector module may direct a protocol connector to establish the connection. In some embodiments the service connector module may instantiate a new protocol connector module to establish the connection supporting the new communication mode with the endpoint device. A new connection may be established with the endpoint device in accordance with the distribution scheme for the communication mode. By way of example a new protocol connector C may be instantiated to support a bidirectional communication mode for multichannel endpoint B.

In other embodiments such as for support of H.323 and PSTN endpoint devices the audio video data flow from the endpoint device may no longer be muted and may be combined for presentation in the video conference. In such a case the same protocol connector may be used and a new protocol connector may not be instantiated.

Upon receipt of a notification that the connection is established for the endpoint device at the service connector module a request may be sent by the service connector module to terminate the prior connection for the endpoint device . By way of example service connector C may request that the connection between D and D be terminated and the multi channel endpoint B may use the protocol connector C.

Further the procedures described herein may involve the use of various computer systems and computer readable storage media having computer readable instructions stored thereon. provides an example of a computer system that is representative of any of the computer systems or electronic devices discussed herein. Note not all of the various computer systems may have all of the features of computer system . Computer systems such as computer system may be referred to by other names for example as endpoints hand held devices mobile devices smart phones multiprocessor systems microprocessor based electronic devices digital signal processor based devices networked computer systems minicomputers mainframe computers personal computers servers clients laptop computers tablet computers and the like. Such labels are not critical to the present invention.

Computer system includes a bus or other communication mechanism for communicating information and a processor coupled with the bus for processing information. Computer system also includes a main memory such as a random access memory RAM or other dynamic storage device coupled to the bus for storing information and instructions to be executed by the processor. Main memory also may be used for storing temporary variables or other intermediate information during execution of instructions to be executed by processor . Computer system further includes a read only memory ROM or other static storage device coupled to the bus for storing static information and instructions for the processor . A storage device which may be one or more of a hard disk flash memory based storage medium or other storage medium is provided and coupled to the bus for storing information and instructions e.g. operating systems applications programs and the like .

Computer system may be coupled via the bus to a display such as a liquid crystal or light emitting diode display for displaying information to a user. An input device such as a keyboard including alphanumeric and other keys is coupled to the bus for communicating information and command selections to the processor. In some embodiments the keyboard will be a software construct rendered via a touch screen display . Another type of user input device is cursor control device such as a mouse a trackball cursor direction keys and or any other input device for communicating direction information and command selections to processor and for controlling cursor movement on the display. Where a touch screen display is used cursor control functions may be implemented using finger based gestures directly on the display. Other user interface devices such as microphones speakers etc. are not shown in detail but may be involved with the receipt of user input and or presentation of output.

The processes referred to herein may be implemented using a processor executing appropriate sequences of computer readable instructions contained in main memory . Such instructions may be read into main memory from another computer readable medium such as storage device and execution of the sequences of instructions contained in the main memory causes the processor to perform the associated actions. In alternative embodiments hard wired circuitry or firmware controlled processing units e.g. field programmable gate arrays may be used in place of or in combination with processor and its associated computer software instructions to implement the invention. The computer readable instructions may be rendered in any computer language including without limitation C C C assembly language markup languages e.g. HTML SGML XML VoXML JavaScript and the like as well as object oriented environments such as the Common Object Request Broker Architecture CORBA Java and the like. In general the flow diagrams are intended to be illustrative of logical steps performed in a sequence to accomplish a given purpose which is the hallmark of any computer executable application. Unless specifically stated otherwise it should be appreciated that throughout the description of the present invention use of terms such as processing computing calculating determining displaying or the like refer to the action and processes of an appropriately programmed computer system such as computer system or similar electronic computing device that manipulates and transforms data represented as physical electronic quantities within its registers and memories into other data similarly represented as physical quantities within its memories or registers or other such information storage transmission or display devices.

Computer system also includes a communication interface coupled to the bus . Communication interface provides a two way data communication channel with a computer network such as a network which provides connectivity to and among the various servers discussed above. For example communication interface may be a local area network LAN card wired and or wireless to provide a data communication connection to a compatible LAN which itself is communicatively coupled to the Internet through one or more Internet service provider networks. The precise details of such communication paths are not critical to the present invention. What is important is that computer system can send and receive messages and data through the communication interface and in that way communication with hosts accessible via the Internet. Computer system may include additional capabilities and facilities such as a power unit which may comprise a battery a power port one or more antennae one or more data ports and one or more wireless communication modules. The various databases described herein are computer based record keeping systems. Stated differently these databases are each a combination of computer hardware and software that act together to allow for the storage and retrieval of information data . Accordingly they may resemble computer system and are often characterized by having storage mediums capable of accommodating significant amounts of information.

While the preferred embodiments have been shown and described it will be understood that there is no intent to limit the invention by such disclosure but rather is intended to cover all modifications and alternate constructions falling within the spirit and scope of the invention.

